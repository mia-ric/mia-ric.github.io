// ==UserScript==
// @name         FaFiX - FanFiktion Extension
// @namespace    https://mia-ric.github.io
// @version      0.1.4
// @description  A FanFiktion-related TamperMonkey script.
// @author       MIA
// @resource     customCSS https://mia-ric.github.io/fafix.css
// @downloadURL  https://mia-ric.github.io/fafix.js
// @updateURL    https://mia-ric.github.io/fafix.js
// @match        https://www.fanfiktion.de/*
// @icon         data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==
// @grant        GM_getResourceText
// @grant        GM_addStyle
// ==/UserScript==
var uL=Object.defineProperty;var dL=(On,Je,bi)=>Je in On?uL(On,Je,{enumerable:!0,configurable:!0,writable:!0,value:bi}):On[Je]=bi;var au=(On,Je,bi)=>dL(On,typeof Je!="symbol"?Je+"":Je,bi);(function(){"use strict";/**
  * @vue/shared v3.5.13
  * (c) 2018-present Yuxi (Evan) You and Vue contributors
  * @license MIT
  **//*! #__NO_SIDE_EFFECTS__ */function On(i){const e=Object.create(null);for(const t of i.split(","))e[t]=1;return t=>t in e}const Je=Object.freeze({}),bi=Object.freeze([]),bn=()=>{},Uw=()=>!1,Wo=i=>i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&(i.charCodeAt(2)>122||i.charCodeAt(2)<97),vl=i=>i.startsWith("onUpdate:"),_t=Object.assign,lu=(i,e)=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)},Kw=Object.prototype.hasOwnProperty,gt=(i,e)=>Kw.call(i,e),Fe=Array.isArray,Zr=i=>wl(i)==="[object Map]",bg=i=>wl(i)==="[object Set]",je=i=>typeof i=="function",Nt=i=>typeof i=="string",xr=i=>typeof i=="symbol",yt=i=>i!==null&&typeof i=="object",cu=i=>(yt(i)||je(i))&&je(i.then)&&je(i.catch),yg=Object.prototype.toString,wl=i=>yg.call(i),hu=i=>wl(i).slice(8,-1),vg=i=>wl(i)==="[object Object]",uu=i=>Nt(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,Yo=On(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Jw=On("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),kl=i=>{const e=Object.create(null);return t=>e[t]||(e[t]=i(t))},Zw=/-(\w)/g,ii=kl(i=>i.replace(Zw,(e,t)=>t?t.toUpperCase():"")),Qw=/\B([A-Z])/g,qi=kl(i=>i.replace(Qw,"-$1").toLowerCase()),Sl=kl(i=>i.charAt(0).toUpperCase()+i.slice(1)),Qr=kl(i=>i?`on${Sl(i)}`:""),Wn=(i,e)=>!Object.is(i,e),Vs=(i,...e)=>{for(let t=0;t<i.length;t++)i[t](...e)},Cl=(i,e,t,n=!1)=>{Object.defineProperty(i,e,{configurable:!0,enumerable:!1,writable:n,value:t})},du=i=>{const e=parseFloat(i);return isNaN(e)?i:e},e1=i=>{const e=Nt(i)?Number(i):NaN;return isNaN(e)?i:e};let wg;const jo=()=>wg||(wg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function fu(i){if(Fe(i)){const e={};for(let t=0;t<i.length;t++){const n=i[t],r=Nt(n)?r1(n):fu(n);if(r)for(const s in r)e[s]=r[s]}return e}else if(Nt(i)||yt(i))return i}const t1=/;(?![^(]*\))/g,n1=/:([^]+)/,i1=/\/\*[^]*?\*\//g;function r1(i){const e={};return i.replace(i1,"").split(t1).forEach(t=>{if(t){const n=t.split(n1);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function In(i){let e="";if(Nt(i))e=i;else if(Fe(i))for(let t=0;t<i.length;t++){const n=In(i[t]);n&&(e+=n+" ")}else if(yt(i))for(const t in i)i[t]&&(e+=t+" ");return e.trim()}const s1="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",o1="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",a1="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",l1=On(s1),c1=On(o1),h1=On(a1),u1=On("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function kg(i){return!!i||i===""}const Sg=i=>!!(i&&i.__v_isRef===!0),Vo=i=>Nt(i)?i:i==null?"":Fe(i)||yt(i)&&(i.toString===yg||!je(i.toString))?Sg(i)?Vo(i.value):JSON.stringify(i,Cg,2):String(i),Cg=(i,e)=>Sg(e)?Cg(i,e.value):Zr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[n,r],s)=>(t[pu(n,s)+" =>"]=r,t),{})}:bg(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>pu(t))}:xr(e)?pu(e):yt(e)&&!Fe(e)&&!vg(e)?String(e):e,pu=(i,e="")=>{var t;return xr(i)?`Symbol(${(t=i.description)!=null?t:e})`:i};/**
  * @vue/reactivity v3.5.13
  * (c) 2018-present Yuxi (Evan) You and Vue contributors
  * @license MIT
  **/function yi(i,...e){console.warn(`[Vue warn] ${i}`,...e)}let $n;class d1{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=$n,!e&&$n&&(this.index=($n.scopes||($n.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=$n;try{return $n=this,e()}finally{$n=t}}else yi("cannot run an inactive effect scope.")}on(){$n=this}off(){$n=this.parent}stop(e){if(this._active){this._active=!1;let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function f1(){return $n}let vt;const gu=new WeakSet;class Ag{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,$n&&$n.active&&$n.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,gu.has(this)&&(gu.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Tg(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Lg(this),Eg(this);const e=vt,t=vi;vt=this,vi=!0;try{return this.fn()}finally{vt!==this&&yi("Active effect was not restored correctly - this is likely a Vue internal bug."),Og(this),vt=e,vi=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)yu(e);this.deps=this.depsTail=void 0,Lg(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?gu.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){bu(this)&&this.run()}get dirty(){return bu(this)}}let Mg=0,$o,Go;function Tg(i,e=!1){if(i.flags|=8,e){i.next=Go,Go=i;return}i.next=$o,$o=i}function mu(){Mg++}function xu(){if(--Mg>0)return;if(Go){let e=Go;for(Go=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let i;for(;$o;){let e=$o;for($o=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){i||(i=n)}e=t}}if(i)throw i}function Eg(i){for(let e=i.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Og(i){let e,t=i.depsTail,n=t;for(;n;){const r=n.prevDep;n.version===-1?(n===t&&(t=r),yu(n),p1(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}i.deps=e,i.depsTail=t}function bu(i){for(let e=i.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Ig(e.dep.computed)||e.dep.version!==e.version))return!0;return!!i._dirty}function Ig(i){if(i.flags&4&&!(i.flags&16)||(i.flags&=-17,i.globalVersion===qo))return;i.globalVersion=qo;const e=i.dep;if(i.flags|=2,e.version>0&&!i.isSSR&&i.deps&&!bu(i)){i.flags&=-3;return}const t=vt,n=vi;vt=i,vi=!0;try{Eg(i);const r=i.fn(i._value);(e.version===0||Wn(r,i._value))&&(i._value=r,e.version++)}catch(r){throw e.version++,r}finally{vt=t,vi=n,Og(i),i.flags&=-3}}function yu(i,e=!1){const{dep:t,prevSub:n,nextSub:r}=i;if(n&&(n.nextSub=r,i.prevSub=void 0),r&&(r.prevSub=n,i.nextSub=void 0),t.subsHead===i&&(t.subsHead=r),t.subs===i&&(t.subs=n,!n&&t.computed)){t.computed.flags&=-5;for(let s=t.computed.deps;s;s=s.nextDep)yu(s,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function p1(i){const{prevDep:e,nextDep:t}=i;e&&(e.nextDep=t,i.prevDep=void 0),t&&(t.prevDep=e,i.nextDep=void 0)}let vi=!0;const Pg=[];function Ui(){Pg.push(vi),vi=!1}function Ki(){const i=Pg.pop();vi=i===void 0?!0:i}function Lg(i){const{cleanup:e}=i;if(i.cleanup=void 0,e){const t=vt;vt=void 0;try{e()}finally{vt=t}}}let qo=0,g1=class{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class Al{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.subsHead=void 0}track(e){if(!vt||!vi||vt===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==vt)t=this.activeLink=new g1(vt,this),vt.deps?(t.prevDep=vt.depsTail,vt.depsTail.nextDep=t,vt.depsTail=t):vt.deps=vt.depsTail=t,Rg(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const n=t.nextDep;n.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=n),t.prevDep=vt.depsTail,t.nextDep=void 0,vt.depsTail.nextDep=t,vt.depsTail=t,vt.deps===t&&(vt.deps=n)}return vt.onTrack&&vt.onTrack(_t({effect:vt},e)),t}trigger(e){this.version++,qo++,this.notify(e)}notify(e){mu();try{for(let t=this.subsHead;t;t=t.nextSub)t.sub.onTrigger&&!(t.sub.flags&8)&&t.sub.onTrigger(_t({effect:t.sub},e));for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{xu()}}}function Rg(i){if(i.dep.sc++,i.sub.flags&4){const e=i.dep.computed;if(e&&!i.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)Rg(n)}const t=i.dep.subs;t!==i&&(i.prevSub=t,t&&(t.nextSub=i)),i.dep.subsHead===void 0&&(i.dep.subsHead=i),i.dep.subs=i}}const Ml=new WeakMap,es=Symbol("Object iterate"),vu=Symbol("Map keys iterate"),Uo=Symbol("Array iterate");function Zt(i,e,t){if(vi&&vt){let n=Ml.get(i);n||Ml.set(i,n=new Map);let r=n.get(t);r||(n.set(t,r=new Al),r.map=n,r.key=t),r.track({target:i,type:e,key:t})}}function Ii(i,e,t,n,r,s){const o=Ml.get(i);if(!o){qo++;return}const a=l=>{l&&l.trigger({target:i,type:e,key:t,newValue:n,oldValue:r,oldTarget:s})};if(mu(),e==="clear")o.forEach(a);else{const l=Fe(i),c=l&&uu(t);if(l&&t==="length"){const h=Number(n);o.forEach((u,d)=>{(d==="length"||d===Uo||!xr(d)&&d>=h)&&a(u)})}else switch((t!==void 0||o.has(void 0))&&a(o.get(t)),c&&a(o.get(Uo)),e){case"add":l?c&&a(o.get("length")):(a(o.get(es)),Zr(i)&&a(o.get(vu)));break;case"delete":l||(a(o.get(es)),Zr(i)&&a(o.get(vu)));break;case"set":Zr(i)&&a(o.get(es));break}}xu()}function m1(i,e){const t=Ml.get(i);return t&&t.get(e)}function $s(i){const e=Ze(i);return e===i?e:(Zt(e,"iterate",Uo),Pn(i)?e:e.map(yn))}function Tl(i){return Zt(i=Ze(i),"iterate",Uo),i}const x1={__proto__:null,[Symbol.iterator](){return wu(this,Symbol.iterator,yn)},concat(...i){return $s(this).concat(...i.map(e=>Fe(e)?$s(e):e))},entries(){return wu(this,"entries",i=>(i[1]=yn(i[1]),i))},every(i,e){return Ji(this,"every",i,e,void 0,arguments)},filter(i,e){return Ji(this,"filter",i,e,t=>t.map(yn),arguments)},find(i,e){return Ji(this,"find",i,e,yn,arguments)},findIndex(i,e){return Ji(this,"findIndex",i,e,void 0,arguments)},findLast(i,e){return Ji(this,"findLast",i,e,yn,arguments)},findLastIndex(i,e){return Ji(this,"findLastIndex",i,e,void 0,arguments)},forEach(i,e){return Ji(this,"forEach",i,e,void 0,arguments)},includes(...i){return ku(this,"includes",i)},indexOf(...i){return ku(this,"indexOf",i)},join(i){return $s(this).join(i)},lastIndexOf(...i){return ku(this,"lastIndexOf",i)},map(i,e){return Ji(this,"map",i,e,void 0,arguments)},pop(){return Ko(this,"pop")},push(...i){return Ko(this,"push",i)},reduce(i,...e){return Dg(this,"reduce",i,e)},reduceRight(i,...e){return Dg(this,"reduceRight",i,e)},shift(){return Ko(this,"shift")},some(i,e){return Ji(this,"some",i,e,void 0,arguments)},splice(...i){return Ko(this,"splice",i)},toReversed(){return $s(this).toReversed()},toSorted(i){return $s(this).toSorted(i)},toSpliced(...i){return $s(this).toSpliced(...i)},unshift(...i){return Ko(this,"unshift",i)},values(){return wu(this,"values",yn)}};function wu(i,e,t){const n=Tl(i),r=n[e]();return n!==i&&!Pn(i)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.value&&(s.value=t(s.value)),s}),r}const b1=Array.prototype;function Ji(i,e,t,n,r,s){const o=Tl(i),a=o!==i&&!Pn(i),l=o[e];if(l!==b1[e]){const u=l.apply(i,s);return a?yn(u):u}let c=t;o!==i&&(a?c=function(u,d){return t.call(this,yn(u),d,i)}:t.length>2&&(c=function(u,d){return t.call(this,u,d,i)}));const h=l.call(o,c,n);return a&&r?r(h):h}function Dg(i,e,t,n){const r=Tl(i);let s=t;return r!==i&&(Pn(i)?t.length>3&&(s=function(o,a,l){return t.call(this,o,a,l,i)}):s=function(o,a,l){return t.call(this,o,yn(a),l,i)}),r[e](s,...n)}function ku(i,e,t){const n=Ze(i);Zt(n,"iterate",Uo);const r=n[e](...t);return(r===-1||r===!1)&&Jo(t[0])?(t[0]=Ze(t[0]),n[e](...t)):r}function Ko(i,e,t=[]){Ui(),mu();const n=Ze(i)[e].apply(i,t);return xu(),Ki(),n}const y1=On("__proto__,__v_isRef,__isVue"),_g=new Set(Object.getOwnPropertyNames(Symbol).filter(i=>i!=="arguments"&&i!=="caller").map(i=>Symbol[i]).filter(xr));function v1(i){xr(i)||(i=String(i));const e=Ze(this);return Zt(e,"has",i),e.hasOwnProperty(i)}class Ng{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if(t==="__v_skip")return e.__v_skip;const r=this._isReadonly,s=this._isShallow;if(t==="__v_isReactive")return!r;if(t==="__v_isReadonly")return r;if(t==="__v_isShallow")return s;if(t==="__v_raw")return n===(r?s?Yg:Wg:s?Xg:Hg).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=Fe(e);if(!r){let l;if(o&&(l=x1[t]))return l;if(t==="hasOwnProperty")return v1}const a=Reflect.get(e,t,Wt(e)?e:n);return(xr(t)?_g.has(t):y1(t))||(r||Zt(e,"get",t),s)?a:Wt(a)?o&&uu(t)?a:a.value:yt(a)?r?jg(a):Cu(a):a}}class zg extends Ng{constructor(e=!1){super(!1,e)}set(e,t,n,r){let s=e[t];if(!this._isShallow){const l=Zi(s);if(!Pn(n)&&!Zi(n)&&(s=Ze(s),n=Ze(n)),!Fe(e)&&Wt(s)&&!Wt(n))return l?!1:(s.value=n,!0)}const o=Fe(e)&&uu(t)?Number(t)<e.length:gt(e,t),a=Reflect.set(e,t,n,Wt(e)?e:r);return e===Ze(r)&&(o?Wn(n,s)&&Ii(e,"set",t,n,s):Ii(e,"add",t,n)),a}deleteProperty(e,t){const n=gt(e,t),r=e[t],s=Reflect.deleteProperty(e,t);return s&&n&&Ii(e,"delete",t,void 0,r),s}has(e,t){const n=Reflect.has(e,t);return(!xr(t)||!_g.has(t))&&Zt(e,"has",t),n}ownKeys(e){return Zt(e,"iterate",Fe(e)?"length":es),Reflect.ownKeys(e)}}class Fg extends Ng{constructor(e=!1){super(!0,e)}set(e,t){return yi(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0}deleteProperty(e,t){return yi(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}}const w1=new zg,k1=new Fg,S1=new zg(!0),C1=new Fg(!0),Su=i=>i,El=i=>Reflect.getPrototypeOf(i);function A1(i,e,t){return function(...n){const r=this.__v_raw,s=Ze(r),o=Zr(s),a=i==="entries"||i===Symbol.iterator&&o,l=i==="keys"&&o,c=r[i](...n),h=t?Su:e?Au:yn;return!e&&Zt(s,"iterate",l?vu:es),{next(){const{value:u,done:d}=c.next();return d?{value:u,done:d}:{value:a?[h(u[0]),h(u[1])]:h(u),done:d}},[Symbol.iterator](){return this}}}}function Ol(i){return function(...e){{const t=e[0]?`on key "${e[0]}" `:"";yi(`${Sl(i)} operation ${t}failed: target is readonly.`,Ze(this))}return i==="delete"?!1:i==="clear"?void 0:this}}function M1(i,e){const t={get(r){const s=this.__v_raw,o=Ze(s),a=Ze(r);i||(Wn(r,a)&&Zt(o,"get",r),Zt(o,"get",a));const{has:l}=El(o),c=e?Su:i?Au:yn;if(l.call(o,r))return c(s.get(r));if(l.call(o,a))return c(s.get(a));s!==o&&s.get(r)},get size(){const r=this.__v_raw;return!i&&Zt(Ze(r),"iterate",es),Reflect.get(r,"size",r)},has(r){const s=this.__v_raw,o=Ze(s),a=Ze(r);return i||(Wn(r,a)&&Zt(o,"has",r),Zt(o,"has",a)),r===a?s.has(r):s.has(r)||s.has(a)},forEach(r,s){const o=this,a=o.__v_raw,l=Ze(a),c=e?Su:i?Au:yn;return!i&&Zt(l,"iterate",es),a.forEach((h,u)=>r.call(s,c(h),c(u),o))}};return _t(t,i?{add:Ol("add"),set:Ol("set"),delete:Ol("delete"),clear:Ol("clear")}:{add(r){!e&&!Pn(r)&&!Zi(r)&&(r=Ze(r));const s=Ze(this);return El(s).has.call(s,r)||(s.add(r),Ii(s,"add",r,r)),this},set(r,s){!e&&!Pn(s)&&!Zi(s)&&(s=Ze(s));const o=Ze(this),{has:a,get:l}=El(o);let c=a.call(o,r);c?Bg(o,a,r):(r=Ze(r),c=a.call(o,r));const h=l.call(o,r);return o.set(r,s),c?Wn(s,h)&&Ii(o,"set",r,s,h):Ii(o,"add",r,s),this},delete(r){const s=Ze(this),{has:o,get:a}=El(s);let l=o.call(s,r);l?Bg(s,o,r):(r=Ze(r),l=o.call(s,r));const c=a?a.call(s,r):void 0,h=s.delete(r);return l&&Ii(s,"delete",r,void 0,c),h},clear(){const r=Ze(this),s=r.size!==0,o=Zr(r)?new Map(r):new Set(r),a=r.clear();return s&&Ii(r,"clear",void 0,void 0,o),a}}),["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=A1(r,i,e)}),t}function Il(i,e){const t=M1(i,e);return(n,r,s)=>r==="__v_isReactive"?!i:r==="__v_isReadonly"?i:r==="__v_raw"?n:Reflect.get(gt(t,r)&&r in n?t:n,r,s)}const T1={get:Il(!1,!1)},E1={get:Il(!1,!0)},O1={get:Il(!0,!1)},I1={get:Il(!0,!0)};function Bg(i,e,t){const n=Ze(t);if(n!==t&&e.call(i,n)){const r=hu(i);yi(`Reactive ${r} contains both the raw and reactive versions of the same object${r==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const Hg=new WeakMap,Xg=new WeakMap,Wg=new WeakMap,Yg=new WeakMap;function P1(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function L1(i){return i.__v_skip||!Object.isExtensible(i)?0:P1(hu(i))}function Cu(i){return Zi(i)?i:Pl(i,!1,w1,T1,Hg)}function R1(i){return Pl(i,!1,S1,E1,Xg)}function jg(i){return Pl(i,!0,k1,O1,Wg)}function Pi(i){return Pl(i,!0,C1,I1,Yg)}function Pl(i,e,t,n,r){if(!yt(i))return yi(`value cannot be made ${e?"readonly":"reactive"}: ${String(i)}`),i;if(i.__v_raw&&!(e&&i.__v_isReactive))return i;const s=r.get(i);if(s)return s;const o=L1(i);if(o===0)return i;const a=new Proxy(i,o===2?n:t);return r.set(i,a),a}function ts(i){return Zi(i)?ts(i.__v_raw):!!(i&&i.__v_isReactive)}function Zi(i){return!!(i&&i.__v_isReadonly)}function Pn(i){return!!(i&&i.__v_isShallow)}function Jo(i){return i?!!i.__v_raw:!1}function Ze(i){const e=i&&i.__v_raw;return e?Ze(e):i}function Vg(i){return!gt(i,"__v_skip")&&Object.isExtensible(i)&&Cl(i,"__v_skip",!0),i}const yn=i=>yt(i)?Cu(i):i,Au=i=>yt(i)?jg(i):i;function Wt(i){return i?i.__v_isRef===!0:!1}function Yt(i){return D1(i,!1)}function D1(i,e){return Wt(i)?i:new _1(i,e)}class _1{constructor(e,t){this.dep=new Al,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:Ze(e),this._value=t?e:yn(e),this.__v_isShallow=t}get value(){return this.dep.track({target:this,type:"get",key:"value"}),this._value}set value(e){const t=this._rawValue,n=this.__v_isShallow||Pn(e)||Zi(e);e=n?e:Ze(e),Wn(e,t)&&(this._rawValue=e,this._value=n?e:yn(e),this.dep.trigger({target:this,type:"set",key:"value",newValue:e,oldValue:t}))}}function vn(i){return Wt(i)?i.value:i}const N1={get:(i,e,t)=>e==="__v_raw"?i:vn(Reflect.get(i,e,t)),set:(i,e,t,n)=>{const r=i[e];return Wt(r)&&!Wt(t)?(r.value=t,!0):Reflect.set(i,e,t,n)}};function $g(i){return ts(i)?i:new Proxy(i,N1)}class z1{constructor(e){this.__v_isRef=!0,this._value=void 0;const t=this.dep=new Al,{get:n,set:r}=e(t.track.bind(t),t.trigger.bind(t));this._get=n,this._set=r}get value(){return this._value=this._get()}set value(e){this._set(e)}}function Gg(i){return new z1(i)}function F1(i){Jo(i)||yi("toRefs() expects a reactive object but received a plain one.");const e=Fe(i)?new Array(i.length):{};for(const t in i)e[t]=H1(i,t);return e}class B1{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return m1(Ze(this._object),this._key)}}function H1(i,e,t){const n=i[e];return Wt(n)?n:new B1(i,e,t)}class X1{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Al(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=qo-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&vt!==this)return Tg(this,!0),!0}get value(){const e=this.dep.track({target:this,type:"get",key:"value"});return Ig(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter?this.setter(e):yi("Write operation failed: computed value is readonly")}}function W1(i,e,t=!1){let n,r;return je(i)?n=i:(n=i.get,r=i.set),new X1(n,r,t)}const Ll={},Rl=new WeakMap;let ns;function Y1(i,e=!1,t=ns){if(t){let n=Rl.get(t);n||Rl.set(t,n=[]),n.push(i)}else e||yi("onWatcherCleanup() was called when there was no active watcher to associate with.")}function j1(i,e,t=Je){const{immediate:n,deep:r,once:s,scheduler:o,augmentJob:a,call:l}=t,c=S=>{(t.onWarn||yi)("Invalid watch source: ",S,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},h=S=>r?S:Pn(S)||r===!1||r===0?Qi(S,1):Qi(S);let u,d,f,p,m=!1,b=!1;if(Wt(i)?(d=()=>i.value,m=Pn(i)):ts(i)?(d=()=>h(i),m=!0):Fe(i)?(b=!0,m=i.some(S=>ts(S)||Pn(S)),d=()=>i.map(S=>{if(Wt(S))return S.value;if(ts(S))return h(S);if(je(S))return l?l(S,2):S();c(S)})):je(i)?e?d=l?()=>l(i,2):i:d=()=>{if(f){Ui();try{f()}finally{Ki()}}const S=ns;ns=u;try{return l?l(i,3,[p]):i(p)}finally{ns=S}}:(d=bn,c(i)),e&&r){const S=d,E=r===!0?1/0:r;d=()=>Qi(S(),E)}const y=f1(),w=()=>{u.stop(),y&&y.active&&lu(y.effects,u)};if(s&&e){const S=e;e=(...E)=>{S(...E),w()}}let C=b?new Array(i.length).fill(Ll):Ll;const T=S=>{if(!(!(u.flags&1)||!u.dirty&&!S))if(e){const E=u.run();if(r||m||(b?E.some((M,I)=>Wn(M,C[I])):Wn(E,C))){f&&f();const M=ns;ns=u;try{const I=[E,C===Ll?void 0:b&&C[0]===Ll?[]:C,p];l?l(e,3,I):e(...I),C=E}finally{ns=M}}}else u.run()};return a&&a(T),u=new Ag(d),u.scheduler=o?()=>o(T,!1):T,p=S=>Y1(S,!1,u),f=u.onStop=()=>{const S=Rl.get(u);if(S){if(l)l(S,4);else for(const E of S)E();Rl.delete(u)}},u.onTrack=t.onTrack,u.onTrigger=t.onTrigger,e?n?T(!0):C=u.run():o?o(T.bind(null,!0),!0):u.run(),w.pause=u.pause.bind(u),w.resume=u.resume.bind(u),w.stop=w,w}function Qi(i,e=1/0,t){if(e<=0||!yt(i)||i.__v_skip||(t=t||new Set,t.has(i)))return i;if(t.add(i),e--,Wt(i))Qi(i.value,e,t);else if(Fe(i))for(let n=0;n<i.length;n++)Qi(i[n],e,t);else if(bg(i)||Zr(i))i.forEach(n=>{Qi(n,e,t)});else if(vg(i)){for(const n in i)Qi(i[n],e,t);for(const n of Object.getOwnPropertySymbols(i))Object.prototype.propertyIsEnumerable.call(i,n)&&Qi(i[n],e,t)}return i}/**
  * @vue/runtime-core v3.5.13
  * (c) 2018-present Yuxi (Evan) You and Vue contributors
  * @license MIT
  **/const is=[];function Dl(i){is.push(i)}function _l(){is.pop()}let Mu=!1;function be(i,...e){if(Mu)return;Mu=!0,Ui();const t=is.length?is[is.length-1].component:null,n=t&&t.appContext.config.warnHandler,r=V1();if(n)Gs(n,t,11,[i+e.map(s=>{var o,a;return(a=(o=s.toString)==null?void 0:o.call(s))!=null?a:JSON.stringify(s)}).join(""),t&&t.proxy,r.map(({vnode:s})=>`at <${tc(t,s.type)}>`).join(`
  `),r]);else{const s=[`[Vue warn]: ${i}`,...e];r.length&&s.push(`
  `,...$1(r)),console.warn(...s)}Ki(),Mu=!1}function V1(){let i=is[is.length-1];if(!i)return[];const e=[];for(;i;){const t=e[0];t&&t.vnode===i?t.recurseCount++:e.push({vnode:i,recurseCount:0});const n=i.component&&i.component.parent;i=n&&n.vnode}return e}function $1(i){const e=[];return i.forEach((t,n)=>{e.push(...n===0?[]:[`
  `],...G1(t))}),e}function G1({vnode:i,recurseCount:e}){const t=e>0?`... (${e} recursive calls)`:"",n=i.component?i.component.parent==null:!1,r=` at <${tc(i.component,i.type,n)}`,s=">"+t;return i.props?[r,...q1(i.props),s]:[r+s]}function q1(i){const e=[],t=Object.keys(i);return t.slice(0,3).forEach(n=>{e.push(...qg(n,i[n]))}),t.length>3&&e.push(" ..."),e}function qg(i,e,t){return Nt(e)?(e=JSON.stringify(e),t?e:[`${i}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?t?e:[`${i}=${e}`]:Wt(e)?(e=qg(i,Ze(e.value),!0),t?e:[`${i}=Ref<`,e,">"]):je(e)?[`${i}=fn${e.name?`<${e.name}>`:""}`]:(e=Ze(e),t?e:[`${i}=`,e])}function U1(i,e){i!==void 0&&(typeof i!="number"?be(`${e} is not a valid number - got ${JSON.stringify(i)}.`):isNaN(i)&&be(`${e} is NaN - the duration expression might be incorrect.`))}const Tu={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Gs(i,e,t,n){try{return n?i(...n):i()}catch(r){Zo(r,e,t)}}function wi(i,e,t,n){if(je(i)){const r=Gs(i,e,t,n);return r&&cu(r)&&r.catch(s=>{Zo(s,e,t)}),r}if(Fe(i)){const r=[];for(let s=0;s<i.length;s++)r.push(wi(i[s],e,t,n));return r}else be(`Invalid value type passed to callWithAsyncErrorHandling(): ${typeof i}`)}function Zo(i,e,t,n=!0){const r=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Je;if(e){let a=e.parent;const l=e.proxy,c=Tu[t];for(;a;){const h=a.ec;if(h){for(let u=0;u<h.length;u++)if(h[u](i,l,c)===!1)return}a=a.parent}if(s){Ui(),Gs(s,null,10,[i,l,c]),Ki();return}}K1(i,t,r,n,o)}function K1(i,e,t,n=!0,r=!1){{const s=Tu[e];if(t&&Dl(t),be(`Unhandled error${s?` during execution of ${s}`:""}`),t&&_l(),n)throw i;console.error(i)}}const Ln=[];let Li=-1;const qs=[];let br=null,Us=0;const Ug=Promise.resolve();let Nl=null;const J1=100;function Ks(i){const e=Nl||Ug;return i?e.then(this?i.bind(this):i):e}function Z1(i){let e=Li+1,t=Ln.length;for(;e<t;){const n=e+t>>>1,r=Ln[n],s=Qo(r);s<i||s===i&&r.flags&2?e=n+1:t=n}return e}function zl(i){if(!(i.flags&1)){const e=Qo(i),t=Ln[Ln.length-1];!t||!(i.flags&2)&&e>=Qo(t)?Ln.push(i):Ln.splice(Z1(e),0,i),i.flags|=1,Kg()}}function Kg(){Nl||(Nl=Ug.then(em))}function Jg(i){Fe(i)?qs.push(...i):br&&i.id===-1?br.splice(Us+1,0,i):i.flags&1||(qs.push(i),i.flags|=1),Kg()}function Zg(i,e,t=Li+1){for(e=e||new Map;t<Ln.length;t++){const n=Ln[t];if(n&&n.flags&2){if(i&&n.id!==i.uid||Eu(e,n))continue;Ln.splice(t,1),t--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Qg(i){if(qs.length){const e=[...new Set(qs)].sort((t,n)=>Qo(t)-Qo(n));if(qs.length=0,br){br.push(...e);return}for(br=e,i=i||new Map,Us=0;Us<br.length;Us++){const t=br[Us];Eu(i,t)||(t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2)}br=null,Us=0}}const Qo=i=>i.id==null?i.flags&2?-1:1/0:i.id;function em(i){i=i||new Map;const e=t=>Eu(i,t);try{for(Li=0;Li<Ln.length;Li++){const t=Ln[Li];if(t&&!(t.flags&8)){if(e(t))continue;t.flags&4&&(t.flags&=-2),Gs(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2)}}}finally{for(;Li<Ln.length;Li++){const t=Ln[Li];t&&(t.flags&=-2)}Li=-1,Ln.length=0,Qg(i),Nl=null,(Ln.length||qs.length)&&em(i)}}function Eu(i,e){const t=i.get(e)||0;if(t>J1){const n=e.i,r=n&&sx(n.type);return Zo(`Maximum recursive updates exceeded${r?` in component <${r}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`,null,10),!0}return i.set(e,t+1),!1}let Ri=!1;const Fl=new Map;jo().__VUE_HMR_RUNTIME__={createRecord:Ou(tm),rerender:Ou(tk),reload:Ou(nk)};const rs=new Map;function Q1(i){const e=i.type.__hmrId;let t=rs.get(e);t||(tm(e,i.type),t=rs.get(e)),t.instances.add(i)}function ek(i){rs.get(i.type.__hmrId).instances.delete(i)}function tm(i,e){return rs.has(i)?!1:(rs.set(i,{initialDef:Bl(e),instances:new Set}),!0)}function Bl(i){return ox(i)?i.__vccOpts:i}function tk(i,e){const t=rs.get(i);t&&(t.initialDef.render=e,[...t.instances].forEach(n=>{e&&(n.render=e,Bl(n.type).render=e),n.renderCache=[],Ri=!0,n.update(),Ri=!1}))}function nk(i,e){const t=rs.get(i);if(!t)return;e=Bl(e),nm(t.initialDef,e);const n=[...t.instances];for(let r=0;r<n.length;r++){const s=n[r],o=Bl(s.type);let a=Fl.get(o);a||(o!==t.initialDef&&nm(o,e),Fl.set(o,a=new Set)),a.add(s),s.appContext.propsCache.delete(s.type),s.appContext.emitsCache.delete(s.type),s.appContext.optionsCache.delete(s.type),s.ceReload?(a.add(s),s.ceReload(e.styles),a.delete(s)):s.parent?zl(()=>{Ri=!0,s.parent.update(),Ri=!1,a.delete(s)}):s.appContext.reload?s.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required."),s.root.ce&&s!==s.root&&s.root.ce._removeChildStyle(o)}Jg(()=>{Fl.clear()})}function nm(i,e){_t(i,e);for(const t in i)t!=="__file"&&!(t in e)&&delete i[t]}function Ou(i){return(e,t)=>{try{return i(e,t)}catch(n){console.error(n),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let Di,ea=[],Iu=!1;function ta(i,...e){Di?Di.emit(i,...e):Iu||ea.push({event:i,args:e})}function im(i,e){var t,n;Di=i,Di?(Di.enabled=!0,ea.forEach(({event:r,args:s})=>Di.emit(r,...s)),ea=[]):typeof window<"u"&&window.HTMLElement&&!((n=(t=window.navigator)==null?void 0:t.userAgent)!=null&&n.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{im(s,e)}),setTimeout(()=>{Di||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Iu=!0,ea=[])},3e3)):(Iu=!0,ea=[])}function ik(i,e){ta("app:init",i,e,{Fragment:qn,Text:ca,Comment:Gt,Static:Jl})}function rk(i){ta("app:unmount",i)}const sk=Pu("component:added"),rm=Pu("component:updated"),ok=Pu("component:removed"),ak=i=>{Di&&typeof Di.cleanupBuffer=="function"&&!Di.cleanupBuffer(i)&&ok(i)};/*! #__NO_SIDE_EFFECTS__ */function Pu(i){return e=>{ta(i,e.appContext.app,e.uid,e.parent?e.parent.uid:void 0,e)}}const lk=sm("perf:start"),ck=sm("perf:end");function sm(i){return(e,t,n)=>{ta(i,e.appContext.app,e.uid,e,t,n)}}function hk(i,e,t){ta("component:emit",i.appContext.app,i,e,t)}let Rn=null,om=null;function Hl(i){const e=Rn;return Rn=i,om=i&&i.type.__scopeId||null,e}function am(i,e=Rn,t){if(!e||i._n)return i;const n=(...r)=>{n._d&&Jm(-1);const s=Hl(e);let o;try{o=i(...r)}finally{Hl(s),n._d&&Jm(1)}return rm(e),o};return n._n=!0,n._c=!0,n._d=!0,n}function lm(i){Jw(i)&&be("Do not use built-in directive ids as custom directive id: "+i)}function cm(i,e){if(Rn===null)return be("withDirectives can only be used inside render functions."),i;const t=ec(Rn),n=i.dirs||(i.dirs=[]);for(let r=0;r<e.length;r++){let[s,o,a,l=Je]=e[r];s&&(je(s)&&(s={mounted:s,updated:s}),s.deep&&Qi(o),n.push({dir:s,instance:t,value:o,oldValue:void 0,arg:a,modifiers:l}))}return i}function ss(i,e,t,n){const r=i.dirs,s=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[n];l&&(Ui(),wi(l,t,8,[i.el,a,i,e]),Ki())}}const uk=Symbol("_vte"),hm=i=>i.__isTeleport,yr=Symbol("_leaveCb"),Xl=Symbol("_enterCb");function dk(){const i={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Js(()=>{i.isMounted=!0}),oa(()=>{i.isUnmounting=!0}),i}const ri=[Function,Array],um={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ri,onEnter:ri,onAfterEnter:ri,onEnterCancelled:ri,onBeforeLeave:ri,onLeave:ri,onAfterLeave:ri,onLeaveCancelled:ri,onBeforeAppear:ri,onAppear:ri,onAfterAppear:ri,onAppearCancelled:ri},dm=i=>{const e=i.subTree;return e.component?dm(e.component):e},fk={name:"BaseTransition",props:um,setup(i,{slots:e}){const t=pa(),n=dk();return()=>{const r=e.default&&mm(e.default(),!0);if(!r||!r.length)return;const s=fm(r),o=Ze(i),{mode:a}=o;if(a&&a!=="in-out"&&a!=="out-in"&&a!=="default"&&be(`invalid <transition> mode: ${a}`),n.isLeaving)return Ru(s);const l=gm(s);if(!l)return Ru(s);let c=Lu(l,o,n,t,u=>c=u);l.type!==Gt&&na(l,c);let h=t.subTree&&gm(t.subTree);if(h&&h.type!==Gt&&!cs(l,h)&&dm(t).type!==Gt){let u=Lu(h,o,n,t);if(na(h,u),a==="out-in"&&l.type!==Gt)return n.isLeaving=!0,u.afterLeave=()=>{n.isLeaving=!1,t.job.flags&8||t.update(),delete u.afterLeave,h=void 0},Ru(s);a==="in-out"&&l.type!==Gt?u.delayLeave=(d,f,p)=>{const m=pm(n,h);m[String(h.key)]=h,d[yr]=()=>{f(),d[yr]=void 0,delete c.delayedLeave,h=void 0},c.delayedLeave=()=>{p(),delete c.delayedLeave,h=void 0}}:h=void 0}else h&&(h=void 0);return s}}};function fm(i){let e=i[0];if(i.length>1){let t=!1;for(const n of i)if(n.type!==Gt){if(t){be("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}e=n,t=!0}}return e}const pk=fk;function pm(i,e){const{leavingVNodes:t}=i;let n=t.get(e.type);return n||(n=Object.create(null),t.set(e.type,n)),n}function Lu(i,e,t,n,r){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:h,onEnterCancelled:u,onBeforeLeave:d,onLeave:f,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:b,onAppear:y,onAfterAppear:w,onAppearCancelled:C}=e,T=String(i.key),S=pm(t,i),E=(P,N)=>{P&&wi(P,n,9,N)},M=(P,N)=>{const D=N[1];E(P,N),Fe(P)?P.every(_=>_.length<=1)&&D():P.length<=1&&D()},I={mode:o,persisted:a,beforeEnter(P){let N=l;if(!t.isMounted)if(s)N=b||l;else return;P[yr]&&P[yr](!0);const D=S[T];D&&cs(i,D)&&D.el[yr]&&D.el[yr](),E(N,[P])},enter(P){let N=c,D=h,_=u;if(!t.isMounted)if(s)N=y||c,D=w||h,_=C||u;else return;let $=!1;const U=P[Xl]=re=>{$||($=!0,re?E(_,[P]):E(D,[P]),I.delayedLeave&&I.delayedLeave(),P[Xl]=void 0)};N?M(N,[P,U]):U()},leave(P,N){const D=String(i.key);if(P[Xl]&&P[Xl](!0),t.isUnmounting)return N();E(d,[P]);let _=!1;const $=P[yr]=U=>{_||(_=!0,N(),U?E(m,[P]):E(p,[P]),P[yr]=void 0,S[D]===i&&delete S[D])};S[D]=i,f?M(f,[P,$]):$()},clone(P){const N=Lu(P,e,t,n,r);return r&&r(N),N}};return I}function Ru(i){if(sa(i))return i=Ni(i),i.children=null,i}function gm(i){if(!sa(i))return hm(i.type)&&i.children?fm(i.children):i;if(i.component)return i.component.subTree;const{shapeFlag:e,children:t}=i;if(t){if(e&16)return t[0];if(e&32&&je(t.default))return t.default()}}function na(i,e){i.shapeFlag&6&&i.component?(i.transition=e,na(i.component.subTree,e)):i.shapeFlag&128?(i.ssContent.transition=e.clone(i.ssContent),i.ssFallback.transition=e.clone(i.ssFallback)):i.transition=e}function mm(i,e=!1,t){let n=[],r=0;for(let s=0;s<i.length;s++){let o=i[s];const a=t==null?o.key:String(t)+String(o.key!=null?o.key:s);o.type===qn?(o.patchFlag&128&&r++,n=n.concat(mm(o.children,e,a))):(e||o.type!==Gt)&&n.push(a!=null?Ni(o,{key:a}):o)}if(r>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function ia(i,e){return je(i)?_t({name:i.name},e,{setup:i}):i}function xm(i){i.ids=[i.ids[0]+i.ids[2]+++"-",0,0]}const gk=new WeakSet;function Wl(i,e,t,n,r=!1){if(Fe(i)){i.forEach((p,m)=>Wl(p,e&&(Fe(e)?e[m]:e),t,n,r));return}if(ra(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Wl(i,e,t,n.component.subTree);return}const s=n.shapeFlag&4?ec(n.component):n.el,o=r?null:s,{i:a,r:l}=i;if(!a){be("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const c=e&&e.r,h=a.refs===Je?a.refs={}:a.refs,u=a.setupState,d=Ze(u),f=u===Je?()=>!1:p=>(gt(d,p)&&!Wt(d[p])&&be(`Template ref "${p}" used on a non-ref value. It will not work in the production build.`),gk.has(d[p])?!1:gt(d,p));if(c!=null&&c!==l&&(Nt(c)?(h[c]=null,f(c)&&(u[c]=null)):Wt(c)&&(c.value=null)),je(l))Gs(l,a,12,[o,h]);else{const p=Nt(l),m=Wt(l);if(p||m){const b=()=>{if(i.f){const y=p?f(l)?u[l]:h[l]:l.value;r?Fe(y)&&lu(y,s):Fe(y)?y.includes(s)||y.push(s):p?(h[l]=[s],f(l)&&(u[l]=h[l])):(l.value=[s],i.k&&(h[i.k]=l.value))}else p?(h[l]=o,f(l)&&(u[l]=o)):m?(l.value=o,i.k&&(h[i.k]=o)):be("Invalid template ref type:",l,`(${typeof l})`)};o?(b.id=-1,Gn(b,t)):b()}else be("Invalid template ref type:",l,`(${typeof l})`)}}jo().requestIdleCallback,jo().cancelIdleCallback;const ra=i=>!!i.type.__asyncLoader,sa=i=>i.type.__isKeepAlive;function mk(i,e){bm(i,"a",e)}function xk(i,e){bm(i,"da",e)}function bm(i,e,t=Qt){const n=i.__wdc||(i.__wdc=()=>{let r=t;for(;r;){if(r.isDeactivated)return;r=r.parent}return i()});if(Yl(e,n,t),t){let r=t.parent;for(;r&&r.parent;)sa(r.parent.vnode)&&bk(n,e,t,r),r=r.parent}}function bk(i,e,t,n){const r=Yl(e,i,n,!0);vm(()=>{lu(n[e],r)},t)}function Yl(i,e,t=Qt,n=!1){if(t){const r=t[i]||(t[i]=[]),s=e.__weh||(e.__weh=(...o)=>{Ui();const a=ga(t),l=wi(e,t,i,o);return a(),Ki(),l});return n?r.unshift(s):r.push(s),s}else{const r=Qr(Tu[i].replace(/ hook$/,""));be(`${r} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const er=i=>(e,t=Qt)=>{(!ma||i==="sp")&&Yl(i,(...n)=>e(...n),t)},ym=er("bm"),Js=er("m"),yk=er("bu"),vk=er("u"),oa=er("bum"),vm=er("um"),wk=er("sp"),kk=er("rtg"),Sk=er("rtc");function Ck(i,e=Qt){Yl("ec",i,e)}const Ak=Symbol.for("v-ndc");function wm(i,e,t,n){let r;const s=t,o=Fe(i);if(o||Nt(i)){const a=o&&ts(i);let l=!1;a&&(l=!Pn(i),i=Tl(i)),r=new Array(i.length);for(let c=0,h=i.length;c<h;c++)r[c]=e(l?yn(i[c]):i[c],c,void 0,s)}else if(typeof i=="number"){Number.isInteger(i)||be(`The v-for range expect an integer value but got ${i}.`),r=new Array(i);for(let a=0;a<i;a++)r[a]=e(a+1,a,void 0,s)}else if(yt(i))if(i[Symbol.iterator])r=Array.from(i,(a,l)=>e(a,l,void 0,s));else{const a=Object.keys(i);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const h=a[l];r[l]=e(i[h],h,l,s)}}else r=[];return r}const Du=i=>i?nx(i)?ec(i):Du(i.parent):null,as=_t(Object.create(null),{$:i=>i,$el:i=>i.vnode.el,$data:i=>i.data,$props:i=>Pi(i.props),$attrs:i=>Pi(i.attrs),$slots:i=>Pi(i.slots),$refs:i=>Pi(i.refs),$parent:i=>Du(i.parent),$root:i=>Du(i.root),$host:i=>i.ce,$emit:i=>i.emit,$options:i=>Am(i),$forceUpdate:i=>i.f||(i.f=()=>{zl(i.update)}),$nextTick:i=>i.n||(i.n=Ks.bind(i.proxy)),$watch:i=>aS.bind(i)}),_u=i=>i==="_"||i==="$",Nu=(i,e)=>i!==Je&&!i.__isScriptSetup&&gt(i,e),km={get({_:i},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:n,data:r,props:s,accessCache:o,type:a,appContext:l}=i;if(e==="__isVue")return!0;let c;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return n[e];case 2:return r[e];case 4:return t[e];case 3:return s[e]}else{if(Nu(n,e))return o[e]=1,n[e];if(r!==Je&&gt(r,e))return o[e]=2,r[e];if((c=i.propsOptions[0])&&gt(c,e))return o[e]=3,s[e];if(t!==Je&&gt(t,e))return o[e]=4,t[e];zu&&(o[e]=0)}}const h=as[e];let u,d;if(h)return e==="$attrs"?(Zt(i.attrs,"get",""),Kl()):e==="$slots"&&Zt(i,"get",e),h(i);if((u=a.__cssModules)&&(u=u[e]))return u;if(t!==Je&&gt(t,e))return o[e]=4,t[e];if(d=l.config.globalProperties,gt(d,e))return d[e];Rn&&(!Nt(e)||e.indexOf("__v")!==0)&&(r!==Je&&_u(e[0])&&gt(r,e)?be(`Property ${JSON.stringify(e)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):i===Rn&&be(`Property ${JSON.stringify(e)} was accessed during render but is not defined on instance.`))},set({_:i},e,t){const{data:n,setupState:r,ctx:s}=i;return Nu(r,e)?(r[e]=t,!0):r.__isScriptSetup&&gt(r,e)?(be(`Cannot mutate <script setup> binding "${e}" from Options API.`),!1):n!==Je&&gt(n,e)?(n[e]=t,!0):gt(i.props,e)?(be(`Attempting to mutate prop "${e}". Props are readonly.`),!1):e[0]==="$"&&e.slice(1)in i?(be(`Attempting to mutate public property "${e}". Properties starting with $ are reserved and readonly.`),!1):(e in i.appContext.config.globalProperties?Object.defineProperty(s,e,{enumerable:!0,configurable:!0,value:t}):s[e]=t,!0)},has({_:{data:i,setupState:e,accessCache:t,ctx:n,appContext:r,propsOptions:s}},o){let a;return!!t[o]||i!==Je&&gt(i,o)||Nu(e,o)||(a=s[0])&&gt(a,o)||gt(n,o)||gt(as,o)||gt(r.config.globalProperties,o)},defineProperty(i,e,t){return t.get!=null?i._.accessCache[e]=0:gt(t,"value")&&this.set(i,e,t.value,null),Reflect.defineProperty(i,e,t)}};km.ownKeys=i=>(be("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(i));function Mk(i){const e={};return Object.defineProperty(e,"_",{configurable:!0,enumerable:!1,get:()=>i}),Object.keys(as).forEach(t=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,get:()=>as[t](i),set:bn})}),e}function Tk(i){const{ctx:e,propsOptions:[t]}=i;t&&Object.keys(t).forEach(n=>{Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.props[n],set:bn})})}function Ek(i){const{ctx:e,setupState:t}=i;Object.keys(Ze(t)).forEach(n=>{if(!t.__isScriptSetup){if(_u(n[0])){be(`setup() return property ${JSON.stringify(n)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>t[n],set:bn})}})}function jl(i){return Fe(i)?i.reduce((e,t)=>(e[t]=null,e),{}):i}function Ok(i,e){return!i||!e?i||e:Fe(i)&&Fe(e)?i.concat(e):_t({},jl(i),jl(e))}function Ik(){const i=Object.create(null);return(e,t)=>{i[t]?be(`${e} property "${t}" is already defined in ${i[t]}.`):i[t]=e}}let zu=!0;function Pk(i){const e=Am(i),t=i.proxy,n=i.ctx;zu=!1,e.beforeCreate&&Sm(e.beforeCreate,i,"bc");const{data:r,computed:s,methods:o,watch:a,provide:l,inject:c,created:h,beforeMount:u,mounted:d,beforeUpdate:f,updated:p,activated:m,deactivated:b,beforeDestroy:y,beforeUnmount:w,destroyed:C,unmounted:T,render:S,renderTracked:E,renderTriggered:M,errorCaptured:I,serverPrefetch:P,expose:N,inheritAttrs:D,components:_,directives:$,filters:U}=e,re=Ik();{const[ie]=i.propsOptions;if(ie)for(const ae in ie)re("Props",ae)}if(c&&Lk(c,n,re),o)for(const ie in o){const ae=o[ie];je(ae)?(Object.defineProperty(n,ie,{value:ae.bind(t),configurable:!0,enumerable:!0,writable:!0}),re("Methods",ie)):be(`Method "${ie}" has type "${typeof ae}" in the component definition. Did you reference the function correctly?`)}if(r){je(r)||be("The data option must be a function. Plain object usage is no longer supported.");const ie=r.call(t,t);if(cu(ie)&&be("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!yt(ie))be("data() should return an object.");else{i.data=Cu(ie);for(const ae in ie)re("Data",ae),_u(ae[0])||Object.defineProperty(n,ae,{configurable:!0,enumerable:!0,get:()=>ie[ae],set:bn})}}if(zu=!0,s)for(const ie in s){const ae=s[ie],Me=je(ae)?ae.bind(t,t):je(ae.get)?ae.get.bind(t,t):bn;Me===bn&&be(`Computed property "${ie}" has no getter.`);const Re=!je(ae)&&je(ae.set)?ae.set.bind(t):()=>{be(`Write operation failed: computed property "${ie}" is readonly.`)},Ne=no({get:Me,set:Re});Object.defineProperty(n,ie,{enumerable:!0,configurable:!0,get:()=>Ne.value,set:Qe=>Ne.value=Qe}),re("Computed",ie)}if(a)for(const ie in a)Cm(a[ie],n,t,ie);if(l){const ie=je(l)?l.call(t):l;Reflect.ownKeys(ie).forEach(ae=>{Fk(ae,ie[ae])})}h&&Sm(h,i,"c");function ne(ie,ae){Fe(ae)?ae.forEach(Me=>ie(Me.bind(t))):ae&&ie(ae.bind(t))}if(ne(ym,u),ne(Js,d),ne(yk,f),ne(vk,p),ne(mk,m),ne(xk,b),ne(Ck,I),ne(Sk,E),ne(kk,M),ne(oa,w),ne(vm,T),ne(wk,P),Fe(N))if(N.length){const ie=i.exposed||(i.exposed={});N.forEach(ae=>{Object.defineProperty(ie,ae,{get:()=>t[ae],set:Me=>t[ae]=Me})})}else i.exposed||(i.exposed={});S&&i.render===bn&&(i.render=S),D!=null&&(i.inheritAttrs=D),_&&(i.components=_),$&&(i.directives=$),P&&xm(i)}function Lk(i,e,t=bn){Fe(i)&&(i=Fu(i));for(const n in i){const r=i[n];let s;yt(r)?"default"in r?s=$l(r.from||n,r.default,!0):s=$l(r.from||n):s=$l(r),Wt(s)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[n]=s,t("Inject",n)}}function Sm(i,e,t){wi(Fe(i)?i.map(n=>n.bind(e.proxy)):i.bind(e.proxy),e,t)}function Cm(i,e,t,n){let r=n.includes(".")?Ym(t,n):()=>t[n];if(Nt(i)){const s=e[i];je(s)?_i(r,s):be(`Invalid watch handler specified by key "${i}"`,s)}else if(je(i))_i(r,i.bind(t));else if(yt(i))if(Fe(i))i.forEach(s=>Cm(s,e,t,n));else{const s=je(i.handler)?i.handler.bind(t):e[i.handler];je(s)?_i(r,s,i):be(`Invalid watch handler specified by key "${i.handler}"`,s)}else be(`Invalid watch option: "${n}"`,i)}function Am(i){const e=i.type,{mixins:t,extends:n}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=i.appContext,a=s.get(e);let l;return a?l=a:!r.length&&!t&&!n?l=e:(l={},r.length&&r.forEach(c=>Vl(l,c,o,!0)),Vl(l,e,o)),yt(e)&&s.set(e,l),l}function Vl(i,e,t,n=!1){const{mixins:r,extends:s}=e;s&&Vl(i,s,t,!0),r&&r.forEach(o=>Vl(i,o,t,!0));for(const o in e)if(n&&o==="expose")be('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const a=Rk[o]||t&&t[o];i[o]=a?a(i[o],e[o]):e[o]}return i}const Rk={data:Mm,props:Tm,emits:Tm,methods:aa,computed:aa,beforeCreate:Dn,created:Dn,beforeMount:Dn,mounted:Dn,beforeUpdate:Dn,updated:Dn,beforeDestroy:Dn,beforeUnmount:Dn,destroyed:Dn,unmounted:Dn,activated:Dn,deactivated:Dn,errorCaptured:Dn,serverPrefetch:Dn,components:aa,directives:aa,watch:_k,provide:Mm,inject:Dk};function Mm(i,e){return e?i?function(){return _t(je(i)?i.call(this,this):i,je(e)?e.call(this,this):e)}:e:i}function Dk(i,e){return aa(Fu(i),Fu(e))}function Fu(i){if(Fe(i)){const e={};for(let t=0;t<i.length;t++)e[i[t]]=i[t];return e}return i}function Dn(i,e){return i?[...new Set([].concat(i,e))]:e}function aa(i,e){return i?_t(Object.create(null),i,e):e}function Tm(i,e){return i?Fe(i)&&Fe(e)?[...new Set([...i,...e])]:_t(Object.create(null),jl(i),jl(e??{})):e}function _k(i,e){if(!i)return e;if(!e)return i;const t=_t(Object.create(null),i);for(const n in e)t[n]=Dn(i[n],e[n]);return t}function Em(){return{app:null,config:{isNativeTag:Uw,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Nk=0;function zk(i,e){return function(n,r=null){je(n)||(n=_t({},n)),r!=null&&!yt(r)&&(be("root props passed to app.mount() must be an object."),r=null);const s=Em(),o=new WeakSet,a=[];let l=!1;const c=s.app={_uid:Nk++,_component:n,_props:r,_container:null,_context:s,_instance:null,version:ax,get config(){return s.config},set config(h){be("app.config cannot be replaced. Modify individual options instead.")},use(h,...u){return o.has(h)?be("Plugin has already been applied to target app."):h&&je(h.install)?(o.add(h),h.install(c,...u)):je(h)?(o.add(h),h(c,...u)):be('A plugin must either be a function or an object with an "install" function.'),c},mixin(h){return s.mixins.includes(h)?be("Mixin has already been applied to target app"+(h.name?`: ${h.name}`:"")):s.mixins.push(h),c},component(h,u){return qu(h,s.config),u?(s.components[h]&&be(`Component "${h}" has already been registered in target app.`),s.components[h]=u,c):s.components[h]},directive(h,u){return lm(h),u?(s.directives[h]&&be(`Directive "${h}" has already been registered in target app.`),s.directives[h]=u,c):s.directives[h]},mount(h,u,d){if(l)be("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{h.__vue_app__&&be("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const f=c._ceVNode||Lt(n,r);return f.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),s.reload=()=>{i(Ni(f),h,d)},i(f,h,d),l=!0,c._container=h,h.__vue_app__=c,c._instance=f.component,ik(c,ax),ec(f.component)}},onUnmount(h){typeof h!="function"&&be(`Expected function as first argument to app.onUnmount(), but got ${typeof h}`),a.push(h)},unmount(){l?(wi(a,c._instance,16),i(null,c._container),c._instance=null,rk(c),delete c._container.__vue_app__):be("Cannot unmount an app that is not mounted.")},provide(h,u){return h in s.provides&&be(`App already provides property with key "${String(h)}". It will be overwritten with the new value.`),s.provides[h]=u,c},runWithContext(h){const u=Zs;Zs=c;try{return h()}finally{Zs=u}}};return c}}let Zs=null;function Fk(i,e){if(!Qt)be("provide() can only be used inside setup().");else{let t=Qt.provides;const n=Qt.parent&&Qt.parent.provides;n===t&&(t=Qt.provides=Object.create(n)),t[i]=e}}function $l(i,e,t=!1){const n=Qt||Rn;if(n||Zs){const r=Zs?Zs._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&i in r)return r[i];if(arguments.length>1)return t&&je(e)?e.call(n&&n.proxy):e;be(`injection "${String(i)}" not found.`)}else be("inject() can only be used inside setup() or functional components.")}const Om={},Im=()=>Object.create(Om),Pm=i=>Object.getPrototypeOf(i)===Om;function Bk(i,e,t,n=!1){const r={},s=Im();i.propsDefaults=Object.create(null),Lm(i,e,r,s);for(const o in i.propsOptions[0])o in r||(r[o]=void 0);_m(e||{},r,i),t?i.props=n?r:R1(r):i.type.props?i.props=r:i.props=s,i.attrs=s}function Hk(i){for(;i;){if(i.type.__hmrId)return!0;i=i.parent}}function Xk(i,e,t,n){const{props:r,attrs:s,vnode:{patchFlag:o}}=i,a=Ze(r),[l]=i.propsOptions;let c=!1;if(!Hk(i)&&(n||o>0)&&!(o&16)){if(o&8){const h=i.vnode.dynamicProps;for(let u=0;u<h.length;u++){let d=h[u];if(Ul(i.emitsOptions,d))continue;const f=e[d];if(l)if(gt(s,d))f!==s[d]&&(s[d]=f,c=!0);else{const p=ii(d);r[p]=Bu(l,a,p,f,i,!1)}else f!==s[d]&&(s[d]=f,c=!0)}}}else{Lm(i,e,r,s)&&(c=!0);let h;for(const u in a)(!e||!gt(e,u)&&((h=qi(u))===u||!gt(e,h)))&&(l?t&&(t[u]!==void 0||t[h]!==void 0)&&(r[u]=Bu(l,a,u,void 0,i,!0)):delete r[u]);if(s!==a)for(const u in s)(!e||!gt(e,u))&&(delete s[u],c=!0)}c&&Ii(i.attrs,"set",""),_m(e||{},r,i)}function Lm(i,e,t,n){const[r,s]=i.propsOptions;let o=!1,a;if(e)for(let l in e){if(Yo(l))continue;const c=e[l];let h;r&&gt(r,h=ii(l))?!s||!s.includes(h)?t[h]=c:(a||(a={}))[h]=c:Ul(i.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,o=!0)}if(s){const l=Ze(t),c=a||Je;for(let h=0;h<s.length;h++){const u=s[h];t[u]=Bu(r,l,u,c[u],i,!gt(c,u))}}return o}function Bu(i,e,t,n,r,s){const o=i[t];if(o!=null){const a=gt(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&je(l)){const{propsDefaults:c}=r;if(t in c)n=c[t];else{const h=ga(r);n=c[t]=l.call(null,e),h()}}else n=l;r.ce&&r.ce._setProp(t,n)}o[0]&&(s&&!a?n=!1:o[1]&&(n===""||n===qi(t))&&(n=!0))}return n}const Wk=new WeakMap;function Rm(i,e,t=!1){const n=t?Wk:e.propsCache,r=n.get(i);if(r)return r;const s=i.props,o={},a=[];let l=!1;if(!je(i)){const h=u=>{l=!0;const[d,f]=Rm(u,e,!0);_t(o,d),f&&a.push(...f)};!t&&e.mixins.length&&e.mixins.forEach(h),i.extends&&h(i.extends),i.mixins&&i.mixins.forEach(h)}if(!s&&!l)return yt(i)&&n.set(i,bi),bi;if(Fe(s))for(let h=0;h<s.length;h++){Nt(s[h])||be("props must be strings when using array syntax.",s[h]);const u=ii(s[h]);Dm(u)&&(o[u]=Je)}else if(s){yt(s)||be("invalid props options",s);for(const h in s){const u=ii(h);if(Dm(u)){const d=s[h],f=o[u]=Fe(d)||je(d)?{type:d}:_t({},d),p=f.type;let m=!1,b=!0;if(Fe(p))for(let y=0;y<p.length;++y){const w=p[y],C=je(w)&&w.name;if(C==="Boolean"){m=!0;break}else C==="String"&&(b=!1)}else m=je(p)&&p.name==="Boolean";f[0]=m,f[1]=b,(m||gt(f,"default"))&&a.push(u)}}}const c=[o,a];return yt(i)&&n.set(i,c),c}function Dm(i){return i[0]!=="$"&&!Yo(i)?!0:(be(`Invalid prop name: "${i}" is a reserved property.`),!1)}function Yk(i){return i===null?"null":typeof i=="function"?i.name||"":typeof i=="object"&&i.constructor&&i.constructor.name||""}function _m(i,e,t){const n=Ze(e),r=t.propsOptions[0],s=Object.keys(i).map(o=>ii(o));for(const o in r){let a=r[o];a!=null&&jk(o,n[o],a,Pi(n),!s.includes(o))}}function jk(i,e,t,n,r){const{type:s,required:o,validator:a,skipCheck:l}=t;if(o&&r){be('Missing required prop: "'+i+'"');return}if(!(e==null&&!o)){if(s!=null&&s!==!0&&!l){let c=!1;const h=Fe(s)?s:[s],u=[];for(let d=0;d<h.length&&!c;d++){const{valid:f,expectedType:p}=$k(e,h[d]);u.push(p||""),c=f}if(!c){be(Gk(i,e,u));return}}a&&!a(e,n)&&be('Invalid prop: custom validator check failed for prop "'+i+'".')}}const Vk=On("String,Number,Boolean,Function,Symbol,BigInt");function $k(i,e){let t;const n=Yk(e);if(n==="null")t=i===null;else if(Vk(n)){const r=typeof i;t=r===n.toLowerCase(),!t&&r==="object"&&(t=i instanceof e)}else n==="Object"?t=yt(i):n==="Array"?t=Fe(i):t=i instanceof e;return{valid:t,expectedType:n}}function Gk(i,e,t){if(t.length===0)return`Prop type [] for prop "${i}" won't match anything. Did you mean to use type Array instead?`;let n=`Invalid prop: type check failed for prop "${i}". Expected ${t.map(Sl).join(" | ")}`;const r=t[0],s=hu(e),o=Nm(e,r),a=Nm(e,s);return t.length===1&&zm(r)&&!qk(r,s)&&(n+=` with value ${o}`),n+=`, got ${s} `,zm(s)&&(n+=`with value ${a}.`),n}function Nm(i,e){return e==="String"?`"${i}"`:e==="Number"?`${Number(i)}`:`${i}`}function zm(i){return["string","number","boolean"].some(t=>i.toLowerCase()===t)}function qk(...i){return i.some(e=>e.toLowerCase()==="boolean")}const Fm=i=>i[0]==="_"||i==="$stable",Hu=i=>Fe(i)?i.map(ki):[ki(i)],Uk=(i,e,t)=>{if(e._n)return e;const n=am((...r)=>(Qt&&(!t||t.root===Qt.root)&&be(`Slot "${i}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),Hu(e(...r))),t);return n._c=!1,n},Bm=(i,e,t)=>{const n=i._ctx;for(const r in i){if(Fm(r))continue;const s=i[r];if(je(s))e[r]=Uk(r,s,n);else if(s!=null){be(`Non-function value encountered for slot "${r}". Prefer function slots for better performance.`);const o=Hu(s);e[r]=()=>o}}},Hm=(i,e)=>{sa(i.vnode)||be("Non-function value encountered for default slot. Prefer function slots for better performance.");const t=Hu(e);i.slots.default=()=>t},Xu=(i,e,t)=>{for(const n in e)(t||n!=="_")&&(i[n]=e[n])},Kk=(i,e,t)=>{const n=i.slots=Im();if(i.vnode.shapeFlag&32){const r=e._;r?(Xu(n,e,t),t&&Cl(n,"_",r,!0)):Bm(e,n)}else e&&Hm(i,e)},Jk=(i,e,t)=>{const{vnode:n,slots:r}=i;let s=!0,o=Je;if(n.shapeFlag&32){const a=e._;a?Ri?(Xu(r,e,t),Ii(i,"set","$slots")):t&&a===1?s=!1:Xu(r,e,t):(s=!e.$stable,Bm(e,r)),o=e}else e&&(Hm(i,e),o={default:1});if(s)for(const a in r)!Fm(a)&&o[a]==null&&delete r[a]};let la,vr;function Qs(i,e){i.appContext.config.performance&&Gl()&&vr.mark(`vue-${e}-${i.uid}`),lk(i,e,Gl()?vr.now():Date.now())}function eo(i,e){if(i.appContext.config.performance&&Gl()){const t=`vue-${e}-${i.uid}`,n=t+":end";vr.mark(n),vr.measure(`<${tc(i,i.type)}> ${e}`,t,n),vr.clearMarks(t),vr.clearMarks(n)}ck(i,e,Gl()?vr.now():Date.now())}function Gl(){return la!==void 0||(typeof window<"u"&&window.performance?(la=!0,vr=window.performance):la=!1),la}function Zk(){const i=[];if(i.length){const e=i.length>1;console.warn(`Feature flag${e?"s":""} ${i.join(", ")} ${e?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.
  
  For more details, see https://link.vuejs.org/feature-flags.`)}}const Gn=pS;function Qk(i){return eS(i)}function eS(i,e){Zk();const t=jo();t.__VUE__=!0,im(t.__VUE_DEVTOOLS_GLOBAL_HOOK__,t);const{insert:n,remove:r,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:h,parentNode:u,nextSibling:d,setScopeId:f=bn,insertStaticContent:p}=i,m=(R,B,te,de=null,le=null,ce=null,ke=void 0,ye=null,fe=Ri?!1:!!B.dynamicChildren)=>{if(R===B)return;R&&!cs(R,B)&&(de=at(R),st(R,le,ce,!0),R=null),B.patchFlag===-2&&(fe=!1,B.dynamicChildren=null);const{type:ue,ref:He,shapeFlag:Ae}=B;switch(ue){case ca:b(R,B,te,de);break;case Gt:y(R,B,te,de);break;case Jl:R==null?w(B,te,de,ke):C(R,B,te,ke);break;case qn:$(R,B,te,de,le,ce,ke,ye,fe);break;default:Ae&1?E(R,B,te,de,le,ce,ke,ye,fe):Ae&6?U(R,B,te,de,le,ce,ke,ye,fe):Ae&64||Ae&128?ue.process(R,B,te,de,le,ce,ke,ye,fe,Et):be("Invalid VNode type:",ue,`(${typeof ue})`)}He!=null&&le&&Wl(He,R&&R.ref,ce,B||R,!B)},b=(R,B,te,de)=>{if(R==null)n(B.el=a(B.children),te,de);else{const le=B.el=R.el;B.children!==R.children&&c(le,B.children)}},y=(R,B,te,de)=>{R==null?n(B.el=l(B.children||""),te,de):B.el=R.el},w=(R,B,te,de)=>{[R.el,R.anchor]=p(R.children,B,te,de,R.el,R.anchor)},C=(R,B,te,de)=>{if(B.children!==R.children){const le=d(R.anchor);S(R),[B.el,B.anchor]=p(B.children,te,le,de)}else B.el=R.el,B.anchor=R.anchor},T=({el:R,anchor:B},te,de)=>{let le;for(;R&&R!==B;)le=d(R),n(R,te,de),R=le;n(B,te,de)},S=({el:R,anchor:B})=>{let te;for(;R&&R!==B;)te=d(R),r(R),R=te;r(B)},E=(R,B,te,de,le,ce,ke,ye,fe)=>{B.type==="svg"?ke="svg":B.type==="math"&&(ke="mathml"),R==null?M(B,te,de,le,ce,ke,ye,fe):N(R,B,le,ce,ke,ye,fe)},M=(R,B,te,de,le,ce,ke,ye)=>{let fe,ue;const{props:He,shapeFlag:Ae,transition:ze,dirs:We}=R;if(fe=R.el=o(R.type,ce,He&&He.is,He),Ae&8?h(fe,R.children):Ae&16&&P(R.children,fe,null,de,le,Wu(R,ce),ke,ye),We&&ss(R,null,de,"created"),I(fe,R,R.scopeId,ke,de),He){for(const bt in He)bt!=="value"&&!Yo(bt)&&s(fe,bt,null,He[bt],ce,de);"value"in He&&s(fe,"value",null,He.value,ce),(ue=He.onVnodeBeforeMount)&&zi(ue,de,R)}Cl(fe,"__vnode",R,!0),Cl(fe,"__vueParentComponent",de,!0),We&&ss(R,null,de,"beforeMount");const et=tS(le,ze);et&&ze.beforeEnter(fe),n(fe,B,te),((ue=He&&He.onVnodeMounted)||et||We)&&Gn(()=>{ue&&zi(ue,de,R),et&&ze.enter(fe),We&&ss(R,null,de,"mounted")},le)},I=(R,B,te,de,le)=>{if(te&&f(R,te),de)for(let ce=0;ce<de.length;ce++)f(R,de[ce]);if(le){let ce=le.subTree;if(ce.patchFlag>0&&ce.patchFlag&2048&&(ce=Vu(ce.children)||ce),B===ce||Km(ce.type)&&(ce.ssContent===B||ce.ssFallback===B)){const ke=le.vnode;I(R,ke,ke.scopeId,ke.slotScopeIds,le.parent)}}},P=(R,B,te,de,le,ce,ke,ye,fe=0)=>{for(let ue=fe;ue<R.length;ue++){const He=R[ue]=ye?wr(R[ue]):ki(R[ue]);m(null,He,B,te,de,le,ce,ke,ye)}},N=(R,B,te,de,le,ce,ke)=>{const ye=B.el=R.el;ye.__vnode=B;let{patchFlag:fe,dynamicChildren:ue,dirs:He}=B;fe|=R.patchFlag&16;const Ae=R.props||Je,ze=B.props||Je;let We;if(te&&ls(te,!1),(We=ze.onVnodeBeforeUpdate)&&zi(We,te,B,R),He&&ss(B,R,te,"beforeUpdate"),te&&ls(te,!0),Ri&&(fe=0,ke=!1,ue=null),(Ae.innerHTML&&ze.innerHTML==null||Ae.textContent&&ze.textContent==null)&&h(ye,""),ue?(D(R.dynamicChildren,ue,ye,te,de,Wu(B,le),ce),Yu(R,B)):ke||Me(R,B,ye,null,te,de,Wu(B,le),ce,!1),fe>0){if(fe&16)_(ye,Ae,ze,te,le);else if(fe&2&&Ae.class!==ze.class&&s(ye,"class",null,ze.class,le),fe&4&&s(ye,"style",Ae.style,ze.style,le),fe&8){const et=B.dynamicProps;for(let bt=0;bt<et.length;bt++){const ut=et[bt],xn=Ae[ut],Jt=ze[ut];(Jt!==xn||ut==="value")&&s(ye,ut,xn,Jt,le,te)}}fe&1&&R.children!==B.children&&h(ye,B.children)}else!ke&&ue==null&&_(ye,Ae,ze,te,le);((We=ze.onVnodeUpdated)||He)&&Gn(()=>{We&&zi(We,te,B,R),He&&ss(B,R,te,"updated")},de)},D=(R,B,te,de,le,ce,ke)=>{for(let ye=0;ye<B.length;ye++){const fe=R[ye],ue=B[ye],He=fe.el&&(fe.type===qn||!cs(fe,ue)||fe.shapeFlag&70)?u(fe.el):te;m(fe,ue,He,null,de,le,ce,ke,!0)}},_=(R,B,te,de,le)=>{if(B!==te){if(B!==Je)for(const ce in B)!Yo(ce)&&!(ce in te)&&s(R,ce,B[ce],null,le,de);for(const ce in te){if(Yo(ce))continue;const ke=te[ce],ye=B[ce];ke!==ye&&ce!=="value"&&s(R,ce,ye,ke,le,de)}"value"in te&&s(R,"value",B.value,te.value,le)}},$=(R,B,te,de,le,ce,ke,ye,fe)=>{const ue=B.el=R?R.el:a(""),He=B.anchor=R?R.anchor:a("");let{patchFlag:Ae,dynamicChildren:ze,slotScopeIds:We}=B;(Ri||Ae&2048)&&(Ae=0,fe=!1,ze=null),We&&(ye=ye?ye.concat(We):We),R==null?(n(ue,te,de),n(He,te,de),P(B.children||[],te,He,le,ce,ke,ye,fe)):Ae>0&&Ae&64&&ze&&R.dynamicChildren?(D(R.dynamicChildren,ze,te,le,ce,ke,ye),Yu(R,B)):Me(R,B,te,He,le,ce,ke,ye,fe)},U=(R,B,te,de,le,ce,ke,ye,fe)=>{B.slotScopeIds=ye,R==null?B.shapeFlag&512?le.ctx.activate(B,te,de,ke,fe):re(B,te,de,le,ce,ke,fe):ne(R,B,fe)},re=(R,B,te,de,le,ce,ke)=>{const ye=R.component=kS(R,de,le);if(ye.type.__hmrId&&Q1(ye),Dl(R),Qs(ye,"mount"),sa(R)&&(ye.ctx.renderer=Et),Qs(ye,"init"),CS(ye,!1,ke),eo(ye,"init"),ye.asyncDep){if(Ri&&(R.el=null),le&&le.registerDep(ye,ie,ke),!R.el){const fe=ye.subTree=Lt(Gt);y(null,fe,B,te)}}else ie(ye,R,B,te,le,ce,ke);_l(),eo(ye,"mount")},ne=(R,B,te)=>{const de=B.component=R.component;if(dS(R,B,te))if(de.asyncDep&&!de.asyncResolved){Dl(B),ae(de,B,te),_l();return}else de.next=B,de.update();else B.el=R.el,de.vnode=B},ie=(R,B,te,de,le,ce,ke)=>{const ye=()=>{if(R.isMounted){let{next:Ae,bu:ze,u:We,parent:et,vnode:bt}=R;{const Hn=Xm(R);if(Hn){Ae&&(Ae.el=bt.el,ae(R,Ae,ke)),Hn.asyncDep.then(()=>{R.isUnmounted||ye()});return}}let ut=Ae,xn;Dl(Ae||R.vnode),ls(R,!1),Ae?(Ae.el=bt.el,ae(R,Ae,ke)):Ae=bt,ze&&Vs(ze),(xn=Ae.props&&Ae.props.onVnodeBeforeUpdate)&&zi(xn,et,Ae,bt),ls(R,!0),Qs(R,"render");const Jt=$m(R);eo(R,"render");const on=R.subTree;R.subTree=Jt,Qs(R,"patch"),m(on,Jt,u(on.el),at(on),R,le,ce),eo(R,"patch"),Ae.el=Jt.el,ut===null&&fS(R,Jt.el),We&&Gn(We,le),(xn=Ae.props&&Ae.props.onVnodeUpdated)&&Gn(()=>zi(xn,et,Ae,bt),le),rm(R),_l()}else{let Ae;const{el:ze,props:We}=B,{bm:et,m:bt,parent:ut,root:xn,type:Jt}=R,on=ra(B);ls(R,!1),et&&Vs(et),!on&&(Ae=We&&We.onVnodeBeforeMount)&&zi(Ae,ut,B),ls(R,!0);{xn.ce&&xn.ce._injectChildStyle(Jt),Qs(R,"render");const Hn=R.subTree=$m(R);eo(R,"render"),Qs(R,"patch"),m(null,Hn,te,de,R,le,ce),eo(R,"patch"),B.el=Hn.el}if(bt&&Gn(bt,le),!on&&(Ae=We&&We.onVnodeMounted)){const Hn=B;Gn(()=>zi(Ae,ut,Hn),le)}(B.shapeFlag&256||ut&&ra(ut.vnode)&&ut.vnode.shapeFlag&256)&&R.a&&Gn(R.a,le),R.isMounted=!0,sk(R),B=te=de=null}};R.scope.on();const fe=R.effect=new Ag(ye);R.scope.off();const ue=R.update=fe.run.bind(fe),He=R.job=fe.runIfDirty.bind(fe);He.i=R,He.id=R.uid,fe.scheduler=()=>zl(He),ls(R,!0),fe.onTrack=R.rtc?Ae=>Vs(R.rtc,Ae):void 0,fe.onTrigger=R.rtg?Ae=>Vs(R.rtg,Ae):void 0,ue()},ae=(R,B,te)=>{B.component=R;const de=R.vnode.props;R.vnode=B,R.next=null,Xk(R,B.props,de,te),Jk(R,B.children,te),Ui(),Zg(R),Ki()},Me=(R,B,te,de,le,ce,ke,ye,fe=!1)=>{const ue=R&&R.children,He=R?R.shapeFlag:0,Ae=B.children,{patchFlag:ze,shapeFlag:We}=B;if(ze>0){if(ze&128){Ne(ue,Ae,te,de,le,ce,ke,ye,fe);return}else if(ze&256){Re(ue,Ae,te,de,le,ce,ke,ye,fe);return}}We&8?(He&16&&$e(ue,le,ce),Ae!==ue&&h(te,Ae)):He&16?We&16?Ne(ue,Ae,te,de,le,ce,ke,ye,fe):$e(ue,le,ce,!0):(He&8&&h(te,""),We&16&&P(Ae,te,de,le,ce,ke,ye,fe))},Re=(R,B,te,de,le,ce,ke,ye,fe)=>{R=R||bi,B=B||bi;const ue=R.length,He=B.length,Ae=Math.min(ue,He);let ze;for(ze=0;ze<Ae;ze++){const We=B[ze]=fe?wr(B[ze]):ki(B[ze]);m(R[ze],We,te,null,le,ce,ke,ye,fe)}ue>He?$e(R,le,ce,!0,!1,Ae):P(B,te,de,le,ce,ke,ye,fe,Ae)},Ne=(R,B,te,de,le,ce,ke,ye,fe)=>{let ue=0;const He=B.length;let Ae=R.length-1,ze=He-1;for(;ue<=Ae&&ue<=ze;){const We=R[ue],et=B[ue]=fe?wr(B[ue]):ki(B[ue]);if(cs(We,et))m(We,et,te,null,le,ce,ke,ye,fe);else break;ue++}for(;ue<=Ae&&ue<=ze;){const We=R[Ae],et=B[ze]=fe?wr(B[ze]):ki(B[ze]);if(cs(We,et))m(We,et,te,null,le,ce,ke,ye,fe);else break;Ae--,ze--}if(ue>Ae){if(ue<=ze){const We=ze+1,et=We<He?B[We].el:de;for(;ue<=ze;)m(null,B[ue]=fe?wr(B[ue]):ki(B[ue]),te,et,le,ce,ke,ye,fe),ue++}}else if(ue>ze)for(;ue<=Ae;)st(R[ue],le,ce,!0),ue++;else{const We=ue,et=ue,bt=new Map;for(ue=et;ue<=ze;ue++){const Ie=B[ue]=fe?wr(B[ue]):ki(B[ue]);Ie.key!=null&&(bt.has(Ie.key)&&be("Duplicate keys found during update:",JSON.stringify(Ie.key),"Make sure keys are unique."),bt.set(Ie.key,ue))}let ut,xn=0;const Jt=ze-et+1;let on=!1,Hn=0;const pr=new Array(Jt);for(ue=0;ue<Jt;ue++)pr[ue]=0;for(ue=We;ue<=Ae;ue++){const Ie=R[ue];if(xn>=Jt){st(Ie,le,ce,!0);continue}let An;if(Ie.key!=null)An=bt.get(Ie.key);else for(ut=et;ut<=ze;ut++)if(pr[ut-et]===0&&cs(Ie,B[ut])){An=ut;break}An===void 0?st(Ie,le,ce,!0):(pr[An-et]=ue+1,An>=Hn?Hn=An:on=!0,m(Ie,B[An],te,null,le,ce,ke,ye,fe),xn++)}const Oi=on?nS(pr):bi;for(ut=Oi.length-1,ue=Jt-1;ue>=0;ue--){const Ie=et+ue,An=B[Ie],Vi=Ie+1<He?B[Ie+1].el:de;pr[ue]===0?m(null,An,te,Vi,le,ce,ke,ye,fe):on&&(ut<0||ue!==Oi[ut]?Qe(An,te,Vi,2):ut--)}}},Qe=(R,B,te,de,le=null)=>{const{el:ce,type:ke,transition:ye,children:fe,shapeFlag:ue}=R;if(ue&6){Qe(R.component.subTree,B,te,de);return}if(ue&128){R.suspense.move(B,te,de);return}if(ue&64){ke.move(R,B,te,Et);return}if(ke===qn){n(ce,B,te);for(let Ae=0;Ae<fe.length;Ae++)Qe(fe[Ae],B,te,de);n(R.anchor,B,te);return}if(ke===Jl){T(R,B,te);return}if(de!==2&&ue&1&&ye)if(de===0)ye.beforeEnter(ce),n(ce,B,te),Gn(()=>ye.enter(ce),le);else{const{leave:Ae,delayLeave:ze,afterLeave:We}=ye,et=()=>n(ce,B,te),bt=()=>{Ae(ce,()=>{et(),We&&We()})};ze?ze(ce,et,bt):bt()}else n(ce,B,te)},st=(R,B,te,de=!1,le=!1)=>{const{type:ce,props:ke,ref:ye,children:fe,dynamicChildren:ue,shapeFlag:He,patchFlag:Ae,dirs:ze,cacheIndex:We}=R;if(Ae===-2&&(le=!1),ye!=null&&Wl(ye,null,te,R,!0),We!=null&&(B.renderCache[We]=void 0),He&256){B.ctx.deactivate(R);return}const et=He&1&&ze,bt=!ra(R);let ut;if(bt&&(ut=ke&&ke.onVnodeBeforeUnmount)&&zi(ut,B,R),He&6)Ue(R.component,te,de);else{if(He&128){R.suspense.unmount(te,de);return}et&&ss(R,null,B,"beforeUnmount"),He&64?R.type.remove(R,B,te,Et,de):ue&&!ue.hasOnce&&(ce!==qn||Ae>0&&Ae&64)?$e(ue,B,te,!1,!0):(ce===qn&&Ae&384||!le&&He&16)&&$e(fe,B,te),de&&Ge(R)}(bt&&(ut=ke&&ke.onVnodeUnmounted)||et)&&Gn(()=>{ut&&zi(ut,B,R),et&&ss(R,null,B,"unmounted")},te)},Ge=R=>{const{type:B,el:te,anchor:de,transition:le}=R;if(B===qn){R.patchFlag>0&&R.patchFlag&2048&&le&&!le.persisted?R.children.forEach(ke=>{ke.type===Gt?r(ke.el):Ge(ke)}):Mt(te,de);return}if(B===Jl){S(R);return}const ce=()=>{r(te),le&&!le.persisted&&le.afterLeave&&le.afterLeave()};if(R.shapeFlag&1&&le&&!le.persisted){const{leave:ke,delayLeave:ye}=le,fe=()=>ke(te,ce);ye?ye(R.el,ce,fe):fe()}else ce()},Mt=(R,B)=>{let te;for(;R!==B;)te=d(R),r(R),R=te;r(B)},Ue=(R,B,te)=>{R.type.__hmrId&&ek(R);const{bum:de,scope:le,job:ce,subTree:ke,um:ye,m:fe,a:ue}=R;Wm(fe),Wm(ue),de&&Vs(de),le.stop(),ce&&(ce.flags|=8,st(ke,R,B,te)),ye&&Gn(ye,B),Gn(()=>{R.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve()),ak(R)},$e=(R,B,te,de=!1,le=!1,ce=0)=>{for(let ke=ce;ke<R.length;ke++)st(R[ke],B,te,de,le)},at=R=>{if(R.shapeFlag&6)return at(R.component.subTree);if(R.shapeFlag&128)return R.suspense.next();const B=d(R.anchor||R.el),te=B&&B[uk];return te?d(te):B};let Ce=!1;const Tt=(R,B,te)=>{R==null?B._vnode&&st(B._vnode,null,null,!0):m(B._vnode||null,R,B,null,null,null,te),B._vnode=R,Ce||(Ce=!0,Zg(),Qg(),Ce=!1)},Et={p:m,um:st,m:Qe,r:Ge,mt:re,mc:P,pc:Me,pbc:D,n:at,o:i};return{render:Tt,hydrate:void 0,createApp:zk(Tt)}}function Wu({type:i,props:e},t){return t==="svg"&&i==="foreignObject"||t==="mathml"&&i==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function ls({effect:i,job:e},t){t?(i.flags|=32,e.flags|=4):(i.flags&=-33,e.flags&=-5)}function tS(i,e){return(!i||i&&!i.pendingBranch)&&e&&!e.persisted}function Yu(i,e,t=!1){const n=i.children,r=e.children;if(Fe(n)&&Fe(r))for(let s=0;s<n.length;s++){const o=n[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=wr(r[s]),a.el=o.el),!t&&a.patchFlag!==-2&&Yu(o,a)),a.type===ca&&(a.el=o.el),a.type===Gt&&!a.el&&(a.el=o.el)}}function nS(i){const e=i.slice(),t=[0];let n,r,s,o,a;const l=i.length;for(n=0;n<l;n++){const c=i[n];if(c!==0){if(r=t[t.length-1],i[r]<c){e[n]=r,t.push(n);continue}for(s=0,o=t.length-1;s<o;)a=s+o>>1,i[t[a]]<c?s=a+1:o=a;c<i[t[s]]&&(s>0&&(e[n]=t[s-1]),t[s]=n)}}for(s=t.length,o=t[s-1];s-- >0;)t[s]=o,o=e[o];return t}function Xm(i){const e=i.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Xm(e)}function Wm(i){if(i)for(let e=0;e<i.length;e++)i[e].flags|=8}const iS=Symbol.for("v-scx"),rS=()=>{{const i=$l(iS);return i||be("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),i}};function sS(i,e){return ql(i,null,e)}function oS(i,e){return ql(i,null,_t({},e,{flush:"sync"}))}function _i(i,e,t){return je(e)||be("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),ql(i,e,t)}function ql(i,e,t=Je){const{immediate:n,deep:r,flush:s,once:o}=t;e||(n!==void 0&&be('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),r!==void 0&&be('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'),o!==void 0&&be('watch() "once" option is only respected when using the watch(source, callback, options?) signature.'));const a=_t({},t);a.onWarn=be;const l=e&&n||!e&&s!=="post";let c;if(ma){if(s==="sync"){const f=rS();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=bn,f.resume=bn,f.pause=bn,f}}const h=Qt;a.call=(f,p,m)=>wi(f,h,p,m);let u=!1;s==="post"?a.scheduler=f=>{Gn(f,h&&h.suspense)}:s!=="sync"&&(u=!0,a.scheduler=(f,p)=>{p?f():zl(f)}),a.augmentJob=f=>{e&&(f.flags|=4),u&&(f.flags|=2,h&&(f.id=h.uid,f.i=h))};const d=j1(i,e,a);return ma&&(c?c.push(d):l&&d()),d}function aS(i,e,t){const n=this.proxy,r=Nt(i)?i.includes(".")?Ym(n,i):()=>n[i]:i.bind(n,n);let s;je(e)?s=e:(s=e.handler,t=e);const o=ga(this),a=ql(r,s.bind(n),t);return o(),a}function Ym(i,e){const t=e.split(".");return()=>{let n=i;for(let r=0;r<t.length&&n;r++)n=n[t[r]];return n}}function lS(i,e,t=Je){const n=pa();if(!n)return be("useModel() called without active instance."),Yt();const r=ii(e);if(!n.propsOptions[0][r])return be(`useModel() called with prop "${e}" which is not declared.`),Yt();const s=qi(e),o=jm(i,r),a=Gg((l,c)=>{let h,u=Je,d;return oS(()=>{const f=i[r];Wn(h,f)&&(h=f,c())}),{get(){return l(),t.get?t.get(h):h},set(f){const p=t.set?t.set(f):f;if(!Wn(p,h)&&!(u!==Je&&Wn(f,u)))return;const m=n.vnode.props;m&&(e in m||r in m||s in m)&&(`onUpdate:${e}`in m||`onUpdate:${r}`in m||`onUpdate:${s}`in m)||(h=f,c()),n.emit(`update:${e}`,p),Wn(f,p)&&Wn(f,u)&&!Wn(p,d)&&c(),u=f,d=p}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||Je:a,done:!1}:{done:!0}}}},a}const jm=(i,e)=>e==="modelValue"||e==="model-value"?i.modelModifiers:i[`${e}Modifiers`]||i[`${ii(e)}Modifiers`]||i[`${qi(e)}Modifiers`];function cS(i,e,...t){if(i.isUnmounted)return;const n=i.vnode.props||Je;{const{emitsOptions:h,propsOptions:[u]}=i;if(h)if(!(e in h))(!u||!(Qr(ii(e))in u))&&be(`Component emitted event "${e}" but it is neither declared in the emits option nor as an "${Qr(ii(e))}" prop.`);else{const d=h[e];je(d)&&(d(...t)||be(`Invalid event arguments: event validation failed for event "${e}".`))}}let r=t;const s=e.startsWith("update:"),o=s&&jm(n,e.slice(7));o&&(o.trim&&(r=t.map(h=>Nt(h)?h.trim():h)),o.number&&(r=t.map(du))),hk(i,e,r);{const h=e.toLowerCase();h!==e&&n[Qr(h)]&&be(`Event "${h}" is emitted in component ${tc(i,i.type)} but the handler is registered for "${e}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${qi(e)}" instead of "${e}".`)}let a,l=n[a=Qr(e)]||n[a=Qr(ii(e))];!l&&s&&(l=n[a=Qr(qi(e))]),l&&wi(l,i,6,r);const c=n[a+"Once"];if(c){if(!i.emitted)i.emitted={};else if(i.emitted[a])return;i.emitted[a]=!0,wi(c,i,6,r)}}function Vm(i,e,t=!1){const n=e.emitsCache,r=n.get(i);if(r!==void 0)return r;const s=i.emits;let o={},a=!1;if(!je(i)){const l=c=>{const h=Vm(c,e,!0);h&&(a=!0,_t(o,h))};!t&&e.mixins.length&&e.mixins.forEach(l),i.extends&&l(i.extends),i.mixins&&i.mixins.forEach(l)}return!s&&!a?(yt(i)&&n.set(i,null),null):(Fe(s)?s.forEach(l=>o[l]=null):_t(o,s),yt(i)&&n.set(i,o),o)}function Ul(i,e){return!i||!Wo(e)?!1:(e=e.slice(2).replace(/Once$/,""),gt(i,e[0].toLowerCase()+e.slice(1))||gt(i,qi(e))||gt(i,e))}let ju=!1;function Kl(){ju=!0}function $m(i){const{type:e,vnode:t,proxy:n,withProxy:r,propsOptions:[s],slots:o,attrs:a,emit:l,render:c,renderCache:h,props:u,data:d,setupState:f,ctx:p,inheritAttrs:m}=i,b=Hl(i);let y,w;ju=!1;try{if(t.shapeFlag&4){const S=r||n,E=f.__isScriptSetup?new Proxy(S,{get(M,I,P){return be(`Property '${String(I)}' was accessed via 'this'. Avoid using 'this' in templates.`),Reflect.get(M,I,P)}}):S;y=ki(c.call(E,S,h,Pi(u),f,d,p)),w=a}else{const S=e;a===u&&Kl(),y=ki(S.length>1?S(Pi(u),{get attrs(){return Kl(),Pi(a)},slots:o,emit:l}):S(Pi(u),null)),w=e.props?a:hS(a)}}catch(S){ha.length=0,Zo(S,i,1),y=Lt(Gt)}let C=y,T;if(y.patchFlag>0&&y.patchFlag&2048&&([C,T]=Gm(y)),w&&m!==!1){const S=Object.keys(w),{shapeFlag:E}=C;if(S.length){if(E&7)s&&S.some(vl)&&(w=uS(w,s)),C=Ni(C,w,!1,!0);else if(!ju&&C.type!==Gt){const M=Object.keys(a),I=[],P=[];for(let N=0,D=M.length;N<D;N++){const _=M[N];Wo(_)?vl(_)||I.push(_[2].toLowerCase()+_.slice(3)):P.push(_)}P.length&&be(`Extraneous non-props attributes (${P.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text or teleport root nodes.`),I.length&&be(`Extraneous non-emits event listeners (${I.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return t.dirs&&(qm(C)||be("Runtime directive used on component with non-element root node. The directives will not function as intended."),C=Ni(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(t.dirs):t.dirs),t.transition&&(qm(C)||be("Component inside <Transition> renders non-element root node that cannot be animated."),na(C,t.transition)),T?T(C):y=C,Hl(b),y}const Gm=i=>{const e=i.children,t=i.dynamicChildren,n=Vu(e,!1);if(n){if(n.patchFlag>0&&n.patchFlag&2048)return Gm(n)}else return[i,void 0];const r=e.indexOf(n),s=t?t.indexOf(n):-1,o=a=>{e[r]=a,t&&(s>-1?t[s]=a:a.patchFlag>0&&(i.dynamicChildren=[...t,a]))};return[ki(n),o]};function Vu(i,e=!0){let t;for(let n=0;n<i.length;n++){const r=i[n];if(to(r)){if(r.type!==Gt||r.children==="v-if"){if(t)return;if(t=r,e&&t.patchFlag>0&&t.patchFlag&2048)return Vu(t.children)}}else return}return t}const hS=i=>{let e;for(const t in i)(t==="class"||t==="style"||Wo(t))&&((e||(e={}))[t]=i[t]);return e},uS=(i,e)=>{const t={};for(const n in i)(!vl(n)||!(n.slice(9)in e))&&(t[n]=i[n]);return t},qm=i=>i.shapeFlag&7||i.type===Gt;function dS(i,e,t){const{props:n,children:r,component:s}=i,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if((r||a)&&Ri||e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return n?Um(n,o,c):!!o;if(l&8){const h=e.dynamicProps;for(let u=0;u<h.length;u++){const d=h[u];if(o[d]!==n[d]&&!Ul(c,d))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?Um(n,o,c):!0:!!o;return!1}function Um(i,e,t){const n=Object.keys(e);if(n.length!==Object.keys(i).length)return!0;for(let r=0;r<n.length;r++){const s=n[r];if(e[s]!==i[s]&&!Ul(t,s))return!0}return!1}function fS({vnode:i,parent:e},t){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===i&&(n.el=i.el),n===i)(i=e.vnode).el=t,e=e.parent;else break}}const Km=i=>i.__isSuspense;function pS(i,e){e&&e.pendingBranch?Fe(i)?e.effects.push(...i):e.effects.push(i):Jg(i)}const qn=Symbol.for("v-fgt"),ca=Symbol.for("v-txt"),Gt=Symbol.for("v-cmt"),Jl=Symbol.for("v-stc"),ha=[];let Un=null;function Ot(i=!1){ha.push(Un=i?null:[])}function gS(){ha.pop(),Un=ha[ha.length-1]||null}let ua=1;function Jm(i,e=!1){ua+=i,i<0&&Un&&e&&(Un.hasOnce=!0)}function Zm(i){return i.dynamicChildren=ua>0?Un||bi:null,gS(),ua>0&&Un&&Un.push(i),i}function jt(i,e,t,n,r,s){return Zm(It(i,e,t,n,r,s,!0))}function da(i,e,t,n,r){return Zm(Lt(i,e,t,n,r,!0))}function to(i){return i?i.__v_isVNode===!0:!1}function cs(i,e){if(e.shapeFlag&6&&i.component){const t=Fl.get(e.type);if(t&&t.has(i.component))return i.shapeFlag&=-257,e.shapeFlag&=-513,!1}return i.type===e.type&&i.key===e.key}const mS=(...i)=>xS(...i),Qm=({key:i})=>i??null,Zl=({ref:i,ref_key:e,ref_for:t})=>(typeof i=="number"&&(i=""+i),i!=null?Nt(i)||Wt(i)||je(i)?{i:Rn,r:i,k:e,f:!!t}:i:null);function It(i,e=null,t=null,n=0,r=null,s=i===qn?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:i,props:e,key:e&&Qm(e),ref:e&&Zl(e),scopeId:om,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Rn};return a?($u(l,t),s&128&&i.normalize(l)):t&&(l.shapeFlag|=Nt(t)?8:16),l.key!==l.key&&be("VNode created with invalid key (NaN). VNode type:",l.type),ua>0&&!o&&Un&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&Un.push(l),l}const Lt=mS;function xS(i,e=null,t=null,n=0,r=null,s=!1){if((!i||i===Ak)&&(i||be(`Invalid vnode type when creating vnode: ${i}.`),i=Gt),to(i)){const a=Ni(i,e,!0);return t&&$u(a,t),ua>0&&!s&&Un&&(a.shapeFlag&6?Un[Un.indexOf(i)]=a:Un.push(a)),a.patchFlag=-2,a}if(ox(i)&&(i=i.__vccOpts),e){e=bS(e);let{class:a,style:l}=e;a&&!Nt(a)&&(e.class=In(a)),yt(l)&&(Jo(l)&&!Fe(l)&&(l=_t({},l)),e.style=fu(l))}const o=Nt(i)?1:Km(i)?128:hm(i)?64:yt(i)?4:je(i)?2:0;return o&4&&Jo(i)&&(i=Ze(i),be("Vue received a Component that was made a reactive object. This can lead to unnecessary performance overhead and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
  Component that was made reactive: `,i)),It(i,e,t,n,r,o,s,!0)}function bS(i){return i?Jo(i)||Pm(i)?_t({},i):i:null}function Ni(i,e,t=!1,n=!1){const{props:r,ref:s,patchFlag:o,children:a,transition:l}=i,c=e?yS(r||{},e):r,h={__v_isVNode:!0,__v_skip:!0,type:i.type,props:c,key:c&&Qm(c),ref:e&&e.ref?t&&s?Fe(s)?s.concat(Zl(e)):[s,Zl(e)]:Zl(e):s,scopeId:i.scopeId,slotScopeIds:i.slotScopeIds,children:o===-1&&Fe(a)?a.map(ex):a,target:i.target,targetStart:i.targetStart,targetAnchor:i.targetAnchor,staticCount:i.staticCount,shapeFlag:i.shapeFlag,patchFlag:e&&i.type!==qn?o===-1?16:o|16:o,dynamicProps:i.dynamicProps,dynamicChildren:i.dynamicChildren,appContext:i.appContext,dirs:i.dirs,transition:l,component:i.component,suspense:i.suspense,ssContent:i.ssContent&&Ni(i.ssContent),ssFallback:i.ssFallback&&Ni(i.ssFallback),el:i.el,anchor:i.anchor,ctx:i.ctx,ce:i.ce};return l&&n&&na(h,l.clone(h)),h}function ex(i){const e=Ni(i);return Fe(i.children)&&(e.children=i.children.map(ex)),e}function fa(i=" ",e=0){return Lt(ca,null,i,e)}function cn(i="",e=!1){return e?(Ot(),da(Gt,null,i)):Lt(Gt,null,i)}function ki(i){return i==null||typeof i=="boolean"?Lt(Gt):Fe(i)?Lt(qn,null,i.slice()):to(i)?wr(i):Lt(ca,null,String(i))}function wr(i){return i.el===null&&i.patchFlag!==-1||i.memo?i:Ni(i)}function $u(i,e){let t=0;const{shapeFlag:n}=i;if(e==null)e=null;else if(Fe(e))t=16;else if(typeof e=="object")if(n&65){const r=e.default;r&&(r._c&&(r._d=!1),$u(i,r()),r._c&&(r._d=!0));return}else{t=32;const r=e._;!r&&!Pm(e)?e._ctx=Rn:r===3&&Rn&&(Rn.slots._===1?e._=1:(e._=2,i.patchFlag|=1024))}else je(e)?(e={default:e,_ctx:Rn},t=32):(e=String(e),n&64?(t=16,e=[fa(e)]):t=8);i.children=e,i.shapeFlag|=t}function yS(...i){const e={};for(let t=0;t<i.length;t++){const n=i[t];for(const r in n)if(r==="class")e.class!==n.class&&(e.class=In([e.class,n.class]));else if(r==="style")e.style=fu([e.style,n.style]);else if(Wo(r)){const s=e[r],o=n[r];o&&s!==o&&!(Fe(s)&&s.includes(o))&&(e[r]=s?[].concat(s,o):o)}else r!==""&&(e[r]=n[r])}return e}function zi(i,e,t,n=null){wi(i,e,7,[t,n])}const vS=Em();let wS=0;function kS(i,e,t){const n=i.type,r=(e?e.appContext:i.appContext)||vS,s={uid:wS++,vnode:i,type:n,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new d1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Rm(n,r),emitsOptions:Vm(n,r),emit:null,emitted:null,propsDefaults:Je,inheritAttrs:n.inheritAttrs,ctx:Je,data:Je,props:Je,attrs:Je,slots:Je,refs:Je,setupState:Je,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx=Mk(s),s.root=e?e.root:s,s.emit=cS.bind(null,s),i.ce&&i.ce(s),s}let Qt=null;const pa=()=>Qt||Rn;let Ql,Gu;{const i=jo(),e=(t,n)=>{let r;return(r=i[t])||(r=i[t]=[]),r.push(n),s=>{r.length>1?r.forEach(o=>o(s)):r[0](s)}};Ql=e("__VUE_INSTANCE_SETTERS__",t=>Qt=t),Gu=e("__VUE_SSR_SETTERS__",t=>ma=t)}const ga=i=>{const e=Qt;return Ql(i),i.scope.on(),()=>{i.scope.off(),Ql(e)}},tx=()=>{Qt&&Qt.scope.off(),Ql(null)},SS=On("slot,component");function qu(i,{isNativeTag:e}){(SS(i)||e(i))&&be("Do not use built-in or reserved HTML elements as component id: "+i)}function nx(i){return i.vnode.shapeFlag&4}let ma=!1;function CS(i,e=!1,t=!1){e&&Gu(e);const{props:n,children:r}=i.vnode,s=nx(i);Bk(i,n,s,e),Kk(i,r,t);const o=s?AS(i,e):void 0;return e&&Gu(!1),o}function AS(i,e){var t;const n=i.type;{if(n.name&&qu(n.name,i.appContext.config),n.components){const s=Object.keys(n.components);for(let o=0;o<s.length;o++)qu(s[o],i.appContext.config)}if(n.directives){const s=Object.keys(n.directives);for(let o=0;o<s.length;o++)lm(s[o])}n.compilerOptions&&MS()&&be('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}i.accessCache=Object.create(null),i.proxy=new Proxy(i.ctx,km),Tk(i);const{setup:r}=n;if(r){Ui();const s=i.setupContext=r.length>1?OS(i):null,o=ga(i),a=Gs(r,i,0,[Pi(i.props),s]),l=cu(a);if(Ki(),o(),(l||i.sp)&&!ra(i)&&xm(i),l){if(a.then(tx,tx),e)return a.then(c=>{ix(i,c,e)}).catch(c=>{Zo(c,i,0)});if(i.asyncDep=a,!i.suspense){const c=(t=n.name)!=null?t:"Anonymous";be(`Component <${c}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else ix(i,a,e)}else rx(i,e)}function ix(i,e,t){je(e)?i.type.__ssrInlineRender?i.ssrRender=e:i.render=e:yt(e)?(to(e)&&be("setup() should not return VNodes directly - return a render function instead."),i.devtoolsRawSetupState=e,i.setupState=$g(e),Ek(i)):e!==void 0&&be(`setup() should return an object. Received: ${e===null?"null":typeof e}`),rx(i,t)}const MS=()=>!0;function rx(i,e,t){const n=i.type;i.render||(i.render=n.render||bn);{const r=ga(i);Ui();try{Pk(i)}finally{Ki(),r()}}!n.render&&i.render===bn&&!e&&(n.template?be('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):be("Component is missing template or render function: ",n))}const TS={get(i,e){return Kl(),Zt(i,"get",""),i[e]},set(){return be("setupContext.attrs is readonly."),!1},deleteProperty(){return be("setupContext.attrs is readonly."),!1}};function ES(i){return new Proxy(i.slots,{get(e,t){return Zt(i,"get","$slots"),e[t]}})}function OS(i){const e=t=>{if(i.exposed&&be("expose() should be called only once per setup()."),t!=null){let n=typeof t;n==="object"&&(Fe(t)?n="array":Wt(t)&&(n="ref")),n!=="object"&&be(`expose() should be passed a plain object, received ${n}.`)}i.exposed=t||{}};{let t,n;return Object.freeze({get attrs(){return t||(t=new Proxy(i.attrs,TS))},get slots(){return n||(n=ES(i))},get emit(){return(r,...s)=>i.emit(r,...s)},expose:e})}}function ec(i){return i.exposed?i.exposeProxy||(i.exposeProxy=new Proxy($g(Vg(i.exposed)),{get(e,t){if(t in e)return e[t];if(t in as)return as[t](i)},has(e,t){return t in e||t in as}})):i.proxy}const IS=/(?:^|[-_])(\w)/g,PS=i=>i.replace(IS,e=>e.toUpperCase()).replace(/[-_]/g,"");function sx(i,e=!0){return je(i)?i.displayName||i.name:i.name||e&&i.__name}function tc(i,e,t=!1){let n=sx(e);if(!n&&e.__file){const r=e.__file.match(/([^/\\]+)\.\w+$/);r&&(n=r[1])}if(!n&&i&&i.parent){const r=s=>{for(const o in s)if(s[o]===e)return o};n=r(i.components||i.parent.type.components)||r(i.appContext.components)}return n?PS(n):t?"App":"Anonymous"}function ox(i){return je(i)&&"__vccOpts"in i}const no=(i,e)=>{const t=W1(i,e,ma);{const n=pa();n&&n.appContext.config.warnRecursiveComputed&&(t._warnRecursive=!0)}return t};function io(i,e,t){const n=arguments.length;return n===2?yt(e)&&!Fe(e)?to(e)?Lt(i,null,[e]):Lt(i,e):Lt(i,null,e):(n>3?t=Array.prototype.slice.call(arguments,2):n===3&&to(t)&&(t=[t]),Lt(i,e,t))}function LS(){if(typeof window>"u")return;const i={style:"color:#3ba776"},e={style:"color:#1677ff"},t={style:"color:#f5222d"},n={style:"color:#eb2f96"},r={__vue_custom_formatter:!0,header(u){return yt(u)?u.__isVue?["div",i,"VueInstance"]:Wt(u)?["div",{},["span",i,h(u)],"<",a("_value"in u?u._value:u),">"]:ts(u)?["div",{},["span",i,Pn(u)?"ShallowReactive":"Reactive"],"<",a(u),`>${Zi(u)?" (readonly)":""}`]:Zi(u)?["div",{},["span",i,Pn(u)?"ShallowReadonly":"Readonly"],"<",a(u),">"]:null:null},hasBody(u){return u&&u.__isVue},body(u){if(u&&u.__isVue)return["div",{},...s(u.$)]}};function s(u){const d=[];u.type.props&&u.props&&d.push(o("props",Ze(u.props))),u.setupState!==Je&&d.push(o("setup",u.setupState)),u.data!==Je&&d.push(o("data",Ze(u.data)));const f=l(u,"computed");f&&d.push(o("computed",f));const p=l(u,"inject");return p&&d.push(o("injected",p)),d.push(["div",{},["span",{style:n.style+";opacity:0.66"},"$ (internal): "],["object",{object:u}]]),d}function o(u,d){return d=_t({},d),Object.keys(d).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},u],["div",{style:"padding-left:1.25em"},...Object.keys(d).map(f=>["div",{},["span",n,f+": "],a(d[f],!1)])]]:["span",{}]}function a(u,d=!0){return typeof u=="number"?["span",e,u]:typeof u=="string"?["span",t,JSON.stringify(u)]:typeof u=="boolean"?["span",n,u]:yt(u)?["object",{object:d?Ze(u):u}]:["span",t,String(u)]}function l(u,d){const f=u.type;if(je(f))return;const p={};for(const m in u.ctx)c(f,m,d)&&(p[m]=u.ctx[m]);return p}function c(u,d,f){const p=u[f];if(Fe(p)&&p.includes(d)||yt(p)&&d in p||u.extends&&c(u.extends,d,f)||u.mixins&&u.mixins.some(m=>c(m,d,f)))return!0}function h(u){return Pn(u)?"ShallowRef":u.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(r):window.devtoolsFormatters=[r]}const ax="3.5.13",tr=be;/**
  * @vue/runtime-dom v3.5.13
  * (c) 2018-present Yuxi (Evan) You and Vue contributors
  * @license MIT
  **/let Uu;const lx=typeof window<"u"&&window.trustedTypes;if(lx)try{Uu=lx.createPolicy("vue",{createHTML:i=>i})}catch(i){tr(`Error creating trusted types policy: ${i}`)}const cx=Uu?i=>Uu.createHTML(i):i=>i,RS="http://www.w3.org/2000/svg",DS="http://www.w3.org/1998/Math/MathML",nr=typeof document<"u"?document:null,hx=nr&&nr.createElement("template"),_S={insert:(i,e,t)=>{e.insertBefore(i,t||null)},remove:i=>{const e=i.parentNode;e&&e.removeChild(i)},createElement:(i,e,t,n)=>{const r=e==="svg"?nr.createElementNS(RS,i):e==="mathml"?nr.createElementNS(DS,i):t?nr.createElement(i,{is:t}):nr.createElement(i);return i==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:i=>nr.createTextNode(i),createComment:i=>nr.createComment(i),setText:(i,e)=>{i.nodeValue=e},setElementText:(i,e)=>{i.textContent=e},parentNode:i=>i.parentNode,nextSibling:i=>i.nextSibling,querySelector:i=>nr.querySelector(i),setScopeId(i,e){i.setAttribute(e,"")},insertStaticContent(i,e,t,n,r,s){const o=t?t.previousSibling:e.lastChild;if(r&&(r===s||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),t),!(r===s||!(r=r.nextSibling)););else{hx.innerHTML=cx(n==="svg"?`<svg>${i}</svg>`:n==="mathml"?`<math>${i}</math>`:i);const a=hx.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},kr="transition",xa="animation",ba=Symbol("_vtc"),ux={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},NS=_t({},um,ux),zS=(i=>(i.displayName="Transition",i.props=NS,i))((i,{slots:e})=>io(pk,FS(i),e)),hs=(i,e=[])=>{Fe(i)?i.forEach(t=>t(...e)):i&&i(...e)},dx=i=>i?Fe(i)?i.some(e=>e.length>1):i.length>1:!1;function FS(i){const e={};for(const _ in i)_ in ux||(e[_]=i[_]);if(i.css===!1)return e;const{name:t="v",type:n,duration:r,enterFromClass:s=`${t}-enter-from`,enterActiveClass:o=`${t}-enter-active`,enterToClass:a=`${t}-enter-to`,appearFromClass:l=s,appearActiveClass:c=o,appearToClass:h=a,leaveFromClass:u=`${t}-leave-from`,leaveActiveClass:d=`${t}-leave-active`,leaveToClass:f=`${t}-leave-to`}=i,p=BS(r),m=p&&p[0],b=p&&p[1],{onBeforeEnter:y,onEnter:w,onEnterCancelled:C,onLeave:T,onLeaveCancelled:S,onBeforeAppear:E=y,onAppear:M=w,onAppearCancelled:I=C}=e,P=(_,$,U,re)=>{_._enterCancelled=re,us(_,$?h:a),us(_,$?c:o),U&&U()},N=(_,$)=>{_._isLeaving=!1,us(_,u),us(_,f),us(_,d),$&&$()},D=_=>($,U)=>{const re=_?M:w,ne=()=>P($,_,U);hs(re,[$,ne]),fx(()=>{us($,_?l:s),ir($,_?h:a),dx(re)||px($,n,m,ne)})};return _t(e,{onBeforeEnter(_){hs(y,[_]),ir(_,s),ir(_,o)},onBeforeAppear(_){hs(E,[_]),ir(_,l),ir(_,c)},onEnter:D(!1),onAppear:D(!0),onLeave(_,$){_._isLeaving=!0;const U=()=>N(_,$);ir(_,u),_._enterCancelled?(ir(_,d),xx()):(xx(),ir(_,d)),fx(()=>{_._isLeaving&&(us(_,u),ir(_,f),dx(T)||px(_,n,b,U))}),hs(T,[_,U])},onEnterCancelled(_){P(_,!1,void 0,!0),hs(C,[_])},onAppearCancelled(_){P(_,!0,void 0,!0),hs(I,[_])},onLeaveCancelled(_){N(_),hs(S,[_])}})}function BS(i){if(i==null)return null;if(yt(i))return[Ku(i.enter),Ku(i.leave)];{const e=Ku(i);return[e,e]}}function Ku(i){const e=e1(i);return U1(e,"<transition> explicit duration"),e}function ir(i,e){e.split(/\s+/).forEach(t=>t&&i.classList.add(t)),(i[ba]||(i[ba]=new Set)).add(e)}function us(i,e){e.split(/\s+/).forEach(n=>n&&i.classList.remove(n));const t=i[ba];t&&(t.delete(e),t.size||(i[ba]=void 0))}function fx(i){requestAnimationFrame(()=>{requestAnimationFrame(i)})}let HS=0;function px(i,e,t,n){const r=i._endId=++HS,s=()=>{r===i._endId&&n()};if(t!=null)return setTimeout(s,t);const{type:o,timeout:a,propCount:l}=XS(i,e);if(!o)return n();const c=o+"end";let h=0;const u=()=>{i.removeEventListener(c,d),s()},d=f=>{f.target===i&&++h>=l&&u()};setTimeout(()=>{h<l&&u()},a+1),i.addEventListener(c,d)}function XS(i,e){const t=window.getComputedStyle(i),n=p=>(t[p]||"").split(", "),r=n(`${kr}Delay`),s=n(`${kr}Duration`),o=gx(r,s),a=n(`${xa}Delay`),l=n(`${xa}Duration`),c=gx(a,l);let h=null,u=0,d=0;e===kr?o>0&&(h=kr,u=o,d=s.length):e===xa?c>0&&(h=xa,u=c,d=l.length):(u=Math.max(o,c),h=u>0?o>c?kr:xa:null,d=h?h===kr?s.length:l.length:0);const f=h===kr&&/\b(transform|all)(,|$)/.test(n(`${kr}Property`).toString());return{type:h,timeout:u,propCount:d,hasTransform:f}}function gx(i,e){for(;i.length<e.length;)i=i.concat(i);return Math.max(...e.map((t,n)=>mx(t)+mx(i[n])))}function mx(i){return i==="auto"?0:Number(i.slice(0,-1).replace(",","."))*1e3}function xx(){return document.body.offsetHeight}function WS(i,e,t){const n=i[ba];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?i.removeAttribute("class"):t?i.setAttribute("class",e):i.className=e}const bx=Symbol("_vod"),YS=Symbol("_vsh"),jS=Symbol("CSS_VAR_TEXT"),VS=/(^|;)\s*display\s*:/;function $S(i,e,t){const n=i.style,r=Nt(t);let s=!1;if(t&&!r){if(e)if(Nt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();t[a]==null&&nc(n,a,"")}else for(const o in e)t[o]==null&&nc(n,o,"");for(const o in t)o==="display"&&(s=!0),nc(n,o,t[o])}else if(r){if(e!==t){const o=n[jS];o&&(t+=";"+o),n.cssText=t,s=VS.test(t)}}else e&&i.removeAttribute("style");bx in i&&(i[bx]=s?n.display:"",i[YS]&&(n.display="none"))}const GS=/[^\\];\s*$/,yx=/\s*!important$/;function nc(i,e,t){if(Fe(t))t.forEach(n=>nc(i,e,n));else if(t==null&&(t=""),GS.test(t)&&tr(`Unexpected semicolon at the end of '${e}' style value: '${t}'`),e.startsWith("--"))i.setProperty(e,t);else{const n=qS(i,e);yx.test(t)?i.setProperty(qi(n),t.replace(yx,""),"important"):i[n]=t}}const vx=["Webkit","Moz","ms"],Ju={};function qS(i,e){const t=Ju[e];if(t)return t;let n=ii(e);if(n!=="filter"&&n in i)return Ju[e]=n;n=Sl(n);for(let r=0;r<vx.length;r++){const s=vx[r]+n;if(s in i)return Ju[e]=s}return e}const wx="http://www.w3.org/1999/xlink";function kx(i,e,t,n,r,s=u1(e)){n&&e.startsWith("xlink:")?t==null?i.removeAttributeNS(wx,e.slice(6,e.length)):i.setAttributeNS(wx,e,t):t==null||s&&!kg(t)?i.removeAttribute(e):i.setAttribute(e,s?"":xr(t)?String(t):t)}function Sx(i,e,t,n,r){if(e==="innerHTML"||e==="textContent"){t!=null&&(i[e]=e==="innerHTML"?cx(t):t);return}const s=i.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?i.getAttribute("value")||"":i.value,l=t==null?i.type==="checkbox"?"on":"":String(t);(a!==l||!("_value"in i))&&(i.value=l),t==null&&i.removeAttribute(e),i._value=t;return}let o=!1;if(t===""||t==null){const a=typeof i[e];a==="boolean"?t=kg(t):t==null&&a==="string"?(t="",o=!0):a==="number"&&(t=0,o=!0)}try{i[e]=t}catch(a){o||tr(`Failed setting prop "${e}" on <${s.toLowerCase()}>: value ${t} is invalid.`,a)}o&&i.removeAttribute(r||e)}function ro(i,e,t,n){i.addEventListener(e,t,n)}function US(i,e,t,n){i.removeEventListener(e,t,n)}const Cx=Symbol("_vei");function KS(i,e,t,n,r=null){const s=i[Cx]||(i[Cx]={}),o=s[e];if(n&&o)o.value=Mx(n,e);else{const[a,l]=JS(e);if(n){const c=s[e]=eC(Mx(n,e),r);ro(i,a,c,l)}else o&&(US(i,a,o,l),s[e]=void 0)}}const Ax=/(?:Once|Passive|Capture)$/;function JS(i){let e;if(Ax.test(i)){e={};let n;for(;n=i.match(Ax);)i=i.slice(0,i.length-n[0].length),e[n[0].toLowerCase()]=!0}return[i[2]===":"?i.slice(3):qi(i.slice(2)),e]}let Zu=0;const ZS=Promise.resolve(),QS=()=>Zu||(ZS.then(()=>Zu=0),Zu=Date.now());function eC(i,e){const t=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=t.attached)return;wi(tC(n,t.value),e,5,[n])};return t.value=i,t.attached=QS(),t}function Mx(i,e){return je(i)||Fe(i)?i:(tr(`Wrong type passed as event handler to ${e} - did you forget @ or : in front of your prop?
  Expected function or array of functions, received type ${typeof i}.`),bn)}function tC(i,e){if(Fe(e)){const t=i.stopImmediatePropagation;return i.stopImmediatePropagation=()=>{t.call(i),i._stopped=!0},e.map(n=>r=>!r._stopped&&n&&n(r))}else return e}const Tx=i=>i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)>96&&i.charCodeAt(2)<123,nC=(i,e,t,n,r,s)=>{const o=r==="svg";e==="class"?WS(i,n,o):e==="style"?$S(i,t,n):Wo(e)?vl(e)||KS(i,e,t,n,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):iC(i,e,n,o))?(Sx(i,e,n),!i.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&kx(i,e,n,o,s,e!=="value")):i._isVueCE&&(/[A-Z]/.test(e)||!Nt(n))?Sx(i,ii(e),n,s,e):(e==="true-value"?i._trueValue=n:e==="false-value"&&(i._falseValue=n),kx(i,e,n,o))};function iC(i,e,t,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in i&&Tx(e)&&je(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&i.tagName==="INPUT"||e==="type"&&i.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=i.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Tx(e)&&Nt(t)?!1:e in i}const Ex=i=>{const e=i.props["onUpdate:modelValue"]||!1;return Fe(e)?t=>Vs(e,t):e};function rC(i){i.target.composing=!0}function Ox(i){const e=i.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Qu=Symbol("_assign"),Ix={created(i,{modifiers:{lazy:e,trim:t,number:n}},r){i[Qu]=Ex(r);const s=n||r.props&&r.props.type==="number";ro(i,e?"change":"input",o=>{if(o.target.composing)return;let a=i.value;t&&(a=a.trim()),s&&(a=du(a)),i[Qu](a)}),t&&ro(i,"change",()=>{i.value=i.value.trim()}),e||(ro(i,"compositionstart",rC),ro(i,"compositionend",Ox),ro(i,"change",Ox))},mounted(i,{value:e}){i.value=e??""},beforeUpdate(i,{value:e,oldValue:t,modifiers:{lazy:n,trim:r,number:s}},o){if(i[Qu]=Ex(o),i.composing)return;const a=(s||i.type==="number")&&!/^0\d/.test(i.value)?du(i.value):i.value,l=e??"";a!==l&&(document.activeElement===i&&i.type!=="range"&&(n&&e===t||r&&i.value.trim()===l)||(i.value=l))}},sC=_t({patchProp:nC},_S);let Px;function oC(){return Px||(Px=Qk(sC))}const Lx=(...i)=>{const e=oC().createApp(...i);lC(e),cC(e);const{mount:t}=e;return e.mount=n=>{const r=hC(n);if(!r)return;const s=e._component;!je(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=t(r,!1,aC(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function aC(i){if(i instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&i instanceof MathMLElement)return"mathml"}function lC(i){Object.defineProperty(i.config,"isNativeTag",{value:e=>l1(e)||c1(e)||h1(e),writable:!1})}function cC(i){{const e=i.config.isCustomElement;Object.defineProperty(i.config,"isCustomElement",{get(){return e},set(){tr("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const t=i.config.compilerOptions,n='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc';Object.defineProperty(i.config,"compilerOptions",{get(){return tr(n),t},set(){tr(n)}})}}function hC(i){if(Nt(i)){const e=document.querySelector(i);return e||tr(`Failed to mount app: mount target selector "${i}" returned null.`),e}return window.ShadowRoot&&i instanceof window.ShadowRoot&&i.mode==="closed"&&tr('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),i}/**
  * vue v3.5.13
  * (c) 2018-present Yuxi (Evan) You and Vue contributors
  * @license MIT
  **/function uC(){LS()}uC();/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var Rx={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */const si=(i,e,t,n)=>({color:r="currentColor",size:s=24,stroke:o=2,title:a,class:l,...c},{attrs:h,slots:u})=>{let d=[...n.map(f=>io(...f)),...u.default?[u.default()]:[]];return a&&(d=[io("title",a),...d]),io("svg",{...Rx[i],width:s,height:s,...h,class:["tabler-icon",`tabler-icon-${e}`],...i==="filled"?{fill:r}:{"stroke-width":o??Rx[i]["stroke-width"],stroke:r},...c},d)};/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var dC=si("outline","align-center","IconAlignCenter",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M8 12l8 0",key:"svg-1"}],["path",{d:"M6 18l12 0",key:"svg-2"}]]);/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var fC=si("outline","align-left","IconAlignLeft",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l10 0",key:"svg-1"}],["path",{d:"M4 18l14 0",key:"svg-2"}]]);/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var pC=si("outline","align-right","IconAlignRight",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M10 12l10 0",key:"svg-1"}],["path",{d:"M6 18l14 0",key:"svg-2"}]]);/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var gC=si("outline","bold","IconBold",[["path",{d:"M7 5h6a3.5 3.5 0 0 1 0 7h-6z",key:"svg-0"}],["path",{d:"M13 12h1a3.5 3.5 0 0 1 0 7h-7v-7",key:"svg-1"}]]);/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var mC=si("outline","code","IconCode",[["path",{d:"M7 8l-4 4l4 4",key:"svg-0"}],["path",{d:"M17 8l4 4l-4 4",key:"svg-1"}],["path",{d:"M14 4l-4 16",key:"svg-2"}]]);/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var xC=si("outline","italic","IconItalic",[["path",{d:"M11 5l6 0",key:"svg-0"}],["path",{d:"M7 19l6 0",key:"svg-1"}],["path",{d:"M14 5l-4 14",key:"svg-2"}]]);/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var bC=si("outline","link-off","IconLinkOff",[["path",{d:"M9 15l3 -3m2 -2l1 -1",key:"svg-0"}],["path",{d:"M11 6l.463 -.536a5 5 0 0 1 7.071 7.072l-.534 .464",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}],["path",{d:"M13 18l-.397 .534a5.068 5.068 0 0 1 -7.127 0a4.972 4.972 0 0 1 0 -7.071l.524 -.463",key:"svg-3"}]]);/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var yC=si("outline","link","IconLink",[["path",{d:"M9 15l6 -6",key:"svg-0"}],["path",{d:"M11 6l.463 -.536a5 5 0 0 1 7.071 7.072l-.534 .464",key:"svg-1"}],["path",{d:"M13 18l-.397 .534a5.068 5.068 0 0 1 -7.127 0a4.972 4.972 0 0 1 0 -7.071l.524 -.463",key:"svg-2"}]]);/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var vC=si("outline","loader-quarter","IconLoaderQuarter",[["path",{d:"M12 6l0 -3",key:"svg-0"}],["path",{d:"M6 12l-3 0",key:"svg-1"}],["path",{d:"M7.75 7.75l-2.15 -2.15",key:"svg-2"}]]);/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var wC=si("outline","pencil","IconPencil",[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]]);/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var kC=si("outline","strikethrough","IconStrikethrough",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M16 6.5a4 2 0 0 0 -4 -1.5h-1a3.5 3.5 0 0 0 0 7h2a3.5 3.5 0 0 1 0 7h-1.5a4 2 0 0 1 -4 -1.5",key:"svg-1"}]]);/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var SC=si("outline","underline","IconUnderline",[["path",{d:"M7 5v5a5 5 0 0 0 10 0v-5",key:"svg-0"}],["path",{d:"M5 19h14",key:"svg-1"}]]);/*!
   * ApexCharts v4.5.0
   * (c) 2018-2025 ApexCharts
   * Released under the MIT License.
   */function ed(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=Array(e);t<e;t++)n[t]=i[t];return n}function Dx(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Ee(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function _x(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,Bx(n.key),n)}}function Oe(i,e,t){return e&&_x(i.prototype,e),t&&_x(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function ya(i,e){var t=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!t){if(Array.isArray(i)||(t=nd(i))||e){t&&(i=t);var n=0,r=function(){};return{s:r,n:function(){return n>=i.length?{done:!0}:{done:!1,value:i[n++]}},e:function(l){throw l},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
  In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){t=t.call(i)},n:function(){var l=t.next();return o=l.done,l},e:function(l){a=!0,s=l},f:function(){try{o||t.return==null||t.return()}finally{if(a)throw s}}}}function va(i){var e=Nx();return function(){var t,n=rc(i);if(e){var r=rc(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return function(s,o){if(o&&(typeof o=="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dx(s)}(this,t)}}function ic(i,e,t){return(e=Bx(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function rc(i){return rc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rc(i)}function wa(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&td(i,e)}function Nx(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nx=function(){return!!i})()}function zx(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function xe(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zx(Object(t),!0).forEach(function(n){ic(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):zx(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function td(i,e){return td=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},td(i,e)}function Fx(i,e){return function(t){if(Array.isArray(t))return t}(i)||function(t,n){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,o,a,l,c=[],h=!0,u=!1;try{if(a=(r=r.call(t)).next,n===0){if(Object(r)!==r)return;h=!1}else for(;!(h=(s=a.call(r)).done)&&(c.push(s.value),c.length!==n);h=!0);}catch(d){u=!0,o=d}finally{try{if(!h&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw o}}return c}}(i,e)||nd(i,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
  In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ut(i){return function(e){if(Array.isArray(e))return ed(e)}(i)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(i)||nd(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
  In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Bx(i){var e=function(t,n){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,n);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}(i,"string");return typeof e=="symbol"?e:e+""}function so(i){return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},so(i)}function nd(i,e){if(i){if(typeof i=="string")return ed(i,e);var t={}.toString.call(i).slice(8,-1);return t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set"?Array.from(i):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ed(i,e):void 0}}var H=function(){function i(){Ee(this,i)}return Oe(i,[{key:"shadeRGBColor",value:function(e,t){var n=t.split(","),r=e<0?0:255,s=e<0?-1*e:e,o=parseInt(n[0].slice(4),10),a=parseInt(n[1],10),l=parseInt(n[2],10);return"rgb("+(Math.round((r-o)*s)+o)+","+(Math.round((r-a)*s)+a)+","+(Math.round((r-l)*s)+l)+")"}},{key:"shadeHexColor",value:function(e,t){var n=parseInt(t.slice(1),16),r=e<0?0:255,s=e<0?-1*e:e,o=n>>16,a=n>>8&255,l=255&n;return"#"+(16777216+65536*(Math.round((r-o)*s)+o)+256*(Math.round((r-a)*s)+a)+(Math.round((r-l)*s)+l)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,t){return i.isColorHex(t)?this.shadeHexColor(e,t):this.shadeRGBColor(e,t)}}],[{key:"bind",value:function(e,t){return function(){return e.apply(t,arguments)}}},{key:"isObject",value:function(e){return e&&so(e)==="object"&&!Array.isArray(e)&&e!=null}},{key:"is",value:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}},{key:"listToArray",value:function(e){var t,n=[];for(t=0;t<e.length;t++)n[t]=e[t];return n}},{key:"extend",value:function(e,t){var n=this;typeof Object.assign!="function"&&(Object.assign=function(s){if(s==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(s),a=1;a<arguments.length;a++){var l=arguments[a];if(l!=null)for(var c in l)l.hasOwnProperty(c)&&(o[c]=l[c])}return o});var r=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach(function(s){n.isObject(t[s])&&s in e?r[s]=n.extend(e[s],t[s]):Object.assign(r,ic({},s,t[s]))}),r}},{key:"extendArray",value:function(e,t){var n=[];return e.map(function(r){n.push(i.extend(t,r))}),e=n}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(e){var t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(e===null||so(e)!=="object")return e;if(n.has(e))return n.get(e);if(Array.isArray(e)){t=[],n.set(e,t);for(var r=0;r<e.length;r++)t[r]=this.clone(e[r],n)}else if(e instanceof Date)t=new Date(e.getTime());else for(var s in t={},n.set(e,t),e)e.hasOwnProperty(s)&&(t[s]=this.clone(e[s],n));return t}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,t){return Math.pow(t,Math.floor(Math.log(e)/Math.log(t)))}},{key:"parseNumber",value:function(e){return e===null?e:parseFloat(e)}},{key:"stripNumber",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(e)?e:parseFloat(e.toPrecision(t))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){return e.toString().includes("e")?Math.round(e):e}},{key:"elementExists",value:function(e){return!(!e||!e.isConnected)}},{key:"getDimensions",value:function(e){var t=getComputedStyle(e,null),n=e.clientHeight,r=e.clientWidth;return n-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),[r-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),n]}},{key:"getBoundingClientRect",value:function(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:e.clientWidth,height:e.clientHeight,x:t.left,y:t.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce(function(t,n){return Array.isArray(n)&&(n=n.reduce(function(r,s){return r.length>s.length?r:s})),t.length>n.length?t:n},0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;e.substring(0,1)!=="#"&&(e="#999999");var n=e.replace("#","");n=n.match(new RegExp("(.{"+n.length/3+"})","g"));for(var r=0;r<n.length;r++)n[r]=parseInt(n[r].length===1?n[r]+n[r]:n[r],16);return t!==void 0&&n.push(t),"rgba("+n.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&e.length===4?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,t){for(var n=[],r=2*Math.PI/t,s=0;s<t;s++){var o={};o.x=e*Math.sin(s*r),o.y=-e*Math.cos(s*r),n.push(o)}return n}},{key:"polarToCartesian",value:function(e,t,n,r){var s=(r-90)*Math.PI/180;return{x:e+n*Math.cos(s),y:t+n*Math.sin(s)}}},{key:"escapeString",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",n=e.toString().slice();return n=n.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,t)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,t,n){if(n>=e.length)for(var r=n-e.length+1;r--;)e.push(void 0);return e.splice(n,0,e.splice(t,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}},{key:"setELstyles",value:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e.style.key=t[n])}},{key:"preciseAddition",value:function(e,t){var n=(String(e).split(".")[1]||"").length,r=(String(t).split(".")[1]||"").length,s=Math.pow(10,Math.max(n,r));return(Math.round(e*s)+Math.round(t*s))/s}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isMsEdge",value:function(){var e=window.navigator.userAgent,t=e.indexOf("Edge/");return t>0&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)}},{key:"getGCD",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,r=Math.pow(10,n-Math.floor(Math.log10(Math.max(e,t))));for(e=Math.round(Math.abs(e)*r),t=Math.round(Math.abs(t)*r);t;){var s=t;t=e%t,e=s}return e/r}},{key:"getPrimeFactors",value:function(e){for(var t=[],n=2;e>=2;)e%n==0?(t.push(n),e/=n):n++;return t}},{key:"mod",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,r=Math.pow(10,n-Math.floor(Math.log10(Math.max(e,t))));return(e=Math.round(Math.abs(e)*r))%(t=Math.round(Math.abs(t)*r))/r}}]),i}(),oo=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"animateLine",value:function(e,t,n,r){e.attr(t).animate(r).attr(n)}},{key:"animateMarker",value:function(e,t,n,r){e.attr({opacity:0}).animate(t).attr({opacity:1}).after(function(){r()})}},{key:"animateRect",value:function(e,t,n,r,s){e.attr(t).animate(r).attr(n).after(function(){return s()})}},{key:"animatePathsGradually",value:function(e){var t=e.el,n=e.realIndex,r=e.j,s=e.fill,o=e.pathFrom,a=e.pathTo,l=e.speed,c=e.delay,h=this.w,u=0;h.config.chart.animations.animateGradually.enabled&&(u=h.config.chart.animations.animateGradually.delay),h.config.chart.animations.dynamicAnimation.enabled&&h.globals.dataChanged&&h.config.chart.type!=="bar"&&(u=0),this.morphSVG(t,n,r,h.config.chart.type!=="line"||h.globals.comboCharts?s:"stroke",o,a,l,c*u)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(e){var t=e.el;t.classList.remove("apexcharts-element-hidden"),t.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(e){var t=this.w;t.globals.animationEnded||(t.globals.animationEnded=!0,this.showDelayedElements(),typeof t.config.chart.events.animationEnd=="function"&&t.config.chart.events.animationEnd(this.ctx,{el:e,w:t}))}},{key:"morphSVG",value:function(e,t,n,r,s,o,a,l){var c=this,h=this.w;s||(s=e.attr("pathFrom")),o||(o=e.attr("pathTo"));var u=function(d){return h.config.chart.type==="radar"&&(a=1),"M 0 ".concat(h.globals.gridHeight)};(!s||s.indexOf("undefined")>-1||s.indexOf("NaN")>-1)&&(s=u()),(!o.trim()||o.indexOf("undefined")>-1||o.indexOf("NaN")>-1)&&(o=u()),h.globals.shouldAnimate||(a=1),e.plot(s).animate(1,l).plot(s).animate(a,l).plot(o).after(function(){H.isNumber(n)?n===h.globals.series[h.globals.maxValsInArrayIndex].length-2&&h.globals.shouldAnimate&&c.animationCompleted(e):r!=="none"&&h.globals.shouldAnimate&&(!h.globals.comboCharts&&t===h.globals.series.length-1||h.globals.comboCharts)&&c.animationCompleted(e),c.showDelayedElements()})}}]),i}();const id={},Hx=[];function nt(i,e){if(Array.isArray(i))for(const t of i)nt(t,e);else if(typeof i!="object")Xx(Object.getOwnPropertyNames(e)),id[i]=Object.assign(id[i]||{},e);else for(const t in i)nt(t,i[t])}function Yn(i){return id[i]||{}}function Xx(i){Hx.push(...i)}function rd(i,e){let t;const n=i.length,r=[];for(t=0;t<n;t++)r.push(e(i[t]));return r}function sd(i){return i%360*Math.PI/180}function ao(i){return i.charAt(0).toUpperCase()+i.slice(1)}function lo(i,e,t,n){return e!=null&&t!=null||(n=n||i.bbox(),e==null?e=n.width/n.height*t:t==null&&(t=n.height/n.width*e)),{width:e,height:t}}function od(i,e){const t=i.origin;let n=i.ox!=null?i.ox:i.originX!=null?i.originX:"center",r=i.oy!=null?i.oy:i.originY!=null?i.originY:"center";t!=null&&([n,r]=Array.isArray(t)?t:typeof t=="object"?[t.x,t.y]:[t,t]);const s=typeof n=="string",o=typeof r=="string";if(s||o){const{height:a,width:l,x:c,y:h}=e.bbox();s&&(n=n.includes("left")?c:n.includes("right")?c+l:c+l/2),o&&(r=r.includes("top")?h:r.includes("bottom")?h+a:h+a/2)}return[n,r]}const CC=new Set(["desc","metadata","title"]),ad=i=>CC.has(i.nodeName),Wx=(i,e,t={})=>{const n={...e};for(const r in n)n[r].valueOf()===t[r]&&delete n[r];Object.keys(n).length?i.node.setAttribute("data-svgjs",JSON.stringify(n)):(i.node.removeAttribute("data-svgjs"),i.node.removeAttribute("svgjs:data"))},ld="http://www.w3.org/2000/svg",cd="http://www.w3.org/2000/xmlns/",co="http://www.w3.org/1999/xlink",ft={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function ka(){return ft.window}let hd=class{};const ds={},ud="___SYMBOL___ROOT___";function Sa(i,e=ld){return ft.document.createElementNS(e,i)}function _n(i,e=!1){if(i instanceof hd)return i;if(typeof i=="object")return dd(i);if(i==null)return new ds[ud];if(typeof i=="string"&&i.charAt(0)!=="<")return dd(ft.document.querySelector(i));const t=e?ft.document.createElement("div"):Sa("svg");return t.innerHTML=i,i=dd(t.firstChild),t.removeChild(t.firstChild),i}function St(i,e){return e&&(e instanceof ft.window.Node||e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node)?e:Sa(i)}function oi(i){if(!i)return null;if(i.instance instanceof hd)return i.instance;if(i.nodeName==="#document-fragment")return new ds.Fragment(i);let e=ao(i.nodeName||"Dom");return e==="LinearGradient"||e==="RadialGradient"?e="Gradient":ds[e]||(e="Dom"),new ds[e](i)}let dd=oi;function pt(i,e=i.name,t=!1){return ds[e]=i,t&&(ds[ud]=i),Xx(Object.getOwnPropertyNames(i.prototype)),i}let AC=1e3;function Yx(i){return"Svgjs"+ao(i)+AC++}function jx(i){for(let e=i.children.length-1;e>=0;e--)jx(i.children[e]);return i.id&&(i.id=Yx(i.nodeName)),i}function Ye(i,e){let t,n;for(n=(i=Array.isArray(i)?i:[i]).length-1;n>=0;n--)for(t in e)i[n].prototype[t]=e[t]}function Ct(i){return function(...e){const t=e[e.length-1];return!t||t.constructor!==Object||t instanceof Array?i.apply(this,e):i.apply(this,e.slice(0,-1)).attr(t)}}nt("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const i=this.position();return this.parent().add(this.remove(),i+1),this},backward:function(){const i=this.position();return this.parent().add(this.remove(),i?i-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(i){(i=_n(i)).remove();const e=this.position();return this.parent().add(i,e),this},after:function(i){(i=_n(i)).remove();const e=this.position();return this.parent().add(i,e+1),this},insertBefore:function(i){return(i=_n(i)).before(this),this},insertAfter:function(i){return(i=_n(i)).after(this),this}});const Vx=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,MC=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,TC=/rgb\((\d+),(\d+),(\d+)\)/,EC=/(#[a-z_][a-z0-9\-_]*)/i,OC=/\)\s*,?\s*/,IC=/\s/g,$x=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,Gx=/^rgb\(/,qx=/^(\s+)?$/,Ux=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,PC=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,rr=/[\s,]+/,fd=/[MLHVCSQTAZ]/i;function LC(i){const e=Math.round(i),t=Math.max(0,Math.min(255,e)).toString(16);return t.length===1?"0"+t:t}function ho(i,e){for(let t=e.length;t--;)if(i[e[t]]==null)return!1;return!0}function pd(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+6*(e-i)*t:t<.5?e:t<2/3?i+(e-i)*(2/3-t)*6:i}nt("Dom",{classes:function(){const i=this.attr("class");return i==null?[]:i.trim().split(rr)},hasClass:function(i){return this.classes().indexOf(i)!==-1},addClass:function(i){if(!this.hasClass(i)){const e=this.classes();e.push(i),this.attr("class",e.join(" "))}return this},removeClass:function(i){return this.hasClass(i)&&this.attr("class",this.classes().filter(function(e){return e!==i}).join(" ")),this},toggleClass:function(i){return this.hasClass(i)?this.removeClass(i):this.addClass(i)}}),nt("Dom",{css:function(i,e){const t={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(n){return!!n.length}).forEach(function(n){const r=n.split(/\s*:\s*/);t[r[0]]=r[1]}),t;if(arguments.length<2){if(Array.isArray(i)){for(const n of i){const r=n;t[n]=this.node.style.getPropertyValue(r)}return t}if(typeof i=="string")return this.node.style.getPropertyValue(i);if(typeof i=="object")for(const n in i)this.node.style.setProperty(n,i[n]==null||qx.test(i[n])?"":i[n])}return arguments.length===2&&this.node.style.setProperty(i,e==null||qx.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return this.css("display")!=="none"}}),nt("Dom",{data:function(i,e,t){if(i==null)return this.data(rd(function(n,r){let s;const o=n.length,a=[];for(s=0;s<o;s++)r(n[s])&&a.push(n[s]);return a}(this.node.attributes,n=>n.nodeName.indexOf("data-")===0),n=>n.nodeName.slice(5)));if(i instanceof Array){const n={};for(const r of i)n[r]=this.data(r);return n}if(typeof i=="object")for(e in i)this.data(e,i[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+i))}catch{return this.attr("data-"+i)}else this.attr("data-"+i,e===null?null:t===!0||typeof e=="string"||typeof e=="number"?e:JSON.stringify(e));return this}}),nt("Dom",{remember:function(i,e){if(typeof arguments[0]=="object")for(const t in i)this.remember(t,i[t]);else{if(arguments.length===1)return this.memory()[i];this.memory()[i]=e}return this},forget:function(){if(arguments.length===0)this._memory={};else for(let i=arguments.length-1;i>=0;i--)delete this.memory()[arguments[i]];return this},memory:function(){return this._memory=this._memory||{}}});class kt{constructor(...e){this.init(...e)}static isColor(e){return e&&(e instanceof kt||this.isRgb(e)||this.test(e))}static isRgb(e){return e&&typeof e.r=="number"&&typeof e.g=="number"&&typeof e.b=="number"}static random(e="vibrant",t){const{random:n,round:r,sin:s,PI:o}=Math;if(e==="vibrant"){const a=24*n()+57,l=38*n()+45,c=360*n();return new kt(a,l,c,"lch")}if(e==="sine"){const a=r(80*s(2*o*(t=t??n())/.5+.01)+150),l=r(50*s(2*o*t/.5+4.6)+200),c=r(100*s(2*o*t/.5+2.3)+150);return new kt(a,l,c)}if(e==="pastel"){const a=8*n()+86,l=17*n()+9,c=360*n();return new kt(a,l,c,"lch")}if(e==="dark"){const a=10+10*n(),l=50*n()+86,c=360*n();return new kt(a,l,c,"lch")}if(e==="rgb"){const a=255*n(),l=255*n(),c=255*n();return new kt(a,l,c)}if(e==="lab"){const a=100*n(),l=256*n()-128,c=256*n()-128;return new kt(a,l,c,"lab")}if(e==="grey"){const a=255*n();return new kt(a,a,a)}throw new Error("Unsupported random color mode")}static test(e){return typeof e=="string"&&($x.test(e)||Gx.test(e))}cmyk(){const{_a:e,_b:t,_c:n}=this.rgb(),[r,s,o]=[e,t,n].map(l=>l/255),a=Math.min(1-r,1-s,1-o);return a===1?new kt(0,0,0,1,"cmyk"):new kt((1-r-a)/(1-a),(1-s-a)/(1-a),(1-o-a)/(1-a),a,"cmyk")}hsl(){const{_a:e,_b:t,_c:n}=this.rgb(),[r,s,o]=[e,t,n].map(d=>d/255),a=Math.max(r,s,o),l=Math.min(r,s,o),c=(a+l)/2,h=a===l,u=a-l;return new kt(360*(h?0:a===r?((s-o)/u+(s<o?6:0))/6:a===s?((o-r)/u+2)/6:a===o?((r-s)/u+4)/6:0),100*(h?0:c>.5?u/(2-a-l):u/(a+l)),100*c,"hsl")}init(e=0,t=0,n=0,r=0,s="rgb"){if(e=e||0,this.space)for(const u in this.space)delete this[this.space[u]];if(typeof e=="number")s=typeof r=="string"?r:s,r=typeof r=="string"?0:r,Object.assign(this,{_a:e,_b:t,_c:n,_d:r,space:s});else if(e instanceof Array)this.space=t||(typeof e[3]=="string"?e[3]:e[4])||"rgb",Object.assign(this,{_a:e[0],_b:e[1],_c:e[2],_d:e[3]||0});else if(e instanceof Object){const u=function(d,f){const p=ho(d,"rgb")?{_a:d.r,_b:d.g,_c:d.b,_d:0,space:"rgb"}:ho(d,"xyz")?{_a:d.x,_b:d.y,_c:d.z,_d:0,space:"xyz"}:ho(d,"hsl")?{_a:d.h,_b:d.s,_c:d.l,_d:0,space:"hsl"}:ho(d,"lab")?{_a:d.l,_b:d.a,_c:d.b,_d:0,space:"lab"}:ho(d,"lch")?{_a:d.l,_b:d.c,_c:d.h,_d:0,space:"lch"}:ho(d,"cmyk")?{_a:d.c,_b:d.m,_c:d.y,_d:d.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return p.space=f||p.space,p}(e,t);Object.assign(this,u)}else if(typeof e=="string")if(Gx.test(e)){const u=e.replace(IC,""),[d,f,p]=TC.exec(u).slice(1,4).map(m=>parseInt(m));Object.assign(this,{_a:d,_b:f,_c:p,_d:0,space:"rgb"})}else{if(!$x.test(e))throw Error("Unsupported string format, can't construct Color");{const u=m=>parseInt(m,16),[,d,f,p]=MC.exec(function(m){return m.length===4?["#",m.substring(1,2),m.substring(1,2),m.substring(2,3),m.substring(2,3),m.substring(3,4),m.substring(3,4)].join(""):m}(e)).map(u);Object.assign(this,{_a:d,_b:f,_c:p,_d:0,space:"rgb"})}}const{_a:o,_b:a,_c:l,_d:c}=this,h=this.space==="rgb"?{r:o,g:a,b:l}:this.space==="xyz"?{x:o,y:a,z:l}:this.space==="hsl"?{h:o,s:a,l}:this.space==="lab"?{l:o,a,b:l}:this.space==="lch"?{l:o,c:a,h:l}:this.space==="cmyk"?{c:o,m:a,y:l,k:c}:{};Object.assign(this,h)}lab(){const{x:e,y:t,z:n}=this.xyz();return new kt(116*t-16,500*(e-t),200*(t-n),"lab")}lch(){const{l:e,a:t,b:n}=this.lab(),r=Math.sqrt(t**2+n**2);let s=180*Math.atan2(n,t)/Math.PI;return s<0&&(s*=-1,s=360-s),new kt(e,r,s,"lch")}rgb(){if(this.space==="rgb")return this;if((e=this.space)==="lab"||e==="xyz"||e==="lch"){let{x:t,y:n,z:r}=this;if(this.space==="lab"||this.space==="lch"){let{l:f,a:p,b:m}=this;if(this.space==="lch"){const{c:E,h:M}=this,I=Math.PI/180;p=E*Math.cos(I*M),m=E*Math.sin(I*M)}const b=(f+16)/116,y=p/500+b,w=b-m/200,C=16/116,T=.008856,S=7.787;t=.95047*(y**3>T?y**3:(y-C)/S),n=1*(b**3>T?b**3:(b-C)/S),r=1.08883*(w**3>T?w**3:(w-C)/S)}const s=3.2406*t+-1.5372*n+-.4986*r,o=-.9689*t+1.8758*n+.0415*r,a=.0557*t+-.204*n+1.057*r,l=Math.pow,c=.0031308,h=s>c?1.055*l(s,1/2.4)-.055:12.92*s,u=o>c?1.055*l(o,1/2.4)-.055:12.92*o,d=a>c?1.055*l(a,1/2.4)-.055:12.92*a;return new kt(255*h,255*u,255*d)}if(this.space==="hsl"){let{h:t,s:n,l:r}=this;if(t/=360,n/=100,r/=100,n===0)return r*=255,new kt(r,r,r);const s=r<.5?r*(1+n):r+n-r*n,o=2*r-s,a=255*pd(o,s,t+1/3),l=255*pd(o,s,t),c=255*pd(o,s,t-1/3);return new kt(a,l,c)}if(this.space==="cmyk"){const{c:t,m:n,y:r,k:s}=this,o=255*(1-Math.min(1,t*(1-s)+s)),a=255*(1-Math.min(1,n*(1-s)+s)),l=255*(1-Math.min(1,r*(1-s)+s));return new kt(o,a,l)}return this;var e}toArray(){const{_a:e,_b:t,_c:n,_d:r,space:s}=this;return[e,t,n,r,s]}toHex(){const[e,t,n]=this._clamped().map(LC);return`#${e}${t}${n}`}toRgb(){const[e,t,n]=this._clamped();return`rgb(${e},${t},${n})`}toString(){return this.toHex()}xyz(){const{_a:e,_b:t,_c:n}=this.rgb(),[r,s,o]=[e,t,n].map(b=>b/255),a=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,l=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,c=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,h=(.4124*a+.3576*l+.1805*c)/.95047,u=(.2126*a+.7152*l+.0722*c)/1,d=(.0193*a+.1192*l+.9505*c)/1.08883,f=h>.008856?Math.pow(h,1/3):7.787*h+16/116,p=u>.008856?Math.pow(u,1/3):7.787*u+16/116,m=d>.008856?Math.pow(d,1/3):7.787*d+16/116;return new kt(f,p,m,"xyz")}_clamped(){const{_a:e,_b:t,_c:n}=this.rgb(),{max:r,min:s,round:o}=Math;return[e,t,n].map(a=>r(0,s(o(a),255)))}}class xt{constructor(...e){this.init(...e)}clone(){return new xt(this)}init(e,t){const s=Array.isArray(e)?{x:e[0],y:e[1]}:typeof e=="object"?{x:e.x,y:e.y}:{x:e,y:t};return this.x=s.x==null?0:s.x,this.y=s.y==null?0:s.y,this}toArray(){return[this.x,this.y]}transform(e){return this.clone().transformO(e)}transformO(e){Be.isMatrixLike(e)||(e=new Be(e));const{x:t,y:n}=this;return this.x=e.a*t+e.c*n+e.e,this.y=e.b*t+e.d*n+e.f,this}}function uo(i,e,t){return Math.abs(e-i)<1e-6}class Be{constructor(...e){this.init(...e)}static formatTransforms(e){const t=e.flip==="both"||e.flip===!0,n=e.flip&&(t||e.flip==="x")?-1:1,r=e.flip&&(t||e.flip==="y")?-1:1,s=e.skew&&e.skew.length?e.skew[0]:isFinite(e.skew)?e.skew:isFinite(e.skewX)?e.skewX:0,o=e.skew&&e.skew.length?e.skew[1]:isFinite(e.skew)?e.skew:isFinite(e.skewY)?e.skewY:0,a=e.scale&&e.scale.length?e.scale[0]*n:isFinite(e.scale)?e.scale*n:isFinite(e.scaleX)?e.scaleX*n:n,l=e.scale&&e.scale.length?e.scale[1]*r:isFinite(e.scale)?e.scale*r:isFinite(e.scaleY)?e.scaleY*r:r,c=e.shear||0,h=e.rotate||e.theta||0,u=new xt(e.origin||e.around||e.ox||e.originX,e.oy||e.originY),d=u.x,f=u.y,p=new xt(e.position||e.px||e.positionX||NaN,e.py||e.positionY||NaN),m=p.x,b=p.y,y=new xt(e.translate||e.tx||e.translateX,e.ty||e.translateY),w=y.x,C=y.y,T=new xt(e.relative||e.rx||e.relativeX,e.ry||e.relativeY);return{scaleX:a,scaleY:l,skewX:s,skewY:o,shear:c,theta:h,rx:T.x,ry:T.y,tx:w,ty:C,ox:d,oy:f,px:m,py:b}}static fromArray(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}static isMatrixLike(e){return e.a!=null||e.b!=null||e.c!=null||e.d!=null||e.e!=null||e.f!=null}static matrixMultiply(e,t,n){const r=e.a*t.a+e.c*t.b,s=e.b*t.a+e.d*t.b,o=e.a*t.c+e.c*t.d,a=e.b*t.c+e.d*t.d,l=e.e+e.a*t.e+e.c*t.f,c=e.f+e.b*t.e+e.d*t.f;return n.a=r,n.b=s,n.c=o,n.d=a,n.e=l,n.f=c,n}around(e,t,n){return this.clone().aroundO(e,t,n)}aroundO(e,t,n){const r=e||0,s=t||0;return this.translateO(-r,-s).lmultiplyO(n).translateO(r,s)}clone(){return new Be(this)}decompose(e=0,t=0){const n=this.a,r=this.b,s=this.c,o=this.d,a=this.e,l=this.f,c=n*o-r*s,h=c>0?1:-1,u=h*Math.sqrt(n*n+r*r),d=Math.atan2(h*r,h*n),f=180/Math.PI*d,p=Math.cos(d),m=Math.sin(d),b=(n*s+r*o)/c,y=s*u/(b*n-r)||o*u/(b*r+n);return{scaleX:u,scaleY:y,shear:b,rotate:f,translateX:a-e+e*p*u+t*(b*p*u-m*y),translateY:l-t+e*m*u+t*(b*m*u+p*y),originX:e,originY:t,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(e){if(e===this)return!0;const t=new Be(e);return uo(this.a,t.a)&&uo(this.b,t.b)&&uo(this.c,t.c)&&uo(this.d,t.d)&&uo(this.e,t.e)&&uo(this.f,t.f)}flip(e,t){return this.clone().flipO(e,t)}flipO(e,t){return e==="x"?this.scaleO(-1,1,t,0):e==="y"?this.scaleO(1,-1,0,t):this.scaleO(-1,-1,e,t||e)}init(e){const t=Be.fromArray([1,0,0,1,0,0]);return e=e instanceof hn?e.matrixify():typeof e=="string"?Be.fromArray(e.split(rr).map(parseFloat)):Array.isArray(e)?Be.fromArray(e):typeof e=="object"&&Be.isMatrixLike(e)?e:typeof e=="object"?new Be().transform(e):arguments.length===6?Be.fromArray([].slice.call(arguments)):t,this.a=e.a!=null?e.a:t.a,this.b=e.b!=null?e.b:t.b,this.c=e.c!=null?e.c:t.c,this.d=e.d!=null?e.d:t.d,this.e=e.e!=null?e.e:t.e,this.f=e.f!=null?e.f:t.f,this}inverse(){return this.clone().inverseO()}inverseO(){const e=this.a,t=this.b,n=this.c,r=this.d,s=this.e,o=this.f,a=e*r-t*n;if(!a)throw new Error("Cannot invert "+this);const l=r/a,c=-t/a,h=-n/a,u=e/a,d=-(l*s+h*o),f=-(c*s+u*o);return this.a=l,this.b=c,this.c=h,this.d=u,this.e=d,this.f=f,this}lmultiply(e){return this.clone().lmultiplyO(e)}lmultiplyO(e){const t=e instanceof Be?e:new Be(e);return Be.matrixMultiply(t,this,this)}multiply(e){return this.clone().multiplyO(e)}multiplyO(e){const t=e instanceof Be?e:new Be(e);return Be.matrixMultiply(this,t,this)}rotate(e,t,n){return this.clone().rotateO(e,t,n)}rotateO(e,t=0,n=0){e=sd(e);const r=Math.cos(e),s=Math.sin(e),{a:o,b:a,c:l,d:c,e:h,f:u}=this;return this.a=o*r-a*s,this.b=a*r+o*s,this.c=l*r-c*s,this.d=c*r+l*s,this.e=h*r-u*s+n*s-t*r+t,this.f=u*r+h*s-t*s-n*r+n,this}scale(){return this.clone().scaleO(...arguments)}scaleO(e,t=e,n=0,r=0){arguments.length===3&&(r=n,n=t,t=e);const{a:s,b:o,c:a,d:l,e:c,f:h}=this;return this.a=s*e,this.b=o*t,this.c=a*e,this.d=l*t,this.e=c*e-n*e+n,this.f=h*t-r*t+r,this}shear(e,t,n){return this.clone().shearO(e,t,n)}shearO(e,t=0,n=0){const{a:r,b:s,c:o,d:a,e:l,f:c}=this;return this.a=r+s*e,this.c=o+a*e,this.e=l+c*e-n*e,this}skew(){return this.clone().skewO(...arguments)}skewO(e,t=e,n=0,r=0){arguments.length===3&&(r=n,n=t,t=e),e=sd(e),t=sd(t);const s=Math.tan(e),o=Math.tan(t),{a,b:l,c,d:h,e:u,f:d}=this;return this.a=a+l*s,this.b=l+a*o,this.c=c+h*s,this.d=h+c*o,this.e=u+d*s-r*s,this.f=d+u*o-n*o,this}skewX(e,t,n){return this.skew(e,0,t,n)}skewY(e,t,n){return this.skew(0,e,t,n)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(e){if(Be.isMatrixLike(e))return new Be(e).multiplyO(this);const t=Be.formatTransforms(e),{x:n,y:r}=new xt(t.ox,t.oy).transform(this),s=new Be().translateO(t.rx,t.ry).lmultiplyO(this).translateO(-n,-r).scaleO(t.scaleX,t.scaleY).skewO(t.skewX,t.skewY).shearO(t.shear).rotateO(t.theta).translateO(n,r);if(isFinite(t.px)||isFinite(t.py)){const o=new xt(n,r).transform(s),a=isFinite(t.px)?t.px-o.x:0,l=isFinite(t.py)?t.py-o.y:0;s.translateO(a,l)}return s.translateO(t.tx,t.ty),s}translate(e,t){return this.clone().translateO(e,t)}translateO(e,t){return this.e+=e||0,this.f+=t||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function Sr(){if(!Sr.nodes){const i=_n().size(2,0);i.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),i.attr("focusable","false"),i.attr("aria-hidden","true");const e=i.path().node;Sr.nodes={svg:i,path:e}}if(!Sr.nodes.svg.node.parentNode){const i=ft.document.body||ft.document.documentElement;Sr.nodes.svg.addTo(i)}return Sr.nodes}function Kx(i){return!(i.width||i.height||i.x||i.y)}pt(Be,"Matrix");class Ft{constructor(...e){this.init(...e)}addOffset(){return this.x+=ft.window.pageXOffset,this.y+=ft.window.pageYOffset,new Ft(this)}init(e){return e=typeof e=="string"?e.split(rr).map(parseFloat):Array.isArray(e)?e:typeof e=="object"?[e.left!=null?e.left:e.x,e.top!=null?e.top:e.y,e.width,e.height]:arguments.length===4?[].slice.call(arguments):[0,0,0,0],this.x=e[0]||0,this.y=e[1]||0,this.width=this.w=e[2]||0,this.height=this.h=e[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return Kx(this)}merge(e){const t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),r=Math.max(this.x+this.width,e.x+e.width)-t,s=Math.max(this.y+this.height,e.y+e.height)-n;return new Ft(t,n,r,s)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(e){e instanceof Be||(e=new Be(e));let t=1/0,n=-1/0,r=1/0,s=-1/0;return[new xt(this.x,this.y),new xt(this.x2,this.y),new xt(this.x,this.y2),new xt(this.x2,this.y2)].forEach(function(o){o=o.transform(e),t=Math.min(t,o.x),n=Math.max(n,o.x),r=Math.min(r,o.y),s=Math.max(s,o.y)}),new Ft(t,r,n-t,s-r)}}function Jx(i,e,t){let n;try{if(n=e(i.node),Kx(n)&&(r=i.node)!==ft.document&&!(ft.document.documentElement.contains||function(s){for(;s.parentNode;)s=s.parentNode;return s===ft.document}).call(ft.document.documentElement,r))throw new Error("Element not in the dom")}catch{n=t(i)}var r;return n}nt({viewbox:{viewbox(i,e,t,n){return i==null?new Ft(this.attr("viewBox")):this.attr("viewBox",new Ft(i,e,t,n))},zoom(i,e){let{width:t,height:n}=this.attr(["width","height"]);if((t||n)&&typeof t!="string"&&typeof n!="string"||(t=this.node.clientWidth,n=this.node.clientHeight),!t||!n)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const r=this.viewbox(),s=t/r.width,o=n/r.height,a=Math.min(s,o);if(i==null)return a;let l=a/i;l===1/0&&(l=Number.MAX_SAFE_INTEGER/100),e=e||new xt(t/2/s+r.x,n/2/o+r.y);const c=new Ft(r).transform(new Be({scale:l,origin:e}));return this.viewbox(c)}}}),pt(Ft,"Box");class fs extends Array{constructor(e=[],...t){if(super(e,...t),typeof e=="number")return this;this.length=0,this.push(...e)}}Ye([fs],{each(i,...e){return typeof i=="function"?this.map((t,n,r)=>i.call(t,t,n,r)):this.map(t=>t[i](...e))},toArray(){return Array.prototype.concat.apply([],this)}});const RC=["toArray","constructor","each"];function ps(i,e){return new fs(rd((e||ft.document).querySelectorAll(i),function(t){return oi(t)}))}fs.extend=function(i){i=i.reduce((e,t)=>(RC.includes(t)||t[0]==="_"||(t in Array.prototype&&(e["$"+t]=Array.prototype[t]),e[t]=function(...n){return this.each(t,...n)}),e),{}),Ye([fs],i)};let DC=0;const Zx={};function Qx(i){let e=i.getEventHolder();return e===ft.window&&(e=Zx),e.events||(e.events={}),e.events}function gd(i){return i.getEventTarget()}function sr(i,e,t,n,r){const s=t.bind(n||i),o=_n(i),a=Qx(o),l=gd(o);e=Array.isArray(e)?e:e.split(rr),t._svgjsListenerId||(t._svgjsListenerId=++DC),e.forEach(function(c){const h=c.split(".")[0],u=c.split(".")[1]||"*";a[h]=a[h]||{},a[h][u]=a[h][u]||{},a[h][u][t._svgjsListenerId]=s,l.addEventListener(h,s,r||!1)})}function ai(i,e,t,n){const r=_n(i),s=Qx(r),o=gd(r);(typeof t!="function"||(t=t._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(rr)).forEach(function(a){const l=a&&a.split(".")[0],c=a&&a.split(".")[1];let h,u;if(t)s[l]&&s[l][c||"*"]&&(o.removeEventListener(l,s[l][c||"*"][t],n||!1),delete s[l][c||"*"][t]);else if(l&&c){if(s[l]&&s[l][c]){for(u in s[l][c])ai(o,[l,c].join("."),u);delete s[l][c]}}else if(c)for(a in s)for(h in s[a])c===h&&ai(o,[a,c].join("."));else if(l){if(s[l]){for(h in s[l])ai(o,[l,h].join("."));delete s[l]}}else{for(a in s)ai(o,a);(function(d){let f=d.getEventHolder();f===ft.window&&(f=Zx),f.events&&(f.events={})})(r)}})}class Ca extends hd{addEventListener(){}dispatch(e,t,n){return function(r,s,o,a){const l=gd(r);return s instanceof ft.window.Event||(s=new ft.window.CustomEvent(s,{detail:o,cancelable:!0,...a})),l.dispatchEvent(s),s}(this,e,t,n)}dispatchEvent(e){const t=this.getEventHolder().events;if(!t)return!0;const n=t[e.type];for(const r in n)for(const s in n[r])n[r][s](e);return!e.defaultPrevented}fire(e,t,n){return this.dispatch(e,t,n),this}getEventHolder(){return this}getEventTarget(){return this}off(e,t,n){return ai(this,e,t,n),this}on(e,t,n,r){return sr(this,e,t,n,r),this}removeEventListener(){}}function eb(){}pt(Ca,"EventTarget");const md=400,_C=">",NC=0,zC={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class gs extends Array{constructor(...e){super(...e),this.init(...e)}clone(){return new this.constructor(this)}init(e){return typeof e=="number"||(this.length=0,this.push(...this.parse(e))),this}parse(e=[]){return e instanceof Array?e:e.trim().split(rr).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const e=[];return e.push(...this),e}}class qe{constructor(...e){this.init(...e)}convert(e){return new qe(this.value,e)}divide(e){return e=new qe(e),new qe(this/e,this.unit||e.unit)}init(e,t){return t=Array.isArray(e)?e[1]:t,e=Array.isArray(e)?e[0]:e,this.value=0,this.unit=t||"",typeof e=="number"?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:typeof e=="string"?(t=e.match(Vx))&&(this.value=parseFloat(t[1]),t[5]==="%"?this.value/=100:t[5]==="s"&&(this.value*=1e3),this.unit=t[5]):e instanceof qe&&(this.value=e.valueOf(),this.unit=e.unit),this}minus(e){return e=new qe(e),new qe(this-e,this.unit||e.unit)}plus(e){return e=new qe(e),new qe(this+e,this.unit||e.unit)}times(e){return e=new qe(e),new qe(this*e,this.unit||e.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(1e8*this.value)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const FC=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),tb=[];class Cr extends Ca{constructor(e,t){super(),this.node=e,this.type=e.nodeName,t&&e!==t&&this.attr(t)}add(e,t){return(e=_n(e)).removeNamespace&&this.node instanceof ft.window.SVGElement&&e.removeNamespace(),t==null?this.node.appendChild(e.node):e.node!==this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this}addTo(e,t){return _n(e).put(this,t)}children(){return new fs(rd(this.node.children,function(e){return oi(e)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(e=!0,t=!0){this.writeDataToDom();let n=this.node.cloneNode(e);return t&&(n=jx(n)),new this.constructor(n)}each(e,t){const n=this.children();let r,s;for(r=0,s=n.length;r<s;r++)e.apply(n[r],[r,n]),t&&n[r].each(e,t);return this}element(e,t){return this.put(new Cr(Sa(e),t))}first(){return oi(this.node.firstChild)}get(e){return oi(this.node.childNodes[e])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(e){return this.index(e)>=0}html(e,t){return this.xml(e,t,"http://www.w3.org/1999/xhtml")}id(e){return e!==void 0||this.node.id||(this.node.id=Yx(this.type)),this.attr("id",e)}index(e){return[].slice.call(this.node.childNodes).indexOf(e.node)}last(){return oi(this.node.lastChild)}matches(e){const t=this.node,n=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector||null;return n&&n.call(t,e)}parent(e){let t=this;if(!t.node.parentNode)return null;if(t=oi(t.node.parentNode),!e)return t;do if(typeof e=="string"?t.matches(e):t instanceof e)return t;while(t=oi(t.node.parentNode));return t}put(e,t){return e=_n(e),this.add(e,t),e}putIn(e,t){return _n(e).add(this,t)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(e){return this.node.removeChild(e.node),this}replace(e){return e=_n(e),this.node.parentNode&&this.node.parentNode.replaceChild(e.node,this.node),e}round(e=2,t=null){const n=10**e,r=this.attr(t);for(const s in r)typeof r[s]=="number"&&(r[s]=Math.round(r[s]*n)/n);return this.attr(r),this}svg(e,t){return this.xml(e,t,ld)}toString(){return this.id()}words(e){return this.node.textContent=e,this}wrap(e){const t=this.parent();if(!t)return this.addTo(e);const n=t.index(this);return t.put(e,n).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(e,t,n){if(typeof e=="boolean"&&(n=t,t=e,e=null),e==null||typeof e=="function"){t=t==null||t,this.writeDataToDom();let a=this;if(e!=null){if(a=oi(a.node.cloneNode(!0)),t){const l=e(a);if(a=l||a,l===!1)return""}a.each(function(){const l=e(this),c=l||this;l===!1?this.remove():l&&this!==c&&this.replace(c)},!0)}return t?a.node.outerHTML:a.node.innerHTML}t=t!=null&&t;const r=Sa("wrapper",n),s=ft.document.createDocumentFragment();r.innerHTML=e;for(let a=r.children.length;a--;)s.appendChild(r.firstElementChild);const o=this.parent();return t?this.replace(s)&&o:this.add(s)}}Ye(Cr,{attr:function(i,e,t){if(i==null){i={},e=this.node.attributes;for(const n of e)i[n.nodeName]=Ux.test(n.nodeValue)?parseFloat(n.nodeValue):n.nodeValue;return i}if(i instanceof Array)return i.reduce((n,r)=>(n[r]=this.attr(r),n),{});if(typeof i=="object"&&i.constructor===Object)for(e in i)this.attr(e,i[e]);else if(e===null)this.node.removeAttribute(i);else{if(e==null)return(e=this.node.getAttribute(i))==null?zC[i]:Ux.test(e)?parseFloat(e):e;typeof(e=tb.reduce((n,r)=>r(i,n,this),e))=="number"?e=new qe(e):FC.has(i)&&kt.isColor(e)?e=new kt(e):e.constructor===Array&&(e=new gs(e)),i==="leading"?this.leading&&this.leading(e):typeof t=="string"?this.node.setAttributeNS(t,i,e.toString()):this.node.setAttribute(i,e.toString()),!this.rebuild||i!=="font-size"&&i!=="x"||this.rebuild()}return this},find:function(i){return ps(i,this.node)},findOne:function(i){return oi(this.node.querySelector(i))}}),pt(Cr,"Dom");let hn=class extends Cr{constructor(i,e){super(i,e),this.dom={},this.node.instance=this,(i.hasAttribute("data-svgjs")||i.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(i.getAttribute("data-svgjs"))??JSON.parse(i.getAttribute("svgjs:data"))??{})}center(i,e){return this.cx(i).cy(e)}cx(i){return i==null?this.x()+this.width()/2:this.x(i-this.width()/2)}cy(i){return i==null?this.y()+this.height()/2:this.y(i-this.height()/2)}defs(){const i=this.root();return i&&i.defs()}dmove(i,e){return this.dx(i).dy(e)}dx(i=0){return this.x(new qe(i).plus(this.x()))}dy(i=0){return this.y(new qe(i).plus(this.y()))}getEventHolder(){return this}height(i){return this.attr("height",i)}move(i,e){return this.x(i).y(e)}parents(i=this.root()){const e=typeof i=="string";e||(i=_n(i));const t=new fs;let n=this;for(;(n=n.parent())&&n.node!==ft.document&&n.nodeName!=="#document-fragment"&&(t.push(n),e||n.node!==i.node)&&(!e||!n.matches(i));)if(n.node===this.root().node)return null;return t}reference(i){if(!(i=this.attr(i)))return null;const e=(i+"").match(EC);return e?_n(e[1]):null}root(){const i=this.parent(function(e){return ds[e]}(ud));return i&&i.root()}setData(i){return this.dom=i,this}size(i,e){const t=lo(this,i,e);return this.width(new qe(t.width)).height(new qe(t.height))}width(i){return this.attr("width",i)}writeDataToDom(){return Wx(this,this.dom),super.writeDataToDom()}x(i){return this.attr("x",i)}y(i){return this.attr("y",i)}};Ye(hn,{bbox:function(){const i=Jx(this,e=>e.getBBox(),e=>{try{const t=e.clone().addTo(Sr().svg).show(),n=t.node.getBBox();return t.remove(),n}catch(t){throw new Error(`Getting bbox of element "${e.node.nodeName}" is not possible: ${t.toString()}`)}});return new Ft(i)},rbox:function(i){const e=Jx(this,n=>n.getBoundingClientRect(),n=>{throw new Error(`Getting rbox of element "${n.node.nodeName}" is not possible`)}),t=new Ft(e);return i?t.transform(i.screenCTM().inverseO()):t.addOffset()},inside:function(i,e){const t=this.bbox();return i>t.x&&e>t.y&&i<t.x+t.width&&e<t.y+t.height},point:function(i,e){return new xt(i,e).transformO(this.screenCTM().inverseO())},ctm:function(){return new Be(this.node.getCTM())},screenCTM:function(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const i=this.rect(1,1),e=i.node.getScreenCTM();return i.remove(),new Be(e)}return new Be(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new Be}}}),pt(hn,"Element");const Aa={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(i,e){return e==="color"?i:i+"-"+e}};["fill","stroke"].forEach(function(i){const e={};let t;e[i]=function(n){if(n===void 0)return this.attr(i);if(typeof n=="string"||n instanceof kt||kt.isRgb(n)||n instanceof hn)this.attr(i,n);else for(t=Aa[i].length-1;t>=0;t--)n[Aa[i][t]]!=null&&this.attr(Aa.prefix(i,Aa[i][t]),n[Aa[i][t]]);return this},nt(["Element","Runner"],e)}),nt(["Element","Runner"],{matrix:function(i,e,t,n,r,s){return i==null?new Be(this):this.attr("transform",new Be(i,e,t,n,r,s))},rotate:function(i,e,t){return this.transform({rotate:i,ox:e,oy:t},!0)},skew:function(i,e,t,n){return arguments.length===1||arguments.length===3?this.transform({skew:i,ox:e,oy:t},!0):this.transform({skew:[i,e],ox:t,oy:n},!0)},shear:function(i,e,t){return this.transform({shear:i,ox:e,oy:t},!0)},scale:function(i,e,t,n){return arguments.length===1||arguments.length===3?this.transform({scale:i,ox:e,oy:t},!0):this.transform({scale:[i,e],ox:t,oy:n},!0)},translate:function(i,e){return this.transform({translate:[i,e]},!0)},relative:function(i,e){return this.transform({relative:[i,e]},!0)},flip:function(i="both",e="center"){return"xybothtrue".indexOf(i)===-1&&(e=i,i="both"),this.transform({flip:i,origin:e},!0)},opacity:function(i){return this.attr("opacity",i)}}),nt("radius",{radius:function(i,e=i){return(this._element||this).type==="radialGradient"?this.attr("r",new qe(i)):this.rx(i).ry(e)}}),nt("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(i){return new xt(this.node.getPointAtLength(i))}}),nt(["Element","Runner"],{font:function(i,e){if(typeof i=="object"){for(e in i)this.font(e,i[e]);return this}return i==="leading"?this.leading(e):i==="anchor"?this.attr("text-anchor",e):i==="size"||i==="family"||i==="weight"||i==="stretch"||i==="variant"||i==="style"?this.attr("font-"+i,e):this.attr(i,e)}}),nt("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(i,e){return i[e]=function(t){return t===null?this.off(e):this.on(e,t),this},i},{})),nt("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(OC).slice(0,-1).map(function(e){const t=e.trim().split("(");return[t[0],t[1].split(rr).map(function(n){return parseFloat(n)})]}).reverse().reduce(function(e,t){return t[0]==="matrix"?e.lmultiply(Be.fromArray(t[1])):e[t[0]].apply(e,t[1])},new Be)},toParent:function(i,e){if(this===i)return this;if(ad(this.node))return this.addTo(i,e);const t=this.screenCTM(),n=i.screenCTM().inverse();return this.addTo(i,e).untransform().transform(n.multiply(t)),this},toRoot:function(i){return this.toParent(this.root(),i)},transform:function(i,e){if(i==null||typeof i=="string"){const n=new Be(this).decompose();return i==null?n:n[i]}Be.isMatrixLike(i)||(i={...i,origin:od(i,this)});const t=new Be(e===!0?this:e||!1).transform(i);return this.attr("transform",t)}});class Nn extends hn{flatten(){return this.each(function(){if(this instanceof Nn)return this.flatten().ungroup()}),this}ungroup(e=this.parent(),t=e.index(this)){return t=t===-1?e.children().length:t,this.each(function(n,r){return r[r.length-n-1].toParent(e,t)}),this.remove()}}pt(Nn,"Container");class sc extends Nn{constructor(e,t=e){super(St("defs",e),t)}flatten(){return this}ungroup(){return this}}pt(sc,"Defs");class Kn extends hn{}function xd(i){return this.attr("rx",i)}function bd(i){return this.attr("ry",i)}function nb(i){return i==null?this.cx()-this.rx():this.cx(i+this.rx())}function ib(i){return i==null?this.cy()-this.ry():this.cy(i+this.ry())}function rb(i){return this.attr("cx",i)}function sb(i){return this.attr("cy",i)}function ob(i){return i==null?2*this.rx():this.rx(new qe(i).divide(2))}function ab(i){return i==null?2*this.ry():this.ry(new qe(i).divide(2))}pt(Kn,"Shape");var BC=Object.freeze({__proto__:null,cx:rb,cy:sb,height:ab,rx:xd,ry:bd,width:ob,x:nb,y:ib});class oc extends Kn{constructor(e,t=e){super(St("ellipse",e),t)}size(e,t){const n=lo(this,e,t);return this.rx(new qe(n.width).divide(2)).ry(new qe(n.height).divide(2))}}Ye(oc,BC),nt("Container",{ellipse:Ct(function(i=0,e=i){return this.put(new oc).size(i,e).move(0,0)})}),pt(oc,"Ellipse");class lb extends Cr{constructor(e=ft.document.createDocumentFragment()){super(e)}xml(e,t,n){if(typeof e=="boolean"&&(n=t,t=e,e=null),e==null||typeof e=="function"){const r=new Cr(Sa("wrapper",n));return r.add(this.node.cloneNode(!0)),r.xml(!1,n)}return super.xml(e,!1,n)}}function cb(i,e){return(this._element||this).type==="radialGradient"?this.attr({fx:new qe(i),fy:new qe(e)}):this.attr({x1:new qe(i),y1:new qe(e)})}function hb(i,e){return(this._element||this).type==="radialGradient"?this.attr({cx:new qe(i),cy:new qe(e)}):this.attr({x2:new qe(i),y2:new qe(e)})}pt(lb,"Fragment");var HC=Object.freeze({__proto__:null,from:cb,to:hb});class Ma extends Nn{constructor(e,t){super(St(e+"Gradient",typeof e=="string"?null:e),t)}attr(e,t,n){return e==="transform"&&(e="gradientTransform"),super.attr(e,t,n)}bbox(){return new Ft}targets(){return ps("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}Ye(Ma,HC),nt({Container:{gradient(...i){return this.defs().gradient(...i)}},Defs:{gradient:Ct(function(i,e){return this.put(new Ma(i)).update(e)})}}),pt(Ma,"Gradient");class Ta extends Nn{constructor(e,t=e){super(St("pattern",e),t)}attr(e,t,n){return e==="transform"&&(e="patternTransform"),super.attr(e,t,n)}bbox(){return new Ft}targets(){return ps("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}nt({Container:{pattern(...i){return this.defs().pattern(...i)}},Defs:{pattern:Ct(function(i,e,t){return this.put(new Ta).update(t).attr({x:0,y:0,width:i,height:e,patternUnits:"userSpaceOnUse"})})}}),pt(Ta,"Pattern");let ac=class extends Kn{constructor(i,e=i){super(St("image",i),e)}load(i,e){if(!i)return this;const t=new ft.window.Image;return sr(t,"load",function(n){const r=this.parent(Ta);this.width()===0&&this.height()===0&&this.size(t.width,t.height),r instanceof Ta&&r.width()===0&&r.height()===0&&r.size(this.width(),this.height()),typeof e=="function"&&e.call(this,n)},this),sr(t,"load error",function(){ai(t)}),this.attr("href",t.src=i,co)}};var ub;ub=function(i,e,t){return i!=="fill"&&i!=="stroke"||PC.test(e)&&(e=t.root().defs().image(e)),e instanceof ac&&(e=t.root().defs().pattern(0,0,n=>{n.add(e)})),e},tb.push(ub),nt({Container:{image:Ct(function(i,e){return this.put(new ac).size(0,0).load(i,e)})}}),pt(ac,"Image");class Ar extends gs{bbox(){let e=-1/0,t=-1/0,n=1/0,r=1/0;return this.forEach(function(s){e=Math.max(s[0],e),t=Math.max(s[1],t),n=Math.min(s[0],n),r=Math.min(s[1],r)}),new Ft(n,r,e-n,t-r)}move(e,t){const n=this.bbox();if(e-=n.x,t-=n.y,!isNaN(e)&&!isNaN(t))for(let r=this.length-1;r>=0;r--)this[r]=[this[r][0]+e,this[r][1]+t];return this}parse(e=[0,0]){const t=[];(e=e instanceof Array?Array.prototype.concat.apply([],e):e.trim().split(rr).map(parseFloat)).length%2!=0&&e.pop();for(let n=0,r=e.length;n<r;n+=2)t.push([e[n],e[n+1]]);return t}size(e,t){let n;const r=this.bbox();for(n=this.length-1;n>=0;n--)r.width&&(this[n][0]=(this[n][0]-r.x)*e/r.width+r.x),r.height&&(this[n][1]=(this[n][1]-r.y)*t/r.height+r.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const e=[];for(let t=0,n=this.length;t<n;t++)e.push(this[t].join(","));return e.join(" ")}transform(e){return this.clone().transformO(e)}transformO(e){Be.isMatrixLike(e)||(e=new Be(e));for(let t=this.length;t--;){const[n,r]=this[t];this[t][0]=e.a*n+e.c*r+e.e,this[t][1]=e.b*n+e.d*r+e.f}return this}}var yd=Object.freeze({__proto__:null,MorphArray:Ar,height:function(i){const e=this.bbox();return i==null?e.height:this.size(e.width,i)},width:function(i){const e=this.bbox();return i==null?e.width:this.size(i,e.height)},x:function(i){return i==null?this.bbox().x:this.move(i,this.bbox().y)},y:function(i){return i==null?this.bbox().y:this.move(this.bbox().x,i)}});let ms=class extends Kn{constructor(i,e=i){super(St("line",i),e)}array(){return new Ar([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(i,e){return this.attr(this.array().move(i,e).toLine())}plot(i,e,t,n){return i==null?this.array():(i=e!==void 0?{x1:i,y1:e,x2:t,y2:n}:new Ar(i).toLine(),this.attr(i))}size(i,e){const t=lo(this,i,e);return this.attr(this.array().size(t.width,t.height).toLine())}};Ye(ms,yd),nt({Container:{line:Ct(function(...i){return ms.prototype.plot.apply(this.put(new ms),i[0]!=null?i:[0,0,0,0])})}}),pt(ms,"Line");let lc=class extends Nn{constructor(i,e=i){super(St("marker",i),e)}height(i){return this.attr("markerHeight",i)}orient(i){return this.attr("orient",i)}ref(i,e){return this.attr("refX",i).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(i){return this.clear(),typeof i=="function"&&i.call(this,this),this}width(i){return this.attr("markerWidth",i)}};function fo(i,e){return function(t){return t==null?this[i]:(this[i]=t,e&&e.call(this),this)}}nt({Container:{marker(...i){return this.defs().marker(...i)}},Defs:{marker:Ct(function(i,e,t){return this.put(new lc).size(i,e).ref(i/2,e/2).viewbox(0,0,i,e).attr("orient","auto").update(t)})},marker:{marker(i,e,t,n){let r=["marker"];return i!=="all"&&r.push(i),r=r.join("-"),i=arguments[1]instanceof lc?arguments[1]:this.defs().marker(e,t,n),this.attr(r,i)}}}),pt(lc,"Marker");const XC={"-":function(i){return i},"<>":function(i){return-Math.cos(i*Math.PI)/2+.5},">":function(i){return Math.sin(i*Math.PI/2)},"<":function(i){return 1-Math.cos(i*Math.PI/2)},bezier:function(i,e,t,n){return function(r){return r<0?i>0?e/i*r:t>0?n/t*r:0:r>1?t<1?(1-n)/(1-t)*r+(n-t)/(1-t):i<1?(1-e)/(1-i)*r+(e-i)/(1-i):1:3*r*(1-r)**2*e+3*r**2*(1-r)*n+r**3}},steps:function(i,e="end"){e=e.split("-").reverse()[0];let t=i;return e==="none"?--t:e==="both"&&++t,(n,r=!1)=>{let s=Math.floor(n*i);const o=n*s%1==0;return e!=="start"&&e!=="both"||++s,r&&o&&--s,n>=0&&s<0&&(s=0),n<=1&&s>t&&(s=t),s/t}}};class vd{done(){return!1}}class wd extends vd{constructor(e=_C){super(),this.ease=XC[e]||e}step(e,t,n){return typeof e!="number"?n<1?e:t:e+(t-e)*this.ease(n)}}class cc extends vd{constructor(e){super(),this.stepper=e}done(e){return e.done}step(e,t,n,r){return this.stepper(e,t,n,r)}}function db(){const i=(this._duration||500)/1e3,e=this._overshoot||0,t=Math.PI,n=Math.log(e/100+1e-10),r=-n/Math.sqrt(t*t+n*n),s=3.9/(r*i);this.d=2*r*s,this.k=s*s}Ye(class extends cc{constructor(i=500,e=0){super(),this.duration(i).overshoot(e)}step(i,e,t,n){if(typeof i=="string")return i;if(n.done=t===1/0,t===1/0)return e;if(t===0)return i;t>100&&(t=16),t/=1e3;const r=n.velocity||0,s=-this.d*r-this.k*(i-e),o=i+r*t+s*t*t/2;return n.velocity=r+s*t,n.done=Math.abs(e-o)+Math.abs(r)<.002,n.done?e:o}},{duration:fo("_duration",db),overshoot:fo("_overshoot",db)}),Ye(class extends cc{constructor(i=.1,e=.01,t=0,n=1e3){super(),this.p(i).i(e).d(t).windup(n)}step(i,e,t,n){if(typeof i=="string")return i;if(n.done=t===1/0,t===1/0)return e;if(t===0)return i;const r=e-i;let s=(n.integral||0)+r*t;const o=(r-(n.error||0))/t,a=this._windup;return a!==!1&&(s=Math.max(-a,Math.min(s,a))),n.error=r,n.integral=s,n.done=Math.abs(r)<.001,n.done?e:i+(this.P*r+this.I*s+this.D*o)}},{windup:fo("_windup"),p:fo("P"),i:fo("I"),d:fo("D")});const WC={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},kd={M:function(i,e,t){return e.x=t.x=i[0],e.y=t.y=i[1],["M",e.x,e.y]},L:function(i,e){return e.x=i[0],e.y=i[1],["L",i[0],i[1]]},H:function(i,e){return e.x=i[0],["H",i[0]]},V:function(i,e){return e.y=i[0],["V",i[0]]},C:function(i,e){return e.x=i[4],e.y=i[5],["C",i[0],i[1],i[2],i[3],i[4],i[5]]},S:function(i,e){return e.x=i[2],e.y=i[3],["S",i[0],i[1],i[2],i[3]]},Q:function(i,e){return e.x=i[2],e.y=i[3],["Q",i[0],i[1],i[2],i[3]]},T:function(i,e){return e.x=i[0],e.y=i[1],["T",i[0],i[1]]},Z:function(i,e,t){return e.x=t.x,e.y=t.y,["Z"]},A:function(i,e){return e.x=i[5],e.y=i[6],["A",i[0],i[1],i[2],i[3],i[4],i[5],i[6]]}},Sd="mlhvqtcsaz".split("");for(let i=0,e=Sd.length;i<e;++i)kd[Sd[i]]=function(t){return function(n,r,s){if(t==="H")n[0]=n[0]+r.x;else if(t==="V")n[0]=n[0]+r.y;else if(t==="A")n[5]=n[5]+r.x,n[6]=n[6]+r.y;else for(let o=0,a=n.length;o<a;++o)n[o]=n[o]+(o%2?r.y:r.x);return kd[t](n,r,s)}}(Sd[i].toUpperCase());function Cd(i){return i.segment.length&&i.segment.length-1===WC[i.segment[0].toUpperCase()]}function YC(i,e){i.inNumber&&xs(i,!1);const t=fd.test(e);if(t)i.segment=[e];else{const n=i.lastCommand,r=n.toLowerCase(),s=n===r;i.segment=[r==="m"?s?"l":"L":n]}return i.inSegment=!0,i.lastCommand=i.segment[0],t}function xs(i,e){if(!i.inNumber)throw new Error("Parser Error");i.number&&i.segment.push(parseFloat(i.number)),i.inNumber=e,i.number="",i.pointSeen=!1,i.hasExponent=!1,Cd(i)&&Ad(i)}function Ad(i){i.inSegment=!1,i.absolute&&(i.segment=function(e){const t=e.segment[0];return kd[t](e.segment.slice(1),e.p,e.p0)}(i)),i.segments.push(i.segment)}function jC(i){if(!i.segment.length)return!1;const e=i.segment[0].toUpperCase()==="A",t=i.segment.length;return e&&(t===4||t===5)}function VC(i){return i.lastToken.toUpperCase()==="E"}const $C=new Set([" ",",","	",`
  `,"\r","\f"]);class Si extends gs{bbox(){return Sr().path.setAttribute("d",this.toString()),new Ft(Sr.nodes.path.getBBox())}move(e,t){const n=this.bbox();if(e-=n.x,t-=n.y,!isNaN(e)&&!isNaN(t))for(let r,s=this.length-1;s>=0;s--)r=this[s][0],r==="M"||r==="L"||r==="T"?(this[s][1]+=e,this[s][2]+=t):r==="H"?this[s][1]+=e:r==="V"?this[s][1]+=t:r==="C"||r==="S"||r==="Q"?(this[s][1]+=e,this[s][2]+=t,this[s][3]+=e,this[s][4]+=t,r==="C"&&(this[s][5]+=e,this[s][6]+=t)):r==="A"&&(this[s][6]+=e,this[s][7]+=t);return this}parse(e="M0 0"){return Array.isArray(e)&&(e=Array.prototype.concat.apply([],e).toString()),function(t,n=!0){let r=0,s="";const o={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:n,p0:new xt,p:new xt};for(;o.lastToken=s,s=t.charAt(r++);)if(o.inSegment||!YC(o,s))if(s!==".")if(isNaN(parseInt(s)))if($C.has(s))o.inNumber&&xs(o,!1);else if(s!=="-"&&s!=="+")if(s.toUpperCase()!=="E"){if(fd.test(s)){if(o.inNumber)xs(o,!1);else{if(!Cd(o))throw new Error("parser Error");Ad(o)}--r}}else o.number+=s,o.hasExponent=!0;else{if(o.inNumber&&!VC(o)){xs(o,!1),--r;continue}o.number+=s,o.inNumber=!0}else{if(o.number==="0"||jC(o)){o.inNumber=!0,o.number=s,xs(o,!0);continue}o.inNumber=!0,o.number+=s}else{if(o.pointSeen||o.hasExponent){xs(o,!1),--r;continue}o.inNumber=!0,o.pointSeen=!0,o.number+=s}return o.inNumber&&xs(o,!1),o.inSegment&&Cd(o)&&Ad(o),o.segments}(e)}size(e,t){const n=this.bbox();let r,s;for(n.width=n.width===0?1:n.width,n.height=n.height===0?1:n.height,r=this.length-1;r>=0;r--)s=this[r][0],s==="M"||s==="L"||s==="T"?(this[r][1]=(this[r][1]-n.x)*e/n.width+n.x,this[r][2]=(this[r][2]-n.y)*t/n.height+n.y):s==="H"?this[r][1]=(this[r][1]-n.x)*e/n.width+n.x:s==="V"?this[r][1]=(this[r][1]-n.y)*t/n.height+n.y:s==="C"||s==="S"||s==="Q"?(this[r][1]=(this[r][1]-n.x)*e/n.width+n.x,this[r][2]=(this[r][2]-n.y)*t/n.height+n.y,this[r][3]=(this[r][3]-n.x)*e/n.width+n.x,this[r][4]=(this[r][4]-n.y)*t/n.height+n.y,s==="C"&&(this[r][5]=(this[r][5]-n.x)*e/n.width+n.x,this[r][6]=(this[r][6]-n.y)*t/n.height+n.y)):s==="A"&&(this[r][1]=this[r][1]*e/n.width,this[r][2]=this[r][2]*t/n.height,this[r][6]=(this[r][6]-n.x)*e/n.width+n.x,this[r][7]=(this[r][7]-n.y)*t/n.height+n.y);return this}toString(){return function(e){let t="";for(let n=0,r=e.length;n<r;n++)t+=e[n][0],e[n][1]!=null&&(t+=e[n][1],e[n][2]!=null&&(t+=" ",t+=e[n][2],e[n][3]!=null&&(t+=" ",t+=e[n][3],t+=" ",t+=e[n][4],e[n][5]!=null&&(t+=" ",t+=e[n][5],t+=" ",t+=e[n][6],e[n][7]!=null&&(t+=" ",t+=e[n][7])))));return t+" "}(this)}}const fb=i=>{const e=typeof i;return e==="number"?qe:e==="string"?kt.isColor(i)?kt:rr.test(i)?fd.test(i)?Si:gs:Vx.test(i)?qe:Md:Td.indexOf(i.constructor)>-1?i.constructor:Array.isArray(i)?gs:e==="object"?Oa:Md};class bs{constructor(e){this._stepper=e||new wd("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(e){return this._morphObj.morph(this._from,this._to,e,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(e,t){return e&&t},!0)}from(e){return e==null?this._from:(this._from=this._set(e),this)}stepper(e){return e==null?this._stepper:(this._stepper=e,this)}to(e){return e==null?this._to:(this._to=this._set(e),this)}type(e){return e==null?this._type:(this._type=e,this)}_set(e){this._type||this.type(fb(e));let t=new this._type(e);return this._type===kt&&(t=this._to?t[this._to[4]]():this._from?t[this._from[4]]():t),this._type===Oa&&(t=this._to?t.align(this._to):this._from?t.align(this._from):t),t=t.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(t.length)).map(Object).map(function(n){return n.done=!0,n}),t}}class Md{constructor(...e){this.init(...e)}init(e){return e=Array.isArray(e)?e[0]:e,this.value=e,this}toArray(){return[this.value]}valueOf(){return this.value}}class Ea{constructor(...e){this.init(...e)}init(e){return Array.isArray(e)&&(e={scaleX:e[0],scaleY:e[1],shear:e[2],rotate:e[3],translateX:e[4],translateY:e[5],originX:e[6],originY:e[7]}),Object.assign(this,Ea.defaults,e),this}toArray(){const e=this;return[e.scaleX,e.scaleY,e.shear,e.rotate,e.translateX,e.translateY,e.originX,e.originY]}}Ea.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const GC=(i,e)=>i[0]<e[0]?-1:i[0]>e[0]?1:0;class Oa{constructor(...e){this.init(...e)}align(e){const t=this.values;for(let n=0,r=t.length;n<r;++n){if(t[n+1]===e[n+1]){if(t[n+1]===kt&&e[n+7]!==t[n+7]){const a=e[n+7],l=new kt(this.values.splice(n+3,5))[a]().toArray();this.values.splice(n+3,0,...l)}n+=t[n+2]+2;continue}if(!e[n+1])return this;const s=new e[n+1]().toArray(),o=t[n+2]+3;t.splice(n,o,e[n],e[n+1],e[n+2],...s),n+=t[n+2]+2}return this}init(e){if(this.values=[],Array.isArray(e))return void(this.values=e.slice());e=e||{};const t=[];for(const n in e){const r=fb(e[n]),s=new r(e[n]).toArray();t.push([n,r,s.length,...s])}return t.sort(GC),this.values=t.reduce((n,r)=>n.concat(r),[]),this}toArray(){return this.values}valueOf(){const e={},t=this.values;for(;t.length;){const n=t.shift(),r=t.shift(),s=t.shift(),o=t.splice(0,s);e[n]=new r(o)}return e}}const Td=[Md,Ea,Oa];class po extends Kn{constructor(e,t=e){super(St("path",e),t)}array(){return this._array||(this._array=new Si(this.attr("d")))}clear(){return delete this._array,this}height(e){return e==null?this.bbox().height:this.size(this.bbox().width,e)}move(e,t){return this.attr("d",this.array().move(e,t))}plot(e){return e==null?this.array():this.clear().attr("d",typeof e=="string"?e:this._array=new Si(e))}size(e,t){const n=lo(this,e,t);return this.attr("d",this.array().size(n.width,n.height))}width(e){return e==null?this.bbox().width:this.size(e,this.bbox().height)}x(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)}y(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)}}po.prototype.MorphArray=Si,nt({Container:{path:Ct(function(i){return this.put(new po).plot(i||new Si)})}}),pt(po,"Path");var pb=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new Ar(this.attr("points")))},clear:function(){return delete this._array,this},move:function(i,e){return this.attr("points",this.array().move(i,e))},plot:function(i){return i==null?this.array():this.clear().attr("points",typeof i=="string"?i:this._array=new Ar(i))},size:function(i,e){const t=lo(this,i,e);return this.attr("points",this.array().size(t.width,t.height))}});class ys extends Kn{constructor(e,t=e){super(St("polygon",e),t)}}nt({Container:{polygon:Ct(function(i){return this.put(new ys).plot(i||new Ar)})}}),Ye(ys,yd),Ye(ys,pb),pt(ys,"Polygon");class vs extends Kn{constructor(e,t=e){super(St("polyline",e),t)}}nt({Container:{polyline:Ct(function(i){return this.put(new vs).plot(i||new Ar)})}}),Ye(vs,yd),Ye(vs,pb),pt(vs,"Polyline");class hc extends Kn{constructor(e,t=e){super(St("rect",e),t)}}Ye(hc,{rx:xd,ry:bd}),nt({Container:{rect:Ct(function(i,e){return this.put(new hc).size(i,e)})}}),pt(hc,"Rect");class Ed{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(e){const t=e.next!==void 0?e:{value:e,next:null,prev:null};return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._last=t,this._first=t),t}remove(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this._last&&(this._last=e.prev),e===this._first&&(this._first=e.next),e.prev=null,e.next=null}shift(){const e=this._first;return e?(this._first=e.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,e.value):null}}const wt={nextDraw:null,frames:new Ed,timeouts:new Ed,immediates:new Ed,timer:()=>ft.window.performance||ft.window.Date,transforms:[],frame(i){const e=wt.frames.push({run:i});return wt.nextDraw===null&&(wt.nextDraw=ft.window.requestAnimationFrame(wt._draw)),e},timeout(i,e){e=e||0;const t=wt.timer().now()+e,n=wt.timeouts.push({run:i,time:t});return wt.nextDraw===null&&(wt.nextDraw=ft.window.requestAnimationFrame(wt._draw)),n},immediate(i){const e=wt.immediates.push(i);return wt.nextDraw===null&&(wt.nextDraw=ft.window.requestAnimationFrame(wt._draw)),e},cancelFrame(i){i!=null&&wt.frames.remove(i)},clearTimeout(i){i!=null&&wt.timeouts.remove(i)},cancelImmediate(i){i!=null&&wt.immediates.remove(i)},_draw(i){let e=null;const t=wt.timeouts.last();for(;(e=wt.timeouts.shift())&&(i>=e.time?e.run():wt.timeouts.push(e),e!==t););let n=null;const r=wt.frames.last();for(;n!==r&&(n=wt.frames.shift());)n.run(i);let s=null;for(;s=wt.immediates.shift();)s();wt.nextDraw=wt.timeouts.first()||wt.frames.first()?ft.window.requestAnimationFrame(wt._draw):null}},qC=function(i){const e=i.start,t=i.runner.duration();return{start:e,duration:t,end:e+t,runner:i.runner}},UC=function(){const i=ft.window;return(i.performance||i.Date).now()};class gb extends Ca{constructor(e=UC){super(),this._timeSource=e,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const e=this.getLastRunnerInfo(),t=e?e.runner.duration():0;return(e?e.start:this._time)+t}getEndTimeOfTimeline(){const e=this._runners.map(t=>t.start+t.runner.duration());return Math.max(0,...e)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(e){return this._runners[this._runnerIds.indexOf(e)]||null}pause(){return this._paused=!0,this._continue()}persist(e){return e==null?this._persist:(this._persist=e,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(e){const t=this.speed();if(e==null)return this.speed(-t);const n=Math.abs(t);return this.speed(e?-n:n)}schedule(e,t,n){if(e==null)return this._runners.map(qC);let r=0;const s=this.getEndTime();if(t=t||0,n==null||n==="last"||n==="after")r=s;else if(n==="absolute"||n==="start")r=t,t=0;else if(n==="now")r=this._time;else if(n==="relative"){const l=this.getRunnerInfoById(e.id);l&&(r=l.start+t,t=0)}else{if(n!=="with-last")throw new Error('Invalid value for the "when" parameter');{const l=this.getLastRunnerInfo();r=l?l.start:this._time}}e.unschedule(),e.timeline(this);const o=e.persist(),a={persist:o===null?this._persist:o,start:r+t,runner:e};return this._lastRunnerId=e.id,this._runners.push(a),this._runners.sort((l,c)=>l.start-c.start),this._runnerIds=this._runners.map(l=>l.runner.id),this.updateTime()._continue(),this}seek(e){return this.time(this._time+e)}source(e){return e==null?this._timeSource:(this._timeSource=e,this)}speed(e){return e==null?this._speed:(this._speed=e,this)}stop(){return this.time(0),this.pause()}time(e){return e==null?this._time:(this._time=e,this._continue(!0))}unschedule(e){const t=this._runnerIds.indexOf(e.id);return t<0||(this._runners.splice(t,1),this._runnerIds.splice(t,1),e.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(e=!1){return wt.cancelFrame(this._nextFrame),this._nextFrame=null,e?this._stepImmediate():(this._paused||(this._nextFrame=wt.frame(this._step)),this)}_stepFn(e=!1){const t=this._timeSource();let n=t-this._lastSourceTime;e&&(n=0);const r=this._speed*n+(this._time-this._lastStepTime);this._lastSourceTime=t,e||(this._time+=r,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let o=this._runners.length;o--;){const a=this._runners[o],l=a.runner;this._time-a.start<=0&&l.reset()}let s=!1;for(let o=0,a=this._runners.length;o<a;o++){const l=this._runners[o],c=l.runner;let h=r;const u=this._time-l.start;if(u<=0){s=!0;continue}u<h&&(h=u),c.active()&&(c.step(h).done?l.persist!==!0&&c.duration()-c.time()+this._time+l.persist<this._time&&(c.unschedule(),--o,--a):s=!0)}return s&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}nt({Element:{timeline:function(i){return i==null?(this._timeline=this._timeline||new gb,this._timeline):(this._timeline=i,this)}}});class Jn extends Ca{constructor(e){super(),this.id=Jn.id++,e=typeof(e=e??md)=="function"?new cc(e):e,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof e=="number"&&e,this._isDeclarative=e instanceof cc,this._stepper=this._isDeclarative?e:new wd,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new Be,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(e,t,n){let r=1,s=!1,o=0;return t=t??NC,n=n||"last",typeof(e=e??md)!="object"||e instanceof vd||(t=e.delay??t,n=e.when??n,s=e.swing||s,r=e.times??r,o=e.wait??o,e=e.duration??md),{duration:e,delay:t,swing:s,times:r,wait:o,when:n}}active(e){return e==null?this.enabled:(this.enabled=e,this)}addTransform(e){return this.transforms.lmultiplyO(e),this}after(e){return this.on("finished",e)}animate(e,t,n){const r=Jn.sanitise(e,t,n),s=new Jn(r.duration);return this._timeline&&s.timeline(this._timeline),this._element&&s.element(this._element),s.loop(r).schedule(r.delay,r.when)}clearTransform(){return this.transforms=new Be,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter(e=>!e.isTransform))}delay(e){return this.animate(0,e)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(e){return this.queue(null,e)}ease(e){return this._stepper=new wd(e),this}element(e){return e==null?this._element:(this._element=e,e._prepareRunner(),this)}finish(){return this.step(1/0)}loop(e,t,n){return typeof e=="object"&&(t=e.swing,n=e.wait,e=e.times),this._times=e||1/0,this._swing=t||!1,this._wait=n||0,this._times===!0&&(this._times=1/0),this}loops(e){const t=this._duration+this._wait;if(e==null){const s=Math.floor(this._time/t),o=(this._time-s*t)/this._duration;return Math.min(s+o,this._times)}const n=e%1,r=t*Math.floor(e)+this._duration*n;return this.time(r)}persist(e){return e==null?this._persist:(this._persist=e,this)}position(e){const t=this._time,n=this._duration,r=this._wait,s=this._times,o=this._swing,a=this._reverse;let l;if(e==null){const u=function(f){const p=o*Math.floor(f%(2*(r+n))/(r+n)),m=p&&!a||!p&&a,b=Math.pow(-1,m)*(f%(r+n))/n+m;return Math.max(Math.min(b,1),0)},d=s*(r+n)-r;return l=t<=0?Math.round(u(1e-5)):t<d?u(t):Math.round(u(d-1e-5)),l}const c=Math.floor(this.loops()),h=o&&c%2==0;return l=c+(h&&!a||a&&h?e:1-e),this.loops(l)}progress(e){return e==null?Math.min(1,this._time/this.duration()):this.time(e*this.duration())}queue(e,t,n,r){return this._queue.push({initialiser:e||eb,runner:t||eb,retarget:n,isTransform:r,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(e){return this._reverse=e??!this._reverse,this}schedule(e,t,n){if(e instanceof gb||(n=t,t=e,e=this.timeline()),!e)throw Error("Runner cannot be scheduled without timeline");return e.schedule(this,t,n),this}step(e){if(!this.enabled)return this;e=e??16,this._time+=e;const t=this.position(),n=this._lastPosition!==t&&this._time>=0;this._lastPosition=t;const r=this.duration(),s=this._lastTime<=0&&this._time>0,o=this._lastTime<r&&this._time>=r;this._lastTime=this._time,s&&this.fire("start",this);const a=this._isDeclarative;this.done=!a&&!o&&this._time>=r,this._reseted=!1;let l=!1;return(n||a)&&(this._initialise(n),this.transforms=new Be,l=this._run(a?e:t),this.fire("step",this)),this.done=this.done||l&&a,o&&this.fire("finished",this),this}time(e){if(e==null)return this._time;const t=e-this._time;return this.step(t),this}timeline(e){return e===void 0?this._timeline:(this._timeline=e,this)}unschedule(){const e=this.timeline();return e&&e.unschedule(this),this}_initialise(e){if(e||this._isDeclarative)for(let t=0,n=this._queue.length;t<n;++t){const r=this._queue[t],s=this._isDeclarative||!r.initialised&&e;e=!r.finished,s&&e&&(r.initialiser.call(this),r.initialised=!0)}}_rememberMorpher(e,t){if(this._history[e]={morpher:t,caller:this._queue[this._queue.length-1]},this._isDeclarative){const n=this.timeline();n&&n.play()}}_run(e){let t=!0;for(let n=0,r=this._queue.length;n<r;++n){const s=this._queue[n],o=s.runner.call(this,e);s.finished=s.finished||o===!0,t=t&&s.finished}return t}_tryRetarget(e,t,n){if(this._history[e]){if(!this._history[e].caller.initialised){const s=this._queue.indexOf(this._history[e].caller);return this._queue.splice(s,1),!1}this._history[e].caller.retarget?this._history[e].caller.retarget.call(this,t,n):this._history[e].morpher.to(t),this._history[e].caller.finished=!1;const r=this.timeline();return r&&r.play(),!0}return!1}}Jn.id=0;class uc{constructor(e=new Be,t=-1,n=!0){this.transforms=e,this.id=t,this.done=n}clearTransformsFromQueue(){}}Ye([Jn,uc],{mergeWith(i){return new uc(i.transforms.lmultiply(this.transforms),i.id)}});const mb=(i,e)=>i.lmultiplyO(e),xb=i=>i.transforms;function KC(){const i=this._transformationRunners.runners.map(xb).reduce(mb,new Be);this.transform(i),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class JC{constructor(){this.runners=[],this.ids=[]}add(e){if(this.runners.includes(e))return;const t=e.id+1;return this.runners.push(e),this.ids.push(t),this}clearBefore(e){const t=this.ids.indexOf(e+1)||1;return this.ids.splice(0,t,0),this.runners.splice(0,t,new uc).forEach(n=>n.clearTransformsFromQueue()),this}edit(e,t){const n=this.ids.indexOf(e+1);return this.ids.splice(n,1,e+1),this.runners.splice(n,1,t),this}getByID(e){return this.runners[this.ids.indexOf(e+1)]}length(){return this.ids.length}merge(){let e=null;for(let t=0;t<this.runners.length;++t){const n=this.runners[t];if(e&&n.done&&e.done&&(!n._timeline||!n._timeline._runnerIds.includes(n.id))&&(!e._timeline||!e._timeline._runnerIds.includes(e.id))){this.remove(n.id);const r=n.mergeWith(e);this.edit(e.id,r),e=r,--t}else e=n}return this}remove(e){const t=this.ids.indexOf(e+1);return this.ids.splice(t,1),this.runners.splice(t,1),this}}nt({Element:{animate(i,e,t){const n=Jn.sanitise(i,e,t),r=this.timeline();return new Jn(n.duration).loop(n).element(this).timeline(r.play()).schedule(n.delay,n.when)},delay(i,e){return this.animate(0,i,e)},_clearTransformRunnersBefore(i){this._transformationRunners.clearBefore(i.id)},_currentTransform(i){return this._transformationRunners.runners.filter(e=>e.id<=i.id).map(xb).reduce(mb,new Be)},_addRunner(i){this._transformationRunners.add(i),wt.cancelImmediate(this._frameId),this._frameId=wt.immediate(KC.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new JC().add(new uc(new Be(this))))}}}),Ye(Jn,{attr(i,e){return this.styleAttr("attr",i,e)},css(i,e){return this.styleAttr("css",i,e)},styleAttr(i,e,t){if(typeof e=="string")return this.styleAttr(i,{[e]:t});let n=e;if(this._tryRetarget(i,n))return this;let r=new bs(this._stepper).to(n),s=Object.keys(n);return this.queue(function(){r=r.from(this.element()[i](s))},function(o){return this.element()[i](r.at(o).valueOf()),r.done()},function(o){const a=Object.keys(o),l=(c=s,a.filter(u=>!c.includes(u)));var c;if(l.length){const u=this.element()[i](l),d=new Oa(r.from()).valueOf();Object.assign(d,u),r.from(d)}const h=new Oa(r.to()).valueOf();Object.assign(h,o),r.to(h),s=a,n=o}),this._rememberMorpher(i,r),this},zoom(i,e){if(this._tryRetarget("zoom",i,e))return this;let t=new bs(this._stepper).to(new qe(i));return this.queue(function(){t=t.from(this.element().zoom())},function(n){return this.element().zoom(t.at(n),e),t.done()},function(n,r){e=r,t.to(n)}),this._rememberMorpher("zoom",t),this},transform(i,e,t){if(e=i.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",i))return this;const n=Be.isMatrixLike(i);t=i.affine!=null?i.affine:t??!n;const r=new bs(this._stepper).type(t?Ea:Be);let s,o,a,l,c;return this.queue(function(){o=o||this.element(),s=s||od(i,o),c=new Be(e?void 0:o),o._addRunner(this),e||o._clearTransformRunnersBefore(this)},function(h){e||this.clearTransform();const{x:u,y:d}=new xt(s).transform(o._currentTransform(this));let f=new Be({...i,origin:[u,d]}),p=this._isDeclarative&&a?a:c;if(t){f=f.decompose(u,d),p=p.decompose(u,d);const b=f.rotate,y=p.rotate,w=[b-360,b,b+360],C=w.map(E=>Math.abs(E-y)),T=Math.min(...C),S=C.indexOf(T);f.rotate=w[S]}e&&(n||(f.rotate=i.rotate||0),this._isDeclarative&&l&&(p.rotate=l)),r.from(p),r.to(f);const m=r.at(h);return l=m.rotate,a=new Be(m),this.addTransform(a),o._addRunner(this),r.done()},function(h){(h.origin||"center").toString()!==(i.origin||"center").toString()&&(s=od(h,o)),i={...h,origin:s}},!0),this._isDeclarative&&this._rememberMorpher("transform",r),this},x(i){return this._queueNumber("x",i)},y(i){return this._queueNumber("y",i)},ax(i){return this._queueNumber("ax",i)},ay(i){return this._queueNumber("ay",i)},dx(i=0){return this._queueNumberDelta("x",i)},dy(i=0){return this._queueNumberDelta("y",i)},dmove(i,e){return this.dx(i).dy(e)},_queueNumberDelta(i,e){if(e=new qe(e),this._tryRetarget(i,e))return this;const t=new bs(this._stepper).to(e);let n=null;return this.queue(function(){n=this.element()[i](),t.from(n),t.to(n+e)},function(r){return this.element()[i](t.at(r)),t.done()},function(r){t.to(n+new qe(r))}),this._rememberMorpher(i,t),this},_queueObject(i,e){if(this._tryRetarget(i,e))return this;const t=new bs(this._stepper).to(e);return this.queue(function(){t.from(this.element()[i]())},function(n){return this.element()[i](t.at(n)),t.done()}),this._rememberMorpher(i,t),this},_queueNumber(i,e){return this._queueObject(i,new qe(e))},cx(i){return this._queueNumber("cx",i)},cy(i){return this._queueNumber("cy",i)},move(i,e){return this.x(i).y(e)},amove(i,e){return this.ax(i).ay(e)},center(i,e){return this.cx(i).cy(e)},size(i,e){let t;return i&&e||(t=this._element.bbox()),i||(i=t.width/t.height*e),e||(e=t.height/t.width*i),this.width(i).height(e)},width(i){return this._queueNumber("width",i)},height(i){return this._queueNumber("height",i)},plot(i,e,t,n){if(arguments.length===4)return this.plot([i,e,t,n]);if(this._tryRetarget("plot",i))return this;const r=new bs(this._stepper).type(this._element.MorphArray).to(i);return this.queue(function(){r.from(this._element.array())},function(s){return this._element.plot(r.at(s)),r.done()}),this._rememberMorpher("plot",r),this},leading(i){return this._queueNumber("leading",i)},viewbox(i,e,t,n){return this._queueObject("viewbox",new Ft(i,e,t,n))},update(i){return typeof i!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(i.opacity!=null&&this.attr("stop-opacity",i.opacity),i.color!=null&&this.attr("stop-color",i.color),i.offset!=null&&this.attr("offset",i.offset),this)}}),Ye(Jn,{rx:xd,ry:bd,from:cb,to:hb}),pt(Jn,"Runner");class Od extends Nn{constructor(e,t=e){super(St("svg",e),t),this.namespace()}defs(){return this.isRoot()?oi(this.node.querySelector("defs"))||this.put(new sc):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof ft.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:ld,version:"1.1"}).attr("xmlns:xlink",co,cd):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,cd).attr("xmlns:svgjs",null,cd)}root(){return this.isRoot()?this:super.root()}}nt({Container:{nested:Ct(function(){return this.put(new Od)})}}),pt(Od,"Svg",!0);let Id=class extends Nn{constructor(i,e=i){super(St("symbol",i),e)}};nt({Container:{symbol:Ct(function(){return this.put(new Id)})}}),pt(Id,"Symbol");var bb=Object.freeze({__proto__:null,amove:function(i,e){return this.ax(i).ay(e)},ax:function(i){return this.attr("x",i)},ay:function(i){return this.attr("y",i)},build:function(i){return this._build=!!i,this},center:function(i,e,t=this.bbox()){return this.cx(i,t).cy(e,t)},cx:function(i,e=this.bbox()){return i==null?e.cx:this.attr("x",this.attr("x")+i-e.cx)},cy:function(i,e=this.bbox()){return i==null?e.cy:this.attr("y",this.attr("y")+i-e.cy)},length:function(){return this.node.getComputedTextLength()},move:function(i,e,t=this.bbox()){return this.x(i,t).y(e,t)},plain:function(i){return this._build===!1&&this.clear(),this.node.appendChild(ft.document.createTextNode(i)),this},x:function(i,e=this.bbox()){return i==null?e.x:this.attr("x",this.attr("x")+i-e.x)},y:function(i,e=this.bbox()){return i==null?e.y:this.attr("y",this.attr("y")+i-e.y)}});class Ci extends Kn{constructor(e,t=e){super(St("text",e),t),this.dom.leading=this.dom.leading??new qe(1.3),this._rebuild=!0,this._build=!1}leading(e){return e==null?this.dom.leading:(this.dom.leading=new qe(e),this.rebuild())}rebuild(e){if(typeof e=="boolean"&&(this._rebuild=e),this._rebuild){const t=this;let n=0;const r=this.dom.leading;this.each(function(s){if(ad(this.node))return;const o=ft.window.getComputedStyle(this.node).getPropertyValue("font-size"),a=r*new qe(o);this.dom.newLined&&(this.attr("x",t.attr("x")),this.text()===`
  `?n+=a:(this.attr("dy",s?a+n:0),n=0))}),this.fire("rebuild")}return this}setData(e){return this.dom=e,this.dom.leading=new qe(e.leading||1.3),this}writeDataToDom(){return Wx(this,this.dom,{leading:1.3}),this}text(e){if(e===void 0){const t=this.node.childNodes;let n=0;e="";for(let r=0,s=t.length;r<s;++r)t[r].nodeName==="textPath"||ad(t[r])?r===0&&(n=r+1):(r!==n&&t[r].nodeType!==3&&oi(t[r]).dom.newLined===!0&&(e+=`
  `),e+=t[r].textContent);return e}if(this.clear().build(!0),typeof e=="function")e.call(this,this);else for(let t=0,n=(e=(e+"").split(`
  `)).length;t<n;t++)this.newLine(e[t]);return this.build(!1).rebuild()}}Ye(Ci,bb),nt({Container:{text:Ct(function(i=""){return this.put(new Ci).text(i)}),plain:Ct(function(i=""){return this.put(new Ci).plain(i)})}}),pt(Ci,"Text");class dc extends Kn{constructor(e,t=e){super(St("tspan",e),t),this._build=!1}dx(e){return this.attr("dx",e)}dy(e){return this.attr("dy",e)}newLine(){this.dom.newLined=!0;const e=this.parent();if(!(e instanceof Ci))return this;const t=e.index(this),n=ft.window.getComputedStyle(this.node).getPropertyValue("font-size"),r=e.dom.leading*new qe(n);return this.dy(t?r:0).attr("x",e.x())}text(e){return e==null?this.node.textContent+(this.dom.newLined?`
  `:""):(typeof e=="function"?(this.clear().build(!0),e.call(this,this),this.build(!1)):this.plain(e),this)}}Ye(dc,bb),nt({Tspan:{tspan:Ct(function(i=""){const e=new dc;return this._build||this.clear(),this.put(e).text(i)})},Text:{newLine:function(i=""){return this.tspan(i).newLine()}}}),pt(dc,"Tspan");class Pd extends Kn{constructor(e,t=e){super(St("circle",e),t)}radius(e){return this.attr("r",e)}rx(e){return this.attr("r",e)}ry(e){return this.rx(e)}size(e){return this.radius(new qe(e).divide(2))}}Ye(Pd,{x:nb,y:ib,cx:rb,cy:sb,width:ob,height:ab}),nt({Container:{circle:Ct(function(i=0){return this.put(new Pd).size(i).move(0,0)})}}),pt(Pd,"Circle");class Ld extends Nn{constructor(e,t=e){super(St("clipPath",e),t)}remove(){return this.targets().forEach(function(e){e.unclip()}),super.remove()}targets(){return ps("svg [clip-path*="+this.id()+"]")}}nt({Container:{clip:Ct(function(){return this.defs().put(new Ld)})},Element:{clipper(){return this.reference("clip-path")},clipWith(i){const e=i instanceof Ld?i:this.parent().clip().add(i);return this.attr("clip-path","url(#"+e.id()+")")},unclip(){return this.attr("clip-path",null)}}}),pt(Ld,"ClipPath");class yb extends hn{constructor(e,t=e){super(St("foreignObject",e),t)}}nt({Container:{foreignObject:Ct(function(i,e){return this.put(new yb).size(i,e)})}}),pt(yb,"ForeignObject");var vb=Object.freeze({__proto__:null,dmove:function(i,e){return this.children().forEach(t=>{let n;try{n=t.node instanceof ka().SVGSVGElement?new Ft(t.attr(["x","y","width","height"])):t.bbox()}catch{return}const r=new Be(t),s=r.translate(i,e).transform(r.inverse()),o=new xt(n.x,n.y).transform(s);t.move(o.x,o.y)}),this},dx:function(i){return this.dmove(i,0)},dy:function(i){return this.dmove(0,i)},height:function(i,e=this.bbox()){return i==null?e.height:this.size(e.width,i,e)},move:function(i=0,e=0,t=this.bbox()){const n=i-t.x,r=e-t.y;return this.dmove(n,r)},size:function(i,e,t=this.bbox()){const n=lo(this,i,e,t),r=n.width/t.width,s=n.height/t.height;return this.children().forEach(o=>{const a=new xt(t).transform(new Be(o).inverse());o.scale(r,s,a.x,a.y)}),this},width:function(i,e=this.bbox()){return i==null?e.width:this.size(i,e.height,e)},x:function(i,e=this.bbox()){return i==null?e.x:this.move(i,e.y,e)},y:function(i,e=this.bbox()){return i==null?e.y:this.move(e.x,i,e)}});class Mr extends Nn{constructor(e,t=e){super(St("g",e),t)}}Ye(Mr,vb),nt({Container:{group:Ct(function(){return this.put(new Mr)})}}),pt(Mr,"G");class fc extends Nn{constructor(e,t=e){super(St("a",e),t)}target(e){return this.attr("target",e)}to(e){return this.attr("href",e,co)}}Ye(fc,vb),nt({Container:{link:Ct(function(i){return this.put(new fc).to(i)})},Element:{unlink(){const i=this.linker();if(!i)return this;const e=i.parent();if(!e)return this.remove();const t=e.index(i);return e.add(this,t),i.remove(),this},linkTo(i){let e=this.linker();return e||(e=new fc,this.wrap(e)),typeof i=="function"?i.call(e,e):e.to(i),this},linker(){const i=this.parent();return i&&i.node.nodeName.toLowerCase()==="a"?i:null}}}),pt(fc,"A");class Rd extends Nn{constructor(e,t=e){super(St("mask",e),t)}remove(){return this.targets().forEach(function(e){e.unmask()}),super.remove()}targets(){return ps("svg [mask*="+this.id()+"]")}}nt({Container:{mask:Ct(function(){return this.defs().put(new Rd)})},Element:{masker(){return this.reference("mask")},maskWith(i){const e=i instanceof Rd?i:this.parent().mask().add(i);return this.attr("mask","url(#"+e.id()+")")},unmask(){return this.attr("mask",null)}}}),pt(Rd,"Mask");class wb extends hn{constructor(e,t=e){super(St("stop",e),t)}update(e){return(typeof e=="number"||e instanceof qe)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",new qe(e.offset)),this}}nt({Gradient:{stop:function(i,e,t){return this.put(new wb).update(i,e,t)}}}),pt(wb,"Stop");class Dd extends hn{constructor(e,t=e){super(St("style",e),t)}addText(e=""){return this.node.textContent+=e,this}font(e,t,n={}){return this.rule("@font-face",{fontFamily:e,src:t,...n})}rule(e,t){return this.addText(function(n,r){if(!n)return"";if(!r)return n;let s=n+"{";for(const o in r)s+=o.replace(/([A-Z])/g,function(a,l){return"-"+l.toLowerCase()})+":"+r[o]+";";return s+="}",s}(e,t))}}nt("Dom",{style(i,e){return this.put(new Dd).rule(i,e)},fontface(i,e,t){return this.put(new Dd).font(i,e,t)}}),pt(Dd,"Style");class _d extends Ci{constructor(e,t=e){super(St("textPath",e),t)}array(){const e=this.track();return e?e.array():null}plot(e){const t=this.track();let n=null;return t&&(n=t.plot(e)),e==null?n:this}track(){return this.reference("href")}}nt({Container:{textPath:Ct(function(i,e){return i instanceof Ci||(i=this.text(i)),i.path(e)})},Text:{path:Ct(function(i,e=!0){const t=new _d;let n;if(i instanceof po||(i=this.defs().path(i)),t.attr("href","#"+i,co),e)for(;n=this.node.firstChild;)t.node.appendChild(n);return this.put(t)}),textPath(){return this.findOne("textPath")}},Path:{text:Ct(function(i){return i instanceof Ci||(i=new Ci().addTo(this.parent()).text(i)),i.path(this)}),targets(){return ps("svg textPath").filter(i=>(i.attr("href")||"").includes(this.id()))}}}),_d.prototype.MorphArray=Si,pt(_d,"TextPath");class kb extends Kn{constructor(e,t=e){super(St("use",e),t)}use(e,t){return this.attr("href",(t||"")+"#"+e,co)}}nt({Container:{use:Ct(function(i,e){return this.put(new kb).use(i,e)})}}),pt(kb,"Use");const ZC=_n;Ye([Od,Id,ac,Ta,lc],Yn("viewbox")),Ye([ms,vs,ys,po],Yn("marker")),Ye(Ci,Yn("Text")),Ye(po,Yn("Path")),Ye(sc,Yn("Defs")),Ye([Ci,dc],Yn("Tspan")),Ye([hc,oc,Ma,Jn],Yn("radius")),Ye(Ca,Yn("EventTarget")),Ye(Cr,Yn("Dom")),Ye(hn,Yn("Element")),Ye(Kn,Yn("Shape")),Ye([Nn,lb],Yn("Container")),Ye(Ma,Yn("Gradient")),Ye(Jn,Yn("Runner")),fs.extend([...new Set(Hx)]),function(i=[]){Td.push(...[].concat(i))}([qe,kt,Ft,Be,gs,Ar,Si,xt]),Ye(Td,{to(i){return new bs().type(this.constructor).from(this.toArray()).to(i)},fromArray(i){return this.init(i),this},toConsumable(){return this.toArray()},morph(i,e,t,n,r){return this.fromArray(i.map(function(s,o){return n.step(s,e[o],t,r[o],r)}))}});class Pt extends hn{constructor(e){super(St("filter",e),e),this.$source="SourceGraphic",this.$sourceAlpha="SourceAlpha",this.$background="BackgroundImage",this.$backgroundAlpha="BackgroundAlpha",this.$fill="FillPaint",this.$stroke="StrokePaint",this.$autoSetIn=!0}put(e,t){return!(e=super.put(e,t)).attr("in")&&this.$autoSetIn&&e.attr("in",this.$source),e.attr("result")||e.attr("result",e.id()),e}remove(){return this.targets().each("unfilter"),super.remove()}targets(){return ps('svg [filter*="'+this.id()+'"]')}toString(){return"url(#"+this.id()+")"}}class Nd extends hn{constructor(e,t){super(e,t),this.result(this.id())}in(e){if(e==null){const t=this.attr("in");return this.parent()&&this.parent().find(`[result="${t}"]`)[0]||t}return this.attr("in",e)}result(e){return this.attr("result",e)}toString(){return this.result()}}const li=i=>function(...e){for(let t=i.length;t--;)e[t]!=null&&this.attr(i[t],e[t])},QC={blend:li(["in","in2","mode"]),colorMatrix:li(["type","values"]),composite:li(["in","in2","operator"]),convolveMatrix:function(i){i=new gs(i).toString(),this.attr({order:Math.sqrt(i.split(" ").length),kernelMatrix:i})},diffuseLighting:li(["surfaceScale","lightingColor","diffuseConstant","kernelUnitLength"]),displacementMap:li(["in","in2","scale","xChannelSelector","yChannelSelector"]),dropShadow:li(["in","dx","dy","stdDeviation"]),flood:li(["flood-color","flood-opacity"]),gaussianBlur:function(i=0,e=i){this.attr("stdDeviation",i+" "+e)},image:function(i){this.attr("href",i,co)},morphology:li(["operator","radius"]),offset:li(["dx","dy"]),specularLighting:li(["surfaceScale","lightingColor","diffuseConstant","specularExponent","kernelUnitLength"]),tile:li([]),turbulence:li(["baseFrequency","numOctaves","seed","stitchTiles","type"])};["blend","colorMatrix","componentTransfer","composite","convolveMatrix","diffuseLighting","displacementMap","dropShadow","flood","gaussianBlur","image","merge","morphology","offset","specularLighting","tile","turbulence"].forEach(i=>{const e=ao(i),t=QC[i];Pt[e+"Effect"]=class extends Nd{constructor(n){super(St("fe"+e,n),n)}update(n){return t.apply(this,n),this}},Pt.prototype[i]=Ct(function(n,...r){const s=new Pt[e+"Effect"];return n==null?this.put(s):(typeof n=="function"?n.call(s,s):r.unshift(n),this.put(s).update(r))})}),Ye(Pt,{merge(i){const e=this.put(new Pt.MergeEffect);return typeof i=="function"?(i.call(e,e),e):((i instanceof Array?i:[...arguments]).forEach(t=>{t instanceof Pt.MergeNode?e.put(t):e.mergeNode(t)}),e)},componentTransfer(i={}){const e=this.put(new Pt.ComponentTransferEffect);if(typeof i=="function")return i.call(e,e),e;i.r||i.g||i.b||i.a||(i={r:i,g:i,b:i,a:i});for(const t in i)e.add(new Pt["Func"+t.toUpperCase()](i[t]));return e}}),["distantLight","pointLight","spotLight","mergeNode","FuncR","FuncG","FuncB","FuncA"].forEach(i=>{const e=ao(i);Pt[e]=class extends Nd{constructor(t){super(St("fe"+e,t),t)}}}),["funcR","funcG","funcB","funcA"].forEach(function(i){const e=Pt[ao(i)],t=Ct(function(){return this.put(new e)});Pt.ComponentTransferEffect.prototype[i]=t}),["distantLight","pointLight","spotLight"].forEach(i=>{const e=Pt[ao(i)],t=Ct(function(){return this.put(new e)});Pt.DiffuseLightingEffect.prototype[i]=t,Pt.SpecularLightingEffect.prototype[i]=t}),Ye(Pt.MergeEffect,{mergeNode(i){return this.put(new Pt.MergeNode).attr("in",i)}}),Ye(sc,{filter:function(i){const e=this.put(new Pt);return typeof i=="function"&&i.call(e,e),e}}),Ye(Nn,{filter:function(i){return this.defs().filter(i)}}),Ye(hn,{filterWith:function(i){const e=i instanceof Pt?i:this.defs().filter(i);return this.attr("filter",e)},unfilter:function(i){return this.attr("filter",null)},filterer(){return this.reference("filter")}}),Ye(Nd,{blend:function(i,e){return this.parent()&&this.parent().blend(this,i,e)},colorMatrix:function(i,e){return this.parent()&&this.parent().colorMatrix(i,e).in(this)},componentTransfer:function(i){return this.parent()&&this.parent().componentTransfer(i).in(this)},composite:function(i,e){return this.parent()&&this.parent().composite(this,i,e)},convolveMatrix:function(i){return this.parent()&&this.parent().convolveMatrix(i).in(this)},diffuseLighting:function(i,e,t,n){return this.parent()&&this.parent().diffuseLighting(i,t,n).in(this)},displacementMap:function(i,e,t,n){return this.parent()&&this.parent().displacementMap(this,i,e,t,n)},dropShadow:function(i,e,t){return this.parent()&&this.parent().dropShadow(this,i,e,t).in(this)},flood:function(i,e){return this.parent()&&this.parent().flood(i,e)},gaussianBlur:function(i,e){return this.parent()&&this.parent().gaussianBlur(i,e).in(this)},image:function(i){return this.parent()&&this.parent().image(i)},merge:function(i){return i=i instanceof Array?i:[...i],this.parent()&&this.parent().merge(this,...i)},morphology:function(i,e){return this.parent()&&this.parent().morphology(i,e).in(this)},offset:function(i,e){return this.parent()&&this.parent().offset(i,e).in(this)},specularLighting:function(i,e,t,n,r){return this.parent()&&this.parent().specularLighting(i,t,n,r).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(i,e,t,n,r){return this.parent()&&this.parent().turbulence(i,e,t,n,r).in(this)}}),Ye(Pt.MergeEffect,{in:function(i){return i instanceof Pt.MergeNode?this.add(i,0):this.add(new Pt.MergeNode().in(i),0),this}}),Ye([Pt.CompositeEffect,Pt.BlendEffect,Pt.DisplacementMapEffect],{in2:function(i){if(i==null){const e=this.attr("in2");return this.parent()&&this.parent().find(`[result="${e}"]`)[0]||e}return this.attr("in2",i)}}),Pt.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]};var un=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"getDefaultFilter",value:function(e,t){var n=this.w;e.unfilter(!0),new Pt().size("120%","180%","-5%","-40%"),n.config.chart.dropShadow.enabled&&this.dropShadow(e,n.config.chart.dropShadow,t)}},{key:"applyFilter",value:function(e,t,n){var r,s=this,o=this.w;if(e.unfilter(!0),n!=="none"){var a,l,c=o.config.chart.dropShadow,h=n==="lighten"?2:.3;e.filterWith(function(u){u.colorMatrix({type:"matrix",values:`
            `.concat(h,` 0 0 0 0
            0 `).concat(h,` 0 0 0
            0 0 `).concat(h,` 0 0
            0 0 0 1 0
          `),in:"SourceGraphic",result:"brightness"}),c.enabled&&s.addShadow(u,t,c,"brightness")}),!c.noUserSpaceOnUse&&((a=e.filterer())===null||a===void 0||(l=a.node)===null||l===void 0||l.setAttribute("filterUnits","userSpaceOnUse")),this._scaleFilterSize((r=e.filterer())===null||r===void 0?void 0:r.node)}else this.getDefaultFilter(e,t)}},{key:"addShadow",value:function(e,t,n,r){var s,o=this.w,a=n.blur,l=n.top,c=n.left,h=n.color,u=n.opacity;if(h=Array.isArray(h)?h[t]:h,((s=o.config.chart.dropShadow.enabledOnSeries)===null||s===void 0?void 0:s.length)>0&&o.config.chart.dropShadow.enabledOnSeries.indexOf(t)===-1)return e;e.offset({in:r,dx:c,dy:l,result:"offset"}),e.gaussianBlur({in:"offset",stdDeviation:a,result:"blur"}),e.flood({"flood-color":h,"flood-opacity":u,result:"flood"}),e.composite({in:"flood",in2:"blur",operator:"in",result:"shadow"}),e.merge(["shadow",r])}},{key:"dropShadow",value:function(e,t){var n,r,s,o,a,l=this,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,h=this.w;return e.unfilter(!0),H.isMsEdge()&&h.config.chart.type==="radialBar"||((n=h.config.chart.dropShadow.enabledOnSeries)===null||n===void 0?void 0:n.length)>0&&((s=h.config.chart.dropShadow.enabledOnSeries)===null||s===void 0?void 0:s.indexOf(c))===-1?e:(e.filterWith(function(u){l.addShadow(u,c,t,"SourceGraphic")}),t.noUserSpaceOnUse||(o=e.filterer())===null||o===void 0||(a=o.node)===null||a===void 0||a.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize((r=e.filterer())===null||r===void 0?void 0:r.node),e)}},{key:"setSelectionFilter",value:function(e,t,n){var r=this.w;if(r.globals.selectedDataPoints[t]!==void 0&&r.globals.selectedDataPoints[t].indexOf(n)>-1){e.node.setAttribute("selected",!0);var s=r.config.states.active.filter;s!=="none"&&this.applyFilter(e,t,s.type)}}},{key:"_scaleFilterSize",value:function(e){e&&function(t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),i}(),oe=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"roundPathCorners",value:function(e,t){function n(I,P,N){var D=P.x-I.x,_=P.y-I.y,$=Math.sqrt(D*D+_*_);return r(I,P,Math.min(1,N/$))}function r(I,P,N){return{x:I.x+(P.x-I.x)*N,y:I.y+(P.y-I.y)*N}}function s(I,P){I.length>2&&(I[I.length-2]=P.x,I[I.length-1]=P.y)}function o(I){return{x:parseFloat(I[I.length-2]),y:parseFloat(I[I.length-1])}}e.indexOf("NaN")>-1&&(e="");var a=e.split(/[,\s]/).reduce(function(I,P){var N=P.match("([a-zA-Z])(.+)");return N?(I.push(N[1]),I.push(N[2])):I.push(P),I},[]).reduce(function(I,P){return parseFloat(P)==P&&I.length?I[I.length-1].push(P):I.push([P]),I},[]),l=[];if(a.length>1){var c=o(a[0]),h=null;a[a.length-1][0]=="Z"&&a[0].length>2&&(h=["L",c.x,c.y],a[a.length-1]=h),l.push(a[0]);for(var u=1;u<a.length;u++){var d=l[l.length-1],f=a[u],p=f==h?a[1]:a[u+1];if(p&&d&&d.length>2&&f[0]=="L"&&p.length>2&&p[0]=="L"){var m,b,y=o(d),w=o(f),C=o(p);m=n(w,y,t),b=n(w,C,t),s(f,m),f.origPoint=w,l.push(f);var T=r(m,w,.5),S=r(w,b,.5),E=["C",T.x,T.y,S.x,S.y,b.x,b.y];E.origPoint=w,l.push(E)}else l.push(f)}if(h){var M=o(l[l.length-1]);l.push(["Z"]),s(l[0],M)}}else l=a;return l.reduce(function(I,P){return I+P.join(" ")+" "},"")}},{key:"drawLine",value:function(e,t,n,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:e,y1:t,x2:n,y2:r,stroke:s,"stroke-dasharray":o,"stroke-width":a,"stroke-linecap":l})}},{key:"drawRect",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,c=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,h=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,u=this.w.globals.dom.Paper.rect();return u.attr({x:e,y:t,width:n>0?n:0,height:r>0?r:0,rx:s,ry:s,opacity:a,"stroke-width":l!==null?l:0,stroke:c!==null?c:"none","stroke-dasharray":h}),u.node.setAttribute("fill",o),u}},{key:"drawPolygon",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(e).attr({fill:r,stroke:t,"stroke-width":n})}},{key:"drawCircle",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e<0&&(e=0);var n=this.w.globals.dom.Paper.circle(2*e);return t!==null&&n.attr(t),n}},{key:"drawPath",value:function(e){var t=e.d,n=t===void 0?"":t,r=e.stroke,s=r===void 0?"#a8a8a8":r,o=e.strokeWidth,a=o===void 0?1:o,l=e.fill,c=e.fillOpacity,h=c===void 0?1:c,u=e.strokeOpacity,d=u===void 0?1:u,f=e.classes,p=e.strokeLinecap,m=p===void 0?null:p,b=e.strokeDashArray,y=b===void 0?0:b,w=this.w;return m===null&&(m=w.config.stroke.lineCap),(n.indexOf("undefined")>-1||n.indexOf("NaN")>-1)&&(n="M 0 ".concat(w.globals.gridHeight)),w.globals.dom.Paper.path(n).attr({fill:l,"fill-opacity":h,stroke:s,"stroke-opacity":d,"stroke-linecap":m,"stroke-width":a,"stroke-dasharray":y,class:f})}},{key:"group",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w.globals.dom.Paper.group();return e!==null&&t.attr(e),t}},{key:"move",value:function(e,t){var n=["M",e,t].join(" ");return n}},{key:"line",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=null;return n===null?r=[" L",e,t].join(" "):n==="H"?r=[" H",e].join(" "):n==="V"&&(r=[" V",t].join(" ")),r}},{key:"curve",value:function(e,t,n,r,s,o){var a=["C",e,t,n,r,s,o].join(" ");return a}},{key:"quadraticCurve",value:function(e,t,n,r){return["Q",e,t,n,r].join(" ")}},{key:"arc",value:function(e,t,n,r,s,o,a){var l="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(l="a");var c=[l,e,t,n,r,s,o,a].join(" ");return c}},{key:"renderPaths",value:function(e){var t,n=e.j,r=e.realIndex,s=e.pathFrom,o=e.pathTo,a=e.stroke,l=e.strokeWidth,c=e.strokeLinecap,h=e.fill,u=e.animationDelay,d=e.initialSpeed,f=e.dataChangeSpeed,p=e.className,m=e.chartType,b=e.shouldClipToGrid,y=b===void 0||b,w=e.bindEventsOnPaths,C=w===void 0||w,T=e.drawShadow,S=T===void 0||T,E=this.w,M=new un(this.ctx),I=new oo(this.ctx),P=this.w.config.chart.animations.enabled,N=P&&this.w.config.chart.animations.dynamicAnimation.enabled,D=!!(P&&!E.globals.resized||N&&E.globals.dataChanged&&E.globals.shouldAnimate);D?t=s:(t=o,E.globals.animationEnded=!0);var _=E.config.stroke.dashArray,$=0;$=Array.isArray(_)?_[r]:E.config.stroke.dashArray;var U=this.drawPath({d:t,stroke:a,strokeWidth:l,fill:h,fillOpacity:1,classes:p,strokeLinecap:c,strokeDashArray:$});U.attr("index",r),y&&(m==="bar"&&!E.globals.isHorizontal||E.globals.comboCharts?U.attr({"clip-path":"url(#gridRectBarMask".concat(E.globals.cuid,")")}):U.attr({"clip-path":"url(#gridRectMask".concat(E.globals.cuid,")")})),E.config.chart.dropShadow.enabled&&S&&M.dropShadow(U,E.config.chart.dropShadow,r),C&&(U.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,U)),U.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,U)),U.node.addEventListener("mousedown",this.pathMouseDown.bind(this,U))),U.attr({pathTo:o,pathFrom:s});var re={el:U,j:n,realIndex:r,pathFrom:s,pathTo:o,fill:h,strokeWidth:l,delay:u};return!P||E.globals.resized||E.globals.dataChanged?!E.globals.resized&&E.globals.dataChanged||I.showDelayedElements():I.animatePathsGradually(xe(xe({},re),{},{speed:d})),E.globals.dataChanged&&N&&D&&I.animatePathsGradually(xe(xe({},re),{},{speed:f})),U}},{key:"drawPattern",value:function(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(t,n,function(o){e==="horizontalLines"?o.line(0,0,n,0).stroke({color:r,width:s+1}):e==="verticalLines"?o.line(0,0,0,t).stroke({color:r,width:s+1}):e==="slantedLines"?o.line(0,0,t,n).stroke({color:r,width:s}):e==="squares"?o.rect(t,n).fill("none").stroke({color:r,width:s}):e==="circles"&&o.circle(t).fill("none").stroke({color:r,width:s})})}},{key:"drawGradient",value:function(e,t,n,r,s){var o,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],h=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,u=this.w;t.length<9&&t.indexOf("#")===0&&(t=H.hexToRgba(t,r)),n.length<9&&n.indexOf("#")===0&&(n=H.hexToRgba(n,s));var d=0,f=1,p=1,m=null;l!==null&&(d=l[0]!==void 0?l[0]/100:0,f=l[1]!==void 0?l[1]/100:1,p=l[2]!==void 0?l[2]/100:1,m=l[3]!==void 0?l[3]/100:null);var b=!(u.config.chart.type!=="donut"&&u.config.chart.type!=="pie"&&u.config.chart.type!=="polarArea"&&u.config.chart.type!=="bubble");if(o=c&&c.length!==0?u.globals.dom.Paper.gradient(b?"radial":"linear",function(C){(Array.isArray(c[h])?c[h]:c).forEach(function(T){C.stop(T.offset/100,T.color,T.opacity)})}):u.globals.dom.Paper.gradient(b?"radial":"linear",function(C){C.stop(d,t,r),C.stop(f,n,s),C.stop(p,n,s),m!==null&&C.stop(m,t,r)}),b){var y=u.globals.gridWidth/2,w=u.globals.gridHeight/2;u.config.chart.type!=="bubble"?o.attr({gradientUnits:"userSpaceOnUse",cx:y,cy:w,r:a}):o.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else e==="vertical"?o.from(0,0).to(0,1):e==="diagonal"?o.from(0,0).to(1,1):e==="horizontal"?o.from(0,1).to(1,1):e==="diagonal2"&&o.from(1,0).to(0,1);return o}},{key:"getTextBasedOnMaxWidth",value:function(e){var t=e.text,n=e.maxWidth,r=e.fontSize,s=e.fontFamily,o=this.getTextRects(t,r,s),a=o.width/t.length,l=Math.floor(n/a);return n<o.width?t.slice(0,l-3)+"...":t}},{key:"drawText",value:function(e){var t=this,n=e.x,r=e.y,s=e.text,o=e.textAnchor,a=e.fontSize,l=e.fontFamily,c=e.fontWeight,h=e.foreColor,u=e.opacity,d=e.maxWidth,f=e.cssClass,p=f===void 0?"":f,m=e.isPlainText,b=m===void 0||m,y=e.dominantBaseline,w=y===void 0?"auto":y,C=this.w;s===void 0&&(s="");var T=s;o||(o="start"),h&&h.length||(h=C.config.chart.foreColor),l=l||C.config.chart.fontFamily,c=c||"regular";var S,E={maxWidth:d,fontSize:a=a||"11px",fontFamily:l};return Array.isArray(s)?S=C.globals.dom.Paper.text(function(M){for(var I=0;I<s.length;I++)T=s[I],d&&(T=t.getTextBasedOnMaxWidth(xe({text:s[I]},E))),I===0?M.tspan(T):M.tspan(T).newLine()}):(d&&(T=this.getTextBasedOnMaxWidth(xe({text:s},E))),S=b?C.globals.dom.Paper.plain(s):C.globals.dom.Paper.text(function(M){return M.tspan(T)})),S.attr({x:n,y:r,"text-anchor":o,"dominant-baseline":w,"font-size":a,"font-family":l,"font-weight":c,fill:h,class:"apexcharts-text "+p}),S.node.style.fontFamily=l,S.node.style.opacity=u,S}},{key:"getMarkerPath",value:function(e,t,n,r){var s="";switch(n){case"cross":s="M ".concat(e-(r/=1.4)," ").concat(t-r," L ").concat(e+r," ").concat(t+r,"  M ").concat(e-r," ").concat(t+r," L ").concat(e+r," ").concat(t-r);break;case"plus":s="M ".concat(e-(r/=1.12)," ").concat(t," L ").concat(e+r," ").concat(t,"  M ").concat(e," ").concat(t-r," L ").concat(e," ").concat(t+r);break;case"star":case"sparkle":var o=5;r*=1.15,n==="sparkle"&&(r/=1.1,o=4);for(var a=Math.PI/o,l=0;l<=2*o;l++){var c=l*a,h=l%2==0?r:r/2;s+=(l===0?"M":"L")+(e+h*Math.sin(c))+","+(t-h*Math.cos(c))}s+="Z";break;case"triangle":s="M ".concat(e," ").concat(t-r,` 
               L `).concat(e+r," ").concat(t+r,` 
               L `).concat(e-r," ").concat(t+r,` 
               Z`);break;case"square":case"rect":s="M ".concat(e-(r/=1.125)," ").concat(t-r,` 
             L `).concat(e+r," ").concat(t-r,` 
             L `).concat(e+r," ").concat(t+r,` 
             L `).concat(e-r," ").concat(t+r,` 
             Z`);break;case"diamond":r*=1.05,s="M ".concat(e," ").concat(t-r,` 
               L `).concat(e+r," ").concat(t,` 
               L `).concat(e," ").concat(t+r,` 
               L `).concat(e-r," ").concat(t,` 
              Z`);break;case"line":s="M ".concat(e-(r/=1.1)," ").concat(t,` 
             L `).concat(e+r," ").concat(t);break;default:r*=2,s="M ".concat(e,", ").concat(t,` 
             m -`).concat(r/2,`, 0 
             a `).concat(r/2,",").concat(r/2," 0 1,0 ").concat(r,`,0 
             a `).concat(r/2,",").concat(r/2," 0 1,0 -").concat(r,",0")}return s}},{key:"drawMarkerShape",value:function(e,t,n,r,s){var o=this.drawPath({d:this.getMarkerPath(e,t,n,r,s),stroke:s.pointStrokeColor,strokeDashArray:s.pointStrokeDashArray,strokeWidth:s.pointStrokeWidth,fill:s.pointFillColor,fillOpacity:s.pointFillOpacity,strokeOpacity:s.pointStrokeOpacity});return o.attr({cx:e,cy:t,shape:s.shape,class:s.class?s.class:""}),o}},{key:"drawMarker",value:function(e,t,n){e=e||0;var r=n.pSize||0;return H.isNumber(t)||(r=0,t=0),this.drawMarkerShape(e,t,n==null?void 0:n.shape,r,xe(xe({},n),n.shape==="line"||n.shape==="plus"||n.shape==="cross"?{pointStrokeColor:n.pointFillColor,pointStrokeOpacity:n.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(e,t){var n=this.w,r=new un(this.ctx),s=parseInt(e.node.getAttribute("index"),10),o=parseInt(e.node.getAttribute("j"),10);if(typeof n.config.chart.events.dataPointMouseEnter=="function"&&n.config.chart.events.dataPointMouseEnter(t,this.ctx,{seriesIndex:s,dataPointIndex:o,w:n}),this.ctx.events.fireEvent("dataPointMouseEnter",[t,this.ctx,{seriesIndex:s,dataPointIndex:o,w:n}]),(n.config.states.active.filter.type==="none"||e.node.getAttribute("selected")!=="true")&&n.config.states.hover.filter.type!=="none"&&!n.globals.isTouchDevice){var a=n.config.states.hover.filter;r.applyFilter(e,s,a.type)}}},{key:"pathMouseLeave",value:function(e,t){var n=this.w,r=new un(this.ctx),s=parseInt(e.node.getAttribute("index"),10),o=parseInt(e.node.getAttribute("j"),10);typeof n.config.chart.events.dataPointMouseLeave=="function"&&n.config.chart.events.dataPointMouseLeave(t,this.ctx,{seriesIndex:s,dataPointIndex:o,w:n}),this.ctx.events.fireEvent("dataPointMouseLeave",[t,this.ctx,{seriesIndex:s,dataPointIndex:o,w:n}]),n.config.states.active.filter.type!=="none"&&e.node.getAttribute("selected")==="true"||n.config.states.hover.filter.type!=="none"&&r.getDefaultFilter(e,s)}},{key:"pathMouseDown",value:function(e,t){var n=this.w,r=new un(this.ctx),s=parseInt(e.node.getAttribute("index"),10),o=parseInt(e.node.getAttribute("j"),10),a="false";if(e.node.getAttribute("selected")==="true"){if(e.node.setAttribute("selected","false"),n.globals.selectedDataPoints[s].indexOf(o)>-1){var l=n.globals.selectedDataPoints[s].indexOf(o);n.globals.selectedDataPoints[s].splice(l,1)}}else{if(!n.config.states.active.allowMultipleDataPointsSelection&&n.globals.selectedDataPoints.length>0){n.globals.selectedDataPoints=[];var c=n.globals.dom.Paper.find(".apexcharts-series path:not(.apexcharts-decoration-element)"),h=n.globals.dom.Paper.find(".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)"),u=function(p){Array.prototype.forEach.call(p,function(m){m.node.setAttribute("selected","false"),r.getDefaultFilter(m,s)})};u(c),u(h)}e.node.setAttribute("selected","true"),a="true",n.globals.selectedDataPoints[s]===void 0&&(n.globals.selectedDataPoints[s]=[]),n.globals.selectedDataPoints[s].push(o)}if(a==="true"){var d=n.config.states.active.filter;if(d!=="none")r.applyFilter(e,s,d.type);else if(n.config.states.hover.filter!=="none"&&!n.globals.isTouchDevice){var f=n.config.states.hover.filter;r.applyFilter(e,s,f.type)}}else n.config.states.active.filter.type!=="none"&&(n.config.states.hover.filter.type==="none"||n.globals.isTouchDevice?r.getDefaultFilter(e,s):(f=n.config.states.hover.filter,r.applyFilter(e,s,f.type)));typeof n.config.chart.events.dataPointSelection=="function"&&n.config.chart.events.dataPointSelection(t,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:s,dataPointIndex:o,w:n}),t&&this.ctx.events.fireEvent("dataPointSelection",[t,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:s,dataPointIndex:o,w:n}])}},{key:"rotateAroundCenter",value:function(e){var t={};return e&&typeof e.getBBox=="function"&&(t=e.getBBox()),{x:t.x+t.width/2,y:t.y+t.height/2}}},{key:"getTextRects",value:function(e,t,n,r){var s=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=this.w,a=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:t,fontFamily:n,foreColor:"#fff",opacity:0});r&&a.attr("transform",r),o.globals.dom.Paper.add(a);var l=a.bbox();return s||(l=a.node.getBoundingClientRect()),a.remove(),{width:l.width,height:l.height}}},{key:"placeTextWithEllipsis",value:function(e,t,n){if(typeof e.getComputedTextLength=="function"&&(e.textContent=t,t.length>0&&e.getComputedTextLength()>=n/1.1)){for(var r=t.length-3;r>0;r-=3)if(e.getSubStringLength(0,r)<=n/1.1)return void(e.textContent=t.substring(0,r)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])}}]),i}(),Bt=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"getStackedSeriesTotals",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=this.w,n=[];if(t.globals.series.length===0)return n;for(var r=0;r<t.globals.series[t.globals.maxValsInArrayIndex].length;r++){for(var s=0,o=0;o<t.globals.series.length;o++)t.globals.series[o][r]!==void 0&&e.indexOf(o)===-1&&(s+=t.globals.series[o][r]);n.push(s)}return n}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e===null?this.w.config.series.reduce(function(t,n){return t+n},0):this.w.globals.series[e].reduce(function(t,n){return t+n},0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var e=this,t=this.w,n=[];return t.globals.seriesGroups.forEach(function(r){var s=[];t.config.series.forEach(function(a,l){r.indexOf(t.globals.seriesNames[l])>-1&&s.push(l)});var o=t.globals.series.map(function(a,l){return s.indexOf(l)===-1?l:-1}).filter(function(a){return a!==-1});n.push(e.getStackedSeriesTotals(o))}),n}},{key:"setSeriesYAxisMappings",value:function(){var e=this.w.globals,t=this.w.config,n=[],r=[],s=[],o=e.series.length>t.yaxis.length||t.yaxis.some(function(u){return Array.isArray(u.seriesName)});t.series.forEach(function(u,d){s.push(d),r.push(null)}),t.yaxis.forEach(function(u,d){n[d]=[]});var a=[];t.yaxis.forEach(function(u,d){var f=!1;if(u.seriesName){var p=[];Array.isArray(u.seriesName)?p=u.seriesName:p.push(u.seriesName),p.forEach(function(m){t.series.forEach(function(b,y){if(b.name===m){var w=y;d===y||o?!o||s.indexOf(y)>-1?n[d].push([d,y]):console.warn("Series '"+b.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(n[y].push([y,d]),w=d),f=!0,(w=s.indexOf(w))!==-1&&s.splice(w,1)}})})}f||a.push(d)}),n=n.map(function(u,d){var f=[];return u.forEach(function(p){r[p[1]]=p[0],f.push(p[1])}),f});for(var l=t.yaxis.length-1,c=0;c<a.length&&(l=a[c],n[l]=[],s);c++){var h=s[0];s.shift(),n[l].push(h),r[h]=l}s.forEach(function(u){n[l].push(u),r[u]=l}),e.seriesYAxisMap=n.map(function(u){return u}),e.seriesYAxisReverseMap=r.map(function(u){return u}),e.seriesYAxisMap.forEach(function(u,d){u.forEach(function(f){t.series[f]&&t.series[f].group===void 0&&(t.series[f].group="apexcharts-axis-".concat(d.toString()))})})}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(e===null?this.w.config.series.filter(function(t){return t!==null}):this.w.config.series[e].data.filter(function(t){return t!==null})).length===0}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every(function(t,n,r){return t===r[0]})}},{key:"getCategoryLabels",value:function(e){var t=this.w,n=e.slice();return t.config.xaxis.convertedCatToNumeric&&(n=e.map(function(r,s){return t.config.xaxis.labels.formatter(r-t.globals.minX+1)})),n}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map(function(t){return t.length}).indexOf(Math.max.apply(Math,e.globals.series.map(function(t){return t.length})))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,t=0;return e.globals.markers.size.forEach(function(n){t=Math.max(t,n)}),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach(function(n){t=Math.max(t,n.size)}),t>0&&(e.config.markers.hover.size>0?t=e.config.markers.hover.size:t+=e.config.markers.hover.sizeOffset),e.globals.markers.largestSize=t,t}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map(function(t,n){var r=0;if(Array.isArray(t))for(var s=0;s<t.length;s++)r+=t[s];else r+=t;return r})}},{key:"getSeriesTotalsXRange",value:function(e,t){var n=this.w;return n.globals.series.map(function(r,s){for(var o=0,a=0;a<r.length;a++)n.globals.seriesX[s][a]>e&&n.globals.seriesX[s][a]<t&&(o+=r[a]);return o})}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map(function(t,n){var r=[];if(Array.isArray(t))for(var s=0;s<t.length;s++){var o=e.globals.stackedSeriesTotals[s],a=0;o&&(a=100*t[s]/o),r.push(a)}else{var l=100*t/e.globals.seriesTotals.reduce(function(c,h){return c+h},0);r.push(l)}return r})}},{key:"getCalculatedRatios",value:function(){var e,t,n,r=this,s=this.w,o=s.globals,a=[],l=0,c=[],h=.1,u=0;if(o.yRange=[],o.isMultipleYAxis)for(var d=0;d<o.minYArr.length;d++)o.yRange.push(Math.abs(o.minYArr[d]-o.maxYArr[d])),c.push(0);else o.yRange.push(Math.abs(o.minY-o.maxY));o.xRange=Math.abs(o.maxX-o.minX),o.zRange=Math.abs(o.maxZ-o.minZ);for(var f=0;f<o.yRange.length;f++)a.push(o.yRange[f]/o.gridHeight);if(t=o.xRange/o.gridWidth,e=o.yRange/o.gridWidth,n=o.xRange/o.gridHeight,(l=o.zRange/o.gridHeight*16)||(l=1),o.minY!==Number.MIN_VALUE&&Math.abs(o.minY)!==0&&(o.hasNegs=!0),s.globals.seriesYAxisReverseMap.length>0){var p=function(b,y){var w=s.config.yaxis[s.globals.seriesYAxisReverseMap[y]],C=b<0?-1:1;return b=Math.abs(b),w.logarithmic&&(b=r.getBaseLog(w.logBase,b)),-C*b/a[y]};if(o.isMultipleYAxis){c=[];for(var m=0;m<a.length;m++)c.push(p(o.minYArr[m],m))}else(c=[]).push(p(o.minY,0)),o.minY!==Number.MIN_VALUE&&Math.abs(o.minY)!==0&&(h=-o.minY/e,u=o.minX/t)}else(c=[]).push(0),h=0,u=0;return{yRatio:a,invertedYRatio:e,zRatio:l,xRatio:t,invertedXRatio:n,baseLineInvertedY:h,baseLineY:c,baseLineX:u}}},{key:"getLogSeries",value:function(e){var t=this,n=this.w;return n.globals.seriesLog=e.map(function(r,s){var o=n.globals.seriesYAxisReverseMap[s];return n.config.yaxis[o]&&n.config.yaxis[o].logarithmic?r.map(function(a){return a===null?null:t.getLogVal(n.config.yaxis[o].logBase,a,s)}):r}),n.globals.invalidLogScale?e:n.globals.seriesLog}},{key:"getLogValAtSeriesIndex",value:function(e,t){if(e===null)return null;var n=this.w,r=n.globals.seriesYAxisReverseMap[t];return n.config.yaxis[r]&&n.config.yaxis[r].logarithmic?this.getLogVal(n.config.yaxis[r].logBase,e,t):e}},{key:"getBaseLog",value:function(e,t){return Math.log(t)/Math.log(e)}},{key:"getLogVal",value:function(e,t,n){if(t<=0)return 0;var r=this.w,s=r.globals.minYArr[n]===0?-1:this.getBaseLog(e,r.globals.minYArr[n]),o=(r.globals.maxYArr[n]===0?0:this.getBaseLog(e,r.globals.maxYArr[n]))-s;return t<1?t/o:(this.getBaseLog(e,t)-s)/o}},{key:"getLogYRatios",value:function(e){var t=this,n=this.w,r=this.w.globals;return r.yLogRatio=e.slice(),r.logYRange=r.yRange.map(function(s,o){var a=n.globals.seriesYAxisReverseMap[o];if(n.config.yaxis[a]&&t.w.config.yaxis[a].logarithmic){var l,c=-Number.MAX_VALUE,h=Number.MIN_VALUE;return r.seriesLog.forEach(function(u,d){u.forEach(function(f){n.config.yaxis[d]&&n.config.yaxis[d].logarithmic&&(c=Math.max(f,c),h=Math.min(f,h))})}),l=Math.pow(r.yRange[o],Math.abs(h-c)/r.yRange[o]),r.yLogRatio[o]=l/r.gridHeight,l}}),r.invalidLogScale?e.slice():r.yLogRatio}},{key:"drawSeriesByGroup",value:function(e,t,n,r){var s=this.w,o=[];return e.series.length>0&&t.forEach(function(a){var l=[],c=[];e.i.forEach(function(h,u){s.config.series[h].group===a&&(l.push(e.series[u]),c.push(h))}),l.length>0&&o.push(r.draw(l,n,c))}),o}}],[{key:"checkComboSeries",value:function(e,t){var n=!1,r=0,s=0;return t===void 0&&(t="line"),e.length&&e[0].type!==void 0&&e.forEach(function(o){o.type!=="bar"&&o.type!=="column"&&o.type!=="candlestick"&&o.type!=="boxPlot"||r++,o.type!==void 0&&o.type!==t&&s++}),s>0&&(n=!0),{comboBarCount:r,comboCharts:n}}},{key:"extendArrayProps",value:function(e,t,n){var r,s,o,a,l,c;return(r=t)!==null&&r!==void 0&&r.yaxis&&(t=e.extendYAxis(t,n)),(s=t)!==null&&s!==void 0&&s.annotations&&(t.annotations.yaxis&&(t=e.extendYAxisAnnotations(t)),(o=t)!==null&&o!==void 0&&(a=o.annotations)!==null&&a!==void 0&&a.xaxis&&(t=e.extendXAxisAnnotations(t)),(l=t)!==null&&l!==void 0&&(c=l.annotations)!==null&&c!==void 0&&c.points&&(t=e.extendPointAnnotations(t))),t}}]),i}(),pc=function(){function i(e){Ee(this,i),this.w=e.w,this.annoCtx=e}return Oe(i,[{key:"setOrientations",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=this.w;if(e.label.orientation==="vertical"){var r=t!==null?t:0,s=n.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(r,"']"));if(s!==null){var o=s.getBoundingClientRect();s.setAttribute("x",parseFloat(s.getAttribute("x"))-o.height+4);var a=e.label.position==="top"?o.width:-o.width;s.setAttribute("y",parseFloat(s.getAttribute("y"))+a);var l=this.annoCtx.graphics.rotateAroundCenter(s),c=l.x,h=l.y;s.setAttribute("transform","rotate(-90 ".concat(c," ").concat(h,")"))}}}},{key:"addBackgroundToAnno",value:function(e,t){var n=this.w;if(!e||!t.label.text||!String(t.label.text).trim())return null;var r=n.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),s=e.getBoundingClientRect(),o=t.label.style.padding,a=o.left,l=o.right,c=o.top,h=o.bottom;if(t.label.orientation==="vertical"){var u=[a,l,c,h];c=u[0],h=u[1],a=u[2],l=u[3]}var d=s.left-r.left-a,f=s.top-r.top-c,p=this.annoCtx.graphics.drawRect(d-n.globals.barPadForNumericAxis,f,s.width+a+l,s.height+c+h,t.label.borderRadius,t.label.style.background,1,t.label.borderWidth,t.label.borderColor,0);return t.id&&p.node.classList.add(t.id),p}},{key:"annotationsBackground",value:function(){var e=this,t=this.w,n=function(r,s,o){var a=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(o,"-annotations .apexcharts-").concat(o,"-annotation-label[rel='").concat(s,"']"));if(a){var l=a.parentNode,c=e.addBackgroundToAnno(a,r);c&&(l.insertBefore(c.node,a),r.label.mouseEnter&&c.node.addEventListener("mouseenter",r.label.mouseEnter.bind(e,r)),r.label.mouseLeave&&c.node.addEventListener("mouseleave",r.label.mouseLeave.bind(e,r)),r.label.click&&c.node.addEventListener("click",r.label.click.bind(e,r)))}};t.config.annotations.xaxis.forEach(function(r,s){return n(r,s,"xaxis")}),t.config.annotations.yaxis.forEach(function(r,s){return n(r,s,"yaxis")}),t.config.annotations.points.forEach(function(r,s){return n(r,s,"point")})}},{key:"getY1Y2",value:function(e,t){var n,r=this.w,s=e==="y1"?t.y:t.y2,o=!1;if(this.annoCtx.invertAxis){var a=r.config.xaxis.convertedCatToNumeric?r.globals.categoryLabels:r.globals.labels,l=a.indexOf(s),c=r.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(l+1,")"));n=c?parseFloat(c.getAttribute("y")):(r.globals.gridHeight/a.length-1)*(l+1)-r.globals.barHeight,t.seriesIndex!==void 0&&r.globals.barHeight&&(n-=r.globals.barHeight/2*(r.globals.series.length-1)-r.globals.barHeight*t.seriesIndex)}else{var h,u=r.globals.seriesYAxisMap[t.yAxisIndex][0],d=r.config.yaxis[t.yAxisIndex].logarithmic?new Bt(this.annoCtx.ctx).getLogVal(r.config.yaxis[t.yAxisIndex].logBase,s,u)/r.globals.yLogRatio[u]:(s-r.globals.minYArr[u])/(r.globals.yRange[u]/r.globals.gridHeight);n=r.globals.gridHeight-Math.min(Math.max(d,0),r.globals.gridHeight),o=d>r.globals.gridHeight||d<0,!t.marker||t.y!==void 0&&t.y!==null||(n=0),(h=r.config.yaxis[t.yAxisIndex])!==null&&h!==void 0&&h.reversed&&(n=d)}return typeof s=="string"&&s.includes("px")&&(n=parseFloat(s)),{yP:n,clipped:o}}},{key:"getX1X2",value:function(e,t){var n=this.w,r=e==="x1"?t.x:t.x2,s=this.annoCtx.invertAxis?n.globals.minY:n.globals.minX,o=this.annoCtx.invertAxis?n.globals.maxY:n.globals.maxX,a=this.annoCtx.invertAxis?n.globals.yRange[0]:n.globals.xRange,l=!1,c=this.annoCtx.inversedReversedAxis?(o-r)/(a/n.globals.gridWidth):(r-s)/(a/n.globals.gridWidth);return n.config.xaxis.type!=="category"&&!n.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||n.globals.dataFormatXNumeric||n.config.chart.sparkline.enabled||(c=this.getStringX(r)),typeof r=="string"&&r.includes("px")&&(c=parseFloat(r)),r==null&&t.marker&&(c=n.globals.gridWidth),t.seriesIndex!==void 0&&n.globals.barWidth&&!this.annoCtx.invertAxis&&(c-=n.globals.barWidth/2*(n.globals.series.length-1)-n.globals.barWidth*t.seriesIndex),c>n.globals.gridWidth?(c=n.globals.gridWidth,l=!0):c<0&&(c=0,l=!0),{x:c,clipped:l}}},{key:"getStringX",value:function(e){var t=this.w,n=e;t.config.xaxis.convertedCatToNumeric&&t.globals.categoryLabels.length&&(e=t.globals.categoryLabels.indexOf(e)+1);var r=t.globals.labels.map(function(o){return Array.isArray(o)?o.join(" "):o}).indexOf(e),s=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(r+1,")"));return s&&(n=parseFloat(s.getAttribute("x"))),n}}]),i}(),eA=function(){function i(e){Ee(this,i),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new pc(this.annoCtx)}return Oe(i,[{key:"addXaxisAnnotation",value:function(e,t,n){var r,s=this.w,o=this.helpers.getX1X2("x1",e),a=o.x,l=o.clipped,c=!0,h=e.label.text,u=e.strokeDashArray;if(H.isNumber(a)){if(e.x2===null||e.x2===void 0){if(!l){var d=this.annoCtx.graphics.drawLine(a+e.offsetX,0+e.offsetY,a+e.offsetX,s.globals.gridHeight+e.offsetY,e.borderColor,u,e.borderWidth);t.appendChild(d.node),e.id&&d.node.classList.add(e.id)}}else{var f=this.helpers.getX1X2("x2",e);if(r=f.x,c=f.clipped,r<a){var p=a;a=r,r=p}var m=this.annoCtx.graphics.drawRect(a+e.offsetX,0+e.offsetY,r-a,s.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,u);m.node.classList.add("apexcharts-annotation-rect"),m.attr("clip-path","url(#gridRectMask".concat(s.globals.cuid,")")),t.appendChild(m.node),e.id&&m.node.classList.add(e.id)}if(!l||!c){var b=this.annoCtx.graphics.getTextRects(h,parseFloat(e.label.style.fontSize)),y=e.label.position==="top"?4:e.label.position==="center"?s.globals.gridHeight/2+(e.label.orientation==="vertical"?b.width/2:0):s.globals.gridHeight,w=this.annoCtx.graphics.drawText({x:a+e.label.offsetX,y:y+e.label.offsetY-(e.label.orientation==="vertical"?e.label.position==="top"?b.width/2-12:-b.width/2:0),text:h,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});w.attr({rel:n}),t.appendChild(w.node),this.annoCtx.helpers.setOrientations(e,n)}}}},{key:"drawXAxisAnnotations",value:function(){var e=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return t.config.annotations.xaxis.map(function(r,s){e.addXaxisAnnotation(r,n.node,s)}),n}}]),i}(),dn=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return Oe(i,[{key:"isValidDate",value:function(e){return typeof e!="number"&&!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var t=Date.parse(e);if(!isNaN(t))return this.getTimeStamp(e);var n=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return n=this.getTimeStamp(n)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,t){var n=this.w.globals.locale,r=this.w.config.xaxis.labels.datetimeUTC,s=["\0"].concat(Ut(n.months)),o=[""].concat(Ut(n.shortMonths)),a=[""].concat(Ut(n.days)),l=[""].concat(Ut(n.shortDays));function c(I,P){var N=I+"";for(P=P||2;N.length<P;)N="0"+N;return N}var h=r?e.getUTCFullYear():e.getFullYear();t=(t=(t=t.replace(/(^|[^\\])yyyy+/g,"$1"+h)).replace(/(^|[^\\])yy/g,"$1"+h.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+h);var u=(r?e.getUTCMonth():e.getMonth())+1;t=(t=(t=(t=t.replace(/(^|[^\\])MMMM+/g,"$1"+s[0])).replace(/(^|[^\\])MMM/g,"$1"+o[0])).replace(/(^|[^\\])MM/g,"$1"+c(u))).replace(/(^|[^\\])M/g,"$1"+u);var d=r?e.getUTCDate():e.getDate();t=(t=(t=(t=t.replace(/(^|[^\\])dddd+/g,"$1"+a[0])).replace(/(^|[^\\])ddd/g,"$1"+l[0])).replace(/(^|[^\\])dd/g,"$1"+c(d))).replace(/(^|[^\\])d/g,"$1"+d);var f=r?e.getUTCHours():e.getHours(),p=f>12?f-12:f===0?12:f;t=(t=(t=(t=t.replace(/(^|[^\\])HH+/g,"$1"+c(f))).replace(/(^|[^\\])H/g,"$1"+f)).replace(/(^|[^\\])hh+/g,"$1"+c(p))).replace(/(^|[^\\])h/g,"$1"+p);var m=r?e.getUTCMinutes():e.getMinutes();t=(t=t.replace(/(^|[^\\])mm+/g,"$1"+c(m))).replace(/(^|[^\\])m/g,"$1"+m);var b=r?e.getUTCSeconds():e.getSeconds();t=(t=t.replace(/(^|[^\\])ss+/g,"$1"+c(b))).replace(/(^|[^\\])s/g,"$1"+b);var y=r?e.getUTCMilliseconds():e.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+c(y,3)),y=Math.round(y/10),t=t.replace(/(^|[^\\])ff/g,"$1"+c(y)),y=Math.round(y/10);var w=f<12?"AM":"PM";t=(t=(t=t.replace(/(^|[^\\])f/g,"$1"+y)).replace(/(^|[^\\])TT+/g,"$1"+w)).replace(/(^|[^\\])T/g,"$1"+w.charAt(0));var C=w.toLowerCase();t=(t=t.replace(/(^|[^\\])tt+/g,"$1"+C)).replace(/(^|[^\\])t/g,"$1"+C.charAt(0));var T=-e.getTimezoneOffset(),S=r||!T?"Z":T>0?"+":"-";if(!r){var E=(T=Math.abs(T))%60;S+=c(Math.floor(T/60))+":"+c(E)}t=t.replace(/(^|[^\\])K/g,"$1"+S);var M=(r?e.getUTCDay():e.getDay())+1;return t=(t=(t=(t=(t=t.replace(new RegExp(a[0],"g"),a[M])).replace(new RegExp(l[0],"g"),l[M])).replace(new RegExp(s[0],"g"),s[u])).replace(new RegExp(o[0],"g"),o[u])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,t,n){var r=this.w;r.config.xaxis.min!==void 0&&(e=r.config.xaxis.min),r.config.xaxis.max!==void 0&&(t=r.config.xaxis.max);var s=this.getDate(e),o=this.getDate(t),a=this.formatDate(s,"yyyy MM dd HH mm ss fff").split(" "),l=this.formatDate(o,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(a[6],10),maxMillisecond:parseInt(l[6],10),minSecond:parseInt(a[5],10),maxSecond:parseInt(l[5],10),minMinute:parseInt(a[4],10),maxMinute:parseInt(l[4],10),minHour:parseInt(a[3],10),maxHour:parseInt(l[3],10),minDate:parseInt(a[2],10),maxDate:parseInt(l[2],10),minMonth:parseInt(a[1],10)-1,maxMonth:parseInt(l[1],10)-1,minYear:parseInt(a[0],10),maxYear:parseInt(l[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,t,n){return this.determineDaysOfMonths(e,t)-n}},{key:"determineDaysOfYear",value:function(e){var t=365;return this.isLeapYear(e)&&(t=366),t}},{key:"determineRemainingDaysOfYear",value:function(e,t,n){var r=this.daysCntOfYear[t]+n;return t>1&&this.isLeapYear()&&r++,r}},{key:"determineDaysOfMonths",value:function(e,t){var n=30;switch(e=H.monthMod(e),!0){case this.months30.indexOf(e)>-1:e===2&&(n=this.isLeapYear(t)?29:28);break;case this.months31.indexOf(e)>-1:default:n=31}return n}}]),i}(),Ia=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return Oe(i,[{key:"xLabelFormat",value:function(e,t,n,r){var s=this.w;if(s.config.xaxis.type==="datetime"&&s.config.xaxis.labels.formatter===void 0&&s.config.tooltip.x.formatter===void 0){var o=new dn(this.ctx);return o.formatDate(o.getDate(t),s.config.tooltip.x.format)}return e(t,n,r)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map(function(t){return t}):e}},{key:"defaultYFormatter",value:function(e,t,n){var r=this.w;if(H.isNumber(e))if(r.globals.yValueDecimal!==0)e=e.toFixed(t.decimalsInFloat!==void 0?t.decimalsInFloat:r.globals.yValueDecimal);else{var s=e.toFixed(0);e=e==s?s:e.toFixed(1)}return e}},{key:"setLabelFormatters",value:function(){var e=this,t=this.w;return t.globals.xaxisTooltipFormatter=function(n){return e.defaultGeneralFormatter(n)},t.globals.ttKeyFormatter=function(n){return e.defaultGeneralFormatter(n)},t.globals.ttZFormatter=function(n){return n},t.globals.legendFormatter=function(n){return e.defaultGeneralFormatter(n)},t.config.xaxis.labels.formatter!==void 0?t.globals.xLabelFormatter=t.config.xaxis.labels.formatter:t.globals.xLabelFormatter=function(n){if(H.isNumber(n)){if(!t.config.xaxis.convertedCatToNumeric&&t.config.xaxis.type==="numeric"){if(H.isNumber(t.config.xaxis.decimalsInFloat))return n.toFixed(t.config.xaxis.decimalsInFloat);var r=t.globals.maxX-t.globals.minX;return r>0&&r<100?n.toFixed(1):n.toFixed(0)}return t.globals.isBarHorizontal&&t.globals.maxY-t.globals.minYArr<4?n.toFixed(1):n.toFixed(0)}return n},typeof t.config.tooltip.x.formatter=="function"?t.globals.ttKeyFormatter=t.config.tooltip.x.formatter:t.globals.ttKeyFormatter=t.globals.xLabelFormatter,typeof t.config.xaxis.tooltip.formatter=="function"&&(t.globals.xaxisTooltipFormatter=t.config.xaxis.tooltip.formatter),(Array.isArray(t.config.tooltip.y)||t.config.tooltip.y.formatter!==void 0)&&(t.globals.ttVal=t.config.tooltip.y),t.config.tooltip.z.formatter!==void 0&&(t.globals.ttZFormatter=t.config.tooltip.z.formatter),t.config.legend.formatter!==void 0&&(t.globals.legendFormatter=t.config.legend.formatter),t.config.yaxis.forEach(function(n,r){n.labels.formatter!==void 0?t.globals.yLabelFormatters[r]=n.labels.formatter:t.globals.yLabelFormatters[r]=function(s){return t.globals.xyCharts?Array.isArray(s)?s.map(function(o){return e.defaultYFormatter(o,n,r)}):e.defaultYFormatter(s,n,r):s}}),t.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if(e.config.chart.type==="heatmap"){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var t=e.globals.seriesNames.reduce(function(n,r){return n.length>r.length?n:r},0);e.globals.yAxisScale[0].niceMax=t,e.globals.yAxisScale[0].niceMin=t}}}]),i}(),Tr=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"getLabel",value:function(e,t,n,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",a=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],l=this.w,c=e[r]===void 0?"":e[r],h=c,u=l.globals.xLabelFormatter,d=l.config.xaxis.labels.formatter,f=!1,p=new Ia(this.ctx),m=c;a&&(h=p.xLabelFormat(u,c,m,{i:r,dateFormatter:new dn(this.ctx).formatDate,w:l}),d!==void 0&&(h=d(c,e[r],{i:r,dateFormatter:new dn(this.ctx).formatDate,w:l})));var b,y;t.length>0?(b=t[r].unit,y=null,t.forEach(function(S){S.unit==="month"?y="year":S.unit==="day"?y="month":S.unit==="hour"?y="day":S.unit==="minute"&&(y="hour")}),f=y===b,n=t[r].position,h=t[r].value):l.config.xaxis.type==="datetime"&&d===void 0&&(h=""),h===void 0&&(h=""),h=Array.isArray(h)?h:h.toString();var w=new oe(this.ctx),C={};C=l.globals.rotateXLabels&&a?w.getTextRects(h,parseInt(o,10),null,"rotate(".concat(l.config.xaxis.labels.rotate," 0 0)"),!1):w.getTextRects(h,parseInt(o,10));var T=!l.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(h)&&(String(h)==="NaN"||s.indexOf(h)>=0&&T)&&(h=""),{x:n,text:h,textRect:C,isBold:f}}},{key:"checkLabelBasedOnTickamount",value:function(e,t,n){var r=this.w,s=r.config.xaxis.tickAmount;return s==="dataPoints"&&(s=Math.round(r.globals.gridWidth/120)),s>n||e%Math.round(n/(s+1))==0||(t.text=""),t}},{key:"checkForOverflowingLabels",value:function(e,t,n,r,s){var o=this.w;if(e===0&&o.globals.skipFirstTimelinelabel&&(t.text=""),e===n-1&&o.globals.skipLastTimelinelabel&&(t.text=""),o.config.xaxis.labels.hideOverlappingLabels&&r.length>0){var a=s[s.length-1];t.x<a.textRect.width/(o.globals.rotateXLabels?Math.abs(o.config.xaxis.labels.rotate)/12:1.01)+a.x&&(t.text="")}return t}},{key:"checkForReversedLabels",value:function(e,t){var n=this.w;return n.config.yaxis[e]&&n.config.yaxis[e].reversed&&t.reverse(),t}},{key:"yAxisAllSeriesCollapsed",value:function(e){var t=this.w.globals;return!t.seriesYAxisMap[e].some(function(n){return t.collapsedSeriesIndices.indexOf(n)===-1})}},{key:"translateYAxisIndex",value:function(e){var t=this.w,n=t.globals,r=t.config.yaxis;return n.series.length>r.length||r.some(function(s){return Array.isArray(s.seriesName)})?e:n.seriesYAxisReverseMap[e]}},{key:"isYAxisHidden",value:function(e){var t=this.w,n=t.config.yaxis[e];if(!n.show||this.yAxisAllSeriesCollapsed(e))return!0;if(!n.showForNullSeries){var r=t.globals.seriesYAxisMap[e],s=new Bt(this.ctx);return r.every(function(o){return s.isSeriesNull(o)})}return!1}},{key:"getYAxisForeColor",value:function(e,t){var n=this.w;return Array.isArray(e)&&n.globals.yAxisScale[t]&&this.ctx.theme.pushExtraColors(e,n.globals.yAxisScale[t].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,t,n,r,s,o,a){var l=this.w,c=new oe(this.ctx),h=l.globals.translateY+l.config.yaxis[s].labels.offsetY;if(l.globals.isBarHorizontal?h=0:l.config.chart.type==="heatmap"&&(h+=o/2),r.show&&t>0){l.config.yaxis[s].opposite===!0&&(e+=r.width);for(var u=t;u>=0;u--){var d=c.drawLine(e+n.offsetX-r.width+r.offsetX,h+r.offsetY,e+n.offsetX+r.offsetX,h+r.offsetY,r.color);a.add(d),h+=o}}}}]),i}(),tA=function(){function i(e){Ee(this,i),this.w=e.w,this.annoCtx=e,this.helpers=new pc(this.annoCtx),this.axesUtils=new Tr(this.annoCtx)}return Oe(i,[{key:"addYaxisAnnotation",value:function(e,t,n){var r,s=this.w,o=e.strokeDashArray,a=this.helpers.getY1Y2("y1",e),l=a.yP,c=a.clipped,h=!0,u=!1,d=e.label.text;if(e.y2===null||e.y2===void 0){if(!c){u=!0;var f=this.annoCtx.graphics.drawLine(0+e.offsetX,l+e.offsetY,this._getYAxisAnnotationWidth(e),l+e.offsetY,e.borderColor,o,e.borderWidth);t.appendChild(f.node),e.id&&f.node.classList.add(e.id)}}else{if(r=(a=this.helpers.getY1Y2("y2",e)).yP,h=a.clipped,r>l){var p=l;l=r,r=p}if(!c||!h){u=!0;var m=this.annoCtx.graphics.drawRect(0+e.offsetX,r+e.offsetY,this._getYAxisAnnotationWidth(e),l-r,0,e.fillColor,e.opacity,1,e.borderColor,o);m.node.classList.add("apexcharts-annotation-rect"),m.attr("clip-path","url(#gridRectMask".concat(s.globals.cuid,")")),t.appendChild(m.node),e.id&&m.node.classList.add(e.id)}}if(u){var b=e.label.position==="right"?s.globals.gridWidth:e.label.position==="center"?s.globals.gridWidth/2:0,y=this.annoCtx.graphics.drawText({x:b+e.label.offsetX,y:(r??l)+e.label.offsetY-3,text:d,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});y.attr({rel:n}),t.appendChild(y.node)}}},{key:"_getYAxisAnnotationWidth",value:function(e){var t=this.w;return t.globals.gridWidth,(e.width.indexOf("%")>-1?t.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return t.config.annotations.yaxis.forEach(function(r,s){r.yAxisIndex=e.axesUtils.translateYAxisIndex(r.yAxisIndex),e.axesUtils.isYAxisHidden(r.yAxisIndex)&&e.axesUtils.yAxisAllSeriesCollapsed(r.yAxisIndex)||e.addYaxisAnnotation(r,n.node,s)}),n}}]),i}(),nA=function(){function i(e){Ee(this,i),this.w=e.w,this.annoCtx=e,this.helpers=new pc(this.annoCtx)}return Oe(i,[{key:"addPointAnnotation",value:function(e,t,n){if(!(this.w.globals.collapsedSeriesIndices.indexOf(e.seriesIndex)>-1)){var r=this.helpers.getX1X2("x1",e),s=r.x,o=r.clipped,a=(r=this.helpers.getY1Y2("y1",e)).yP,l=r.clipped;if(H.isNumber(s)&&!l&&!o){var c={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},h=this.annoCtx.graphics.drawMarker(s+e.marker.offsetX,a+e.marker.offsetY,c);t.appendChild(h.node);var u=e.label.text?e.label.text:"",d=this.annoCtx.graphics.drawText({x:s+e.label.offsetX,y:a+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:u,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(d.attr({rel:n}),t.appendChild(d.node),e.customSVG.SVG){var f=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});f.attr({transform:"translate(".concat(s+e.customSVG.offsetX,", ").concat(a+e.customSVG.offsetY,")")}),f.node.innerHTML=e.customSVG.SVG,t.appendChild(f.node)}if(e.image.path){var p=e.image.width?e.image.width:20,m=e.image.height?e.image.height:20;h=this.annoCtx.addImage({x:s+e.image.offsetX-p/2,y:a+e.image.offsetY-m/2,width:p,height:m,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&h.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&h.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e)),e.click&&h.node.addEventListener("click",e.click.bind(this,e))}}}},{key:"drawPointAnnotations",value:function(){var e=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return t.config.annotations.points.map(function(r,s){e.addPointAnnotation(r,n.node,s)}),n}}]),i}(),Sb={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},ws=function(){function i(){Ee(this,i),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return Oe(i,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[Sb],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.7},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{line:{isSlopeChart:!1,colors:{threshold:0,colorAboveThreshold:void 0,colorBelowThreshold:void 0}},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0},seriesTitle:{show:!0,offsetY:1,offsetX:1,borderColor:"#000",borderWidth:1,borderRadius:2,style:{background:"rgba(0, 0, 0, 0.6)",color:"#fff",fontSize:"12px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:6,right:6,top:2,bottom:2}}}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(t,n){return t+n},0)/e.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(e){return e},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(t,n){return t+n},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return e!==null?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],clusterGroupedSeries:!0,clusterGroupedSeriesOrientation:"vertical",labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{hover:{filter:{type:"lighten"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken"}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.8}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),i}(),iA=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w,this.graphics=new oe(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new pc(this),this.xAxisAnnotations=new eA(this),this.yAxisAnnotations=new tA(this),this.pointsAnnotations=new nA(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return Oe(i,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts&&e.globals.dataPoints){for(var t=this.yAxisAnnotations.drawYAxisAnnotations(),n=this.xAxisAnnotations.drawXAxisAnnotations(),r=this.pointsAnnotations.drawPointAnnotations(),s=e.config.chart.animations.enabled,o=[t,n,r],a=[n.node,t.node,r.node],l=0;l<3;l++)e.globals.dom.elGraphical.add(o[l]),!s||e.globals.resized||e.globals.dataChanged||e.config.chart.type!=="scatter"&&e.config.chart.type!=="bubble"&&e.globals.dataPoints>1&&a[l].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:a[l],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map(function(t,n){e.addImage(t,n)})}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map(function(t,n){e.addText(t,n)})}},{key:"addXaxisAnnotation",value:function(e,t,n){this.xAxisAnnotations.addXaxisAnnotation(e,t,n)}},{key:"addYaxisAnnotation",value:function(e,t,n){this.yAxisAnnotations.addYaxisAnnotation(e,t,n)}},{key:"addPointAnnotation",value:function(e,t,n){this.pointsAnnotations.addPointAnnotation(e,t,n)}},{key:"addText",value:function(e,t){var n=e.x,r=e.y,s=e.text,o=e.textAnchor,a=e.foreColor,l=e.fontSize,c=e.fontFamily,h=e.fontWeight,u=e.cssClass,d=e.backgroundColor,f=e.borderWidth,p=e.strokeDashArray,m=e.borderRadius,b=e.borderColor,y=e.appendTo,w=y===void 0?".apexcharts-svg":y,C=e.paddingLeft,T=C===void 0?4:C,S=e.paddingRight,E=S===void 0?4:S,M=e.paddingBottom,I=M===void 0?2:M,P=e.paddingTop,N=P===void 0?2:P,D=this.w,_=this.graphics.drawText({x:n,y:r,text:s,textAnchor:o||"start",fontSize:l||"12px",fontWeight:h||"regular",fontFamily:c||D.config.chart.fontFamily,foreColor:a||D.config.chart.foreColor,cssClass:u}),$=D.globals.dom.baseEl.querySelector(w);$&&$.appendChild(_.node);var U=_.bbox();if(s){var re=this.graphics.drawRect(U.x-T,U.y-N,U.width+T+E,U.height+I+N,m,d||"transparent",1,f,b,p);$.insertBefore(re.node,_.node)}}},{key:"addImage",value:function(e,t){var n=this.w,r=e.path,s=e.x,o=s===void 0?0:s,a=e.y,l=a===void 0?0:a,c=e.width,h=c===void 0?20:c,u=e.height,d=u===void 0?20:u,f=e.appendTo,p=f===void 0?".apexcharts-svg":f,m=n.globals.dom.Paper.image(r);m.size(h,d).move(o,l);var b=n.globals.dom.baseEl.querySelector(p);return b&&b.appendChild(m.node),m}},{key:"addXaxisAnnotationExternal",value:function(e,t,n){return this.addAnnotationExternal({params:e,pushToMemory:t,context:n,type:"xaxis",contextMethod:n.addXaxisAnnotation}),n}},{key:"addYaxisAnnotationExternal",value:function(e,t,n){return this.addAnnotationExternal({params:e,pushToMemory:t,context:n,type:"yaxis",contextMethod:n.addYaxisAnnotation}),n}},{key:"addPointAnnotationExternal",value:function(e,t,n){return this.invertAxis===void 0&&(this.invertAxis=n.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:t,context:n,type:"point",contextMethod:n.addPointAnnotation}),n}},{key:"addAnnotationExternal",value:function(e){var t=e.params,n=e.pushToMemory,r=e.context,s=e.type,o=e.contextMethod,a=r,l=a.w,c=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(s,"-annotations")),h=c.childNodes.length+1,u=new ws,d=Object.assign({},s==="xaxis"?u.xAxisAnnotation:s==="yaxis"?u.yAxisAnnotation:u.pointAnnotation),f=H.extend(d,t);switch(s){case"xaxis":this.addXaxisAnnotation(f,c,h);break;case"yaxis":this.addYaxisAnnotation(f,c,h);break;case"point":this.addPointAnnotation(f,c,h)}var p=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(s,"-annotations .apexcharts-").concat(s,"-annotation-label[rel='").concat(h,"']")),m=this.helpers.addBackgroundToAnno(p,f);return m&&c.insertBefore(m.node,p),n&&l.globals.memory.methodsToExec.push({context:a,id:f.id?f.id:H.randomId(),method:o,label:"addAnnotation",params:t}),r}},{key:"clearAnnotations",value:function(e){for(var t=e.w,n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),r=t.globals.memory.methodsToExec.length-1;r>=0;r--)t.globals.memory.methodsToExec[r].label!=="addText"&&t.globals.memory.methodsToExec[r].label!=="addAnnotation"||t.globals.memory.methodsToExec.splice(r,1);n=H.listToArray(n),Array.prototype.forEach.call(n,function(s){for(;s.firstChild;)s.removeChild(s.firstChild)})}},{key:"removeAnnotation",value:function(e,t){var n=e.w,r=n.globals.dom.baseEl.querySelectorAll(".".concat(t));r&&(n.globals.memory.methodsToExec.map(function(s,o){s.id===t&&n.globals.memory.methodsToExec.splice(o,1)}),Array.prototype.forEach.call(r,function(s){s.parentElement.removeChild(s)}))}}]),i}(),zd=function(i){var e,t=i.isTimeline,n=i.ctx,r=i.seriesIndex,s=i.dataPointIndex,o=i.y1,a=i.y2,l=i.w,c=l.globals.seriesRangeStart[r][s],h=l.globals.seriesRangeEnd[r][s],u=l.globals.labels[s],d=l.config.series[r].name?l.config.series[r].name:"",f=l.globals.ttKeyFormatter,p=l.config.tooltip.y.title.formatter,m={w:l,seriesIndex:r,dataPointIndex:s,start:c,end:h};typeof p=="function"&&(d=p(d,m)),(e=l.config.series[r].data[s])!==null&&e!==void 0&&e.x&&(u=l.config.series[r].data[s].x),t||l.config.xaxis.type==="datetime"&&(u=new Ia(n).xLabelFormat(l.globals.ttKeyFormatter,u,u,{i:void 0,dateFormatter:new dn(n).formatDate,w:l})),typeof f=="function"&&(u=f(u,m)),Number.isFinite(o)&&Number.isFinite(a)&&(c=o,h=a);var b="",y="",w=l.globals.colors[r];if(l.config.tooltip.x.formatter===void 0)if(l.config.xaxis.type==="datetime"){var C=new dn(n);b=C.formatDate(C.getDate(c),l.config.tooltip.x.format),y=C.formatDate(C.getDate(h),l.config.tooltip.x.format)}else b=c,y=h;else b=l.config.tooltip.x.formatter(c),y=l.config.tooltip.x.formatter(h);return{start:c,end:h,startVal:b,endVal:y,ylabel:u,color:w,seriesName:d}},Fd=function(i){var e=i.color,t=i.seriesName,n=i.ylabel,r=i.start,s=i.end,o=i.seriesIndex,a=i.dataPointIndex,l=i.ctx.tooltip.tooltipLabels.getFormatters(o);r=l.yLbFormatter(r),s=l.yLbFormatter(s);var c=l.yLbFormatter(i.w.globals.series[o][a]),h=`<span class="value start-value">
    `.concat(r,`
    </span> <span class="separator">-</span> <span class="value end-value">
    `).concat(s,`
    </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e+'">'+(t||"")+'</span></div><div> <span class="category">'+n+": </span> "+(i.w.globals.comboCharts?i.w.config.series[o].type==="rangeArea"||i.w.config.series[o].type==="rangeBar"?h:"<span>".concat(c,"</span>"):h)+" </div></div>"},Pa=function(){function i(e){Ee(this,i),this.opts=e}return Oe(i,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.hideYAxis(),H.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(e,t){var n=t.w.config.series[t.seriesIndex].name;return e!==null?n+": "+e:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),xe(xe({},this.bar()),{},{chart:{animations:{speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var n=t.seriesIndex,r=t.dataPointIndex,s=t.w;return e._getBoxTooltip(s,n,r,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var n=t.seriesIndex,r=t.dataPointIndex,s=t.w;return e._getBoxTooltip(s,n,r,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,t){t.ctx;var n=t.seriesIndex,r=t.dataPointIndex,s=t.w,o=function(){var a=s.globals.seriesRangeStart[n][r];return s.globals.seriesRangeEnd[n][r]-a};return s.globals.comboCharts?s.config.series[n].type==="rangeBar"||s.config.series[n].type==="rangeArea"?o():e:o()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?function(t){var n=zd(xe(xe({},t),{},{isTimeline:!0})),r=n.color,s=n.seriesName,o=n.ylabel,a=n.startVal,l=n.endVal;return Fd(xe(xe({},t),{},{color:r,seriesName:s,ylabel:o,start:a,end:l}))}(e):function(t){var n=zd(t),r=n.color,s=n.seriesName,o=n.ylabel,a=n.start,l=n.end;return Fd(xe(xe({},t),{},{color:r,seriesName:s,ylabel:o,start:a,end:l}))}(e)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(e){var t,n;return(t=e.plotOptions.bar)!==null&&t!==void 0&&t.barHeight||(e.plotOptions.bar.barHeight=2),(n=e.plotOptions.bar)!==null&&n!==void 0&&n.columnWidth||(e.plotOptions.bar.columnWidth=2),e}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(e){return function(t){var n=zd(t),r=n.color,s=n.seriesName,o=n.ylabel,a=n.start,l=n.end;return Fd(xe(xe({},t),{},{color:r,seriesName:s,ylabel:o,start:a,end:l}))}(e)}}}}},{key:"brush",value:function(e){return H.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var t=e.dataLabels.formatter;return e.yaxis.forEach(function(n,r){e.yaxis[r].min=0,e.yaxis[r].max=100}),e.chart.type==="bar"&&(e.dataLabels.formatter=t||function(n){return typeof n=="number"&&n?n.toFixed(0)+"%":n}),e}},{key:"stackedBars",value:function(){var e=this.bar();return xe(xe({},e),{},{plotOptions:xe(xe({},e.plotOptions),{},{bar:xe(xe({},e.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,t,n){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(o){return H.isNumber(o)?Math.floor(o):o};var r=e.xaxis.labels.formatter,s=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return n&&n.length&&(s=n.map(function(o){return Array.isArray(o)?o:String(o)})),s&&s.length&&(e.xaxis.labels.formatter=function(o){return H.isNumber(o)?r(s[Math.floor(o)-1]):r(o)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(e,t,n,r,s){var o=e.globals.seriesCandleO[t][n],a=e.globals.seriesCandleH[t][n],l=e.globals.seriesCandleM[t][n],c=e.globals.seriesCandleL[t][n],h=e.globals.seriesCandleC[t][n];return e.config.series[t].type&&e.config.series[t].type!==s?`<div class="apexcharts-custom-tooltip">
            `.concat(e.config.series[t].name?e.config.series[t].name:"series-"+(t+1),": <strong>").concat(e.globals.series[t][n],`</strong>
          </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(r[0],': <span class="value">')+o+"</span></div>"+"<div>".concat(r[1],': <span class="value">')+a+"</span></div>"+(l?"<div>".concat(r[2],': <span class="value">')+l+"</span></div>":"")+"<div>".concat(r[3],': <span class="value">')+c+"</span></div>"+"<div>".concat(r[4],': <span class="value">')+h+"</span></div></div>"}}]),i}(),La=function(){function i(e){Ee(this,i),this.opts=e}return Oe(i,[{key:"init",value:function(e){var t=e.responsiveOverride,n=this.opts,r=new ws,s=new Pa(n);this.chartType=n.chart.type,n=this.extendYAxis(n),n=this.extendAnnotations(n);var o=r.init(),a={};if(n&&so(n)==="object"){var l,c,h,u,d,f,p,m,b,y,w={};w=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(n.chart.type)!==-1?s[n.chart.type]():s.line(),(l=n.plotOptions)!==null&&l!==void 0&&(c=l.bar)!==null&&c!==void 0&&c.isFunnel&&(w=s.funnel()),n.chart.stacked&&n.chart.type==="bar"&&(w=s.stackedBars()),(h=n.chart.brush)!==null&&h!==void 0&&h.enabled&&(w=s.brush(w)),(u=n.plotOptions)!==null&&u!==void 0&&(d=u.line)!==null&&d!==void 0&&d.isSlopeChart&&(w=s.slope()),n.chart.stacked&&n.chart.stackType==="100%"&&(n=s.stacked100(n)),(f=n.plotOptions)!==null&&f!==void 0&&(p=f.bar)!==null&&p!==void 0&&p.isDumbbell&&(n=s.dumbbell(n)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(n),n.xaxis=n.xaxis||window.Apex.xaxis||{},t||(n.xaxis.convertedCatToNumeric=!1),((m=(n=this.checkForCatToNumericXAxis(this.chartType,w,n)).chart.sparkline)!==null&&m!==void 0&&m.enabled||(b=window.Apex.chart)!==null&&b!==void 0&&(y=b.sparkline)!==null&&y!==void 0&&y.enabled)&&(w=s.sparkline(w)),a=H.extend(o,w)}var C=H.extend(a,window.Apex);return o=H.extend(C,n),o=this.handleUserInputErrors(o)}},{key:"checkForCatToNumericXAxis",value:function(e,t,n){var r,s,o=new Pa(n),a=(e==="bar"||e==="boxPlot")&&((r=n.plotOptions)===null||r===void 0||(s=r.bar)===null||s===void 0?void 0:s.horizontal),l=e==="pie"||e==="polarArea"||e==="donut"||e==="radar"||e==="radialBar"||e==="heatmap",c=n.xaxis.type!=="datetime"&&n.xaxis.type!=="numeric",h=n.xaxis.tickPlacement?n.xaxis.tickPlacement:t.xaxis&&t.xaxis.tickPlacement;return a||l||!c||h==="between"||(n=o.convertCatToNumeric(n)),n}},{key:"extendYAxis",value:function(e,t){var n=new ws;(e.yaxis===void 0||!e.yaxis||Array.isArray(e.yaxis)&&e.yaxis.length===0)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=H.extend(e.yaxis,window.Apex.yaxis)),e.yaxis.constructor!==Array?e.yaxis=[H.extend(n.yAxis,e.yaxis)]:e.yaxis=H.extendArray(e.yaxis,n.yAxis);var r=!1;e.yaxis.forEach(function(o){o.logarithmic&&(r=!0)});var s=e.series;return t&&!s&&(s=t.config.series),r&&s.length!==e.yaxis.length&&s.length&&(e.yaxis=s.map(function(o,a){if(o.name||(s[a].name="series-".concat(a+1)),e.yaxis[a])return e.yaxis[a].seriesName=s[a].name,e.yaxis[a];var l=H.extend(n.yAxis,e.yaxis[0]);return l.show=!1,l})),r&&s.length>1&&s.length!==e.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),e}},{key:"extendAnnotations",value:function(e){return e.annotations===void 0&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),e=this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var t=new ws;return e.annotations.yaxis=H.extendArray(e.annotations.yaxis!==void 0?e.annotations.yaxis:[],t.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var t=new ws;return e.annotations.xaxis=H.extendArray(e.annotations.xaxis!==void 0?e.annotations.xaxis:[],t.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var t=new ws;return e.annotations.points=H.extendArray(e.annotations.points!==void 0?e.annotations.points:[],t.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&e.theme.mode==="dark"&&(e.tooltip||(e.tooltip={}),e.tooltip.theme!=="light"&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var t=e;if(t.tooltip.shared&&t.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(t.chart.type==="bar"&&t.plotOptions.bar.horizontal){if(t.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");t.yaxis[0].reversed&&(t.yaxis[0].opposite=!0),t.xaxis.tooltip.enabled=!1,t.yaxis[0].tooltip.enabled=!1,t.chart.zoom.enabled=!1}return t.chart.type!=="bar"&&t.chart.type!=="rangeBar"||t.tooltip.shared&&t.xaxis.crosshairs.width==="barWidth"&&t.series.length>1&&(t.xaxis.crosshairs.width="tickWidth"),t.chart.type!=="candlestick"&&t.chart.type!=="boxPlot"||t.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(t.chart.type," chart is not supported.")),t.yaxis[0].reversed=!1),t}}]),i}(),Cb=function(){function i(){Ee(this,i)}return Oe(i,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRange=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.labels=[],e.hasXaxisGroups=!1,e.groups=[],e.barGroups=[],e.lineGroups=[],e.areaGroups=[],e.hasSeriesGroups=!1,e.seriesGroups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.lastWheelExecution=0,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0,e.multiAxisTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:e.chart.toolbar.autoSelected==="zoom"&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:e.chart.toolbar.autoSelected==="pan"&&e.chart.toolbar.tools.pan,selectionEnabled:e.chart.toolbar.autoSelected==="selection"&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:e.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(e){var t=this.globalVars(e);return this.initGlobalVars(t),t.initialConfig=H.extend({},e),t.initialSeries=H.clone(e.series),t.lastXAxis=H.clone(t.initialConfig.xaxis),t.lastYAxis=H.clone(t.initialConfig.yaxis),t}}]),i}(),rA=function(){function i(e){Ee(this,i),this.opts=e}return Oe(i,[{key:"init",value:function(){var e=new La(this.opts).init({responsiveOverride:!1});return{config:e,globals:new Cb().init(e)}}}]),i}(),Ai=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return Oe(i,[{key:"clippedImgArea",value:function(e){var t=this.w,n=t.config,r=parseInt(t.globals.gridWidth,10),s=parseInt(t.globals.gridHeight,10),o=r>s?r:s,a=e.image,l=0,c=0;e.width===void 0&&e.height===void 0?n.fill.image.width!==void 0&&n.fill.image.height!==void 0?(l=n.fill.image.width+1,c=n.fill.image.height):(l=o+1,c=o):(l=e.width,c=e.height);var h=document.createElementNS(t.globals.SVGNS,"pattern");oe.setAttrs(h,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:l+"px",height:c+"px"});var u=document.createElementNS(t.globals.SVGNS,"image");h.appendChild(u),u.setAttributeNS(window.SVG.xlink,"href",a),oe.setAttrs(u,{x:0,y:0,preserveAspectRatio:"none",width:l+"px",height:c+"px"}),u.style.opacity=e.opacity,t.globals.dom.elDefs.node.appendChild(h)}},{key:"getSeriesIndex",value:function(e){var t=this.w,n=t.config.chart.type;return(n==="bar"||n==="rangeBar")&&t.config.plotOptions.bar.distributed||n==="heatmap"||n==="treemap"?this.seriesIndex=e.seriesNumber:this.seriesIndex=e.seriesNumber%t.globals.series.length,this.seriesIndex}},{key:"computeColorStops",value:function(e,t){var n,r=this.w,s=null,o=null,a=ya(e);try{for(a.s();!(n=a.n()).done;){var l=n.value;l>=t.threshold?(s===null||l>s)&&(s=l):(o===null||l<o)&&(o=l)}}catch(u){a.e(u)}finally{a.f()}s===null&&(s=t.threshold),o===null&&(o=t.threshold);var c=s-t.threshold+(t.threshold-o);c===0&&(c=1);var h=100-(t.threshold-o)/c*100;return[{offset:h=Math.max(0,Math.min(h,100)),color:t.colorAboveThreshold,opacity:r.config.fill.opacity},{offset:0,color:t.colorBelowThreshold,opacity:r.config.fill.opacity}]}},{key:"fillPath",value:function(e){var t,n,r,s=this.w;this.opts=e;var o,a,l,c=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var h=c.plotOptions.line.colors.colorAboveThreshold&&c.plotOptions.line.colors.colorBelowThreshold,u=this.getFillColors()[this.seriesIndex];s.globals.seriesColors[this.seriesIndex]!==void 0&&(u=s.globals.seriesColors[this.seriesIndex]),typeof u=="function"&&(u=u({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:s}));var d,f,p,m=e.fillType?e.fillType:this.getFillType(this.seriesIndex),b=Array.isArray(c.fill.opacity)?c.fill.opacity[this.seriesIndex]:c.fill.opacity,y=m==="gradient"||h;e.color&&(u=e.color),(t=s.config.series[this.seriesIndex])!==null&&t!==void 0&&(n=t.data)!==null&&n!==void 0&&(r=n[e.dataPointIndex])!==null&&r!==void 0&&r.fillColor&&(u=(d=s.config.series[this.seriesIndex])===null||d===void 0||(f=d.data)===null||f===void 0||(p=f[e.dataPointIndex])===null||p===void 0?void 0:p.fillColor),u||(u="#fff",console.warn("undefined color - ApexCharts"));var w=u;if(u.indexOf("rgb")===-1?u.indexOf("#")===-1?w=u:u.length<9&&(w=H.hexToRgba(u,b)):u.indexOf("rgba")>-1?b=H.getOpacityFromRGBA(u):w=H.hexToRgba(H.rgb2hex(u),b),e.opacity&&(b=e.opacity),m==="pattern"&&(a=this.handlePatternFill({fillConfig:e.fillConfig,patternFill:a,fillColor:u,fillOpacity:b,defaultColor:w})),y){var C=Ut(c.fill.gradient.colorStops)||[],T=c.fill.gradient.type;h&&(C[this.seriesIndex]=this.computeColorStops(s.globals.series[this.seriesIndex],c.plotOptions.line.colors),T="vertical"),l=this.handleGradientFill({type:T,fillConfig:e.fillConfig,fillColor:u,fillOpacity:b,colorStops:C,i:this.seriesIndex})}if(m==="image"){var S=c.fill.image.src,E=e.patternID?e.patternID:"",M="pattern".concat(s.globals.cuid).concat(e.seriesNumber+1).concat(E);this.patternIDs.indexOf(M)===-1&&(this.clippedImgArea({opacity:b,image:Array.isArray(S)?e.seriesNumber<S.length?S[e.seriesNumber]:S[0]:S,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:M}),this.patternIDs.push(M)),o="url(#".concat(M,")")}else o=y?l:m==="pattern"?a:w;return e.solid&&(o=w),o}},{key:"getFillType",value:function(e){var t=this.w;return Array.isArray(t.config.fill.type)?t.config.fill.type[e]:t.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,t=e.config,n=this.opts,r=[];return e.globals.comboCharts?e.config.series[this.seriesIndex].type==="line"?Array.isArray(e.globals.stroke.colors)?r=e.globals.stroke.colors:r.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?r=e.globals.fill.colors:r.push(e.globals.fill.colors):t.chart.type==="line"?Array.isArray(e.globals.stroke.colors)?r=e.globals.stroke.colors:r.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?r=e.globals.fill.colors:r.push(e.globals.fill.colors),n.fillColors!==void 0&&(r=[],Array.isArray(n.fillColors)?r=n.fillColors.slice():r.push(n.fillColors)),r}},{key:"handlePatternFill",value:function(e){var t=e.fillConfig,n=e.patternFill,r=e.fillColor,s=e.fillOpacity,o=e.defaultColor,a=this.w.config.fill;t&&(a=t);var l=this.opts,c=new oe(this.ctx),h=Array.isArray(a.pattern.strokeWidth)?a.pattern.strokeWidth[this.seriesIndex]:a.pattern.strokeWidth,u=r;return Array.isArray(a.pattern.style)?n=a.pattern.style[l.seriesNumber]!==void 0?c.drawPattern(a.pattern.style[l.seriesNumber],a.pattern.width,a.pattern.height,u,h,s):o:n=c.drawPattern(a.pattern.style,a.pattern.width,a.pattern.height,u,h,s),n}},{key:"handleGradientFill",value:function(e){var t=e.type,n=e.fillColor,r=e.fillOpacity,s=e.fillConfig,o=e.colorStops,a=e.i,l=this.w.config.fill;s&&(l=xe(xe({},l),s));var c=this.opts,h=new oe(this.ctx),u=new H;t=t||l.gradient.type;var d,f=n,p=l.gradient.opacityFrom===void 0?r:Array.isArray(l.gradient.opacityFrom)?l.gradient.opacityFrom[a]:l.gradient.opacityFrom;f.indexOf("rgba")>-1&&(p=H.getOpacityFromRGBA(f));var m=l.gradient.opacityTo===void 0?r:Array.isArray(l.gradient.opacityTo)?l.gradient.opacityTo[a]:l.gradient.opacityTo;if(l.gradient.gradientToColors===void 0||l.gradient.gradientToColors.length===0)d=l.gradient.shade==="dark"?u.shadeColor(-1*parseFloat(l.gradient.shadeIntensity),n.indexOf("rgb")>-1?H.rgb2hex(n):n):u.shadeColor(parseFloat(l.gradient.shadeIntensity),n.indexOf("rgb")>-1?H.rgb2hex(n):n);else if(l.gradient.gradientToColors[c.seriesNumber]){var b=l.gradient.gradientToColors[c.seriesNumber];d=b,b.indexOf("rgba")>-1&&(m=H.getOpacityFromRGBA(b))}else d=n;if(l.gradient.gradientFrom&&(f=l.gradient.gradientFrom),l.gradient.gradientTo&&(d=l.gradient.gradientTo),l.gradient.inverseColors){var y=f;f=d,d=y}return f.indexOf("rgb")>-1&&(f=H.rgb2hex(f)),d.indexOf("rgb")>-1&&(d=H.rgb2hex(d)),h.drawGradient(t,f,d,p,m,c.size,l.gradient.stops,o,a)}}]),i}(),go=function(){function i(e,t){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var t=0;t<=e.globals.series.length;t++)e.globals.markers.size[t]===void 0&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map(function(n){return e.config.markers.size})}},{key:"plotChartMarkers",value:function(e){var t=e.pointsPos,n=e.seriesIndex,r=e.j,s=e.pSize,o=e.alwaysDrawMarker,a=o!==void 0&&o,l=e.isVirtualPoint,c=l!==void 0&&l,h=this.w,u=n,d=t,f=null,p=new oe(this.ctx),m=h.config.markers.discrete&&h.config.markers.discrete.length;if(Array.isArray(d.x))for(var b=0;b<d.x.length;b++){var y=void 0,w=r,C=!H.isNumber(d.y[b]);h.globals.markers.largestSize===0&&h.globals.hasNullValues&&h.globals.series[u][r+1]!==null&&!c&&(C=!0),r===1&&b===0&&(w=0),r===1&&b===1&&(w=1);var T="apexcharts-marker";if(h.config.chart.type!=="line"&&h.config.chart.type!=="area"||h.globals.comboCharts||h.config.tooltip.intersect||(T+=" no-pointer-events"),(Array.isArray(h.config.markers.size)?h.globals.markers.size[n]>0:h.config.markers.size>0)||a||m){C||(T+=" w".concat(H.randomId()));var S=this.getMarkerConfig({cssClass:T,seriesIndex:n,dataPointIndex:w});h.config.series[u].data[w]&&(h.config.series[u].data[w].fillColor&&(S.pointFillColor=h.config.series[u].data[w].fillColor),h.config.series[u].data[w].strokeColor&&(S.pointStrokeColor=h.config.series[u].data[w].strokeColor)),s!==void 0&&(S.pSize=s),(d.x[b]<-h.globals.markers.largestSize||d.x[b]>h.globals.gridWidth+h.globals.markers.largestSize||d.y[b]<-h.globals.markers.largestSize||d.y[b]>h.globals.gridHeight+h.globals.markers.largestSize)&&(S.pSize=0),!C&&((h.globals.markers.size[n]>0||a||m)&&!f&&(f=p.group({class:a||m?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(h.globals.cuid,")")),(y=p.drawMarker(d.x[b],d.y[b],S)).attr("rel",w),y.attr("j",w),y.attr("index",n),y.node.setAttribute("default-marker-size",S.pSize),new un(this.ctx).setSelectionFilter(y,n,w),this.addEvents(y),f&&f.add(y))}else h.globals.pointsArray[n]===void 0&&(h.globals.pointsArray[n]=[]),h.globals.pointsArray[n].push([d.x[b],d.y[b]])}return f}},{key:"getMarkerConfig",value:function(e){var t=e.cssClass,n=e.seriesIndex,r=e.dataPointIndex,s=r===void 0?null:r,o=e.radius,a=o===void 0?null:o,l=e.size,c=l===void 0?null:l,h=e.strokeWidth,u=h===void 0?null:h,d=this.w,f=this.getMarkerStyle(n),p=c===null?d.globals.markers.size[n]:c,m=d.config.markers;return s!==null&&m.discrete.length&&m.discrete.map(function(b){b.seriesIndex===n&&b.dataPointIndex===s&&(f.pointStrokeColor=b.strokeColor,f.pointFillColor=b.fillColor,p=b.size,f.pointShape=b.shape)}),{pSize:a===null?p:a,pRadius:a!==null?a:m.radius,pointStrokeWidth:u!==null?u:Array.isArray(m.strokeWidth)?m.strokeWidth[n]:m.strokeWidth,pointStrokeColor:f.pointStrokeColor,pointFillColor:f.pointFillColor,shape:f.pointShape||(Array.isArray(m.shape)?m.shape[n]:m.shape),class:t,pointStrokeOpacity:Array.isArray(m.strokeOpacity)?m.strokeOpacity[n]:m.strokeOpacity,pointStrokeDashArray:Array.isArray(m.strokeDashArray)?m.strokeDashArray[n]:m.strokeDashArray,pointFillOpacity:Array.isArray(m.fillOpacity)?m.fillOpacity[n]:m.fillOpacity,seriesIndex:n}}},{key:"addEvents",value:function(e){var t=this.w,n=new oe(this.ctx);e.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",n.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",t.config.markers.onClick),e.node.addEventListener("dblclick",t.config.markers.onDblClick),e.node.addEventListener("touchstart",n.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var t=this.w,n=t.globals.markers.colors,r=t.config.markers.strokeColor||t.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(r)?r[e]:r,pointFillColor:Array.isArray(n)?n[e]:n}}}]),i}(),Ab=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled}return Oe(i,[{key:"draw",value:function(e,t,n){var r=this.w,s=new oe(this.ctx),o=n.realIndex,a=n.pointsPos,l=n.zRatio,c=n.elParent,h=s.group({class:"apexcharts-series-markers apexcharts-series-".concat(r.config.chart.type)});if(h.attr("clip-path","url(#gridRectMarkerMask".concat(r.globals.cuid,")")),Array.isArray(a.x))for(var u=0;u<a.x.length;u++){var d=t+1,f=!0;t===0&&u===0&&(d=0),t===0&&u===1&&(d=1);var p=r.globals.markers.size[o];if(l!==1/0){var m=r.config.plotOptions.bubble;p=r.globals.seriesZ[o][d],m.zScaling&&(p/=l),m.minBubbleRadius&&p<m.minBubbleRadius&&(p=m.minBubbleRadius),m.maxBubbleRadius&&p>m.maxBubbleRadius&&(p=m.maxBubbleRadius)}var b=a.x[u],y=a.y[u];if(p=p||0,y!==null&&r.globals.series[o][d]!==void 0||(f=!1),f){var w=this.drawPoint(b,y,p,o,d,t);h.add(w)}c.add(h)}}},{key:"drawPoint",value:function(e,t,n,r,s,o){var a=this.w,l=r,c=new oo(this.ctx),h=new un(this.ctx),u=new Ai(this.ctx),d=new go(this.ctx),f=new oe(this.ctx),p=d.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:l,dataPointIndex:s,radius:a.config.chart.type==="bubble"||a.globals.comboCharts&&a.config.series[r]&&a.config.series[r].type==="bubble"?n:null}),m=u.fillPath({seriesNumber:r,dataPointIndex:s,color:p.pointFillColor,patternUnits:"objectBoundingBox",value:a.globals.series[r][o]}),b=f.drawMarker(e,t,p);if(a.config.series[l].data[s]&&a.config.series[l].data[s].fillColor&&(m=a.config.series[l].data[s].fillColor),b.attr({fill:m}),a.config.chart.dropShadow.enabled){var y=a.config.chart.dropShadow;h.dropShadow(b,y,r)}if(!this.initialAnim||a.globals.dataChanged||a.globals.resized)a.globals.animationEnded=!0;else{var w=a.config.chart.animations.speed;c.animateMarker(b,w,a.globals.easing,function(){window.setTimeout(function(){c.animationCompleted(b)},100)})}return b.attr({rel:s,j:s,index:r,"default-marker-size":p.pSize}),h.setSelectionFilter(b,r,s),d.addEvents(b),b.node.classList.add("apexcharts-marker"),b}},{key:"centerTextInBubble",value:function(e){var t=this.w;return{y:e+=parseInt(t.config.dataLabels.style.fontSize,10)/4}}}]),i}(),mo=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"dataLabelsCorrection",value:function(e,t,n,r,s,o,a){var l=this.w,c=!1,h=new oe(this.ctx).getTextRects(n,a),u=h.width,d=h.height;t<0&&(t=0),t>l.globals.gridHeight+d&&(t=l.globals.gridHeight+d/2),l.globals.dataLabelsRects[r]===void 0&&(l.globals.dataLabelsRects[r]=[]),l.globals.dataLabelsRects[r].push({x:e,y:t,width:u,height:d});var f=l.globals.dataLabelsRects[r].length-2,p=l.globals.lastDrawnDataLabelsIndexes[r]!==void 0?l.globals.lastDrawnDataLabelsIndexes[r][l.globals.lastDrawnDataLabelsIndexes[r].length-1]:0;if(l.globals.dataLabelsRects[r][f]!==void 0){var m=l.globals.dataLabelsRects[r][p];(e>m.x+m.width||t>m.y+m.height||t+d<m.y||e+u<m.x)&&(c=!0)}return(s===0||o)&&(c=!0),{x:e,y:t,textRects:h,drawnextLabel:c}}},{key:"drawDataLabel",value:function(e){var t=this,n=e.type,r=e.pos,s=e.i,o=e.j,a=e.isRangeStart,l=e.strokeWidth,c=l===void 0?2:l,h=this.w,u=new oe(this.ctx),d=h.config.dataLabels,f=0,p=0,m=o,b=null;if(h.globals.collapsedSeriesIndices.indexOf(s)!==-1||!d.enabled||!Array.isArray(r.x))return b;b=u.group({class:"apexcharts-data-labels"});for(var y=0;y<r.x.length;y++)if(f=r.x[y]+d.offsetX,p=r.y[y]+d.offsetY+c,!isNaN(f)){o===1&&y===0&&(m=0),o===1&&y===1&&(m=1);var w=h.globals.series[s][m];n==="rangeArea"&&(w=a?h.globals.seriesRangeStart[s][m]:h.globals.seriesRangeEnd[s][m]);var C="",T=function(E){return h.config.dataLabels.formatter(E,{ctx:t.ctx,seriesIndex:s,dataPointIndex:m,w:h})};h.config.chart.type==="bubble"?(C=T(w=h.globals.seriesZ[s][m]),p=r.y[y],p=new Ab(this.ctx).centerTextInBubble(p,s,m).y):w!==void 0&&(C=T(w));var S=h.config.dataLabels.textAnchor;h.globals.isSlopeChart&&(S=m===0?"end":m===h.config.series[s].data.length-1?"start":"middle"),this.plotDataLabelsText({x:f,y:p,text:C,i:s,j:m,parent:b,offsetCorrection:!0,dataLabelsConfig:h.config.dataLabels,textAnchor:S})}return b}},{key:"plotDataLabelsText",value:function(e){var t=this.w,n=new oe(this.ctx),r=e.x,s=e.y,o=e.i,a=e.j,l=e.text,c=e.textAnchor,h=e.fontSize,u=e.parent,d=e.dataLabelsConfig,f=e.color,p=e.alwaysDrawDataLabel,m=e.offsetCorrection,b=e.className,y=null;if(Array.isArray(t.config.dataLabels.enabledOnSeries)&&t.config.dataLabels.enabledOnSeries.indexOf(o)<0)return y;var w={x:r,y:s,drawnextLabel:!0,textRects:null};m&&(w=this.dataLabelsCorrection(r,s,l,o,a,p,parseInt(d.style.fontSize,10))),t.globals.zoomed||(r=w.x,s=w.y),w.textRects&&(r<-20-w.textRects.width||r>t.globals.gridWidth+w.textRects.width+30)&&(l="");var C=t.globals.dataLabels.style.colors[o];((t.config.chart.type==="bar"||t.config.chart.type==="rangeBar")&&t.config.plotOptions.bar.distributed||t.config.dataLabels.distributed)&&(C=t.globals.dataLabels.style.colors[a]),typeof C=="function"&&(C=C({series:t.globals.series,seriesIndex:o,dataPointIndex:a,w:t})),f&&(C=f);var T=d.offsetX,S=d.offsetY;if(t.config.chart.type!=="bar"&&t.config.chart.type!=="rangeBar"||(T=0,S=0),t.globals.isSlopeChart&&(a!==0&&(T=-2*d.offsetX+5),a!==0&&a!==t.config.series[o].data.length-1&&(T=0)),w.drawnextLabel){if((y=n.drawText({width:100,height:parseInt(d.style.fontSize,10),x:r+T,y:s+S,foreColor:C,textAnchor:c||d.textAnchor,text:l,fontSize:h||d.style.fontSize,fontFamily:d.style.fontFamily,fontWeight:d.style.fontWeight||"normal"})).attr({class:b||"apexcharts-datalabel",cx:r,cy:s}),d.dropShadow.enabled){var E=d.dropShadow;new un(this.ctx).dropShadow(y,E)}u.add(y),t.globals.lastDrawnDataLabelsIndexes[o]===void 0&&(t.globals.lastDrawnDataLabelsIndexes[o]=[]),t.globals.lastDrawnDataLabelsIndexes[o].push(a)}return y}},{key:"addBackgroundToDataLabel",value:function(e,t){var n=this.w,r=n.config.dataLabels.background,s=r.padding,o=r.padding/2,a=t.width,l=t.height,c=new oe(this.ctx).drawRect(t.x-s,t.y-o/2,a+2*s,l+o,r.borderRadius,n.config.chart.background!=="transparent"&&n.config.chart.background?n.config.chart.background:"#fff",r.opacity,r.borderWidth,r.borderColor);return r.dropShadow.enabled&&new un(this.ctx).dropShadow(c,r.dropShadow),c}},{key:"dataLabelsBackground",value:function(){var e=this.w;if(e.config.chart.type!=="bubble")for(var t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),n=0;n<t.length;n++){var r=t[n],s=r.getBBox(),o=null;if(s.width&&s.height&&(o=this.addBackgroundToDataLabel(r,s)),o){r.parentNode.insertBefore(o.node,r);var a=r.getAttribute("fill");e.config.chart.animations.enabled&&!e.globals.resized&&!e.globals.dataChanged?o.animate().attr({fill:a}):o.attr({fill:a}),r.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),n=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),r=0;r<t.length;r++)n&&n.insertBefore(t[r],n.nextSibling)}}]),i}(),ci=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return Oe(i,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(H.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var t=this.getSeriesByName(e),n=parseInt(t.getAttribute("data:realIndex"),10);return{isHidden:t.classList.contains("apexcharts-series-collapsed"),realIndex:n}}},{key:"addCollapsedClassToSeries",value:function(e,t){var n=this.w;function r(s){for(var o=0;o<s.length;o++)s[o].index===t&&e.node.classList.add("apexcharts-series-collapsed")}r(n.globals.collapsedSeries),r(n.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var t=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,t.isHidden),t.isHidden}},{key:"showSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!0)}},{key:"hideSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=this.w,s=H.clone(r.globals.initialSeries);r.globals.previousPaths=[],n?(r.globals.collapsedSeries=[],r.globals.ancillaryCollapsedSeries=[],r.globals.collapsedSeriesIndices=[],r.globals.ancillaryCollapsedSeriesIndices=[]):s=this.emptyCollapsedSeries(s),r.config.series=s,e&&(t&&(r.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(s,r.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var t=this.w,n=0;n<e.length;n++)t.globals.collapsedSeriesIndices.indexOf(n)>-1&&(e[n].data=[]);return e}},{key:"highlightSeries",value:function(e){var t=this.w,n=this.getSeriesByName(e),r=parseInt(n==null?void 0:n.getAttribute("data:realIndex"),10),s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),o=null,a=null,l=null;if(t.globals.axisCharts||t.config.chart.type==="radialBar")if(t.globals.axisCharts){o=t.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(r,"']")),a=t.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(r,"']"));var c=t.globals.seriesYAxisReverseMap[r];l=t.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(c,"']"))}else o=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(r+1,"']"));else o=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(r+1,"'] path"));for(var h=0;h<s.length;h++)s[h].classList.add(this.legendInactiveClass);if(o)t.globals.axisCharts||o.parentNode.classList.remove(this.legendInactiveClass),o.classList.remove(this.legendInactiveClass),a!==null&&a.classList.remove(this.legendInactiveClass),l!==null&&l.classList.remove(this.legendInactiveClass);else for(var u=0;u<s.length;u++)s[u].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(e,t){var n=this.w;t||(t=e.target);var r=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(e.type==="mousemove"){var s=parseInt(t.getAttribute("rel"),10)-1;this.highlightSeries(n.globals.seriesNames[s])}else if(e.type==="mouseout")for(var o=0;o<r.length;o++)r[o].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,t){var n=this,r=this.w,s=r.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),o=function(c){for(var h=0;h<s.length;h++)s[h].classList[c](n.legendInactiveClass)};if(e.type==="mousemove"){var a=parseInt(t.getAttribute("rel"),10)-1;o("add");var l=r.config.plotOptions.heatmap.colorScale.ranges;(function(c,h){for(var u=0;u<s.length;u++){var d=Number(s[u].getAttribute("val"));d>=c.from&&(d<c.to||c.to===h&&d===h)&&s[u].classList.remove(n.legendInactiveClass)}})(l[a],l.reduce(function(c,h){return Math.max(c,h.to)},0))}else e.type==="mouseout"&&o("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=this.w,r=0;if(n.config.series.length>1){for(var s=n.config.series.map(function(a,l){return a.data&&a.data.length>0&&n.globals.collapsedSeriesIndices.indexOf(l)===-1&&(!n.globals.comboCharts||t.length===0||t.length&&t.indexOf(n.config.series[l].type)>-1)?l:-1}),o=e==="asc"?0:s.length-1;e==="asc"?o<s.length:o>=0;e==="asc"?o++:o--)if(s[o]!==-1){r=s[o];break}}return r}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(e,t){return e.type==="bar"||e.type==="column"?t:-1}).filter(function(e){return e!==-1}):this.w.config.series.map(function(e,t){return t})}},{key:"getPreviousPaths",value:function(){var e=this.w;function t(o,a,l){for(var c=o[a].childNodes,h={type:l,paths:[],realIndex:o[a].getAttribute("data:realIndex")},u=0;u<c.length;u++)if(c[u].hasAttribute("pathTo")){var d=c[u].getAttribute("pathTo");h.paths.push({d})}e.globals.previousPaths.push(h)}e.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(o){for(var a,l=(a=o,e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(a,"-series .apexcharts-series"))),c=0;c<l.length;c++)t(l,c,o)});var n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(n.length>0)for(var r=function(o){for(var a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(o,"'] rect")),l=[],c=function(u){var d=function(p){return a[u].getAttribute(p)},f={x:parseFloat(d("x")),y:parseFloat(d("y")),width:parseFloat(d("width")),height:parseFloat(d("height"))};l.push({rect:f,color:a[u].getAttribute("color")})},h=0;h<a.length;h++)c(h);e.globals.previousPaths.push(l)},s=0;s<n.length;s++)r(s);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,t=e.config.noData,n=new oe(this.ctx),r=e.globals.svgWidth/2,s=e.globals.svgHeight/2,o="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,t.align==="left"?(r=10,o="start"):t.align==="right"&&(r=e.globals.svgWidth-10,o="end"),t.verticalAlign==="top"?s=50:t.verticalAlign==="bottom"&&(s=e.globals.svgHeight-50),r+=t.offsetX,s=s+parseInt(t.style.fontSize,10)+2+t.offsetY,t.text!==void 0&&t.text!==""){var a=n.drawText({x:r,y:s,text:t.text,textAnchor:o,fontSize:t.style.fontSize,fontFamily:t.style.fontFamily,foreColor:t.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(a)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var t=this.w,n=0;n<e.length;n++)if(e[n].length===0)for(var r=0;r<e[t.globals.maxValsInArrayIndex].length;r++)e[n].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,t=this.w,n=this.filteredSeriesX(),r=0;r<n.length-1;r++)if(n[r][0]!==n[r+1][0]){e=!1;break}return t.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){var e=this.w.globals.seriesX.map(function(t){return t.length>0?t:[]});return e}}]),i}(),Bd=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new Bt(this.ctx)}return Oe(i,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),t=new ci(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].x!==void 0&&e[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),t=new ci(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==void 0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,t){for(var n=this.w.config,r=this.w.globals,s=n.chart.type==="boxPlot"||n.series[t].type==="boxPlot",o=0;o<e[t].data.length;o++)if(e[t].data[o][1]!==void 0&&(Array.isArray(e[t].data[o][1])&&e[t].data[o][1].length===4&&!s?this.twoDSeries.push(H.parseNumber(e[t].data[o][1][3])):e[t].data[o].length>=5?this.twoDSeries.push(H.parseNumber(e[t].data[o][4])):this.twoDSeries.push(H.parseNumber(e[t].data[o][1])),r.dataFormatXNumeric=!0),n.xaxis.type==="datetime"){var a=new Date(e[t].data[o][0]);a=new Date(a).getTime(),this.twoDSeriesX.push(a)}else this.twoDSeriesX.push(e[t].data[o][0]);for(var l=0;l<e[t].data.length;l++)e[t].data[l][2]!==void 0&&(this.threeDSeries.push(e[t].data[l][2]),r.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,t){var n=this.w.config,r=this.w.globals,s=new dn(this.ctx),o=t;r.collapsedSeriesIndices.indexOf(t)>-1&&(o=this.activeSeriesIndex);for(var a=0;a<e[t].data.length;a++)e[t].data[a].y!==void 0&&(Array.isArray(e[t].data[a].y)?this.twoDSeries.push(H.parseNumber(e[t].data[a].y[e[t].data[a].y.length-1])):this.twoDSeries.push(H.parseNumber(e[t].data[a].y))),e[t].data[a].goals!==void 0&&Array.isArray(e[t].data[a].goals)?(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(e[t].data[a].goals)):(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(null));for(var l=0;l<e[o].data.length;l++){var c=typeof e[o].data[l].x=="string",h=Array.isArray(e[o].data[l].x),u=!h&&!!s.isValidDate(e[o].data[l].x);if(c||u)if(c||n.xaxis.convertedCatToNumeric){var d=r.isBarHorizontal&&r.isRangeData;n.xaxis.type!=="datetime"||d?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[o].data[l].x),isNaN(e[o].data[l].x)||this.w.config.xaxis.type==="category"||typeof e[o].data[l].x=="string"||(r.isXNumeric=!0)):this.twoDSeriesX.push(s.parseDate(e[o].data[l].x))}else n.xaxis.type==="datetime"?this.twoDSeriesX.push(s.parseDate(e[o].data[l].x.toString())):(r.dataFormatXNumeric=!0,r.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[o].data[l].x)));else h?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[o].data[l].x)):(r.isXNumeric=!0,r.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[o].data[l].x))}if(e[t].data[0]&&e[t].data[0].z!==void 0){for(var f=0;f<e[t].data.length;f++)this.threeDSeries.push(e[t].data[f].z);r.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,t){var n=this.w.globals,r={};return this.isFormat2DArray()?r=this.handleRangeDataFormat("array",e,t):this.isFormatXY()&&(r=this.handleRangeDataFormat("xy",e,t)),n.seriesRangeStart.push(r.start===void 0?[]:r.start),n.seriesRangeEnd.push(r.end===void 0?[]:r.end),n.seriesRange.push(r.rangeUniques),n.seriesRange.forEach(function(s,o){s&&s.forEach(function(a,l){a.y.forEach(function(c,h){for(var u=0;u<a.y.length;u++)if(h!==u){var d=c.y1,f=c.y2,p=a.y[u].y1;d<=a.y[u].y2&&p<=f&&(a.overlaps.indexOf(c.rangeName)<0&&a.overlaps.push(c.rangeName),a.overlaps.indexOf(a.y[u].rangeName)<0&&a.overlaps.push(a.y[u].rangeName))}})})}),r}},{key:"handleCandleStickBoxData",value:function(e,t){var n=this.w.globals,r={};return this.isFormat2DArray()?r=this.handleCandleStickBoxDataFormat("array",e,t):this.isFormatXY()&&(r=this.handleCandleStickBoxDataFormat("xy",e,t)),n.seriesCandleO[t]=r.o,n.seriesCandleH[t]=r.h,n.seriesCandleM[t]=r.m,n.seriesCandleL[t]=r.l,n.seriesCandleC[t]=r.c,r}},{key:"handleRangeDataFormat",value:function(e,t,n){var r=[],s=[],o=t[n].data.filter(function(h,u,d){return u===d.findIndex(function(f){return f.x===h.x})}).map(function(h,u){return{x:h.x,overlaps:[],y:[]}});if(e==="array")for(var a=0;a<t[n].data.length;a++)Array.isArray(t[n].data[a])?(r.push(t[n].data[a][1][0]),s.push(t[n].data[a][1][1])):(r.push(t[n].data[a]),s.push(t[n].data[a]));else if(e==="xy")for(var l=function(h){var u=Array.isArray(t[n].data[h].y),d=H.randomId(),f=t[n].data[h].x,p={y1:u?t[n].data[h].y[0]:t[n].data[h].y,y2:u?t[n].data[h].y[1]:t[n].data[h].y,rangeName:d};t[n].data[h].rangeName=d;var m=o.findIndex(function(b){return b.x===f});o[m].y.push(p),r.push(p.y1),s.push(p.y2)},c=0;c<t[n].data.length;c++)l(c);return{start:r,end:s,rangeUniques:o}}},{key:"handleCandleStickBoxDataFormat",value:function(e,t,n){var r=this.w,s=r.config.chart.type==="boxPlot"||r.config.series[n].type==="boxPlot",o=[],a=[],l=[],c=[],h=[];if(e==="array")if(s&&t[n].data[0].length===6||!s&&t[n].data[0].length===5)for(var u=0;u<t[n].data.length;u++)o.push(t[n].data[u][1]),a.push(t[n].data[u][2]),s?(l.push(t[n].data[u][3]),c.push(t[n].data[u][4]),h.push(t[n].data[u][5])):(c.push(t[n].data[u][3]),h.push(t[n].data[u][4]));else for(var d=0;d<t[n].data.length;d++)Array.isArray(t[n].data[d][1])&&(o.push(t[n].data[d][1][0]),a.push(t[n].data[d][1][1]),s?(l.push(t[n].data[d][1][2]),c.push(t[n].data[d][1][3]),h.push(t[n].data[d][1][4])):(c.push(t[n].data[d][1][2]),h.push(t[n].data[d][1][3])));else if(e==="xy")for(var f=0;f<t[n].data.length;f++)Array.isArray(t[n].data[f].y)&&(o.push(t[n].data[f].y[0]),a.push(t[n].data[f].y[1]),s?(l.push(t[n].data[f].y[2]),c.push(t[n].data[f].y[3]),h.push(t[n].data[f].y[4])):(c.push(t[n].data[f].y[2]),h.push(t[n].data[f].y[3])));return{o,h:a,m:l,l:c,c:h}}},{key:"parseDataAxisCharts",value:function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,r=this.w.config,s=this.w.globals,o=new dn(n),a=r.labels.length>0?r.labels.slice():r.xaxis.categories.slice();s.isRangeBar=r.chart.type==="rangeBar"&&s.isBarHorizontal,s.hasXaxisGroups=r.xaxis.type==="category"&&r.xaxis.group.groups.length>0,s.hasXaxisGroups&&(s.groups=r.xaxis.group.groups),e.forEach(function(f,p){f.name!==void 0?s.seriesNames.push(f.name):s.seriesNames.push("series-"+parseInt(p+1,10))}),this.coreUtils.setSeriesYAxisMappings();var l=[],c=Ut(new Set(r.series.map(function(f){return f.group})));r.series.forEach(function(f,p){var m=c.indexOf(f.group);l[m]||(l[m]=[]),l[m].push(s.seriesNames[p])}),s.seriesGroups=l;for(var h=function(){for(var f=0;f<a.length;f++)if(typeof a[f]=="string"){if(!o.isValidDate(a[f]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");t.twoDSeriesX.push(o.parseDate(a[f]))}else t.twoDSeriesX.push(a[f])},u=0;u<e.length;u++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],e[u].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(r.chart.type!=="rangeBar"&&r.chart.type!=="rangeArea"&&e[u].type!=="rangeBar"&&e[u].type!=="rangeArea"||(s.isRangeData=!0,r.chart.type!=="rangeBar"&&r.chart.type!=="rangeArea"||this.handleRangeData(e,u)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,u):this.isFormatXY()&&this.handleFormatXY(e,u),r.chart.type!=="candlestick"&&e[u].type!=="candlestick"&&r.chart.type!=="boxPlot"&&e[u].type!=="boxPlot"||this.handleCandleStickBoxData(e,u),s.series.push(this.twoDSeries),s.labels.push(this.twoDSeriesX),s.seriesX.push(this.twoDSeriesX),s.seriesGoals=this.seriesGoals,u!==this.activeSeriesIndex||this.fallbackToCategory||(s.isXNumeric=!0);else{r.xaxis.type==="datetime"?(s.isXNumeric=!0,h(),s.seriesX.push(this.twoDSeriesX)):r.xaxis.type==="numeric"&&(s.isXNumeric=!0,a.length>0&&(this.twoDSeriesX=a,s.seriesX.push(this.twoDSeriesX))),s.labels.push(this.twoDSeriesX);var d=e[u].data.map(function(f){return H.parseNumber(f)});s.series.push(d)}s.seriesZ.push(this.threeDSeries),e[u].color!==void 0?s.seriesColors.push(e[u].color):s.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var t=this.w.globals,n=this.w.config;t.series=e.slice(),t.seriesNames=n.labels.slice();for(var r=0;r<t.series.length;r++)t.seriesNames[r]===void 0&&t.seriesNames.push("series-"+(r+1));return this.w}},{key:"handleExternalLabelsData",value:function(e){var t=this.w.config,n=this.w.globals;t.xaxis.categories.length>0?n.labels=t.xaxis.categories:t.labels.length>0?n.labels=t.labels.slice():this.fallbackToCategory?(n.labels=n.labels[0],n.seriesRange.length&&(n.seriesRange.map(function(r){r.forEach(function(s){n.labels.indexOf(s.x)<0&&s.x&&n.labels.push(s.x)})}),n.labels=Array.from(new Set(n.labels.map(JSON.stringify)),JSON.parse)),t.xaxis.convertedCatToNumeric&&(new Pa(t).convertCatToNumericXaxis(t,this.ctx,n.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var t=this.w.globals,n=this.w.config,r=[];if(t.axisCharts){if(t.series.length>0)if(this.isFormatXY())for(var s=n.series.map(function(u,d){return u.data.filter(function(f,p,m){return m.findIndex(function(b){return b.x===f.x})===p})}),o=s.reduce(function(u,d,f,p){return p[u].length>d.length?u:f},0),a=0;a<s[o].length;a++)r.push(a+1);else for(var l=0;l<t.series[t.maxValsInArrayIndex].length;l++)r.push(l+1);t.seriesX=[];for(var c=0;c<e.length;c++)t.seriesX.push(r);this.w.globals.isBarHorizontal||(t.isXNumeric=!0)}if(r.length===0){r=t.axisCharts?[]:t.series.map(function(u,d){return d+1});for(var h=0;h<e.length;h++)t.seriesX.push(r)}t.labels=r,n.xaxis.convertedCatToNumeric&&(t.categoryLabels=r.map(function(u){return n.xaxis.labels.formatter(u)})),t.noLabelsProvided=!0}},{key:"parseData",value:function(e){var t=this.w,n=t.config,r=t.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),r.axisCharts?(this.parseDataAxisCharts(e),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(e),n.chart.stacked){var s=new ci(this.ctx);r.series=s.setNullSeriesToZeroValues(r.series)}this.coreUtils.getSeriesTotals(),r.axisCharts&&(r.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),r.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),r.dataFormatXNumeric||r.isXNumeric&&(n.xaxis.type!=="numeric"||n.labels.length!==0||n.xaxis.categories.length!==0)||this.handleExternalLabelsData(e);for(var o=this.coreUtils.getCategoryLabels(r.labels),a=0;a<o.length;a++)if(Array.isArray(o[a])){r.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this.w,t=[];e.globals.seriesYAxisMap.forEach(function(n,r){var s=0;n.forEach(function(o){e.globals.collapsedSeriesIndices.indexOf(o)!==-1&&s++}),s>0&&s==n.length&&t.push(r)}),e.globals.ignoreYAxisIndexes=t.map(function(n){return n})}}]),i}(),Ra=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"svgStringToNode",value:function(e){return new DOMParser().parseFromString(e,"image/svg+xml").documentElement}},{key:"scaleSvgNode",value:function(e,t){var n=parseFloat(e.getAttributeNS(null,"width")),r=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",n*t),e.setAttributeNS(null,"height",r*t),e.setAttributeNS(null,"viewBox","0 0 "+n+" "+r)}},{key:"getSvgString",value:function(e){var t=this;return new Promise(function(n){var r=t.w,s=e||r.config.chart.toolbar.export.scale||r.config.chart.toolbar.export.width/r.globals.svgWidth;s||(s=1);var o=r.globals.svgWidth*s,a=r.globals.svgHeight*s,l=r.globals.dom.elWrap.cloneNode(!0);l.style.width=o+"px",l.style.height=a+"px";var c=new XMLSerializer().serializeToString(l),h=`
          <svg xmlns="http://www.w3.org/2000/svg"
            version="1.1"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            class="apexcharts-svg"
            xmlns:data="ApexChartsNS"
            transform="translate(0, 0)"
            width="`.concat(r.globals.svgWidth,'px" height="').concat(r.globals.svgHeight,`px">
            <foreignObject width="100%" height="100%">
              <div xmlns="http://www.w3.org/1999/xhtml" style="width:`).concat(o,"px; height:").concat(a,`px;">
              <style type="text/css">
                .apexcharts-tooltip, .apexcharts-toolbar, .apexcharts-xaxistooltip, .apexcharts-yaxistooltip, .apexcharts-xcrosshairs, .apexcharts-ycrosshairs, .apexcharts-zoom-rect, .apexcharts-selection-rect {
                  display: none;
                }
              </style>
                `).concat(c,`
              </div>
            </foreignObject>
          </svg>
        `),u=t.svgStringToNode(h);s!==1&&t.scaleSvgNode(u,s),t.convertImagesToBase64(u).then(function(){h=new XMLSerializer().serializeToString(u),n(h.replace(/&nbsp;/g,"&#160;"))})})}},{key:"convertImagesToBase64",value:function(e){var t=this,n=e.getElementsByTagName("image"),r=Array.from(n).map(function(s){var o=s.getAttributeNS("http://www.w3.org/1999/xlink","href");return o&&!o.startsWith("data:")?t.getBase64FromUrl(o).then(function(a){s.setAttributeNS("http://www.w3.org/1999/xlink","href",a)}).catch(function(a){console.error("Error converting image to base64:",a)}):Promise.resolve()});return Promise.all(r)}},{key:"getBase64FromUrl",value:function(e){return new Promise(function(t,n){var r=new Image;r.crossOrigin="Anonymous",r.onload=function(){var s=document.createElement("canvas");s.width=r.width,s.height=r.height,s.getContext("2d").drawImage(r,0,0),t(s.toDataURL())},r.onerror=n,r.src=e})}},{key:"svgUrl",value:function(){var e=this;return new Promise(function(t){e.getSvgString().then(function(n){var r=new Blob([n],{type:"image/svg+xml;charset=utf-8"});t(URL.createObjectURL(r))})})}},{key:"dataURI",value:function(e){var t=this;return new Promise(function(n){var r=t.w,s=e?e.scale||e.width/r.globals.svgWidth:1,o=document.createElement("canvas");o.width=r.globals.svgWidth*s,o.height=parseInt(r.globals.dom.elWrap.style.height,10)*s;var a=r.config.chart.background!=="transparent"&&r.config.chart.background?r.config.chart.background:"#fff",l=o.getContext("2d");l.fillStyle=a,l.fillRect(0,0,o.width*s,o.height*s),t.getSvgString(s).then(function(c){var h="data:image/svg+xml,"+encodeURIComponent(c),u=new Image;u.crossOrigin="anonymous",u.onload=function(){if(l.drawImage(u,0,0),o.msToBlob){var d=o.msToBlob();n({blob:d})}else{var f=o.toDataURL("image/png");n({imgURI:f})}},u.src=h})})}},{key:"exportToSVG",value:function(){var e=this;this.svgUrl().then(function(t){e.triggerDownload(t,e.w.config.chart.toolbar.export.svg.filename,".svg")})}},{key:"exportToPng",value:function(){var e=this,t=this.w.config.chart.toolbar.export.scale,n=this.w.config.chart.toolbar.export.width,r=t?{scale:t}:n?{width:n}:void 0;this.dataURI(r).then(function(s){var o=s.imgURI,a=s.blob;a?navigator.msSaveOrOpenBlob(a,e.w.globals.chartID+".png"):e.triggerDownload(o,e.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(e){var t=this,n=e.series,r=e.fileName,s=e.columnDelimiter,o=s===void 0?",":s,a=e.lineDelimiter,l=a===void 0?`
  `:a,c=this.w;n||(n=c.config.series);var h=[],u=[],d="",f=c.globals.series.map(function(S,E){return c.globals.collapsedSeriesIndices.indexOf(E)===-1?S:[]}),p=function(S){return typeof c.config.chart.toolbar.export.csv.categoryFormatter=="function"?c.config.chart.toolbar.export.csv.categoryFormatter(S):c.config.xaxis.type==="datetime"&&String(S).length>=10?new Date(S).toDateString():H.isNumber(S)?S:S.split(o).join("")},m=function(S){return typeof c.config.chart.toolbar.export.csv.valueFormatter=="function"?c.config.chart.toolbar.export.csv.valueFormatter(S):S},b=Math.max.apply(Math,Ut(n.map(function(S){return S.data?S.data.length:0}))),y=new Bd(this.ctx),w=new Tr(this.ctx),C=function(S){var E="";if(c.globals.axisCharts){if(c.config.xaxis.type==="category"||c.config.xaxis.convertedCatToNumeric)if(c.globals.isBarHorizontal){var M=c.globals.yLabelFormatters[0],I=new ci(t.ctx).getActiveConfigSeriesIndex();E=M(c.globals.labels[S],{seriesIndex:I,dataPointIndex:S,w:c})}else E=w.getLabel(c.globals.labels,c.globals.timescaleLabels,0,S).text;c.config.xaxis.type==="datetime"&&(c.config.xaxis.categories.length?E=c.config.xaxis.categories[S]:c.config.labels.length&&(E=c.config.labels[S]))}else E=c.config.labels[S];return E===null?"nullvalue":(Array.isArray(E)&&(E=E.join(" ")),H.isNumber(E)?E:E.split(o).join(""))},T=function(S,E){if(h.length&&E===0&&u.push(h.join(o)),S.data){S.data=S.data.length&&S.data||Ut(Array(b)).map(function(){return""});for(var M=0;M<S.data.length;M++){h=[];var I=C(M);if(I!=="nullvalue"){if(I||(y.isFormatXY()?I=n[E].data[M].x:y.isFormat2DArray()&&(I=n[E].data[M]?n[E].data[M][0]:"")),E===0){h.push(p(I));for(var P=0;P<c.globals.series.length;P++){var N,D=y.isFormatXY()?(N=n[P].data[M])===null||N===void 0?void 0:N.y:f[P][M];h.push(m(D))}}(c.config.chart.type==="candlestick"||S.type&&S.type==="candlestick")&&(h.pop(),h.push(c.globals.seriesCandleO[E][M]),h.push(c.globals.seriesCandleH[E][M]),h.push(c.globals.seriesCandleL[E][M]),h.push(c.globals.seriesCandleC[E][M])),(c.config.chart.type==="boxPlot"||S.type&&S.type==="boxPlot")&&(h.pop(),h.push(c.globals.seriesCandleO[E][M]),h.push(c.globals.seriesCandleH[E][M]),h.push(c.globals.seriesCandleM[E][M]),h.push(c.globals.seriesCandleL[E][M]),h.push(c.globals.seriesCandleC[E][M])),c.config.chart.type==="rangeBar"&&(h.pop(),h.push(c.globals.seriesRangeStart[E][M]),h.push(c.globals.seriesRangeEnd[E][M])),h.length&&u.push(h.join(o))}}}};h.push(c.config.chart.toolbar.export.csv.headerCategory),c.config.chart.type==="boxPlot"?(h.push("minimum"),h.push("q1"),h.push("median"),h.push("q3"),h.push("maximum")):c.config.chart.type==="candlestick"?(h.push("open"),h.push("high"),h.push("low"),h.push("close")):c.config.chart.type==="rangeBar"?(h.push("minimum"),h.push("maximum")):n.map(function(S,E){var M=(S.name?S.name:"series-".concat(E))+"";c.globals.axisCharts&&h.push(M.split(o).join("")?M.split(o).join(""):"series-".concat(E))}),c.globals.axisCharts||(h.push(c.config.chart.toolbar.export.csv.headerValue),u.push(h.join(o))),c.globals.allSeriesHasEqualX||!c.globals.axisCharts||c.config.xaxis.categories.length||c.config.labels.length?n.map(function(S,E){c.globals.axisCharts?T(S,E):((h=[]).push(p(c.globals.labels[E])),h.push(m(f[E])),u.push(h.join(o)))}):function(){var S=new Set,E={};n.forEach(function(M,I){M==null||M.data.forEach(function(P){var N,D;if(y.isFormatXY())N=P.x,D=P.y;else{if(!y.isFormat2DArray())return;N=P[0],D=P[1]}E[N]||(E[N]=Array(n.length).fill("")),E[N][I]=m(D),S.add(N)})}),h.length&&u.push(h.join(o)),Array.from(S).sort().forEach(function(M){u.push([p(M),E[M].join(o)])})}(),d+=u.join(l),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+d),r||c.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,t,n){var r=document.createElement("a");r.href=e,r.download=(t||this.w.globals.chartID)+n,document.body.appendChild(r),r.click(),document.body.removeChild(r)}}]),i}(),Da=function(){function i(e,t){Ee(this,i),this.ctx=e,this.elgrid=t,this.w=e.w;var n=this.w;this.axesUtils=new Tr(e),this.xaxisLabels=n.globals.labels.slice(),n.globals.timescaleLabels.length>0&&!n.globals.isBarHorizontal&&(this.xaxisLabels=n.globals.timescaleLabels.slice()),n.config.xaxis.overwriteCategories&&(this.xaxisLabels=n.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],n.config.xaxis.position==="top"?this.offY=0:this.offY=n.globals.gridHeight,this.offY=this.offY+n.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=n.config.chart.type==="bar"&&n.config.plotOptions.bar.horizontal,this.xaxisFontSize=n.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=n.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=n.config.xaxis.labels.style.colors,this.xaxisBorderWidth=n.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=n.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=n.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=n.config.xaxis.axisBorder.height,this.yaxis=n.config.yaxis[0]}return Oe(i,[{key:"drawXaxis",value:function(){var e=this.w,t=new oe(this.ctx),n=t.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),r=t.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});n.add(r);for(var s=[],o=0;o<this.xaxisLabels.length;o++)s.push(this.xaxisLabels[o]);if(this.drawXAxisLabelAndGroup(!0,t,r,s,e.globals.isXNumeric,function(p,m){return m}),e.globals.hasXaxisGroups){var a=e.globals.groups;s=[];for(var l=0;l<a.length;l++)s.push(a[l].title);var c={};e.config.xaxis.group.style&&(c.xaxisFontSize=e.config.xaxis.group.style.fontSize,c.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,c.xaxisForeColors=e.config.xaxis.group.style.colors,c.fontWeight=e.config.xaxis.group.style.fontWeight,c.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,t,r,s,!1,function(p,m){return a[p].cols*m},c)}if(e.config.xaxis.title.text!==void 0){var h=t.group({class:"apexcharts-xaxis-title"}),u=t.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(e.config.xaxis.position==="bottom"?e.globals.xAxisLabelsHeight:-e.globals.xAxisLabelsHeight-10)+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});h.add(u),n.add(h)}if(e.config.xaxis.axisBorder.show){var d=e.globals.barPadForNumericAxis,f=t.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-d,this.offY,this.xaxisBorderWidth+d,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(f):n.add(f)}return n}},{key:"drawXAxisLabelAndGroup",value:function(e,t,n,r,s,o){var a,l=this,c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},h=[],u=[],d=this.w,f=c.xaxisFontSize||this.xaxisFontSize,p=c.xaxisFontFamily||this.xaxisFontFamily,m=c.xaxisForeColors||this.xaxisForeColors,b=c.fontWeight||d.config.xaxis.labels.style.fontWeight,y=c.cssClass||d.config.xaxis.labels.style.cssClass,w=d.globals.padHorizontal,C=r.length,T=d.config.xaxis.type==="category"?d.globals.dataPoints:C;if(T===0&&C>T&&(T=C),s){var S=Math.max(Number(d.config.xaxis.tickAmount)||1,T>1?T-1:T);a=d.globals.gridWidth/Math.min(S,C-1),w=w+o(0,a)/2+d.config.xaxis.labels.offsetX}else a=d.globals.gridWidth/T,w=w+o(0,a)+d.config.xaxis.labels.offsetX;for(var E=function(I){var P=w-o(I,a)/2+d.config.xaxis.labels.offsetX;I===0&&C===1&&a/2===w&&T===1&&(P=d.globals.gridWidth/2);var N=l.axesUtils.getLabel(r,d.globals.timescaleLabels,P,I,h,f,e),D=28;if(d.globals.rotateXLabels&&e&&(D=22),d.config.xaxis.title.text&&d.config.xaxis.position==="top"&&(D+=parseFloat(d.config.xaxis.title.style.fontSize)+2),e||(D=D+parseFloat(f)+(d.globals.xAxisLabelsHeight-d.globals.xAxisGroupLabelsHeight)+(d.globals.rotateXLabels?10:0)),N=d.config.xaxis.tickAmount!==void 0&&d.config.xaxis.tickAmount!=="dataPoints"&&d.config.xaxis.type!=="datetime"?l.axesUtils.checkLabelBasedOnTickamount(I,N,C):l.axesUtils.checkForOverflowingLabels(I,N,C,h,u),d.config.xaxis.labels.show){var _=t.drawText({x:N.x,y:l.offY+d.config.xaxis.labels.offsetY+D-(d.config.xaxis.position==="top"?d.globals.xAxisHeight+d.config.xaxis.axisTicks.height-2:0),text:N.text,textAnchor:"middle",fontWeight:N.isBold?600:b,fontSize:f,fontFamily:p,foreColor:Array.isArray(m)?e&&d.config.xaxis.convertedCatToNumeric?m[d.globals.minX+I-1]:m[I]:m,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+y});if(n.add(_),_.on("click",function(U){if(typeof d.config.chart.events.xAxisLabelClick=="function"){var re=Object.assign({},d,{labelIndex:I});d.config.chart.events.xAxisLabelClick(U,l.ctx,re)}}),e){var $=document.createElementNS(d.globals.SVGNS,"title");$.textContent=Array.isArray(N.text)?N.text.join(" "):N.text,_.node.appendChild($),N.text!==""&&(h.push(N.text),u.push(N))}}I<C-1&&(w+=o(I+1,a))},M=0;M<=C-1;M++)E(M)}},{key:"drawXaxisInversed",value:function(e){var t,n,r=this,s=this.w,o=new oe(this.ctx),a=s.config.yaxis[0].opposite?s.globals.translateYAxisX[e]:0,l=o.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),c=o.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+a+", 0)"});l.add(c);var h=[];if(s.config.yaxis[e].show)for(var u=0;u<this.xaxisLabels.length;u++)h.push(this.xaxisLabels[u]);t=s.globals.gridHeight/h.length,n=-t/2.2;var d=s.globals.yLabelFormatters[0],f=s.config.yaxis[0].labels;if(f.show)for(var p=function(S){var E=h[S]===void 0?"":h[S];E=d(E,{seriesIndex:e,dataPointIndex:S,w:s});var M=r.axesUtils.getYAxisForeColor(f.style.colors,e),I=0;Array.isArray(E)&&(I=E.length/2*parseInt(f.style.fontSize,10));var P=f.offsetX-15,N="end";r.yaxis.opposite&&(N="start"),s.config.yaxis[0].labels.align==="left"?(P=f.offsetX,N="start"):s.config.yaxis[0].labels.align==="center"?(P=f.offsetX,N="middle"):s.config.yaxis[0].labels.align==="right"&&(N="end");var D=o.drawText({x:P,y:n+t+f.offsetY-I,text:E,textAnchor:N,foreColor:Array.isArray(M)?M[S]:M,fontSize:f.style.fontSize,fontFamily:f.style.fontFamily,fontWeight:f.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+f.style.cssClass,maxWidth:f.maxWidth});c.add(D),D.on("click",function(U){if(typeof s.config.chart.events.xAxisLabelClick=="function"){var re=Object.assign({},s,{labelIndex:S});s.config.chart.events.xAxisLabelClick(U,r.ctx,re)}});var _=document.createElementNS(s.globals.SVGNS,"title");if(_.textContent=Array.isArray(E)?E.join(" "):E,D.node.appendChild(_),s.config.yaxis[e].labels.rotate!==0){var $=o.rotateAroundCenter(D.node);D.node.setAttribute("transform","rotate(".concat(s.config.yaxis[e].labels.rotate," 0 ").concat($.y,")"))}n+=t},m=0;m<=h.length-1;m++)p(m);if(s.config.yaxis[0].title.text!==void 0){var b=o.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+a+", 0)"}),y=o.drawText({x:s.config.yaxis[0].title.offsetX,y:s.globals.gridHeight/2+s.config.yaxis[0].title.offsetY,text:s.config.yaxis[0].title.text,textAnchor:"middle",foreColor:s.config.yaxis[0].title.style.color,fontSize:s.config.yaxis[0].title.style.fontSize,fontWeight:s.config.yaxis[0].title.style.fontWeight,fontFamily:s.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+s.config.yaxis[0].title.style.cssClass});b.add(y),l.add(b)}var w=0;this.isCategoryBarHorizontal&&s.config.yaxis[0].opposite&&(w=s.globals.gridWidth);var C=s.config.xaxis.axisBorder;if(C.show){var T=o.drawLine(s.globals.padHorizontal+C.offsetX+w,1+C.offsetY,s.globals.padHorizontal+C.offsetX+w,s.globals.gridHeight+C.offsetY,C.color,0);this.elgrid&&this.elgrid.elGridBorders&&s.config.grid.show?this.elgrid.elGridBorders.add(T):l.add(T)}return s.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(w,h.length,s.config.yaxis[0].axisBorder,s.config.yaxis[0].axisTicks,0,t,l),l}},{key:"drawXaxisTicks",value:function(e,t,n){var r=this.w,s=e;if(!(e<0||e-2>r.globals.gridWidth)){var o=this.offY+r.config.xaxis.axisTicks.offsetY;if(t=t+o+r.config.xaxis.axisTicks.height,r.config.xaxis.position==="top"&&(t=o-r.config.xaxis.axisTicks.height),r.config.xaxis.axisTicks.show){var a=new oe(this.ctx).drawLine(e+r.config.xaxis.axisTicks.offsetX,o+r.config.xaxis.offsetY,s+r.config.xaxis.axisTicks.offsetX,t+r.config.xaxis.offsetY,r.config.xaxis.axisTicks.color);n.add(a),a.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,t=[],n=this.xaxisLabels.length,r=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var s=0;s<n;s++)r=this.xaxisLabels[s].position,t.push(r);else for(var o=n,a=0;a<o;a++){var l=o;e.globals.isXNumeric&&e.config.chart.type!=="bar"&&(l-=1),r+=e.globals.gridWidth/l,t.push(r)}return t}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,t=new oe(this.ctx),n=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var a=0;a<r.length;a++){var l=t.rotateAroundCenter(r[a]);l.y=l.y-1,l.x=l.x+1,r[a].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(l.x," ").concat(l.y,")")),r[a].setAttribute("text-anchor","end"),n.setAttribute("transform","translate(0, ".concat(-10,")"));var c=r[a].childNodes;e.config.xaxis.labels.trim&&Array.prototype.forEach.call(c,function(f){t.placeTextWithEllipsis(f,f.textContent,e.globals.xAxisLabelsHeight-(e.config.legend.position==="bottom"?20:10))})}else(function(){for(var f=e.globals.gridWidth/(e.globals.labels.length+1),p=0;p<r.length;p++){var m=r[p].childNodes;e.config.xaxis.labels.trim&&e.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(m,function(b){t.placeTextWithEllipsis(b,b.textContent,f)})}})();if(s.length>0){var h=s[s.length-1].getBBox(),u=s[0].getBBox();h.x<-20&&s[s.length-1].parentNode.removeChild(s[s.length-1]),u.x+u.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&s[0].parentNode.removeChild(s[0]);for(var d=0;d<o.length;d++)t.placeTextWithEllipsis(o[d],o[d].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),i}(),Mb=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w;var t=this.w;this.xaxisLabels=t.globals.labels.slice(),this.axesUtils=new Tr(e),this.isRangeBar=t.globals.seriesRange.length&&t.globals.isBarHorizontal,t.globals.timescaleLabels.length>0&&(this.xaxisLabels=t.globals.timescaleLabels.slice())}return Oe(i,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w,n=new oe(this.ctx);e||(e=n.group({class:"apexcharts-grid"}));var r=n.drawLine(t.globals.padHorizontal,1,t.globals.padHorizontal,t.globals.gridHeight,"transparent"),s=n.drawLine(t.globals.padHorizontal,t.globals.gridHeight,t.globals.gridWidth,t.globals.gridHeight,"transparent");return e.add(s),e.add(r),e}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var e=this.renderGrid();return this.drawGridArea(e.el),e}return null}},{key:"createGridMask",value:function(){var e=this.w,t=e.globals,n=new oe(this.ctx),r=Array.isArray(e.config.stroke.width)?Math.max.apply(Math,Ut(e.config.stroke.width)):e.config.stroke.width,s=function(h){var u=document.createElementNS(t.SVGNS,"clipPath");return u.setAttribute("id",h),u};t.dom.elGridRectMask=s("gridRectMask".concat(t.cuid)),t.dom.elGridRectBarMask=s("gridRectBarMask".concat(t.cuid)),t.dom.elGridRectMarkerMask=s("gridRectMarkerMask".concat(t.cuid)),t.dom.elForecastMask=s("forecastMask".concat(t.cuid)),t.dom.elNonForecastMask=s("nonForecastMask".concat(t.cuid));var o=0,a=0;(["bar","rangeBar","candlestick","boxPlot"].includes(e.config.chart.type)||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(o=Math.max(e.config.grid.padding.left,t.barPadForNumericAxis),a=Math.max(e.config.grid.padding.right,t.barPadForNumericAxis)),t.dom.elGridRect=n.drawRect(-r/2-2,-r/2-2,t.gridWidth+r+4,t.gridHeight+r+4,0,"#fff"),t.dom.elGridRectBar=n.drawRect(-r/2-o-2,-r/2-2,t.gridWidth+r+a+o+4,t.gridHeight+r+4,0,"#fff");var l=e.globals.markers.largestSize;t.dom.elGridRectMarker=n.drawRect(-l,-l,t.gridWidth+2*l,t.gridHeight+2*l,0,"#fff"),t.dom.elGridRectMask.appendChild(t.dom.elGridRect.node),t.dom.elGridRectBarMask.appendChild(t.dom.elGridRectBar.node),t.dom.elGridRectMarkerMask.appendChild(t.dom.elGridRectMarker.node);var c=t.dom.baseEl.querySelector("defs");c.appendChild(t.dom.elGridRectMask),c.appendChild(t.dom.elGridRectBarMask),c.appendChild(t.dom.elGridRectMarkerMask),c.appendChild(t.dom.elForecastMask),c.appendChild(t.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(e){var t=e.i,n=e.x1,r=e.y1,s=e.x2,o=e.y2,a=e.xCount,l=e.parent,c=this.w;if(!(t===0&&c.globals.skipFirstTimelinelabel||t===a-1&&c.globals.skipLastTimelinelabel&&!c.config.xaxis.labels.formatter||c.config.chart.type==="radar")){c.config.grid.xaxis.lines.show&&this._drawGridLine({i:t,x1:n,y1:r,x2:s,y2:o,xCount:a,parent:l});var h=0;if(c.globals.hasXaxisGroups&&c.config.xaxis.tickPlacement==="between"){var u=c.globals.groups;if(u){for(var d=0,f=0;d<t&&f<u.length;f++)d+=u[f].cols;d===t&&(h=.6*c.globals.xAxisLabelsHeight)}}new Da(this.ctx).drawXaxisTicks(n,h,c.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(e){var t=e.i,n=e.x1,r=e.y1,s=e.x2,o=e.y2,a=e.xCount,l=e.parent,c=this.w,h=l.node.classList.contains("apexcharts-gridlines-horizontal"),u=c.globals.barPadForNumericAxis,d=r===0&&o===0||n===0&&s===0||r===c.globals.gridHeight&&o===c.globals.gridHeight||c.globals.isBarHorizontal&&(t===0||t===a-1),f=new oe(this).drawLine(n-(h?u:0),r,s+(h?u:0),o,c.config.grid.borderColor,c.config.grid.strokeDashArray);f.node.classList.add("apexcharts-gridline"),d&&c.config.grid.show?this.elGridBorders.add(f):l.add(f)}},{key:"_drawGridBandRect",value:function(e){var t=e.c,n=e.x1,r=e.y1,s=e.x2,o=e.y2,a=e.type,l=this.w,c=new oe(this.ctx),h=l.globals.barPadForNumericAxis,u=l.config.grid[a].colors[t],d=c.drawRect(n-(a==="row"?h:0),r,s+(a==="row"?2*h:0),o,0,u,l.config.grid[a].opacity);this.elg.add(d),d.attr("clip-path","url(#gridRectMask".concat(l.globals.cuid,")")),d.node.classList.add("apexcharts-grid-".concat(a))}},{key:"_drawXYLines",value:function(e){var t=this,n=e.xCount,r=e.tickAmount,s=this.w;if(s.config.grid.xaxis.lines.show||s.config.xaxis.axisTicks.show){var o,a=s.globals.padHorizontal,l=s.globals.gridHeight;s.globals.timescaleLabels.length?function(p){for(var m=p.xC,b=p.x1,y=p.y1,w=p.x2,C=p.y2,T=0;T<m;T++)b=t.xaxisLabels[T].position,w=t.xaxisLabels[T].position,t._drawGridLines({i:T,x1:b,y1:y,x2:w,y2:C,xCount:n,parent:t.elgridLinesV})}({xC:n,x1:a,y1:0,x2:o,y2:l}):(s.globals.isXNumeric&&(n=s.globals.xAxisScale.result.length),function(p){for(var m=p.xC,b=p.x1,y=p.y1,w=p.x2,C=p.y2,T=0;T<m+(s.globals.isXNumeric?0:1);T++)T===0&&m===1&&s.globals.dataPoints===1&&(w=b=s.globals.gridWidth/2),t._drawGridLines({i:T,x1:b,y1:y,x2:w,y2:C,xCount:n,parent:t.elgridLinesV}),w=b+=s.globals.gridWidth/(s.globals.isXNumeric?m-1:m)}({xC:n,x1:a,y1:0,x2:o,y2:l}))}if(s.config.grid.yaxis.lines.show){var c=0,h=0,u=s.globals.gridWidth,d=r+1;this.isRangeBar&&(d=s.globals.labels.length);for(var f=0;f<d+(this.isRangeBar?1:0);f++)this._drawGridLine({i:f,xCount:d+(this.isRangeBar?1:0),x1:0,y1:c,x2:u,y2:h,parent:this.elgridLinesH}),h=c+=s.globals.gridHeight/(this.isRangeBar?d:r)}}},{key:"_drawInvertedXYLines",value:function(e){var t=e.xCount,n=this.w;if(n.config.grid.xaxis.lines.show||n.config.xaxis.axisTicks.show)for(var r,s=n.globals.padHorizontal,o=n.globals.gridHeight,a=0;a<t+1;a++)n.config.grid.xaxis.lines.show&&this._drawGridLine({i:a,xCount:t+1,x1:s,y1:0,x2:r,y2:o,parent:this.elgridLinesV}),new Da(this.ctx).drawXaxisTicks(s,0,n.globals.dom.elGraphical),r=s+=n.globals.gridWidth/t;if(n.config.grid.yaxis.lines.show)for(var l=0,c=0,h=n.globals.gridWidth,u=0;u<n.globals.dataPoints+1;u++)this._drawGridLine({i:u,xCount:n.globals.dataPoints+1,x1:0,y1:l,x2:h,y2:c,parent:this.elgridLinesH}),c=l+=n.globals.gridHeight/n.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,t=e.globals,n=new oe(this.ctx);this.elg=n.group({class:"apexcharts-grid"}),this.elgridLinesH=n.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=n.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=n.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var r=0;r<t.seriesYAxisMap.length&&t.ignoreYAxisIndexes.includes(r);)r++;r===t.seriesYAxisMap.length&&(r=0);var s,o=t.yAxisScale[r].result.length-1;if(!t.isBarHorizontal||this.isRangeBar){var a,l,c;s=this.xaxisLabels.length,this.isRangeBar&&(o=t.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(s=e.config.xaxis.tickAmount),((a=t.yAxisScale)===null||a===void 0||(l=a[r])===null||l===void 0||(c=l.result)===null||c===void 0?void 0:c.length)>0&&e.config.xaxis.type!=="datetime"&&(s=t.yAxisScale[r].result.length-1)),this._drawXYLines({xCount:s,tickAmount:o})}else s=o,o=t.xTickAmount,this._drawInvertedXYLines({xCount:s,tickAmount:o});return this.drawGridBands(s,o),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:t.gridWidth/s}}},{key:"drawGridBands",value:function(e,t){var n,r,s=this,o=this.w;if(((n=o.config.grid.row.colors)===null||n===void 0?void 0:n.length)>0&&function(p,m,b,y,w,C){for(var T=0,S=0;T<m;T++,S++)S>=o.config.grid[p].colors.length&&(S=0),s._drawGridBandRect({c:S,x1:b,y1:y,x2:w,y2:C,type:p}),y+=o.globals.gridHeight/t}("row",t,0,0,o.globals.gridWidth,o.globals.gridHeight/t),((r=o.config.grid.column.colors)===null||r===void 0?void 0:r.length)>0){var a=o.globals.isBarHorizontal||o.config.xaxis.tickPlacement!=="on"||o.config.xaxis.type!=="category"&&!o.config.xaxis.convertedCatToNumeric?e:e-1;o.globals.isXNumeric&&(a=o.globals.xAxisScale.result.length-1);for(var l=o.globals.padHorizontal,c=o.globals.padHorizontal+o.globals.gridWidth/a,h=o.globals.gridHeight,u=0,d=0;u<e;u++,d++){var f;d>=o.config.grid.column.colors.length&&(d=0),o.config.xaxis.type==="datetime"&&(l=this.xaxisLabels[u].position,c=(((f=this.xaxisLabels[u+1])===null||f===void 0?void 0:f.position)||o.globals.gridWidth)-this.xaxisLabels[u].position),this._drawGridBandRect({c:d,x1:l,y1:0,x2:c,y2:h,type:"column"}),l+=o.globals.gridWidth/a}}}}]),i}(),Tb=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w,this.coreUtils=new Bt(this.ctx)}return Oe(i,[{key:"niceScale",value:function(e,t){var n,r,s,o,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=1e-11,c=this.w,h=c.globals;h.isBarHorizontal?(n=c.config.xaxis,r=Math.max((h.svgWidth-100)/25,2)):(n=c.config.yaxis[a],r=Math.max((h.svgHeight-100)/15,2)),H.isNumber(r)||(r=10),s=n.min!==void 0&&n.min!==null,o=n.max!==void 0&&n.min!==null;var u=n.stepSize!==void 0&&n.stepSize!==null,d=n.tickAmount!==void 0&&n.tickAmount!==null,f=d?n.tickAmount:h.niceScaleDefaultTicks[Math.min(Math.round(r/2),h.niceScaleDefaultTicks.length-1)];if(h.isMultipleYAxis&&!d&&h.multiAxisTickAmount>0&&(f=h.multiAxisTickAmount,d=!0),f=f==="dataPoints"?h.dataPoints-1:Math.abs(Math.round(f)),(e===Number.MIN_VALUE&&t===0||!H.isNumber(e)&&!H.isNumber(t)||e===Number.MIN_VALUE&&t===-Number.MAX_VALUE)&&(e=H.isNumber(n.min)?n.min:0,t=H.isNumber(n.max)?n.max:e+f,h.allSeriesCollapsed=!1),e>t){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var p=t;t=e,e=p}else e===t&&(e=e===0?0:e-1,t=t===0?2:t+1);var m=[];f<1&&(f=1);var b=f,y=Math.abs(t-e);!s&&e>0&&e/y<.15&&(e=0,s=!0),!o&&t<0&&-t/y<.15&&(t=0,o=!0);var w=(y=Math.abs(t-e))/b,C=w,T=Math.floor(Math.log10(C)),S=Math.pow(10,T),E=Math.ceil(C/S);if(w=C=(E=h.niceScaleAllowedMagMsd[h.yValueDecimal===0?0:1][E])*S,h.isBarHorizontal&&n.stepSize&&n.type!=="datetime"?(w=n.stepSize,u=!0):u&&(w=n.stepSize),u&&n.forceNiceScale){var M=Math.floor(Math.log10(w));w*=Math.pow(10,T-M)}if(s&&o){var I=y/b;if(d)if(u)if(H.mod(y,w)!=0){var P=H.getGCD(w,I);w=I/P<10?P:I}else H.mod(w,I)==0?w=I:(I=w,d=!1);else w=I;else if(u)H.mod(y,w)==0?I=w:w=I;else if(H.mod(y,w)==0)I=w;else{I=y/(b=Math.ceil(y/w));var N=H.getGCD(y,w);y/N<r&&(I=N),w=I}b=Math.round(y/w)}else{if(s||o){if(o)if(d)e=t-w*b;else{var D=e;e=w*Math.floor(e/w),Math.abs(t-e)/H.getGCD(y,w)>r&&(e=t-w*f,e+=w*Math.floor((D-e)/w))}else if(s)if(d)t=e+w*b;else{var _=t;t=w*Math.ceil(t/w),Math.abs(t-e)/H.getGCD(y,w)>r&&(t=e+w*f,t+=w*Math.ceil((_-t)/w))}}else if(h.isMultipleYAxis&&d){var $=w*Math.floor(e/w),U=$+w*b;U<t&&(w*=2),U=t,t=(e=$)+w*b,y=Math.abs(t-e),e>0&&e<Math.abs(U-t)&&(e=0,t=w*b),t<0&&-t<Math.abs($-e)&&(t=0,e=-w*b)}else e=w*Math.floor(e/w),t=w*Math.ceil(t/w);y=Math.abs(t-e),w=H.getGCD(y,w),b=Math.round(y/w)}if(d||s||o||(b=Math.ceil((y-l)/(w+l)))>16&&H.getPrimeFactors(b).length<2&&b++,!d&&n.forceNiceScale&&h.yValueDecimal===0&&b>y&&(b=y,w=Math.round(y/b)),b>r&&(!d&&!u||n.forceNiceScale)){var re=H.getPrimeFactors(b),ne=re.length-1,ie=b;e:for(var ae=0;ae<ne;ae++)for(var Me=0;Me<=ne-ae;Me++){for(var Re=Math.min(Me+ae,ne),Ne=ie,Qe=1,st=Me;st<=Re;st++)Qe*=re[st];if((Ne/=Qe)<r){ie=Ne;break e}}w=ie===b?y:y/ie,b=Math.round(y/w)}h.isMultipleYAxis&&h.multiAxisTickAmount==0&&h.ignoreYAxisIndexes.indexOf(a)<0&&(h.multiAxisTickAmount=b);var Ge=e-w,Mt=w*l;do Ge+=w,m.push(H.stripNumber(Ge,7));while(t-Ge>Mt);return{result:m,niceMin:m[0],niceMax:m[m.length-1]}}},{key:"linearScale",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,o=Math.abs(t-e),a=[];if(e===t)return{result:a=[e],niceMin:a[0],niceMax:a[a.length-1]};(n=this._adjustTicksForSmallRange(n,r,o))==="dataPoints"&&(n=this.w.globals.dataPoints-1),s||(s=o/n),s=Math.round(100*(s+Number.EPSILON))/100,n===Number.MAX_VALUE&&(n=5,s=1);for(var l=e;n>=0;)a.push(l),l=H.preciseAddition(l,s),n-=1;return{result:a,niceMin:a[0],niceMax:a[a.length-1]}}},{key:"logarithmicScaleNice",value:function(e,t,n){t<=0&&(t=Math.max(e,n)),e<=0&&(e=Math.min(t,n));for(var r=[],s=Math.ceil(Math.log(t)/Math.log(n)+1),o=Math.floor(Math.log(e)/Math.log(n));o<s;o++)r.push(Math.pow(n,o));return{result:r,niceMin:r[0],niceMax:r[r.length-1]}}},{key:"logarithmicScale",value:function(e,t,n){t<=0&&(t=Math.max(e,n)),e<=0&&(e=Math.min(t,n));for(var r=[],s=Math.log(t)/Math.log(n),o=Math.log(e)/Math.log(n),a=s-o,l=Math.round(a),c=a/l,h=0,u=o;h<l;h++,u+=c)r.push(Math.pow(n,u));return r.push(Math.pow(n,s)),{result:r,niceMin:e,niceMax:t}}},{key:"_adjustTicksForSmallRange",value:function(e,t,n){var r=e;if(t!==void 0&&this.w.config.yaxis[t].labels.formatter&&this.w.config.yaxis[t].tickAmount===void 0){var s=Number(this.w.config.yaxis[t].labels.formatter(1));H.isNumber(s)&&this.w.globals.yValueDecimal===0&&(r=Math.ceil(n))}return r<e?r:e}},{key:"setYScaleForIndex",value:function(e,t,n){var r=this.w.globals,s=this.w.config,o=r.isBarHorizontal?s.xaxis:s.yaxis[e];r.yAxisScale[e]===void 0&&(r.yAxisScale[e]=[]);var a=Math.abs(n-t);o.logarithmic&&a<=5&&(r.invalidLogScale=!0),o.logarithmic&&a>5?(r.allSeriesCollapsed=!1,r.yAxisScale[e]=o.forceNiceScale?this.logarithmicScaleNice(t,n,o.logBase):this.logarithmicScale(t,n,o.logBase)):n!==-Number.MAX_VALUE&&H.isNumber(n)&&t!==Number.MAX_VALUE&&H.isNumber(t)?(r.allSeriesCollapsed=!1,r.yAxisScale[e]=this.niceScale(t,n,e)):r.yAxisScale[e]=this.niceScale(Number.MIN_VALUE,0,e)}},{key:"setXScale",value:function(e,t){var n=this.w,r=n.globals;if(t!==-Number.MAX_VALUE&&H.isNumber(t)){var s=r.xTickAmount;r.xAxisScale=this.linearScale(e,t,s,0,n.config.xaxis.stepSize)}else r.xAxisScale=this.linearScale(0,10,10);return r.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var e=this,t=this.w.config,n=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var r=n.seriesYAxisMap,s=n.minYArr,o=n.maxYArr;n.allSeriesCollapsed=!0,n.barGroups=[],r.forEach(function(a,l){var c=[];a.forEach(function(h){var u,d=(u=t.series[h])===null||u===void 0?void 0:u.group;c.indexOf(d)<0&&c.push(d)}),a.length>0?function(){var h,u,d=Number.MAX_VALUE,f=-Number.MAX_VALUE,p=d,m=f;if(t.chart.stacked)(function(){var w=new Array(n.dataPoints).fill(0),C=[],T=[],S=[];c.forEach(function(){C.push(w.map(function(){return Number.MIN_VALUE})),T.push(w.map(function(){return Number.MIN_VALUE})),S.push(w.map(function(){return Number.MIN_VALUE}))});for(var E=function(I){!h&&t.series[a[I]].type&&(h=t.series[a[I]].type);var P=a[I];u=t.series[P].group?t.series[P].group:"axis-".concat(l),!(n.collapsedSeriesIndices.indexOf(P)<0&&n.ancillaryCollapsedSeriesIndices.indexOf(P)<0)||(n.allSeriesCollapsed=!1,c.forEach(function(N,D){if(t.series[P].group===N)for(var _=0;_<n.series[P].length;_++){var $=n.series[P][_];$>=0?T[D][_]+=$:S[D][_]+=$,C[D][_]+=$,p=Math.min(p,$),m=Math.max(m,$)}})),h!=="bar"&&h!=="column"||n.barGroups.push(u)},M=0;M<a.length;M++)E(M);h||(h=t.chart.type),h==="bar"||h==="column"?c.forEach(function(I,P){d=Math.min(d,Math.min.apply(null,S[P])),f=Math.max(f,Math.max.apply(null,T[P]))}):(c.forEach(function(I,P){p=Math.min(p,Math.min.apply(null,C[P])),m=Math.max(m,Math.max.apply(null,C[P]))}),d=p,f=m),d===Number.MIN_VALUE&&f===Number.MIN_VALUE&&(f=-Number.MAX_VALUE)})();else for(var b=0;b<a.length;b++){var y=a[b];d=Math.min(d,s[y]),f=Math.max(f,o[y]),!(n.collapsedSeriesIndices.indexOf(y)<0&&n.ancillaryCollapsedSeriesIndices.indexOf(y)<0)||(n.allSeriesCollapsed=!1)}t.yaxis[l].min!==void 0&&(d=typeof t.yaxis[l].min=="function"?t.yaxis[l].min(d):t.yaxis[l].min),t.yaxis[l].max!==void 0&&(f=typeof t.yaxis[l].max=="function"?t.yaxis[l].max(f):t.yaxis[l].max),n.barGroups=n.barGroups.filter(function(w,C,T){return T.indexOf(w)===C}),e.setYScaleForIndex(l,d,f),a.forEach(function(w){s[w]=n.yAxisScale[l].niceMin,o[w]=n.yAxisScale[l].niceMax})}():e.setYScaleForIndex(l,0,-Number.MAX_VALUE)})}}]),i}(),Hd=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w,this.scales=new Tb(e)}return Oe(i,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=this.w.config,o=this.w.globals,a=-Number.MAX_VALUE,l=Number.MIN_VALUE;r===null&&(r=e+1);var c=o.series,h=c,u=c;s.chart.type==="candlestick"?(h=o.seriesCandleL,u=o.seriesCandleH):s.chart.type==="boxPlot"?(h=o.seriesCandleO,u=o.seriesCandleC):o.isRangeData&&(h=o.seriesRangeStart,u=o.seriesRangeEnd);var d=!1;if(o.seriesX.length>=r){var f,p=(f=o.brushSource)===null||f===void 0?void 0:f.w.config.chart.brush;(s.chart.zoom.enabled&&s.chart.zoom.autoScaleYaxis||p!=null&&p.enabled&&p!=null&&p.autoScaleYaxis)&&(d=!0)}for(var m=e;m<r;m++){o.dataPoints=Math.max(o.dataPoints,c[m].length);var b=s.series[m].type;o.categoryLabels.length&&(o.dataPoints=o.categoryLabels.filter(function(S){return S!==void 0}).length),o.labels.length&&s.xaxis.type!=="datetime"&&o.series.reduce(function(S,E){return S+E.length},0)!==0&&(o.dataPoints=Math.max(o.dataPoints,o.labels.length));var y=0,w=c[m].length-1;if(d){if(s.xaxis.min)for(;y<w&&o.seriesX[m][y]<s.xaxis.min;y++);if(s.xaxis.max)for(;w>y&&o.seriesX[m][w]>s.xaxis.max;w--);}for(var C=y;C<=w&&C<o.series[m].length;C++){var T=c[m][C];if(T!==null&&H.isNumber(T)){switch(u[m][C]!==void 0&&(a=Math.max(a,u[m][C]),t=Math.min(t,u[m][C])),h[m][C]!==void 0&&(t=Math.min(t,h[m][C]),n=Math.max(n,h[m][C])),b){case"candlestick":o.seriesCandleC[m][C]!==void 0&&(a=Math.max(a,o.seriesCandleH[m][C]),t=Math.min(t,o.seriesCandleL[m][C]));break;case"boxPlot":o.seriesCandleC[m][C]!==void 0&&(a=Math.max(a,o.seriesCandleC[m][C]),t=Math.min(t,o.seriesCandleO[m][C]))}b&&b!=="candlestick"&&b!=="boxPlot"&&b!=="rangeArea"&&b!=="rangeBar"&&(a=Math.max(a,o.series[m][C]),t=Math.min(t,o.series[m][C])),o.seriesGoals[m]&&o.seriesGoals[m][C]&&Array.isArray(o.seriesGoals[m][C])&&o.seriesGoals[m][C].forEach(function(S){a=Math.max(a,S.value),t=Math.min(t,S.value)}),n=a,T=H.noExponents(T),H.isFloat(T)&&(o.yValueDecimal=Math.max(o.yValueDecimal,T.toString().split(".")[1].length)),l>h[m][C]&&h[m][C]<0&&(l=h[m][C])}else o.hasNullValues=!0}b!=="bar"&&b!=="column"||(l<0&&a<0&&(a=0,n=Math.max(n,0)),l===Number.MIN_VALUE&&(l=0,t=Math.min(t,0)))}return s.chart.type==="rangeBar"&&o.seriesRangeStart.length&&o.isBarHorizontal&&(l=t),s.chart.type==="bar"&&(l<0&&a<0&&(a=0),l===Number.MIN_VALUE&&(l=0)),{minY:l,maxY:a,lowestY:t,highestY:n}}},{key:"setYRange",value:function(){var e=this.w.globals,t=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var n,r=Number.MAX_VALUE;if(e.isMultipleYAxis){r=Number.MAX_VALUE;for(var s=0;s<e.series.length;s++)n=this.getMinYMaxY(s),e.minYArr[s]=n.lowestY,e.maxYArr[s]=n.highestY,r=Math.min(r,n.lowestY)}return n=this.getMinYMaxY(0,r,null,e.series.length),t.chart.type==="bar"?(e.minY=n.minY,e.maxY=n.maxY):(e.minY=n.lowestY,e.maxY=n.highestY),r=n.lowestY,t.chart.stacked&&this._setStackedMinMax(),t.chart.type==="line"||t.chart.type==="area"||t.chart.type==="scatter"||t.chart.type==="candlestick"||t.chart.type==="boxPlot"||t.chart.type==="rangeBar"&&!e.isBarHorizontal?e.minY===Number.MIN_VALUE&&r!==-Number.MAX_VALUE&&r!==e.maxY&&(e.minY=r):e.minY=e.minY!==Number.MIN_VALUE?Math.min(n.minY,e.minY):n.minY,t.yaxis.forEach(function(o,a){o.max!==void 0&&(typeof o.max=="number"?e.maxYArr[a]=o.max:typeof o.max=="function"&&(e.maxYArr[a]=o.max(e.isMultipleYAxis?e.maxYArr[a]:e.maxY)),e.maxY=e.maxYArr[a]),o.min!==void 0&&(typeof o.min=="number"?e.minYArr[a]=o.min:typeof o.min=="function"&&(e.minYArr[a]=o.min(e.isMultipleYAxis?e.minYArr[a]===Number.MIN_VALUE?0:e.minYArr[a]:e.minY)),e.minY=e.minYArr[a])}),e.isBarHorizontal&&["min","max"].forEach(function(o){t.xaxis[o]!==void 0&&typeof t.xaxis[o]=="number"&&(o==="min"?e.minY=t.xaxis[o]:e.maxY=t.xaxis[o])}),e.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),e.minY=r):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.minY,e.maxYArr[0]=e.maxY),e.barGroups=[],e.lineGroups=[],e.areaGroups=[],t.series.forEach(function(o){switch(o.type||t.chart.type){case"bar":case"column":e.barGroups.push(o.group);break;case"line":e.lineGroups.push(o.group);break;case"area":e.areaGroups.push(o.group)}}),e.barGroups=e.barGroups.filter(function(o,a,l){return l.indexOf(o)===a}),e.lineGroups=e.lineGroups.filter(function(o,a,l){return l.indexOf(o)===a}),e.areaGroups=e.areaGroups.filter(function(o,a,l){return l.indexOf(o)===a}),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,t=this.w.config,n=t.xaxis.type==="numeric"||t.xaxis.type==="datetime"||t.xaxis.type==="category"&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&function(){for(var l=0;l<e.series.length;l++)if(e.labels[l])for(var c=0;c<e.labels[l].length;c++)e.labels[l][c]!==null&&H.isNumber(e.labels[l][c])&&(e.maxX=Math.max(e.maxX,e.labels[l][c]),e.initialMaxX=Math.max(e.maxX,e.labels[l][c]),e.minX=Math.min(e.minX,e.labels[l][c]),e.initialMinX=Math.min(e.minX,e.labels[l][c]))}(),e.noLabelsProvided&&t.xaxis.categories.length===0&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var r=10;if(t.xaxis.tickAmount===void 0)r=Math.round(e.svgWidth/150),t.xaxis.type==="numeric"&&e.dataPoints<30&&(r=e.dataPoints-1),r>e.dataPoints&&e.dataPoints!==0&&(r=e.dataPoints-1);else if(t.xaxis.tickAmount==="dataPoints"){if(e.series.length>1&&(r=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric){var s=Math.round(e.maxX-e.minX);s<30&&(r=s-1)}}else r=t.xaxis.tickAmount;if(e.xTickAmount=r,t.xaxis.max!==void 0&&typeof t.xaxis.max=="number"&&(e.maxX=t.xaxis.max),t.xaxis.min!==void 0&&typeof t.xaxis.min=="number"&&(e.minX=t.xaxis.min),t.xaxis.range!==void 0&&(e.minX=e.maxX-t.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(t.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var o=[],a=e.minX-1;a<e.maxX;a++)o.push(a+1);e.xAxisScale={result:o,niceMin:o[0],niceMax:o[o.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(0,r,r,0,t.xaxis.stepSize),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,r-1,0,t.xaxis.stepSize),e.seriesX=e.labels.slice());n&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ){for(var t=0;t<e.series.length;t++)if(e.seriesZ[t]!==void 0)for(var n=0;n<e.seriesZ[t].length;n++)e.seriesZ[t][n]!==null&&H.isNumber(e.seriesZ[t][n])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[t][n]),e.minZ=Math.min(e.minZ,e.seriesZ[t][n]))}}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,t=this.w.config;if(e.minX===e.maxX){var n=new dn(this.ctx);if(t.xaxis.type==="datetime"){var r=n.getDate(e.minX);t.xaxis.labels.datetimeUTC?r.setUTCDate(r.getUTCDate()-2):r.setDate(r.getDate()-2),e.minX=new Date(r).getTime();var s=n.getDate(e.maxX);t.xaxis.labels.datetimeUTC?s.setUTCDate(s.getUTCDate()+2):s.setDate(s.getDate()+2),e.maxX=new Date(s).getTime()}else(t.xaxis.type==="numeric"||t.xaxis.type==="category"&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach(function(t,n){if(t.length){t.length===1&&t.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var r=t.slice();r.sort(function(s,o){return s-o}),r.forEach(function(s,o){if(o>0){var a=s-r[o-1];a>0&&(e.minXDiff=Math.min(a,e.minXDiff))}}),e.dataPoints!==1&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)}})}},{key:"_setStackedMinMax",value:function(){var e=this,t=this.w.globals;if(t.series.length){var n=t.seriesGroups;n.length||(n=[this.w.globals.seriesNames.map(function(o){return o})]);var r={},s={};n.forEach(function(o){r[o]=[],s[o]=[],e.w.config.series.map(function(a,l){return o.indexOf(t.seriesNames[l])>-1?l:null}).filter(function(a){return a!==null}).forEach(function(a){for(var l=0;l<t.series[t.maxValsInArrayIndex].length;l++){var c,h,u,d;r[o][l]===void 0&&(r[o][l]=0,s[o][l]=0),(e.w.config.chart.stacked&&!t.comboCharts||e.w.config.chart.stacked&&t.comboCharts&&(!e.w.config.chart.stackOnlyBar||((c=e.w.config.series)===null||c===void 0||(h=c[a])===null||h===void 0?void 0:h.type)==="bar"||((u=e.w.config.series)===null||u===void 0||(d=u[a])===null||d===void 0?void 0:d.type)==="column"))&&t.series[a][l]!==null&&H.isNumber(t.series[a][l])&&(t.series[a][l]>0?r[o][l]+=parseFloat(t.series[a][l])+1e-4:s[o][l]+=parseFloat(t.series[a][l]))}})}),Object.entries(r).forEach(function(o){var a=Fx(o,1)[0];r[a].forEach(function(l,c){t.maxY=Math.max(t.maxY,r[a][c]),t.minY=Math.min(t.minY,s[a][c])})})}}}]),i}(),Xd=function(){function i(e,t){Ee(this,i),this.ctx=e,this.elgrid=t,this.w=e.w;var n=this.w;this.xaxisFontSize=n.config.xaxis.labels.style.fontSize,this.axisFontFamily=n.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=n.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=n.config.chart.type==="bar"&&n.config.plotOptions.bar.horizontal,this.xAxisoffX=n.config.xaxis.position==="bottom"?n.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new Tr(e)}return Oe(i,[{key:"drawYaxis",value:function(e){var t=this.w,n=new oe(this.ctx),r=t.config.yaxis[e].labels.style,s=r.fontSize,o=r.fontFamily,a=r.fontWeight,l=n.group({class:"apexcharts-yaxis",rel:e,transform:"translate(".concat(t.globals.translateYAxisX[e],", 0)")});if(this.axesUtils.isYAxisHidden(e))return l;var c=n.group({class:"apexcharts-yaxis-texts-g"});l.add(c);var h=t.globals.yAxisScale[e].result.length-1,u=t.globals.gridHeight/h,d=t.globals.yLabelFormatters[e],f=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice());if(t.config.yaxis[e].labels.show){var p=t.globals.translateY+t.config.yaxis[e].labels.offsetY;t.globals.isBarHorizontal?p=0:t.config.chart.type==="heatmap"&&(p-=u/2),p+=parseInt(s,10)/3;for(var m=h;m>=0;m--){var b=d(f[m],m,t),y=t.config.yaxis[e].labels.padding;t.config.yaxis[e].opposite&&t.config.yaxis.length!==0&&(y*=-1);var w=this.getTextAnchor(t.config.yaxis[e].labels.align,t.config.yaxis[e].opposite),C=this.axesUtils.getYAxisForeColor(r.colors,e),T=Array.isArray(C)?C[m]:C,S=H.listToArray(t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-label tspan"))).map(function(M){return M.textContent}),E=n.drawText({x:y,y:p,text:S.includes(b)&&!t.config.yaxis[e].labels.showDuplicates?"":b,textAnchor:w,fontSize:s,fontFamily:o,fontWeight:a,maxWidth:t.config.yaxis[e].labels.maxWidth,foreColor:T,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(r.cssClass)});c.add(E),this.addTooltip(E,b),t.config.yaxis[e].labels.rotate!==0&&this.rotateLabel(n,E,firstLabel,t.config.yaxis[e].labels.rotate),p+=u}}return this.addYAxisTitle(n,l,e),this.addAxisBorder(n,l,e,h,u),l}},{key:"getTextAnchor",value:function(e,t){return e==="left"?"start":e==="center"?"middle":e==="right"?"end":t?"start":"end"}},{key:"addTooltip",value:function(e,t){var n=document.createElementNS(this.w.globals.SVGNS,"title");n.textContent=Array.isArray(t)?t.join(" "):t,e.node.appendChild(n)}},{key:"rotateLabel",value:function(e,t,n,r){var s=e.rotateAroundCenter(n.node),o=e.rotateAroundCenter(t.node);t.node.setAttribute("transform","rotate(".concat(r," ").concat(s.x," ").concat(o.y,")"))}},{key:"addYAxisTitle",value:function(e,t,n){var r=this.w;if(r.config.yaxis[n].title.text!==void 0){var s=e.group({class:"apexcharts-yaxis-title"}),o=r.config.yaxis[n].opposite?r.globals.translateYAxisX[n]:0,a=e.drawText({x:o,y:r.globals.gridHeight/2+r.globals.translateY+r.config.yaxis[n].title.offsetY,text:r.config.yaxis[n].title.text,textAnchor:"end",foreColor:r.config.yaxis[n].title.style.color,fontSize:r.config.yaxis[n].title.style.fontSize,fontWeight:r.config.yaxis[n].title.style.fontWeight,fontFamily:r.config.yaxis[n].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(r.config.yaxis[n].title.style.cssClass)});s.add(a),t.add(s)}}},{key:"addAxisBorder",value:function(e,t,n,r,s){var o=this.w,a=o.config.yaxis[n].axisBorder,l=31+a.offsetX;if(o.config.yaxis[n].opposite&&(l=-31-a.offsetX),a.show){var c=e.drawLine(l,o.globals.translateY+a.offsetY-2,l,o.globals.gridHeight+o.globals.translateY+a.offsetY+2,a.color,0,a.width);t.add(c)}o.config.yaxis[n].axisTicks.show&&this.axesUtils.drawYAxisTicks(l,r,a,o.config.yaxis[n].axisTicks,n,s,t)}},{key:"drawYaxisInversed",value:function(e){var t=this.w,n=new oe(this.ctx),r=n.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),s=n.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});r.add(s);var o=t.globals.yAxisScale[e].result.length-1,a=t.globals.gridWidth/o+.1,l=a+t.config.xaxis.labels.offsetX,c=t.globals.xLabelFormatter,h=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice()),u=t.globals.timescaleLabels;if(u.length>0&&(this.xaxisLabels=u.slice(),o=(h=u.slice()).length),t.config.xaxis.labels.show)for(var d=u.length?0:o;u.length?d<u.length:d>=0;u.length?d++:d--){var f=c(h[d],d,t),p=t.globals.gridWidth+t.globals.padHorizontal-(l-a+t.config.xaxis.labels.offsetX);if(u.length){var m=this.axesUtils.getLabel(h,u,p,d,this.drawnLabels,this.xaxisFontSize);p=m.x,f=m.text,this.drawnLabels.push(m.text),d===0&&t.globals.skipFirstTimelinelabel&&(f=""),d===h.length-1&&t.globals.skipLastTimelinelabel&&(f="")}var b=n.drawText({x:p,y:this.xAxisoffX+t.config.xaxis.labels.offsetY+30-(t.config.xaxis.position==="top"?t.globals.xAxisHeight+t.config.xaxis.axisTicks.height-2:0),text:f,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:t.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(t.config.xaxis.labels.style.cssClass)});s.add(b),b.tspan(f),this.addTooltip(b,f),l+=a}return this.inversedYAxisTitleText(r),this.inversedYAxisBorder(r),r}},{key:"inversedYAxisBorder",value:function(e){var t=this.w,n=new oe(this.ctx),r=t.config.xaxis.axisBorder;if(r.show){var s=0;t.config.chart.type==="bar"&&t.globals.isXNumeric&&(s-=15);var o=n.drawLine(t.globals.padHorizontal+s+r.offsetX,this.xAxisoffX,t.globals.gridWidth,this.xAxisoffX,r.color,0,r.height);this.elgrid&&this.elgrid.elGridBorders&&t.config.grid.show?this.elgrid.elGridBorders.add(o):e.add(o)}}},{key:"inversedYAxisTitleText",value:function(e){var t=this.w,n=new oe(this.ctx);if(t.config.xaxis.title.text!==void 0){var r=n.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),s=n.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(t.config.xaxis.title.style.fontSize)+t.config.xaxis.title.offsetY+20,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(t.config.xaxis.title.style.cssClass)});r.add(s),e.add(r)}}},{key:"yAxisTitleRotate",value:function(e,t){var n=this.w,r=new oe(this.ctx),s=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g")),o=s?s.getBoundingClientRect():{width:0,height:0},a=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text")),l=a?a.getBoundingClientRect():{width:0,height:0};if(a){var c=this.xPaddingForYAxisTitle(e,o,l,t);a.setAttribute("x",c.xPos-(t?10:0));var h=r.rotateAroundCenter(a);a.setAttribute("transform","rotate(".concat(t?-1*n.config.yaxis[e].title.rotate:n.config.yaxis[e].title.rotate," ").concat(h.x," ").concat(h.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,t,n,r){var s=this.w,o=0,a=10;return s.config.yaxis[e].title.text===void 0||e<0?{xPos:o,padd:0}:(r?o=t.width+s.config.yaxis[e].title.offsetX+n.width/2+a/2:(o=-1*t.width+s.config.yaxis[e].title.offsetX+a/2+n.width/2,s.globals.isBarHorizontal&&(a=25,o=-1*t.width-s.config.yaxis[e].title.offsetX-a)),{xPos:o,padd:a})}},{key:"setYAxisXPosition",value:function(e,t){var n=this.w,r=0,s=0,o=18,a=1;n.config.yaxis.length>1&&(this.multipleYs=!0),n.config.yaxis.forEach(function(l,c){var h=n.globals.ignoreYAxisIndexes.includes(c)||!l.show||l.floating||e[c].width===0,u=e[c].width+t[c].width;l.opposite?n.globals.isBarHorizontal?(s=n.globals.gridWidth+n.globals.translateX-1,n.globals.translateYAxisX[c]=s-l.labels.offsetX):(s=n.globals.gridWidth+n.globals.translateX+a,h||(a+=u+20),n.globals.translateYAxisX[c]=s-l.labels.offsetX+20):(r=n.globals.translateX-o,h||(o+=u+20),n.globals.translateYAxisX[c]=r+l.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var e=this.w;H.listToArray(e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach(function(t,n){var r=e.config.yaxis[n];if(r&&!r.floating&&r.labels.align!==void 0){var s=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-texts-g")),o=H.listToArray(e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-label"))),a=s.getBoundingClientRect();o.forEach(function(l){l.setAttribute("text-anchor",r.labels.align)}),r.labels.align!=="left"||r.opposite?r.labels.align==="center"?s.setAttribute("transform","translate(".concat(a.width/2*(r.opposite?1:-1),", 0)")):r.labels.align==="right"&&r.opposite&&s.setAttribute("transform","translate(".concat(a.width,", 0)")):s.setAttribute("transform","translate(-".concat(a.width,", 0)"))}})}}]),i}(),sA=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w,this.documentEvent=H.bind(this.documentEvent,this)}return Oe(i,[{key:"addEventListener",value:function(e,t){var n=this.w;n.globals.events.hasOwnProperty(e)?n.globals.events[e].push(t):n.globals.events[e]=[t]}},{key:"removeEventListener",value:function(e,t){var n=this.w;if(n.globals.events.hasOwnProperty(e)){var r=n.globals.events[e].indexOf(t);r!==-1&&n.globals.events[e].splice(r,1)}}},{key:"fireEvent",value:function(e,t){var n=this.w;if(n.globals.events.hasOwnProperty(e)){t&&t.length||(t=[]);for(var r=n.globals.events[e],s=r.length,o=0;o<s;o++)r[o].apply(null,t)}}},{key:"setupEventHandlers",value:function(){var e=this,t=this.w,n=this.ctx,r=t.globals.dom.baseEl.querySelector(t.globals.chartClass);this.ctx.eventList.forEach(function(s){r.addEventListener(s,function(o){var a=Object.assign({},t,{seriesIndex:t.globals.axisCharts?t.globals.capturedSeriesIndex:0,dataPointIndex:t.globals.capturedDataPointIndex});o.type==="mousemove"||o.type==="touchmove"?typeof t.config.chart.events.mouseMove=="function"&&t.config.chart.events.mouseMove(o,n,a):o.type==="mouseleave"||o.type==="touchleave"?typeof t.config.chart.events.mouseLeave=="function"&&t.config.chart.events.mouseLeave(o,n,a):(o.type==="mouseup"&&o.which===1||o.type==="touchend")&&(typeof t.config.chart.events.click=="function"&&t.config.chart.events.click(o,n,a),n.ctx.events.fireEvent("click",[o,n,a]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(s){t.globals.dom.baseEl.addEventListener(s,e.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var t=this.w,n=e.target.className;if(e.type==="click"){var r=t.globals.dom.baseEl.querySelector(".apexcharts-menu");r&&r.classList.contains("apexcharts-menu-open")&&n!=="apexcharts-menu-icon"&&r.classList.remove("apexcharts-menu-open")}t.globals.clientX=e.type==="touchmove"?e.touches[0].clientX:e.clientX,t.globals.clientY=e.type==="touchmove"?e.touches[0].clientY:e.clientY}}]),i}(),oA=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"setCurrentLocaleValues",value:function(e){var t=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(t=this.w.config.chart.locales.concat(window.Apex.chart.locales));var n=t.filter(function(s){return s.name===e})[0];if(!n)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var r=H.extend(Sb,n);this.w.globals.locale=r.options}}]),i}(),aA=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"drawAxis",value:function(e,t){var n,r,s=this,o=this.w.globals,a=this.w.config,l=new Da(this.ctx,t),c=new Xd(this.ctx,t);o.axisCharts&&e!=="radar"&&(o.isBarHorizontal?(r=c.drawYaxisInversed(0),n=l.drawXaxisInversed(0),o.dom.elGraphical.add(n),o.dom.elGraphical.add(r)):(n=l.drawXaxis(),o.dom.elGraphical.add(n),a.yaxis.map(function(h,u){if(o.ignoreYAxisIndexes.indexOf(u)===-1&&(r=c.drawYaxis(u),o.dom.Paper.add(r),s.w.config.grid.position==="back")){var d=o.dom.Paper.children()[1];d.remove(),o.dom.Paper.add(d)}})))}}]),i}(),Wd=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"drawXCrosshairs",value:function(){var e=this.w,t=new oe(this.ctx),n=new un(this.ctx),r=e.config.xaxis.crosshairs.fill.gradient,s=e.config.xaxis.crosshairs.dropShadow,o=e.config.xaxis.crosshairs.fill.type,a=r.colorFrom,l=r.colorTo,c=r.opacityFrom,h=r.opacityTo,u=r.stops,d=s.enabled,f=s.left,p=s.top,m=s.blur,b=s.color,y=s.opacity,w=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){o==="gradient"&&(w=t.drawGradient("vertical",a,l,c,h,null,u,null));var C=t.drawRect();e.config.xaxis.crosshairs.width===1&&(C=t.drawLine());var T=e.globals.gridHeight;(!H.isNumber(T)||T<0)&&(T=0);var S=e.config.xaxis.crosshairs.width;(!H.isNumber(S)||S<0)&&(S=0),C.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:T,width:S,height:T,fill:w,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),d&&(C=n.dropShadow(C,{left:f,top:p,blur:m,color:b,opacity:y})),e.globals.dom.elGraphical.add(C)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,t=new oe(this.ctx),n=e.config.yaxis[0].crosshairs,r=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var s=t.drawLine(-r,0,e.globals.gridWidth+r,0,n.stroke.color,n.stroke.dashArray,n.stroke.width);s.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(s)}var o=t.drawLine(-r,0,e.globals.gridWidth+r,0,n.stroke.color,0,0);o.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(o)}}]),i}(),lA=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"checkResponsiveConfig",value:function(e){var t=this,n=this.w,r=n.config;if(r.responsive.length!==0){var s=r.responsive.slice();s.sort(function(c,h){return c.breakpoint>h.breakpoint?1:h.breakpoint>c.breakpoint?-1:0}).reverse();var o=new La({}),a=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=s[0].breakpoint,u=window.innerWidth>0?window.innerWidth:screen.width;if(u>h){var d=H.clone(n.globals.initialConfig);d.series=H.clone(n.config.series);var f=Bt.extendArrayProps(o,d,n);c=H.extend(f,c),c=H.extend(n.config,c),t.overrideResponsiveOptions(c)}else for(var p=0;p<s.length;p++)u<s[p].breakpoint&&(c=Bt.extendArrayProps(o,s[p].options,n),c=H.extend(n.config,c),t.overrideResponsiveOptions(c))};if(e){var l=Bt.extendArrayProps(o,e,n);l=H.extend(n.config,l),a(l=H.extend(l,e))}else a({})}}},{key:"overrideResponsiveOptions",value:function(e){var t=new La(e).init({responsiveOverride:!0});this.w.config=t}}]),i}(),cA=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return Oe(i,[{key:"checkHeatmapDistributed",value:function(){var e=this.w.config,t=e.chart,n=e.plotOptions;return t.type==="treemap"&&n.treemap&&n.treemap.distributed||t.type==="heatmap"&&n.heatmap&&n.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var e=this.w.config,t=e.chart,n=e.plotOptions;return n.bar&&n.bar.distributed&&(t.type==="bar"||t.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e=this.w,t=new H;e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode));var n=Ut(e.config.colors||e.config.fill.colors||[]);e.globals.colors=this.getColors(n),this.applySeriesColors(e.globals.seriesColors,e.globals.colors),e.config.theme.monochrome.enabled&&(e.globals.colors=this.getMonochromeColors(e.config.theme.monochrome,e.globals.series,t));var r=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),this.applyColorTypes(["fill","stroke"],r),this.applyDataLabelsColors(r),this.applyRadarPolygonsColors(),this.applyMarkersColors(r)}},{key:"getColors",value:function(e){var t=this,n=this.w;return e&&e.length!==0?Array.isArray(e)&&e.length>0&&typeof e[0]=="function"?(this.isColorFn=!0,n.config.series.map(function(r,s){var o=e[s]||e[0];return typeof o=="function"?o({value:n.globals.axisCharts?n.globals.series[s][0]||0:n.globals.series[s],seriesIndex:s,dataPointIndex:s,w:t.w}):o})):e:this.predefined()}},{key:"applySeriesColors",value:function(e,t){e.forEach(function(n,r){n&&(t[r]=n)})}},{key:"getMonochromeColors",value:function(e,t,n){var r=e.color,s=e.shadeIntensity,o=e.shadeTo,a=this.isBarDistributed||this.isHeatmapDistributed?t[0].length*t.length:t.length,l=1/(a/s),c=0;return Array.from({length:a},function(){var h=o==="dark"?n.shadeColor(-1*c,r):n.shadeColor(c,r);return c+=l,h})}},{key:"applyColorTypes",value:function(e,t){var n=this,r=this.w;e.forEach(function(s){r.globals[s].colors=r.config[s].colors===void 0?n.isColorFn?r.config.colors:t:r.config[s].colors.slice(),n.pushExtraColors(r.globals[s].colors)})}},{key:"applyDataLabelsColors",value:function(e){var t=this.w;t.globals.dataLabels.style.colors=t.config.dataLabels.style.colors===void 0?e:t.config.dataLabels.style.colors.slice(),this.pushExtraColors(t.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var e=this.w;e.globals.radarPolygons.fill.colors=e.config.plotOptions.radar.polygons.fill.colors===void 0?[e.config.theme.mode==="dark"?"#424242":"none"]:e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(e){var t=this.w;t.globals.markers.colors=t.config.markers.colors===void 0?e:t.config.markers.colors.slice(),this.pushExtraColors(t.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=this.w,s=t||r.globals.series.length;if(n===null&&(n=this.isBarDistributed||this.isHeatmapDistributed||r.config.chart.type==="heatmap"&&r.config.plotOptions.heatmap&&r.config.plotOptions.heatmap.colorScale.inverse),n&&r.globals.series.length&&(s=r.globals.series[r.globals.maxValsInArrayIndex].length*r.globals.series.length),e.length<s)for(var o=s-e.length,a=0;a<o;a++)e.push(e[a])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var t=e.theme.mode,n=t==="dark"?"palette4":t==="light"?"palette1":e.theme.palette||"palette1",r=t==="dark"?"#f6f7f8":t==="light"?"#373d3f":e.chart.foreColor||"#373d3f";return e.tooltip.theme=t||"light",e.chart.foreColor=r,e.theme.palette=n,e}},{key:"predefined",value:function(){var e={palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"],palette3:["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"],palette4:["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"],palette5:["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"],default:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]};return e[this.w.config.theme.palette]||e.default}}]),i}(),hA=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var t=this.w,n=e==="title"?t.config.title:t.config.subtitle,r=t.globals.svgWidth/2,s=n.offsetY,o="middle";if(n.align==="left"?(r=10,o="start"):n.align==="right"&&(r=t.globals.svgWidth-10,o="end"),r+=n.offsetX,s=s+parseInt(n.style.fontSize,10)+n.margin/2,n.text!==void 0){var a=new oe(this.ctx).drawText({x:r,y:s,text:n.text,textAnchor:o,fontSize:n.style.fontSize,fontFamily:n.style.fontFamily,fontWeight:n.style.fontWeight,foreColor:n.style.color,opacity:1});a.node.setAttribute("class","apexcharts-".concat(e,"-text")),t.globals.dom.Paper.add(a)}}}]),i}(),uA=function(){function i(e){Ee(this,i),this.w=e.w,this.dCtx=e}return Oe(i,[{key:"getTitleSubtitleCoords",value:function(e){var t=this.w,n=0,r=0,s=e==="title"?t.config.title.floating:t.config.subtitle.floating,o=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(o!==null&&!s){var a=o.getBoundingClientRect();n=a.width,r=t.globals.axisCharts?a.height+5:a.height}return{width:n,height:r}}},{key:"getLegendsRect",value:function(){var e=this.w,t=e.globals.dom.elLegendWrap;e.config.legend.height||e.config.legend.position!=="top"&&e.config.legend.position!=="bottom"||(t.style.maxHeight=e.globals.svgHeight/2+"px");var n=Object.assign({},H.getBoundingClientRect(t));return t!==null&&!e.config.legend.floating&&e.config.legend.show?this.dCtx.lgRect={x:n.x,y:n.y,height:n.height,width:n.height===0?0:n.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},e.config.legend.position!=="left"&&e.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var e=this,t=this.w,n=[];t.config.series.forEach(function(l,c){l.data.forEach(function(h,u){var d;d=t.globals.series[c][u],r=t.config.dataLabels.formatter(d,{ctx:e.dCtx.ctx,seriesIndex:c,dataPointIndex:u,w:t}),n.push(r)})});var r=H.getLargestStringFromArr(n),s=new oe(this.dCtx.ctx),o=t.config.dataLabels.style,a=s.getTextRects(r,parseInt(o.fontSize),o.fontFamily);return{width:1.05*a.width,height:a.height}}},{key:"getLargestStringFromMultiArr",value:function(e,t){var n=e;if(this.w.globals.isMultiLineX){var r=t.map(function(o,a){return Array.isArray(o)?o.length:1}),s=Math.max.apply(Math,Ut(r));n=t[r.indexOf(s)]}return n}}]),i}(),dA=function(){function i(e){Ee(this,i),this.w=e.w,this.dCtx=e}return Oe(i,[{key:"getxAxisLabelsCoords",value:function(){var e,t=this.w,n=t.globals.labels.slice();if(t.config.xaxis.convertedCatToNumeric&&n.length===0&&(n=t.globals.categoryLabels),t.globals.timescaleLabels.length>0){var r=this.getxAxisTimeScaleLabelsCoords();e={width:r.width,height:r.height},t.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=t.config.legend.position!=="left"&&t.config.legend.position!=="right"||t.config.legend.floating?0:this.dCtx.lgRect.width;var s=t.globals.xLabelFormatter,o=H.getLargestStringFromArr(n),a=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,n);t.globals.isBarHorizontal&&(a=o=t.globals.yAxisScale[0].result.reduce(function(p,m){return p.length>m.length?p:m},0));var l=new Ia(this.dCtx.ctx),c=o;o=l.xLabelFormat(s,o,c,{i:void 0,dateFormatter:new dn(this.dCtx.ctx).formatDate,w:t}),a=l.xLabelFormat(s,a,c,{i:void 0,dateFormatter:new dn(this.dCtx.ctx).formatDate,w:t}),(t.config.xaxis.convertedCatToNumeric&&o===void 0||String(o).trim()==="")&&(a=o="1");var h=new oe(this.dCtx.ctx),u=h.getTextRects(o,t.config.xaxis.labels.style.fontSize),d=u;if(o!==a&&(d=h.getTextRects(a,t.config.xaxis.labels.style.fontSize)),(e={width:u.width>=d.width?u.width:d.width,height:u.height>=d.height?u.height:d.height}).width*n.length>t.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&t.config.xaxis.labels.rotate!==0||t.config.xaxis.labels.rotateAlways){if(!t.globals.isBarHorizontal){t.globals.rotateXLabels=!0;var f=function(p){return h.getTextRects(p,t.config.xaxis.labels.style.fontSize,t.config.xaxis.labels.style.fontFamily,"rotate(".concat(t.config.xaxis.labels.rotate," 0 0)"),!1)};u=f(o),o!==a&&(d=f(a)),e.height=(u.height>d.height?u.height:d.height)/1.5,e.width=u.width>d.width?u.width:d.width}}else t.globals.rotateXLabels=!1}return t.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,t=this.w;if(!t.globals.hasXaxisGroups)return{width:0,height:0};var n,r=((e=t.config.xaxis.group.style)===null||e===void 0?void 0:e.fontSize)||t.config.xaxis.labels.style.fontSize,s=t.globals.groups.map(function(u){return u.title}),o=H.getLargestStringFromArr(s),a=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,s),l=new oe(this.dCtx.ctx),c=l.getTextRects(o,r),h=c;return o!==a&&(h=l.getTextRects(a,r)),n={width:c.width>=h.width?c.width:h.width,height:c.height>=h.height?c.height:h.height},t.config.xaxis.labels.show||(n={width:0,height:0}),{width:n.width,height:n.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,t=0,n=0;if(e.config.xaxis.title.text!==void 0){var r=new oe(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);t=r.width,n=r.height}return{width:t,height:n}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,t=this.w;this.dCtx.timescaleLabels=t.globals.timescaleLabels.slice();var n=this.dCtx.timescaleLabels.map(function(s){return s.value}),r=n.reduce(function(s,o){return s===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):s.length>o.length?s:o},0);return 1.05*(e=new oe(this.dCtx.ctx).getTextRects(r,t.config.xaxis.labels.style.fontSize)).width*n.length>t.globals.gridWidth&&t.config.xaxis.labels.rotate!==0&&(t.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var t=this,n=this.w,r=n.globals,s=n.config,o=s.xaxis.type,a=e.width;r.skipLastTimelinelabel=!1,r.skipFirstTimelinelabel=!1;var l=n.config.yaxis[0].opposite&&n.globals.isBarHorizontal,c=function(h,u){s.yaxis.length>1&&function(d){return r.collapsedSeriesIndices.indexOf(d)!==-1}(u)||function(d){if(t.dCtx.timescaleLabels&&t.dCtx.timescaleLabels.length){var f=t.dCtx.timescaleLabels[0],p=t.dCtx.timescaleLabels[t.dCtx.timescaleLabels.length-1].position+a/1.75-t.dCtx.yAxisWidthRight,m=f.position-a/1.75+t.dCtx.yAxisWidthLeft,b=n.config.legend.position==="right"&&t.dCtx.lgRect.width>0?t.dCtx.lgRect.width:0;p>r.svgWidth-r.translateX-b&&(r.skipLastTimelinelabel=!0),m<-(d.show&&!d.floating||s.chart.type!=="bar"&&s.chart.type!=="candlestick"&&s.chart.type!=="rangeBar"&&s.chart.type!=="boxPlot"?10:a/1.75)&&(r.skipFirstTimelinelabel=!0)}else o==="datetime"?t.dCtx.gridPad.right<a&&!r.rotateXLabels&&(r.skipLastTimelinelabel=!0):o!=="datetime"&&t.dCtx.gridPad.right<a/2-t.dCtx.yAxisWidthRight&&!r.rotateXLabels&&!n.config.xaxis.labels.trim&&(t.dCtx.xPadRight=a/2+1)}(h)};s.yaxis.forEach(function(h,u){l?(t.dCtx.gridPad.left<a&&(t.dCtx.xPadLeft=a/2+1),t.dCtx.xPadRight=a/2+1):c(h,u)})}}]),i}(),fA=function(){function i(e){Ee(this,i),this.w=e.w,this.dCtx=e}return Oe(i,[{key:"getyAxisLabelsCoords",value:function(){var e=this,t=this.w,n=[],r=10,s=new Tr(this.dCtx.ctx);return t.config.yaxis.map(function(o,a){var l={seriesIndex:a,dataPointIndex:-1,w:t},c=t.globals.yAxisScale[a],h=0;if(!s.isYAxisHidden(a)&&o.labels.show&&o.labels.minWidth!==void 0&&(h=o.labels.minWidth),!s.isYAxisHidden(a)&&o.labels.show&&c.result.length){var u=t.globals.yLabelFormatters[a],d=c.niceMin===Number.MIN_VALUE?0:c.niceMin,f=c.result.reduce(function(T,S){var E,M;return((E=String(u(T,l)))===null||E===void 0?void 0:E.length)>((M=String(u(S,l)))===null||M===void 0?void 0:M.length)?T:S},d),p=f=u(f,l);if(f!==void 0&&f.length!==0||(f=c.niceMax),t.globals.isBarHorizontal){r=0;var m=t.globals.labels.slice();f=H.getLargestStringFromArr(m),f=u(f,{seriesIndex:a,dataPointIndex:-1,w:t}),p=e.dCtx.dimHelpers.getLargestStringFromMultiArr(f,m)}var b=new oe(e.dCtx.ctx),y="rotate(".concat(o.labels.rotate," 0 0)"),w=b.getTextRects(f,o.labels.style.fontSize,o.labels.style.fontFamily,y,!1),C=w;f!==p&&(C=b.getTextRects(p,o.labels.style.fontSize,o.labels.style.fontFamily,y,!1)),n.push({width:(h>C.width||h>w.width?h:C.width>w.width?C.width:w.width)+r,height:C.height>w.height?C.height:w.height})}else n.push({width:0,height:0})}),n}},{key:"getyAxisTitleCoords",value:function(){var e=this,t=this.w,n=[];return t.config.yaxis.map(function(r,s){if(r.show&&r.title.text!==void 0){var o=new oe(e.dCtx.ctx),a="rotate(".concat(r.title.rotate," 0 0)"),l=o.getTextRects(r.title.text,r.title.style.fontSize,r.title.style.fontFamily,a,!1);n.push({width:l.width,height:l.height})}else n.push({width:0,height:0})}),n}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,t=0,n=0,r=0,s=e.globals.yAxisScale.length>1?10:0,o=new Tr(this.dCtx.ctx),a=function(l,c){var h=e.config.yaxis[c].floating,u=0;l.width>0&&!h?(u=l.width+s,function(d){return e.globals.ignoreYAxisIndexes.indexOf(d)>-1}(c)&&(u=u-l.width-s)):u=h||o.isYAxisHidden(c)?0:5,e.config.yaxis[c].opposite?r+=u:n+=u,t+=u};return e.globals.yLabelsCoords.map(function(l,c){a(l,c)}),e.globals.yTitleCoords.map(function(l,c){a(l,c)}),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(t=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=n,this.dCtx.yAxisWidthRight=r,t}}]),i}(),pA=function(){function i(e){Ee(this,i),this.w=e.w,this.dCtx=e}return Oe(i,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var t=this.w,n=t.config,r=t.globals;if(r.noData||r.collapsedSeries.length+r.ancillaryCollapsedSeries.length===n.series.length)return 0;var s=function(f){return["bar","rangeBar","candlestick","boxPlot"].includes(f)},o=n.chart.type,a=0,l=s(o)?n.series.length:1;r.comboBarCount>0&&(l=r.comboBarCount),r.collapsedSeries.forEach(function(f){s(f.type)&&(l-=1)}),n.chart.stacked&&(l=1);var c=s(o)||r.comboBarCount>0,h=Math.abs(r.initialMaxX-r.initialMinX);if(c&&r.isXNumeric&&!r.isBarHorizontal&&l>0&&h!==0){h<=3&&(h=r.dataPoints);var u=h/e,d=r.minXDiff&&r.minXDiff/u>0?r.minXDiff/u:0;d>e/2&&(d/=2),(a=d*parseInt(n.plotOptions.bar.columnWidth,10)/100)<1&&(a=1),r.barPadForNumericAxis=a}return a}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,t=this.w,n=t.globals,r=this.dCtx.isSparkline||!n.axisCharts?0:10;["title","subtitle"].forEach(function(a){t.config[a].text!==void 0?r+=t.config[a].margin:r+=e.dCtx.isSparkline||!n.axisCharts?0:5}),!t.config.legend.show||t.config.legend.position!=="bottom"||t.config.legend.floating||n.axisCharts||(r+=10);var s=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),o=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");n.gridHeight-=s.height+o.height+r,n.translateY+=s.height+o.height+r}},{key:"setGridXPosForDualYAxis",value:function(e,t){var n=this.w,r=new Tr(this.dCtx.ctx);n.config.yaxis.forEach(function(s,o){n.globals.ignoreYAxisIndexes.indexOf(o)!==-1||s.floating||r.isYAxisHidden(o)||(s.opposite&&(n.globals.translateX-=t[o].width+e[o].width+parseInt(s.labels.style.fontSize,10)/1.2+12),n.globals.translateX<2&&(n.globals.translateX=2))})}}]),i}(),gc=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new uA(this),this.dimYAxis=new fA(this),this.dimXAxis=new dA(this),this.dimGrid=new pA(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return Oe(i,[{key:"plotCoords",value:function(){var e=this,t=this.w,n=t.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var r=Array.isArray(t.config.stroke.width)?Math.max.apply(Math,Ut(t.config.stroke.width)):t.config.stroke.width;this.isSparkline&&((t.config.markers.discrete.length>0||t.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(o){var a=Fx(o,2),l=a[0],c=a[1];e.gridPad[l]=Math.max(c,e.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(r/2,this.gridPad.top),this.gridPad.bottom=Math.max(r/2,this.gridPad.bottom)),n.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),n.gridHeight=n.gridHeight-this.gridPad.top-this.gridPad.bottom,n.gridWidth=n.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var s=this.dimGrid.gridPadForColumnsInNumericAxis(n.gridWidth);n.gridWidth=n.gridWidth-2*s,n.translateX=n.translateX+this.gridPad.left+this.xPadLeft+(s>0?s:0),n.translateY=n.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,t=this.w,n=t.globals,r=this.dimYAxis.getyAxisLabelsCoords(),s=this.dimYAxis.getyAxisTitleCoords();n.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),t.globals.yLabelsCoords=[],t.globals.yTitleCoords=[],t.config.yaxis.map(function(f,p){t.globals.yLabelsCoords.push({width:r[p].width,index:p}),t.globals.yTitleCoords.push({width:s[p].width,index:p})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var o=this.dimXAxis.getxAxisLabelsCoords(),a=this.dimXAxis.getxAxisGroupLabelsCoords(),l=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(o,l,a),n.translateXAxisY=t.globals.rotateXLabels?this.xAxisHeight/8:-4,n.translateXAxisX=t.globals.rotateXLabels&&t.globals.isXNumeric&&t.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,t.globals.isBarHorizontal&&(n.rotateXLabels=!1,n.translateXAxisY=parseInt(t.config.xaxis.labels.style.fontSize,10)/1.5*-1),n.translateXAxisY=n.translateXAxisY+t.config.xaxis.labels.offsetY,n.translateXAxisX=n.translateXAxisX+t.config.xaxis.labels.offsetX;var c=this.yAxisWidth,h=this.xAxisHeight;n.xAxisLabelsHeight=this.xAxisHeight-l.height,n.xAxisGroupLabelsHeight=n.xAxisLabelsHeight-o.height,n.xAxisLabelsWidth=this.xAxisWidth,n.xAxisHeight=this.xAxisHeight;var u=10;(t.config.chart.type==="radar"||this.isSparkline)&&(c=0,h=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||t.config.chart.type==="treemap")&&(c=0,h=0,u=0),this.isSparkline||t.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(o);var d=function(){n.translateX=c+e.datalabelsCoords.width,n.gridHeight=n.svgHeight-e.lgRect.height-h-(e.isSparkline||t.config.chart.type==="treemap"?0:t.globals.rotateXLabels?10:15),n.gridWidth=n.svgWidth-c-2*e.datalabelsCoords.width};switch(t.config.xaxis.position==="top"&&(u=n.xAxisHeight-t.config.xaxis.axisTicks.height-5),t.config.legend.position){case"bottom":n.translateY=u,d();break;case"top":n.translateY=this.lgRect.height+u,d();break;case"left":n.translateY=u,n.translateX=this.lgRect.width+c+this.datalabelsCoords.width,n.gridHeight=n.svgHeight-h-12,n.gridWidth=n.svgWidth-this.lgRect.width-c-2*this.datalabelsCoords.width;break;case"right":n.translateY=u,n.translateX=c+this.datalabelsCoords.width,n.gridHeight=n.svgHeight-h-12,n.gridWidth=n.svgWidth-this.lgRect.width-c-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(s,r),new Xd(this.ctx).setYAxisXPosition(r,s)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,t=e.globals,n=e.config,r=0;e.config.legend.show&&!e.config.legend.floating&&(r=20);var s=n.chart.type==="pie"||n.chart.type==="polarArea"||n.chart.type==="donut"?"pie":"radialBar",o=n.plotOptions[s].offsetY,a=n.plotOptions[s].offsetX;if(!n.legend.show||n.legend.floating){t.gridHeight=t.svgHeight;var l=t.dom.elWrap.getBoundingClientRect().width;return t.gridWidth=Math.min(l,t.gridHeight),t.translateY=o,void(t.translateX=a+(t.svgWidth-t.gridWidth)/2)}switch(n.legend.position){case"bottom":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=o-10,t.translateX=a+(t.svgWidth-t.gridWidth)/2;break;case"top":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=this.lgRect.height+o+10,t.translateX=a+(t.svgWidth-t.gridWidth)/2;break;case"left":t.gridWidth=t.svgWidth-this.lgRect.width-r,t.gridHeight=n.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=o,t.translateX=a+this.lgRect.width+r;break;case"right":t.gridWidth=t.svgWidth-this.lgRect.width-r-5,t.gridHeight=n.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=o,t.translateX=a+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,t,n){var r=this.w,s=r.globals.hasXaxisGroups?2:1,o=n.height+e.height+t.height,a=r.globals.isMultiLineX?1.2:r.globals.LINE_HEIGHT_RATIO,l=r.globals.rotateXLabels?22:10,c=r.globals.rotateXLabels&&r.config.legend.position==="bottom"?10:0;this.xAxisHeight=o*a+s*l+c,this.xAxisWidth=e.width,this.xAxisHeight-t.height>r.config.xaxis.labels.maxHeight&&(this.xAxisHeight=r.config.xaxis.labels.maxHeight),r.config.xaxis.labels.minHeight&&this.xAxisHeight<r.config.xaxis.labels.minHeight&&(this.xAxisHeight=r.config.xaxis.labels.minHeight),r.config.xaxis.floating&&(this.xAxisHeight=0);var h=0,u=0;r.config.yaxis.forEach(function(d){h+=d.labels.minWidth,u+=d.labels.maxWidth}),this.yAxisWidth<h&&(this.yAxisWidth=h),this.yAxisWidth>u&&(this.yAxisWidth=u)}}]),i}(),gA=function(){function i(e){Ee(this,i),this.w=e.w,this.lgCtx=e}return Oe(i,[{key:"getLegendStyles",value:function(){var e,t,n,r=document.createElement("style");r.setAttribute("type","text/css");var s=((e=this.lgCtx.ctx)===null||e===void 0||(t=e.opts)===null||t===void 0||(n=t.chart)===null||n===void 0?void 0:n.nonce)||this.w.config.chart.nonce;s&&r.setAttribute("nonce",s);var o=document.createTextNode(`
        .apexcharts-flip-y {
          transform: scaleY(-1) translateY(-100%);
          transform-origin: top;
          transform-box: fill-box;
        }
        .apexcharts-flip-x {
          transform: scaleX(-1);
          transform-origin: center;
          transform-box: fill-box;
        }
        .apexcharts-legend {
          display: flex;
          overflow: auto;
          padding: 0 10px;
        }
        .apexcharts-legend.apexcharts-legend-group-horizontal {
          flex-direction: column;
        }
        .apexcharts-legend-group {
          display: flex;
        }
        .apexcharts-legend-group-vertical {
          flex-direction: column-reverse;
        }
        .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
          flex-wrap: wrap
        }
        .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
          flex-direction: column;
          bottom: 0;
        }
        .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
          justify-content: flex-start;
          align-items: flex-start;
        }
        .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
          justify-content: center;
          align-items: center;
        }
        .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
          justify-content: flex-end;
          align-items: flex-end;
        }
        .apexcharts-legend-series {
          cursor: pointer;
          line-height: normal;
          display: flex;
          align-items: center;
        }
        .apexcharts-legend-text {
          position: relative;
          font-size: 14px;
        }
        .apexcharts-legend-text *, .apexcharts-legend-marker * {
          pointer-events: none;
        }
        .apexcharts-legend-marker {
          position: relative;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          margin-right: 1px;
        }
  
        .apexcharts-legend-series.apexcharts-no-click {
          cursor: auto;
        }
        .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
          display: none !important;
        }
        .apexcharts-inactive-legend {
          opacity: 0.45;
        }
  
      `);return r.appendChild(o),r}},{key:"getLegendDimensions",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),t=e.width;return{clwh:e.height,clww:t}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(e,t){var n=this,r=this.w;if(r.globals.axisCharts||r.config.chart.type==="radialBar"){r.globals.resized=!0;var s=null,o=null;r.globals.risingSeries=[],r.globals.axisCharts?(s=r.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),o=parseInt(s.getAttribute("data:realIndex"),10)):(s=r.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),o=parseInt(s.getAttribute("rel"),10)-1),t?[{cs:r.globals.collapsedSeries,csi:r.globals.collapsedSeriesIndices},{cs:r.globals.ancillaryCollapsedSeries,csi:r.globals.ancillaryCollapsedSeriesIndices}].forEach(function(h){n.riseCollapsedSeries(h.cs,h.csi,o)}):this.hideSeries({seriesEl:s,realIndex:o})}else{var a=r.globals.dom.Paper.findOne(" .apexcharts-series[rel='".concat(e+1,"'] path")),l=r.config.chart.type;if(l==="pie"||l==="polarArea"||l==="donut"){var c=r.config.plotOptions.pie.donut.labels;new oe(this.lgCtx.ctx).pathMouseDown(a,null),this.lgCtx.ctx.pie.printDataLabelsInner(a.node,c)}a.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(e){var t=e.realIndex,n=this.w,r=n.globals,s=H.clone(n.config.series);if(r.axisCharts){var o=n.config.yaxis[r.seriesYAxisReverseMap[t]],a={index:t,data:s[t].data.slice(),type:s[t].type||n.config.chart.type};if(o&&o.show&&o.showAlways)r.ancillaryCollapsedSeriesIndices.indexOf(t)<0&&(r.ancillaryCollapsedSeries.push(a),r.ancillaryCollapsedSeriesIndices.push(t));else if(r.collapsedSeriesIndices.indexOf(t)<0){r.collapsedSeries.push(a),r.collapsedSeriesIndices.push(t);var l=r.risingSeries.indexOf(t);r.risingSeries.splice(l,1)}}else r.collapsedSeries.push({index:t,data:s[t]}),r.collapsedSeriesIndices.push(t);return r.allSeriesCollapsed=r.collapsedSeries.length+r.ancillaryCollapsedSeries.length===n.config.series.length,this._getSeriesBasedOnCollapsedState(s)}},{key:"hideSeries",value:function(e){for(var t=e.seriesEl,n=e.realIndex,r=this.w,s=this.getSeriesAfterCollapsing({realIndex:n}),o=t.childNodes,a=0;a<o.length;a++)o[a].classList.contains("apexcharts-series-markers-wrap")&&(o[a].classList.contains("apexcharts-hide")?o[a].classList.remove("apexcharts-hide"):o[a].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(s,r.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,t,n){var r=this.w,s=H.clone(r.config.series);if(e.length>0){for(var o=0;o<e.length;o++)e[o].index===n&&(r.globals.axisCharts?s[n].data=e[o].data.slice():s[n]=e[o].data,typeof s[n]!="number"&&(s[n].hidden=!1),e.splice(o,1),t.splice(o,1),r.globals.risingSeries.push(n));s=this._getSeriesBasedOnCollapsedState(s),this.lgCtx.ctx.updateHelpers._updateSeries(s,r.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var t=this.w,n=0;return t.globals.axisCharts?e.forEach(function(r,s){t.globals.collapsedSeriesIndices.indexOf(s)<0&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(s)<0||(e[s].data=[],n++)}):e.forEach(function(r,s){!t.globals.collapsedSeriesIndices.indexOf(s)<0&&(e[s]=0,n++)}),t.globals.allSeriesCollapsed=n===e.length,e}}]),i}(),Eb=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new gA(this)}return Oe(i,[{key:"init",value:function(){var e=this.w,t=e.globals,n=e.config,r=n.legend.showForSingleSeries&&t.series.length===1||this.isBarsDistributed||t.series.length>1;if(this.legendHelpers.appendToForeignObject(),(r||!t.axisCharts)&&n.legend.show){for(;t.dom.elLegendWrap.firstChild;)t.dom.elLegendWrap.removeChild(t.dom.elLegendWrap.firstChild);this.drawLegends(),n.legend.position==="bottom"||n.legend.position==="top"?this.legendAlignHorizontal():n.legend.position!=="right"&&n.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(e){var t=e.i,n=e.fillcolor,r=this.w,s=document.createElement("span");s.classList.add("apexcharts-legend-marker");var o=r.config.legend.markers.shape||r.config.markers.shape,a=o;Array.isArray(o)&&(a=o[t]);var l=Array.isArray(r.config.legend.markers.size)?parseFloat(r.config.legend.markers.size[t]):parseFloat(r.config.legend.markers.size),c=Array.isArray(r.config.legend.markers.offsetX)?parseFloat(r.config.legend.markers.offsetX[t]):parseFloat(r.config.legend.markers.offsetX),h=Array.isArray(r.config.legend.markers.offsetY)?parseFloat(r.config.legend.markers.offsetY[t]):parseFloat(r.config.legend.markers.offsetY),u=Array.isArray(r.config.legend.markers.strokeWidth)?parseFloat(r.config.legend.markers.strokeWidth[t]):parseFloat(r.config.legend.markers.strokeWidth),d=s.style;if(d.height=2*(l+u)+"px",d.width=2*(l+u)+"px",d.left=c+"px",d.top=h+"px",r.config.legend.markers.customHTML)d.background="transparent",d.color=n[t],Array.isArray(r.config.legend.markers.customHTML)?r.config.legend.markers.customHTML[t]&&(s.innerHTML=r.config.legend.markers.customHTML[t]()):s.innerHTML=r.config.legend.markers.customHTML();else{var f=new go(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(a),seriesIndex:t,strokeWidth:u,size:l}),p=window.SVG().addTo(s).size("100%","100%"),m=new oe(this.ctx).drawMarker(0,0,xe(xe({},f),{},{pointFillColor:Array.isArray(n)?n[t]:f.pointFillColor,shape:a}));r.globals.dom.Paper.find(".apexcharts-legend-marker.apexcharts-marker").forEach(function(b){b.node.classList.contains("apexcharts-marker-triangle")?b.node.style.transform="translate(50%, 45%)":b.node.style.transform="translate(50%, 50%)"}),p.add(m)}return s}},{key:"drawLegends",value:function(){var e=this,t=this,n=this.w,r=n.config.legend.fontFamily,s=n.globals.seriesNames,o=n.config.legend.markers.fillColors?n.config.legend.markers.fillColors.slice():n.globals.colors.slice();if(n.config.chart.type==="heatmap"){var a=n.config.plotOptions.heatmap.colorScale.ranges;s=a.map(function(f){return f.name?f.name:f.from+" - "+f.to}),o=a.map(function(f){return f.color})}else this.isBarsDistributed&&(s=n.globals.labels.slice());n.config.legend.customLegendItems.length&&(s=n.config.legend.customLegendItems);var l=n.globals.legendFormatter,c=n.config.legend.inverseOrder,h=[];n.globals.seriesGroups.length>1&&n.config.legend.clusterGroupedSeries&&n.globals.seriesGroups.forEach(function(f,p){h[p]=document.createElement("div"),h[p].classList.add("apexcharts-legend-group","apexcharts-legend-group-".concat(p)),n.config.legend.clusterGroupedSeriesOrientation==="horizontal"?n.globals.dom.elLegendWrap.classList.add("apexcharts-legend-group-horizontal"):h[p].classList.add("apexcharts-legend-group-vertical")});for(var u=function(f){var p,m=l(s[f],{seriesIndex:f,w:n}),b=!1,y=!1;if(n.globals.collapsedSeries.length>0)for(var w=0;w<n.globals.collapsedSeries.length;w++)n.globals.collapsedSeries[w].index===f&&(b=!0);if(n.globals.ancillaryCollapsedSeriesIndices.length>0)for(var C=0;C<n.globals.ancillaryCollapsedSeriesIndices.length;C++)n.globals.ancillaryCollapsedSeriesIndices[C]===f&&(y=!0);var T=e.createLegendMarker({i:f,fillcolor:o});oe.setAttrs(T,{rel:f+1,"data:collapsed":b||y}),(b||y)&&T.classList.add("apexcharts-inactive-legend");var S=document.createElement("div"),E=document.createElement("span");E.classList.add("apexcharts-legend-text"),E.innerHTML=Array.isArray(m)?m.join(" "):m;var M=n.config.legend.labels.useSeriesColors?n.globals.colors[f]:Array.isArray(n.config.legend.labels.colors)?(p=n.config.legend.labels.colors)===null||p===void 0?void 0:p[f]:n.config.legend.labels.colors;M||(M=n.config.chart.foreColor),E.style.color=M,E.style.fontSize=parseFloat(n.config.legend.fontSize)+"px",E.style.fontWeight=n.config.legend.fontWeight,E.style.fontFamily=r||n.config.chart.fontFamily,oe.setAttrs(E,{rel:f+1,i:f,"data:default-text":encodeURIComponent(m),"data:collapsed":b||y}),S.appendChild(T),S.appendChild(E);var I=new Bt(e.ctx);n.config.legend.showForZeroSeries||I.getSeriesTotalByIndex(f)===0&&I.seriesHaveSameValues(f)&&!I.isSeriesNull(f)&&n.globals.collapsedSeriesIndices.indexOf(f)===-1&&n.globals.ancillaryCollapsedSeriesIndices.indexOf(f)===-1&&S.classList.add("apexcharts-hidden-zero-series"),n.config.legend.showForNullSeries||I.isSeriesNull(f)&&n.globals.collapsedSeriesIndices.indexOf(f)===-1&&n.globals.ancillaryCollapsedSeriesIndices.indexOf(f)===-1&&S.classList.add("apexcharts-hidden-null-series"),h.length?n.globals.seriesGroups.forEach(function(P,N){var D;P.includes((D=n.config.series[f])===null||D===void 0?void 0:D.name)&&(n.globals.dom.elLegendWrap.appendChild(h[N]),h[N].appendChild(S))}):n.globals.dom.elLegendWrap.appendChild(S),n.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(n.config.legend.horizontalAlign)),n.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+n.config.legend.position),S.classList.add("apexcharts-legend-series"),S.style.margin="".concat(n.config.legend.itemMargin.vertical,"px ").concat(n.config.legend.itemMargin.horizontal,"px"),n.globals.dom.elLegendWrap.style.width=n.config.legend.width?n.config.legend.width+"px":"",n.globals.dom.elLegendWrap.style.height=n.config.legend.height?n.config.legend.height+"px":"",oe.setAttrs(S,{rel:f+1,seriesName:H.escapeString(s[f]),"data:collapsed":b||y}),(b||y)&&S.classList.add("apexcharts-inactive-legend"),n.config.legend.onItemClick.toggleDataSeries||S.classList.add("apexcharts-no-click")},d=c?s.length-1:0;c?d>=0:d<=s.length-1;c?d--:d++)u(d);n.globals.dom.elWrap.addEventListener("click",t.onLegendClick,!0),n.config.legend.onItemHover.highlightDataSeries&&n.config.legend.customLegendItems.length===0&&(n.globals.dom.elWrap.addEventListener("mousemove",t.onLegendHovered,!0),n.globals.dom.elWrap.addEventListener("mouseout",t.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,t){var n=this.w,r=n.globals.dom.elLegendWrap,s=r.clientHeight,o=0,a=0;if(n.config.legend.position==="bottom")a=n.globals.svgHeight-Math.min(s,n.globals.svgHeight/2)-5;else if(n.config.legend.position==="top"){var l=new gc(this.ctx),c=l.dimHelpers.getTitleSubtitleCoords("title").height,h=l.dimHelpers.getTitleSubtitleCoords("subtitle").height;a=(c>0?c-10:0)+(h>0?h-10:0)}r.style.position="absolute",o=o+e+n.config.legend.offsetX,a=a+t+n.config.legend.offsetY,r.style.left=o+"px",r.style.top=a+"px",n.config.legend.position==="right"&&(r.style.left="auto",r.style.right=25+n.config.legend.offsetX+"px"),["width","height"].forEach(function(u){r.style[u]&&(r.style[u]=parseInt(n.config.legend[u],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.elLegendWrap.style.right=0;var t=new gc(this.ctx),n=t.dimHelpers.getTitleSubtitleCoords("title"),r=t.dimHelpers.getTitleSubtitleCoords("subtitle"),s=0;e.config.legend.position==="top"&&(s=n.height+r.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,s)}},{key:"legendAlignVertical",value:function(){var e=this.w,t=this.legendHelpers.getLegendDimensions(),n=0;e.config.legend.position==="left"&&(n=20),e.config.legend.position==="right"&&(n=e.globals.svgWidth-t.clww-10),this.setLegendWrapXY(n,20)}},{key:"onLegendHovered",value:function(e){var t=this.w,n=e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if(t.config.chart.type==="heatmap"||this.isBarsDistributed){if(n){var r=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,r,this.w]),new ci(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&n&&new ci(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var t=this.w;if(!t.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var n=parseInt(e.target.getAttribute("rel"),10)-1,r=e.target.getAttribute("data:collapsed")==="true",s=this.w.config.chart.events.legendClick;typeof s=="function"&&s(this.ctx,n,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,n,this.w]);var o=this.w.config.legend.markers.onClick;typeof o=="function"&&e.target.classList.contains("apexcharts-legend-marker")&&(o(this.ctx,n,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,n,this.w])),t.config.chart.type!=="treemap"&&t.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&t.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(n,r)}}}]),i}(),Ob=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w;var t=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=t.globals.minX,this.maxX=t.globals.maxX}return Oe(i,[{key:"createToolbar",value:function(){var e=this,t=this.w,n=function(){return document.createElement("div")},r=n();if(r.setAttribute("class","apexcharts-toolbar"),r.style.top=t.config.chart.toolbar.offsetY+"px",r.style.right=3-t.config.chart.toolbar.offsetX+"px",t.globals.dom.elWrap.appendChild(r),this.elZoom=n(),this.elZoomIn=n(),this.elZoomOut=n(),this.elPan=n(),this.elSelection=n(),this.elZoomReset=n(),this.elMenuIcon=n(),this.elMenu=n(),this.elCustomIcons=[],this.t=t.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var s=0;s<this.t.customIcons.length;s++)this.elCustomIcons.push(n());var o=[],a=function(u,d,f){var p=u.toLowerCase();e.t[p]&&t.config.chart.zoom.enabled&&o.push({el:d,icon:typeof e.t[p]=="string"?e.t[p]:f,title:e.localeValues[u],class:"apexcharts-".concat(p,"-icon")})};a("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
      <path d="M0 0h24v24H0z" fill="none"/>
      <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
  </svg>
  `),a("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
      <path d="M0 0h24v24H0z" fill="none"/>
      <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
  </svg>
  `);var l=function(u){e.t[u]&&t.config.chart[u].enabled&&o.push({el:u==="zoom"?e.elZoom:e.elSelection,icon:typeof e.t[u]=="string"?e.t[u]:u==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
      <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
      <path d="M0 0h24v24H0V0z" fill="none"/>
      <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
  </svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="none"/>
      <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
  </svg>`,title:e.localeValues[u==="zoom"?"selectionZoom":"selection"],class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(u,"-icon")})};l("zoom"),l("selection"),this.t.pan&&t.config.chart.zoom.enabled&&o.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
      <defs>
          <path d="M0 0h24v24H0z" id="a"/>
      </defs>
      <clipPath id="b">
          <use overflow="visible" xlink:href="#a"/>
      </clipPath>
      <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
  </svg>`,title:this.localeValues.pan,class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),a("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
      <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
      <path d="M0 0h24v24H0z" fill="none"/>
  </svg>`),this.t.download&&o.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var c=0;c<this.elCustomIcons.length;c++)o.push({el:this.elCustomIcons[c],icon:this.t.customIcons[c].icon,title:this.t.customIcons[c].title,index:this.t.customIcons[c].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[c].class});o.forEach(function(u,d){u.index&&H.moveIndexInArray(o,d,u.index)});for(var h=0;h<o.length;h++)oe.setAttrs(o[h].el,{class:o[h].class,title:o[h].title}),o[h].el.innerHTML=o[h].icon,r.appendChild(o[h].el);this._createHamburgerMenu(r),t.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):t.globals.panEnabled?this.elPan.classList.add(this.selectedClass):t.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),oe.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var t=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],n=0;n<t.length;n++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[n].innerHTML=t[n].title,oe.setAttrs(this.elMenuItems[n],{class:"apexcharts-menu-item ".concat(t[n].name),title:t[n].title}),this.elMenu.appendChild(this.elMenuItems[n])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(n){n.classList.contains("exportSVG")?n.addEventListener("click",e.handleDownload.bind(e,"svg")):n.classList.contains("exportPNG")?n.addEventListener("click",e.handleDownload.bind(e,"png")):n.classList.contains("exportCSV")&&n.addEventListener("click",e.handleDownload.bind(e,"csv"))});for(var t=0;t<this.t.customIcons.length;t++)this.elCustomIcons[t].addEventListener("click",this.t.customIcons[t].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach(function(t){t.ctx.toolbar.toggleOtherControls();var n=e==="selection"?t.ctx.toolbar.elSelection:t.ctx.toolbar.elZoom,r=e==="selection"?"selectionEnabled":"zoomEnabled";t.w.globals[r]=!t.w.globals[r],n.classList.contains(t.ctx.toolbar.selectedClass)?n.classList.remove(t.ctx.toolbar.selectedClass):n.classList.add(t.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),e==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var t=e==="pan"?this.elPan:this.elZoom,n=e==="pan"?this.elZoom:this.elPan;t&&t.classList.add(this.selectedClass),n&&n.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var e=this,t=this.w;t.globals.panEnabled=!1,t.globals.zoomEnabled=!1,t.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(n){n&&n.classList.remove(e.selectedClass)})}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var t=(this.minX+this.maxX)/2,n=(this.minX+t)/2,r=(this.maxX+t)/2,s=this._getNewMinXMaxX(n,r);e.globals.disableZoomIn||this.zoomUpdateOptions(s.minX,s.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!(e.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var t=(this.minX+this.maxX)/2,n=this.minX-(t-this.minX),r=this.maxX-(t-this.maxX),s=this._getNewMinXMaxX(n,r);e.globals.disableZoomOut||this.zoomUpdateOptions(s.minX,s.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,t){var n=this.w.config.xaxis.convertedCatToNumeric;return{minX:n?Math.floor(e):e,maxX:n?Math.floor(t):t}}},{key:"zoomUpdateOptions",value:function(e,t){var n=this.w;if(e!==void 0||t!==void 0){if(!(n.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,t=n.globals.dataPoints),t-e<2))){var r={min:e,max:t},s=this.getBeforeZoomRange(r);s&&(r=s.xaxis);var o={xaxis:r},a=H.clone(n.globals.initialConfig.yaxis);n.config.chart.group||(o.yaxis=a),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(o,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(r,a)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,t){typeof this.ev.zoomed=="function"&&this.ev.zoomed(this.ctx,{xaxis:e,yaxis:t})}},{key:"getBeforeZoomRange",value:function(e,t){var n=null;return typeof this.ev.beforeZoom=="function"&&(n=this.ev.beforeZoom(this,{xaxis:e,yaxis:t})),n}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout(function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(e){var t=this.w,n=new Ra(this.ctx);switch(e){case"svg":n.exportToSVG(this.ctx);break;case"png":n.exportToPng(this.ctx);break;case"csv":n.exportToCSV({series:t.config.series,columnDelimiter:t.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach(function(t){var n=t.w;if(n.globals.lastXAxis.min=n.globals.initialConfig.xaxis.min,n.globals.lastXAxis.max=n.globals.initialConfig.xaxis.max,t.updateHelpers.revertDefaultAxisMinMax(),typeof n.config.chart.events.beforeResetZoom=="function"){var r=n.config.chart.events.beforeResetZoom(t,n);r&&t.updateHelpers.revertDefaultAxisMinMax(r)}typeof n.config.chart.events.zoomed=="function"&&t.ctx.toolbar.zoomCallback({min:n.config.xaxis.min,max:n.config.xaxis.max}),n.globals.zoomed=!1;var s=t.ctx.series.emptyCollapsedSeries(H.clone(n.globals.initialSeries));t.updateHelpers._updateSeries(s,n.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),i}(),mA=function(i){wa(t,Ob);var e=va(t);function t(n){var r;return Ee(this,t),(r=e.call(this,n)).ctx=n,r.w=n.w,r.dragged=!1,r.graphics=new oe(r.ctx),r.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],r.clientX=0,r.clientY=0,r.startX=0,r.endX=0,r.dragX=0,r.startY=0,r.endY=0,r.dragY=0,r.moveDirection="none",r.debounceTimer=null,r.debounceDelay=100,r.wheelDelay=400,r}return Oe(t,[{key:"init",value:function(n){var r=this,s=n.xyRatios,o=this.w,a=this;this.xyRatios=s,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=o.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.constraints=new Ft(0,0,o.globals.gridWidth,o.globals.gridHeight),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),o.globals.dom.Paper.add(this.zoomRect),o.globals.dom.Paper.add(this.selectionRect),o.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:o.globals.gridWidth,maxY:o.globals.gridHeight}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):o.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:o.globals.gridWidth}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=o.globals.dom.baseEl.querySelector("".concat(o.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(l){r.hoverArea.addEventListener(l,a.svgMouseEvents.bind(a,s),{capture:!1,passive:!0})}),o.config.chart.zoom.enabled&&o.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",a.mouseWheelEvent.bind(a),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(n,r){var s=this.w,o=this.ctx.toolbar,a=s.globals.zoomEnabled?s.config.chart.zoom.type:s.config.chart.selection.type,l=s.config.chart.toolbar.autoSelected;if(r.shiftKey?(this.shiftWasPressed=!0,o.enableZoomPanFromToolbar(l==="pan"?"zoom":"pan")):this.shiftWasPressed&&(o.enableZoomPanFromToolbar(l),this.shiftWasPressed=!1),r.target){var c,h=r.target.classList;if(r.target.parentNode&&r.target.parentNode!==null&&(c=r.target.parentNode.classList),!(h.contains("apexcharts-legend-marker")||h.contains("apexcharts-legend-text")||c&&c.contains("apexcharts-toolbar"))){if(this.clientX=r.type==="touchmove"||r.type==="touchstart"?r.touches[0].clientX:r.type==="touchend"?r.changedTouches[0].clientX:r.clientX,this.clientY=r.type==="touchmove"||r.type==="touchstart"?r.touches[0].clientY:r.type==="touchend"?r.changedTouches[0].clientY:r.clientY,r.type==="mousedown"&&r.which===1||r.type==="touchstart"){var u=this.gridRect.getBoundingClientRect();this.startX=this.clientX-u.left-s.globals.barPadForNumericAxis,this.startY=this.clientY-u.top,this.dragged=!1,this.w.globals.mousedown=!0}(r.type==="mousemove"&&r.which===1||r.type==="touchmove")&&(this.dragged=!0,s.globals.panEnabled?(s.globals.selection=null,this.w.globals.mousedown&&this.panDragging({context:this,zoomtype:a,xyRatios:n})):(this.w.globals.mousedown&&s.globals.zoomEnabled||this.w.globals.mousedown&&s.globals.selectionEnabled)&&(this.selection=this.selectionDrawing({context:this,zoomtype:a}))),r.type!=="mouseup"&&r.type!=="touchend"&&r.type!=="mouseleave"||this.handleMouseUp({zoomtype:a}),this.makeSelectionRectDraggable()}}}},{key:"handleMouseUp",value:function(n){var r,s=n.zoomtype,o=n.isResized,a=this.w,l=(r=this.gridRect)===null||r===void 0?void 0:r.getBoundingClientRect();l&&(this.w.globals.mousedown||o)&&(this.endX=this.clientX-l.left-a.globals.barPadForNumericAxis,this.endY=this.clientY-l.top,this.dragX=Math.abs(this.endX-this.startX),this.dragY=Math.abs(this.endY-this.startY),(a.globals.zoomEnabled||a.globals.selectionEnabled)&&this.selectionDrawn({context:this,zoomtype:s}),a.globals.panEnabled&&a.config.xaxis.convertedCatToNumeric&&this.delayedPanScrolled()),a.globals.zoomEnabled&&this.hideSelectionRect(this.selectionRect),this.dragged=!1,this.w.globals.mousedown=!1}},{key:"mouseWheelEvent",value:function(n){var r=this,s=this.w;n.preventDefault();var o=Date.now();o-s.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(n),s.globals.lastWheelExecution=o),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){o-s.globals.lastWheelExecution>r.wheelDelay&&(r.executeMouseWheelZoom(n),s.globals.lastWheelExecution=o)},this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(n){var r,s=this.w;this.minX=s.globals.isRangeBar?s.globals.minY:s.globals.minX,this.maxX=s.globals.isRangeBar?s.globals.maxY:s.globals.maxX;var o=(r=this.gridRect)===null||r===void 0?void 0:r.getBoundingClientRect();if(o){var a,l,c,h=(n.clientX-o.left)/o.width,u=this.minX,d=this.maxX,f=d-u;if(n.deltaY<0){var p=u+h*f;l=p-(a=.5*f)/2,c=p+a/2}else l=u-(a=1.5*f)/2,c=d+a/2;if(!s.globals.isRangeBar){l=Math.max(l,s.globals.initialMinX),c=Math.min(c,s.globals.initialMaxX);var m=.01*(s.globals.initialMaxX-s.globals.initialMinX);if(c-l<m){var b=(l+c)/2;l=b-m/2,c=b+m/2}}var y=this._getNewMinXMaxX(l,c);isNaN(y.minX)||isNaN(y.maxX)||this.zoomUpdateOptions(y.minX,y.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var n=this,r=this.w;if(this.selectionRect){var s=this.selectionRect.node.getBoundingClientRect();s.width>0&&s.height>0&&(this.selectionRect.select(!1).resize(!1),this.selectionRect.select({createRot:function(){},updateRot:function(){},createHandle:function(o,a,l,c,h){return h==="l"||h==="r"?o.circle(8).css({"stroke-width":1,stroke:"#333",fill:"#fff"}):o.circle(0)},updateHandle:function(o,a){return o.center(a[0],a[1])}}).resize().on("resize",function(){var o=r.globals.zoomEnabled?r.config.chart.zoom.type:r.config.chart.selection.type;n.handleMouseUp({zoomtype:o,isResized:!0})}))}}},{key:"preselectedSelection",value:function(){var n=this.w,r=this.xyRatios;if(!n.globals.zoomEnabled){if(n.globals.selection!==void 0&&n.globals.selection!==null)this.drawSelectionRect(xe(xe({},n.globals.selection),{},{translateX:n.globals.translateX,translateY:n.globals.translateY}));else if(n.config.chart.selection.xaxis.min!==void 0&&n.config.chart.selection.xaxis.max!==void 0){var s=(n.config.chart.selection.xaxis.min-n.globals.minX)/r.xRatio,o=n.globals.gridWidth-(n.globals.maxX-n.config.chart.selection.xaxis.max)/r.xRatio-s;n.globals.isRangeBar&&(s=(n.config.chart.selection.xaxis.min-n.globals.yAxisScale[0].niceMin)/r.invertedYRatio,o=(n.config.chart.selection.xaxis.max-n.config.chart.selection.xaxis.min)/r.invertedYRatio);var a={x:s,y:0,width:o,height:n.globals.gridHeight,translateX:n.globals.translateX,translateY:n.globals.translateY,selectionEnabled:!0};this.drawSelectionRect(a),this.makeSelectionRectDraggable(),typeof n.config.chart.events.selection=="function"&&n.config.chart.events.selection(this.ctx,{xaxis:{min:n.config.chart.selection.xaxis.min,max:n.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(n){var r=n.x,s=n.y,o=n.width,a=n.height,l=n.translateX,c=l===void 0?0:l,h=n.translateY,u=h===void 0?0:h,d=this.w,f=this.zoomRect,p=this.selectionRect;if(this.dragged||d.globals.selection!==null){var m={transform:"translate("+c+", "+u+")"};d.globals.zoomEnabled&&this.dragged&&(o<0&&(o=1),f.attr({x:r,y:s,width:o,height:a,fill:d.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":d.config.chart.zoom.zoomedArea.fill.opacity,stroke:d.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":d.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":d.config.chart.zoom.zoomedArea.stroke.opacity}),oe.setAttrs(f.node,m)),d.globals.selectionEnabled&&(p.attr({x:r,y:s,width:o>0?o:0,height:a>0?a:0,fill:d.config.chart.selection.fill.color,"fill-opacity":d.config.chart.selection.fill.opacity,stroke:d.config.chart.selection.stroke.color,"stroke-width":d.config.chart.selection.stroke.width,"stroke-dasharray":d.config.chart.selection.stroke.dashArray,"stroke-opacity":d.config.chart.selection.stroke.opacity}),oe.setAttrs(p.node,m))}}},{key:"hideSelectionRect",value:function(n){n&&n.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(n){var r=n.context,s=n.zoomtype,o=this.w,a=r,l=this.gridRect.getBoundingClientRect(),c=a.startX-1,h=a.startY,u=!1,d=!1,f=a.clientX-l.left-o.globals.barPadForNumericAxis,p=a.clientY-l.top,m=f-c,b=p-h,y={translateX:o.globals.translateX,translateY:o.globals.translateY};return Math.abs(m+c)>o.globals.gridWidth?m=o.globals.gridWidth-c:f<0&&(m=c),c>f&&(u=!0,m=Math.abs(m)),h>p&&(d=!0,b=Math.abs(b)),y=xe(xe({},y=s==="x"?{x:u?c-m:c,y:0,width:m,height:o.globals.gridHeight}:s==="y"?{x:0,y:d?h-b:h,width:o.globals.gridWidth,height:b}:{x:u?c-m:c,y:d?h-b:h,width:m,height:b}),{},{translateX:o.globals.translateX,translateY:o.globals.translateY}),a.drawSelectionRect(y),a.selectionDragging("resizing"),y}},{key:"selectionDragging",value:function(n,r){var s=this,o=this.w;if(r){r.preventDefault();var a=r.detail,l=a.handler,c=a.box,h=c.x,u=c.y;h<this.constraints.x&&(h=this.constraints.x),u<this.constraints.y&&(u=this.constraints.y),c.x2>this.constraints.x2&&(h=this.constraints.x2-c.w),c.y2>this.constraints.y2&&(u=this.constraints.y2-c.h),l.move(h,u);var d=this.xyRatios,f=this.selectionRect,p=0;n==="resizing"&&(p=30);var m=function(y){return parseFloat(f.node.getAttribute(y))},b={x:m("x"),y:m("y"),width:m("width"),height:m("height")};o.globals.selection=b,typeof o.config.chart.events.selection=="function"&&o.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var y,w,C,T,S=s.gridRect.getBoundingClientRect(),E=f.node.getBoundingClientRect();o.globals.isRangeBar?(y=o.globals.yAxisScale[0].niceMin+(E.left-S.left)*d.invertedYRatio,w=o.globals.yAxisScale[0].niceMin+(E.right-S.left)*d.invertedYRatio,C=0,T=1):(y=o.globals.xAxisScale.niceMin+(E.left-S.left)*d.xRatio,w=o.globals.xAxisScale.niceMin+(E.right-S.left)*d.xRatio,C=o.globals.yAxisScale[0].niceMin+(S.bottom-E.bottom)*d.yRatio[0],T=o.globals.yAxisScale[0].niceMax-(E.top-S.top)*d.yRatio[0]);var M={xaxis:{min:y,max:w},yaxis:{min:C,max:T}};o.config.chart.events.selection(s.ctx,M),o.config.chart.brush.enabled&&o.config.chart.events.brushScrolled!==void 0&&o.config.chart.events.brushScrolled(s.ctx,M)},p))}}},{key:"selectionDrawn",value:function(n){var r,s,o=n.context,a=n.zoomtype,l=this.w,c=o,h=this.xyRatios,u=this.ctx.toolbar,d=l.globals.zoomEnabled?c.zoomRect.node.getBoundingClientRect():c.selectionRect.node.getBoundingClientRect(),f=c.gridRect.getBoundingClientRect(),p=d.left-f.left-l.globals.barPadForNumericAxis,m=d.right-f.left-l.globals.barPadForNumericAxis,b=d.top-f.top,y=d.bottom-f.top;l.globals.isRangeBar?(r=l.globals.yAxisScale[0].niceMin+p*h.invertedYRatio,s=l.globals.yAxisScale[0].niceMin+m*h.invertedYRatio):(r=l.globals.xAxisScale.niceMin+p*h.xRatio,s=l.globals.xAxisScale.niceMin+m*h.xRatio);var w=[],C=[];if(l.config.yaxis.forEach(function(N,D){var _=l.globals.seriesYAxisMap[D][0],$=l.globals.yAxisScale[D].niceMax-h.yRatio[_]*b,U=l.globals.yAxisScale[D].niceMax-h.yRatio[_]*y;w.push($),C.push(U)}),c.dragged&&(c.dragX>10||c.dragY>10)&&r!==s){if(l.globals.zoomEnabled){var T=H.clone(l.globals.initialConfig.yaxis),S=H.clone(l.globals.initialConfig.xaxis);if(l.globals.zoomed=!0,l.config.xaxis.convertedCatToNumeric&&(r=Math.floor(r),s=Math.floor(s),r<1&&(r=1,s=l.globals.dataPoints),s-r<2&&(s=r+1)),a!=="xy"&&a!=="x"||(S={min:r,max:s}),a!=="xy"&&a!=="y"||T.forEach(function(N,D){T[D].min=C[D],T[D].max=w[D]}),u){var E=u.getBeforeZoomRange(S,T);E&&(S=E.xaxis?E.xaxis:S,T=E.yaxis?E.yaxis:T)}var M={xaxis:S};l.config.chart.group||(M.yaxis=T),c.ctx.updateHelpers._updateOptions(M,!1,c.w.config.chart.animations.dynamicAnimation.enabled),typeof l.config.chart.events.zoomed=="function"&&u.zoomCallback(S,T)}else if(l.globals.selectionEnabled){var I,P=null;I={min:r,max:s},a!=="xy"&&a!=="y"||(P=H.clone(l.config.yaxis)).forEach(function(N,D){P[D].min=C[D],P[D].max=w[D]}),l.globals.selection=c.selection,typeof l.config.chart.events.selection=="function"&&l.config.chart.events.selection(c.ctx,{xaxis:I,yaxis:P})}}}},{key:"panDragging",value:function(n){var r=n.context,s=this.w,o=r;if(s.globals.lastClientPosition.x!==void 0){var a=s.globals.lastClientPosition.x-o.clientX,l=s.globals.lastClientPosition.y-o.clientY;Math.abs(a)>Math.abs(l)&&a>0?this.moveDirection="left":Math.abs(a)>Math.abs(l)&&a<0?this.moveDirection="right":Math.abs(l)>Math.abs(a)&&l>0?this.moveDirection="up":Math.abs(l)>Math.abs(a)&&l<0&&(this.moveDirection="down")}s.globals.lastClientPosition={x:o.clientX,y:o.clientY};var c=s.globals.isRangeBar?s.globals.minY:s.globals.minX,h=s.globals.isRangeBar?s.globals.maxY:s.globals.maxX;s.config.xaxis.convertedCatToNumeric||o.panScrolled(c,h)}},{key:"delayedPanScrolled",value:function(){var n=this.w,r=n.globals.minX,s=n.globals.maxX,o=(n.globals.maxX-n.globals.minX)/2;this.moveDirection==="left"?(r=n.globals.minX+o,s=n.globals.maxX+o):this.moveDirection==="right"&&(r=n.globals.minX-o,s=n.globals.maxX-o),r=Math.floor(r),s=Math.floor(s),this.updateScrolledChart({xaxis:{min:r,max:s}},r,s)}},{key:"panScrolled",value:function(n,r){var s=this.w,o=this.xyRatios,a=H.clone(s.globals.initialConfig.yaxis),l=o.xRatio,c=s.globals.minX,h=s.globals.maxX;s.globals.isRangeBar&&(l=o.invertedYRatio,c=s.globals.minY,h=s.globals.maxY),this.moveDirection==="left"?(n=c+s.globals.gridWidth/15*l,r=h+s.globals.gridWidth/15*l):this.moveDirection==="right"&&(n=c-s.globals.gridWidth/15*l,r=h-s.globals.gridWidth/15*l),s.globals.isRangeBar||(n<s.globals.initialMinX||r>s.globals.initialMaxX)&&(n=c,r=h);var u={xaxis:{min:n,max:r}};s.config.chart.group||(u.yaxis=a),this.updateScrolledChart(u,n,r)}},{key:"updateScrolledChart",value:function(n,r,s){var o=this.w;this.ctx.updateHelpers._updateOptions(n,!1,!1),typeof o.config.chart.events.scrolled=="function"&&o.config.chart.events.scrolled(this.ctx,{xaxis:{min:r,max:s}})}}]),t}(),Ib=function(){function i(e){Ee(this,i),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return Oe(i,[{key:"getNearestValues",value:function(e){var t=e.hoverArea,n=e.elGrid,r=e.clientX,s=e.clientY,o=this.w,a=n.getBoundingClientRect(),l=a.width,c=a.height,h=l/(o.globals.dataPoints-1),u=c/o.globals.dataPoints,d=this.hasBars();!o.globals.comboCharts&&!d||o.config.xaxis.convertedCatToNumeric||(h=l/o.globals.dataPoints);var f=r-a.left-o.globals.barPadForNumericAxis,p=s-a.top;f<0||p<0||f>l||p>c?(t.classList.remove("hovering-zoom"),t.classList.remove("hovering-pan")):o.globals.zoomEnabled?(t.classList.remove("hovering-pan"),t.classList.add("hovering-zoom")):o.globals.panEnabled&&(t.classList.remove("hovering-zoom"),t.classList.add("hovering-pan"));var m=Math.round(f/h),b=Math.floor(p/u);d&&!o.config.xaxis.convertedCatToNumeric&&(m=Math.ceil(f/h),m-=1);var y=null,w=null,C=o.globals.seriesXvalues.map(function(I){return I.filter(function(P){return H.isNumber(P)})}),T=o.globals.seriesYvalues.map(function(I){return I.filter(function(P){return H.isNumber(P)})});if(o.globals.isXNumeric){var S=this.ttCtx.getElGrid().getBoundingClientRect(),E=f*(S.width/l),M=p*(S.height/c);y=(w=this.closestInMultiArray(E,M,C,T)).index,m=w.j,y!==null&&o.globals.hasNullValues&&(C=o.globals.seriesXvalues[y],m=(w=this.closestInArray(E,C)).j)}return o.globals.capturedSeriesIndex=y===null?-1:y,(!m||m<1)&&(m=0),o.globals.isBarHorizontal?o.globals.capturedDataPointIndex=b:o.globals.capturedDataPointIndex=m,{capturedSeries:y,j:o.globals.isBarHorizontal?b:m,hoverX:f,hoverY:p}}},{key:"getFirstActiveXArray",value:function(e){for(var t=this.w,n=0,r=e.map(function(o,a){return o.length>0?a:-1}),s=0;s<r.length;s++)if(r[s]!==-1&&t.globals.collapsedSeriesIndices.indexOf(s)===-1&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(s)===-1){n=r[s];break}return n}},{key:"closestInMultiArray",value:function(e,t,n,r){for(var s,o=this.w,a=1/0,l=null,c=null,h=0;h<n.length;h++)if(s=h,o.globals.collapsedSeriesIndices.indexOf(s)===-1&&o.globals.ancillaryCollapsedSeriesIndices.indexOf(s)===-1)for(var u=n[h],d=r[h],f=Math.min(u.length,d.length),p=0;p<f;p++){var m=e-u[p],b=Math.sqrt(m*m);if(!o.globals.allSeriesHasEqualX){var y=t-d[p];b=Math.sqrt(m*m+y*y)}b<a&&(a=b,l=h,c=p)}return{index:l,j:c}}},{key:"closestInArray",value:function(e,t){for(var n=t[0],r=null,s=Math.abs(e-n),o=0;o<t.length;o++){var a=Math.abs(e-t[o]);a<s&&(s=a,r=o)}return{j:r}}},{key:"isXoverlap",value:function(e){var t=[],n=this.w.globals.seriesX.filter(function(s){return s[0]!==void 0});if(n.length>0)for(var r=0;r<n.length-1;r++)n[r][e]!==void 0&&n[r+1][e]!==void 0&&n[r][e]!==n[r+1][e]&&t.push("unEqual");return t.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,t=this.w.globals.initialSeries,n=0;n<t.length-1;n++)if(t[n].data.length!==t[n+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return Ut(e).reduce(function(t,n){return t+n.getBBox().height},0)}},{key:"getElMarkers",value:function(e){return typeof e=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");n=Ut(n),t&&(n=n.filter(function(s){var o=Number(s.getAttribute("data:realIndex"));return e.w.globals.collapsedSeriesIndices.indexOf(o)===-1})),n.sort(function(s,o){var a=Number(s.getAttribute("data:realIndex")),l=Number(o.getAttribute("data:realIndex"));return l<a?1:l>a?-1:0});var r=[];return n.forEach(function(s){r.push(s.querySelector(".apexcharts-marker"))}),r}},{key:"hasMarkers",value:function(e){return this.getElMarkers(e).length>0}},{key:"getPathFromPoint",value:function(e,t){var n=Number(e.getAttribute("cx")),r=Number(e.getAttribute("cy")),s=e.getAttribute("shape");return new oe(this.ctx).getMarkerPath(n,r,s,t)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var t=this.w,n=t.config.markers.hover.size;return n===void 0&&(n=t.globals.markers.size[e]+t.config.markers.hover.sizeOffset),n}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var t=this.w,n=this.ttCtx;n.allTooltipSeriesGroups.length===0&&(n.allTooltipSeriesGroups=t.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var r=n.allTooltipSeriesGroups,s=0;s<r.length;s++)e==="enable"?(r[s].classList.add("apexcharts-active"),r[s].style.display=t.config.tooltip.items.display):(r[s].classList.remove("apexcharts-active"),r[s].style.display="none")}}]),i}(),xA=function(){function i(e){Ee(this,i),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new Ib(e)}return Oe(i,[{key:"drawSeriesTexts",value:function(e){var t=e.shared,n=t===void 0||t,r=e.ttItems,s=e.i,o=s===void 0?0:s,a=e.j,l=a===void 0?null:a,c=e.y1,h=e.y2,u=e.e,d=this.w;d.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:o,j:l,y1:c,y2:h,w:d}):this.toggleActiveInactiveSeries(n,o);var f=this.getValuesToPrint({i:o,j:l});this.printLabels({i:o,j:l,values:f,ttItems:r,shared:n,e:u});var p=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=p.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=p.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var t,n=this,r=e.i,s=e.j,o=e.values,a=e.ttItems,l=e.shared,c=e.e,h=this.w,u=[],d=function(S){return h.globals.seriesGoals[S]&&h.globals.seriesGoals[S][s]&&Array.isArray(h.globals.seriesGoals[S][s])},f=o.xVal,p=o.zVal,m=o.xAxisTTVal,b="",y=h.globals.colors[r];s!==null&&h.config.plotOptions.bar.distributed&&(y=h.globals.colors[s]);for(var w=function(S,E){var M=n.getFormatters(r);b=n.getSeriesName({fn:M.yLbTitleFormatter,index:r,seriesIndex:r,j:s}),h.config.chart.type==="treemap"&&(b=M.yLbTitleFormatter(String(h.config.series[r].data[s].x),{series:h.globals.series,seriesIndex:r,dataPointIndex:s,w:h}));var I=h.config.tooltip.inverseOrder?E:S;if(h.globals.axisCharts){var P=function(_){var $,U,re,ne;return h.globals.isRangeData?M.yLbFormatter(($=h.globals.seriesRangeStart)===null||$===void 0||(U=$[_])===null||U===void 0?void 0:U[s],{series:h.globals.seriesRangeStart,seriesIndex:_,dataPointIndex:s,w:h})+" - "+M.yLbFormatter((re=h.globals.seriesRangeEnd)===null||re===void 0||(ne=re[_])===null||ne===void 0?void 0:ne[s],{series:h.globals.seriesRangeEnd,seriesIndex:_,dataPointIndex:s,w:h}):M.yLbFormatter(h.globals.series[_][s],{series:h.globals.series,seriesIndex:_,dataPointIndex:s,w:h})};if(l)M=n.getFormatters(I),b=n.getSeriesName({fn:M.yLbTitleFormatter,index:I,seriesIndex:r,j:s}),y=h.globals.colors[I],t=P(I),d(I)&&(u=h.globals.seriesGoals[I][s].map(function(_){return{attrs:_,val:M.yLbFormatter(_.value,{seriesIndex:I,dataPointIndex:s,w:h})}}));else{var N,D=c==null||(N=c.target)===null||N===void 0?void 0:N.getAttribute("fill");D&&(D.indexOf("url")!==-1?D.indexOf("Pattern")!==-1&&(y=h.globals.dom.baseEl.querySelector(D.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):y=D),t=P(r),d(r)&&Array.isArray(h.globals.seriesGoals[r][s])&&(u=h.globals.seriesGoals[r][s].map(function(_){return{attrs:_,val:M.yLbFormatter(_.value,{seriesIndex:r,dataPointIndex:s,w:h})}}))}}s===null&&(t=M.yLbFormatter(h.globals.series[r],xe(xe({},h),{},{seriesIndex:r,dataPointIndex:r}))),n.DOMHandling({i:r,t:I,j:s,ttItems:a,values:{val:t,goalVals:u,xVal:f,xAxisTTVal:m,zVal:p},seriesName:b,shared:l,pColor:y})},C=0,T=h.globals.series.length-1;C<h.globals.series.length;C++,T--)w(C,T)}},{key:"getFormatters",value:function(e){var t,n=this.w,r=n.globals.yLabelFormatters[e];return n.globals.ttVal!==void 0?Array.isArray(n.globals.ttVal)?(r=n.globals.ttVal[e]&&n.globals.ttVal[e].formatter,t=n.globals.ttVal[e]&&n.globals.ttVal[e].title&&n.globals.ttVal[e].title.formatter):(r=n.globals.ttVal.formatter,typeof n.globals.ttVal.title.formatter=="function"&&(t=n.globals.ttVal.title.formatter)):t=n.config.tooltip.y.title.formatter,typeof r!="function"&&(r=n.globals.yLabelFormatters[0]?n.globals.yLabelFormatters[0]:function(s){return s}),typeof t!="function"&&(t=function(s){return s?s+": ":""}),{yLbFormatter:r,yLbTitleFormatter:t}}},{key:"getSeriesName",value:function(e){var t=e.fn,n=e.index,r=e.seriesIndex,s=e.j,o=this.w;return t(String(o.globals.seriesNames[n]),{series:o.globals.series,seriesIndex:r,dataPointIndex:s,w:o})}},{key:"DOMHandling",value:function(e){e.i;var t=e.t,n=e.j,r=e.ttItems,s=e.values,o=e.seriesName,a=e.shared,l=e.pColor,c=this.w,h=this.ttCtx,u=s.val,d=s.goalVals,f=s.xVal,p=s.xAxisTTVal,m=s.zVal,b=null;b=r[t].children,c.config.tooltip.fillSeriesColor&&(r[t].style.backgroundColor=l,b[0].style.display="none"),h.showTooltipTitle&&(h.tooltipTitle===null&&(h.tooltipTitle=c.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),h.tooltipTitle.innerHTML=f),h.isXAxisTooltipEnabled&&(h.xaxisTooltipText.innerHTML=p!==""?p:f);var y=r[t].querySelector(".apexcharts-tooltip-text-y-label");y&&(y.innerHTML=o||"");var w=r[t].querySelector(".apexcharts-tooltip-text-y-value");w&&(w.innerHTML=u!==void 0?u:""),b[0]&&b[0].classList.contains("apexcharts-tooltip-marker")&&(c.config.tooltip.marker.fillColors&&Array.isArray(c.config.tooltip.marker.fillColors)&&(l=c.config.tooltip.marker.fillColors[t]),c.config.tooltip.fillSeriesColor?b[0].style.backgroundColor=l:b[0].style.color=l),c.config.tooltip.marker.show||(b[0].style.display="none");var C=r[t].querySelector(".apexcharts-tooltip-text-goals-label"),T=r[t].querySelector(".apexcharts-tooltip-text-goals-value");if(d.length&&c.globals.seriesGoals[t]){var S=function(){var I="<div>",P="<div>";d.forEach(function(N,D){I+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(N.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(N.attrs.name,"</div>"),P+="<div>".concat(N.val,"</div>")}),C.innerHTML=I+"</div>",T.innerHTML=P+"</div>"};a?c.globals.seriesGoals[t][n]&&Array.isArray(c.globals.seriesGoals[t][n])?S():(C.innerHTML="",T.innerHTML=""):S()}else C.innerHTML="",T.innerHTML="";if(m!==null&&(r[t].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=c.config.tooltip.z.title,r[t].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=m!==void 0?m:""),a&&b[0]){if(c.config.tooltip.hideEmptySeries){var E=r[t].querySelector(".apexcharts-tooltip-marker"),M=r[t].querySelector(".apexcharts-tooltip-text");parseFloat(u)==0?(E.style.display="none",M.style.display="none"):(E.style.display="block",M.style.display="block")}u==null||c.globals.ancillaryCollapsedSeriesIndices.indexOf(t)>-1||c.globals.collapsedSeriesIndices.indexOf(t)>-1||Array.isArray(h.tConfig.enabledOnSeries)&&h.tConfig.enabledOnSeries.indexOf(t)===-1?b[0].parentNode.style.display="none":b[0].parentNode.style.display=c.config.tooltip.items.display}else Array.isArray(h.tConfig.enabledOnSeries)&&h.tConfig.enabledOnSeries.indexOf(t)===-1&&(b[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(e,t){var n=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var r=n.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(t));r&&(r.classList.add("apexcharts-active"),r.style.display=n.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var t=e.i,n=e.j,r=this.w,s=this.ctx.series.filteredSeriesX(),o="",a="",l=null,c=null,h={series:r.globals.series,seriesIndex:t,dataPointIndex:n,w:r},u=r.globals.ttZFormatter;n===null?c=r.globals.series[t]:r.globals.isXNumeric&&r.config.chart.type!=="treemap"?(o=s[t][n],s[t].length===0&&(o=s[this.tooltipUtil.getFirstActiveXArray(s)][n])):o=new Bd(this.ctx).isFormatXY()?r.config.series[t].data[n]!==void 0?r.config.series[t].data[n].x:"":r.globals.labels[n]!==void 0?r.globals.labels[n]:"";var d=o;return r.globals.isXNumeric&&r.config.xaxis.type==="datetime"?o=new Ia(this.ctx).xLabelFormat(r.globals.ttKeyFormatter,d,d,{i:void 0,dateFormatter:new dn(this.ctx).formatDate,w:this.w}):o=r.globals.isBarHorizontal?r.globals.yLabelFormatters[0](d,h):r.globals.xLabelFormatter(d,h),r.config.tooltip.x.formatter!==void 0&&(o=r.globals.ttKeyFormatter(d,h)),r.globals.seriesZ.length>0&&r.globals.seriesZ[t].length>0&&(l=u(r.globals.seriesZ[t][n],r)),a=typeof r.config.xaxis.tooltip.formatter=="function"?r.globals.xaxisTooltipFormatter(d,h):o,{val:Array.isArray(c)?c.join(" "):c,xVal:Array.isArray(o)?o.join(" "):o,xAxisTTVal:Array.isArray(a)?a.join(" "):a,zVal:l}}},{key:"handleCustomTooltip",value:function(e){var t=e.i,n=e.j,r=e.y1,s=e.y2,o=e.w,a=this.ttCtx.getElTooltip(),l=o.config.tooltip.custom;Array.isArray(l)&&l[t]&&(l=l[t]);var c=l({ctx:this.ctx,series:o.globals.series,seriesIndex:t,dataPointIndex:n,y1:r,y2:s,w:o});typeof c=="string"?a.innerHTML=c:(c instanceof Element||typeof c.nodeName=="string")&&(a.innerHTML="",a.appendChild(c.cloneNode(!0)))}}]),i}(),Pb=function(){function i(e){Ee(this,i),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return Oe(i,[{key:"moveXCrosshairs",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=this.ttCtx,r=this.w,s=n.getElXCrosshairs(),o=e-n.xcrosshairsWidth/2,a=r.globals.labels.slice().length;if(t!==null&&(o=r.globals.gridWidth/a*t),s===null||r.globals.isBarHorizontal||(s.setAttribute("x",o),s.setAttribute("x1",o),s.setAttribute("x2",o),s.setAttribute("y2",r.globals.gridHeight),s.classList.add("apexcharts-active")),o<0&&(o=0),o>r.globals.gridWidth&&(o=r.globals.gridWidth),n.isXAxisTooltipEnabled){var l=o;r.config.xaxis.crosshairs.width!=="tickWidth"&&r.config.xaxis.crosshairs.width!=="barWidth"||(l=o+n.xcrosshairsWidth/2),this.moveXAxisTooltip(l)}}},{key:"moveYCrosshairs",value:function(e){var t=this.ttCtx;t.ycrosshairs!==null&&oe.setAttrs(t.ycrosshairs,{y1:e,y2:e}),t.ycrosshairsHidden!==null&&oe.setAttrs(t.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var t=this.w,n=this.ttCtx;if(n.xaxisTooltip!==null&&n.xcrosshairsWidth!==0){n.xaxisTooltip.classList.add("apexcharts-active");var r=n.xaxisOffY+t.config.xaxis.tooltip.offsetY+t.globals.translateY+1+t.config.xaxis.offsetY;if(e-=n.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(e)){e+=t.globals.translateX;var s;s=new oe(this.ctx).getTextRects(n.xaxisTooltipText.innerHTML),n.xaxisTooltipText.style.minWidth=s.width+"px",n.xaxisTooltip.style.left=e+"px",n.xaxisTooltip.style.top=r+"px"}}}},{key:"moveYAxisTooltip",value:function(e){var t=this.w,n=this.ttCtx;n.yaxisTTEls===null&&(n.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var r=parseInt(n.ycrosshairsHidden.getAttribute("y1"),10),s=t.globals.translateY+r,o=n.yaxisTTEls[e].getBoundingClientRect().height,a=t.globals.translateYAxisX[e]-2;t.config.yaxis[e].opposite&&(a-=26),s-=o/2,t.globals.ignoreYAxisIndexes.indexOf(e)===-1?(n.yaxisTTEls[e].classList.add("apexcharts-active"),n.yaxisTTEls[e].style.top=s+"px",n.yaxisTTEls[e].style.left=a+t.config.yaxis[e].tooltip.offsetX+"px"):n.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=this.w,s=this.ttCtx,o=s.getElTooltip(),a=s.tooltipRect,l=n!==null?parseFloat(n):1,c=parseFloat(e)+l+5,h=parseFloat(t)+l/2;if(c>r.globals.gridWidth/2&&(c=c-a.ttWidth-l-10),c>r.globals.gridWidth-a.ttWidth-10&&(c=r.globals.gridWidth-a.ttWidth),c<-20&&(c=-20),r.config.tooltip.followCursor){var u=s.getElGrid().getBoundingClientRect();(c=s.e.clientX-u.left)>r.globals.gridWidth/2&&(c-=s.tooltipRect.ttWidth),(h=s.e.clientY+r.globals.translateY-u.top)>r.globals.gridHeight/2&&(h-=s.tooltipRect.ttHeight)}else r.globals.isBarHorizontal||a.ttHeight/2+h>r.globals.gridHeight&&(h=r.globals.gridHeight-a.ttHeight+r.globals.translateY);isNaN(c)||(c+=r.globals.translateX,o.style.left=c+"px",o.style.top=h+"px")}},{key:"moveMarkers",value:function(e,t){var n=this.w,r=this.ttCtx;if(n.globals.markers.size[e]>0)for(var s=n.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),o=0;o<s.length;o++)parseInt(s[o].getAttribute("rel"),10)===t&&(r.marker.resetPointsSize(),r.marker.enlargeCurrentPoint(t,s[o]));else r.marker.resetPointsSize(),this.moveDynamicPointOnHover(t,e)}},{key:"moveDynamicPointOnHover",value:function(e,t){var n,r,s,o,a=this.w,l=this.ttCtx,c=new oe(this.ctx),h=a.globals.pointsArray,u=l.tooltipUtil.getHoverMarkerSize(t),d=a.config.series[t].type;if(!d||d!=="column"&&d!=="candlestick"&&d!=="boxPlot"){s=(n=h[t][e])===null||n===void 0?void 0:n[0],o=((r=h[t][e])===null||r===void 0?void 0:r[1])||0;var f=a.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers path"));if(f&&o<a.globals.gridHeight&&o>0){var p=f.getAttribute("shape"),m=c.getMarkerPath(s,o,p,1.5*u);f.setAttribute("d",m)}this.moveXCrosshairs(s),l.fixedTooltip||this.moveTooltip(s,o,u)}}},{key:"moveDynamicPointsOnHover",value:function(e){var t,n=this.ttCtx,r=n.w,s=0,o=0,a=r.globals.pointsArray,l=new ci(this.ctx),c=new oe(this.ctx);t=l.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var h=n.tooltipUtil.getHoverMarkerSize(t);if(a[t]&&(s=a[t][e][0],o=a[t][e][1]),!isNaN(s)){var u=n.tooltipUtil.getAllMarkers();if(u.length)for(var d=0;d<r.globals.series.length;d++){var f=a[d];if(r.globals.comboCharts&&f===void 0&&u.splice(d,0,null),f&&f.length){var p=a[d][e][1],m=void 0;u[d].setAttribute("cx",s);var b=u[d].getAttribute("shape");if(r.config.chart.type==="rangeArea"&&!r.globals.comboCharts){var y=e+r.globals.series[d].length;m=a[d][y][1],p-=Math.abs(p-m)/2}if(p!==null&&!isNaN(p)&&p<r.globals.gridHeight+h&&p+h>0){var w=c.getMarkerPath(s,p,b,h);u[d].setAttribute("d",w)}else u[d].setAttribute("d","")}}this.moveXCrosshairs(s),n.fixedTooltip||this.moveTooltip(s,o||r.globals.gridHeight,h)}}},{key:"moveStickyTooltipOverBars",value:function(e,t){var n=this.w,r=this.ttCtx,s=n.globals.columnSeries?n.globals.columnSeries.length:n.globals.series.length;n.config.chart.stacked&&(s=n.globals.barGroups.length);var o=s>=2&&s%2==0?Math.floor(s/2):Math.floor(s/2)+1;n.globals.isBarHorizontal&&(o=new ci(this.ctx).getActiveConfigSeriesIndex("desc")+1);var a=n.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(o,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"']"));a||typeof t!="number"||(a=n.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(t,"'] path[j='").concat(e,`'],
          .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
          .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
          .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,"']")));var l=a?parseFloat(a.getAttribute("cx")):0,c=a?parseFloat(a.getAttribute("cy")):0,h=a?parseFloat(a.getAttribute("barWidth")):0,u=r.getElGrid().getBoundingClientRect(),d=a&&(a.classList.contains("apexcharts-candlestick-area")||a.classList.contains("apexcharts-boxPlot-area"));n.globals.isXNumeric?(a&&!d&&(l-=s%2!=0?h/2:0),a&&d&&(l-=h/2)):n.globals.isBarHorizontal||(l=r.xAxisTicksPositions[e-1]+r.dataPointsDividedWidth/2,isNaN(l)&&(l=r.xAxisTicksPositions[e]-r.dataPointsDividedWidth/2)),n.globals.isBarHorizontal?c-=r.tooltipRect.ttHeight:n.config.tooltip.followCursor?c=r.e.clientY-u.top-r.tooltipRect.ttHeight/2:c+r.tooltipRect.ttHeight+15>n.globals.gridHeight&&(c=n.globals.gridHeight),n.globals.isBarHorizontal||this.moveXCrosshairs(l),r.fixedTooltip||this.moveTooltip(l,c||n.globals.gridHeight)}}]),i}(),bA=function(){function i(e){Ee(this,i),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new Pb(e)}return Oe(i,[{key:"drawDynamicPoints",value:function(){var e=this.w,t=new oe(this.ctx),n=new go(this.ctx),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");r=Ut(r),e.config.chart.stacked&&r.sort(function(u,d){return parseFloat(u.getAttribute("data:realIndex"))-parseFloat(d.getAttribute("data:realIndex"))});for(var s=0;s<r.length;s++){var o=r[s].querySelector(".apexcharts-series-markers-wrap");if(o!==null){var a=void 0,l="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));e.config.chart.type!=="line"&&e.config.chart.type!=="area"||e.globals.comboCharts||e.config.tooltip.intersect||(l+=" no-pointer-events");var c=n.getMarkerConfig({cssClass:l,seriesIndex:Number(o.getAttribute("data:realIndex"))});(a=t.drawMarker(0,0,c)).node.setAttribute("default-marker-size",0);var h=document.createElementNS(e.globals.SVGNS,"g");h.classList.add("apexcharts-series-markers"),h.appendChild(a.node),o.appendChild(h)}}}},{key:"enlargeCurrentPoint",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=this.w;s.config.chart.type!=="bubble"&&this.newPointSize(e,t);var o=t.getAttribute("cx"),a=t.getAttribute("cy");if(n!==null&&r!==null&&(o=n,a=r),this.tooltipPosition.moveXCrosshairs(o),!this.fixedTooltip){if(s.config.chart.type==="radar"){var l=this.ttCtx.getElGrid().getBoundingClientRect();o=this.ttCtx.e.clientX-l.left}this.tooltipPosition.moveTooltip(o,a,s.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var t=this.w,n=this,r=this.ttCtx,s=e,o=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),a=t.config.markers.hover.size,l=0;l<o.length;l++){var c=o[l].getAttribute("rel"),h=o[l].getAttribute("index");if(a===void 0&&(a=t.globals.markers.size[h]+t.config.markers.hover.sizeOffset),s===parseInt(c,10)){n.newPointSize(s,o[l]);var u=o[l].getAttribute("cx"),d=o[l].getAttribute("cy");n.tooltipPosition.moveXCrosshairs(u),r.fixedTooltip||n.tooltipPosition.moveTooltip(u,d,a)}else n.oldPointSize(o[l])}}},{key:"newPointSize",value:function(e,t){var n=this.w,r=n.config.markers.hover.size,s=e===0?t.parentNode.firstChild:t.parentNode.lastChild;if(s.getAttribute("default-marker-size")!=="0"){var o=parseInt(s.getAttribute("index"),10);r===void 0&&(r=n.globals.markers.size[o]+n.config.markers.hover.sizeOffset),r<0&&(r=0);var a=this.ttCtx.tooltipUtil.getPathFromPoint(t,r);t.setAttribute("d",a)}}},{key:"oldPointSize",value:function(e){var t=parseFloat(e.getAttribute("default-marker-size")),n=this.ttCtx.tooltipUtil.getPathFromPoint(e,t);e.setAttribute("d",n)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),t=0;t<e.length;t++){var n=parseFloat(e[t].getAttribute("default-marker-size"));if(H.isNumber(n)&&n>0){var r=this.ttCtx.tooltipUtil.getPathFromPoint(e[t],n);e[t].setAttribute("d",r)}else e[t].setAttribute("d","M0,0")}}}]),i}(),yA=function(){function i(e){Ee(this,i),this.w=e.w;var t=this.w;this.ttCtx=e,this.isVerticalGroupedRangeBar=!t.globals.isBarHorizontal&&t.config.chart.type==="rangeBar"&&t.config.plotOptions.bar.rangeBarGroupRows}return Oe(i,[{key:"getAttr",value:function(e,t){return parseFloat(e.target.getAttribute(t))}},{key:"handleHeatTreeTooltip",value:function(e){var t=e.e,n=e.opt,r=e.x,s=e.y,o=e.type,a=this.ttCtx,l=this.w;if(t.target.classList.contains("apexcharts-".concat(o,"-rect"))){var c=this.getAttr(t,"i"),h=this.getAttr(t,"j"),u=this.getAttr(t,"cx"),d=this.getAttr(t,"cy"),f=this.getAttr(t,"width"),p=this.getAttr(t,"height");if(a.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:c,j:h,shared:!1,e:t}),l.globals.capturedSeriesIndex=c,l.globals.capturedDataPointIndex=h,r=u+a.tooltipRect.ttWidth/2+f,s=d+a.tooltipRect.ttHeight/2-p/2,a.tooltipPosition.moveXCrosshairs(u+f/2),r>l.globals.gridWidth/2&&(r=u-a.tooltipRect.ttWidth/2+f),a.w.config.tooltip.followCursor){var m=l.globals.dom.elWrap.getBoundingClientRect();r=l.globals.clientX-m.left-(r>l.globals.gridWidth/2?a.tooltipRect.ttWidth:0),s=l.globals.clientY-m.top-(s>l.globals.gridHeight/2?a.tooltipRect.ttHeight:0)}}return{x:r,y:s}}},{key:"handleMarkerTooltip",value:function(e){var t,n,r=e.e,s=e.opt,o=e.x,a=e.y,l=this.w,c=this.ttCtx;if(r.target.classList.contains("apexcharts-marker")){var h=parseInt(s.paths.getAttribute("cx"),10),u=parseInt(s.paths.getAttribute("cy"),10),d=parseFloat(s.paths.getAttribute("val"));if(n=parseInt(s.paths.getAttribute("rel"),10),t=parseInt(s.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,c.intersect){var f=H.findAncestor(s.paths,"apexcharts-series");f&&(t=parseInt(f.getAttribute("data:realIndex"),10))}if(c.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:t,j:n,shared:!c.showOnIntersect&&l.config.tooltip.shared,e:r}),r.type==="mouseup"&&c.markerClick(r,t,n),l.globals.capturedSeriesIndex=t,l.globals.capturedDataPointIndex=n,o=h,a=u+l.globals.translateY-1.4*c.tooltipRect.ttHeight,c.w.config.tooltip.followCursor){var p=c.getElGrid().getBoundingClientRect();a=c.e.clientY+l.globals.translateY-p.top}d<0&&(a=u),c.marker.enlargeCurrentPoint(n,s.paths,o,a)}return{x:o,y:a}}},{key:"handleBarTooltip",value:function(e){var t,n,r=e.e,s=e.opt,o=this.w,a=this.ttCtx,l=a.getElTooltip(),c=0,h=0,u=0,d=this.getBarTooltipXY({e:r,opt:s});if(d.j!==null||d.barHeight!==0||d.barWidth!==0){t=d.i;var f=d.j;if(o.globals.capturedSeriesIndex=t,o.globals.capturedDataPointIndex=f,o.globals.isBarHorizontal&&a.tooltipUtil.hasBars()||!o.config.tooltip.shared?(h=d.x,u=d.y,n=Array.isArray(o.config.stroke.width)?o.config.stroke.width[t]:o.config.stroke.width,c=h):o.globals.comboCharts||o.config.tooltip.shared||(c/=2),isNaN(u)&&(u=o.globals.svgHeight-a.tooltipRect.ttHeight),parseInt(s.paths.parentNode.getAttribute("data:realIndex"),10),h+a.tooltipRect.ttWidth>o.globals.gridWidth?h-=a.tooltipRect.ttWidth:h<0&&(h=0),a.w.config.tooltip.followCursor){var p=a.getElGrid().getBoundingClientRect();u=a.e.clientY-p.top}a.tooltip===null&&(a.tooltip=o.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),o.config.tooltip.shared||(o.globals.comboBarCount>0?a.tooltipPosition.moveXCrosshairs(c+n/2):a.tooltipPosition.moveXCrosshairs(c)),!a.fixedTooltip&&(!o.config.tooltip.shared||o.globals.isBarHorizontal&&a.tooltipUtil.hasBars())&&(u=u+o.globals.translateY-a.tooltipRect.ttHeight/2,l.style.left=h+o.globals.translateX+"px",l.style.top=u+"px")}}},{key:"getBarTooltipXY",value:function(e){var t=this,n=e.e,r=e.opt,s=this.w,o=null,a=this.ttCtx,l=0,c=0,h=0,u=0,d=0,f=n.target.classList;if(f.contains("apexcharts-bar-area")||f.contains("apexcharts-candlestick-area")||f.contains("apexcharts-boxPlot-area")||f.contains("apexcharts-rangebar-area")){var p=n.target,m=p.getBoundingClientRect(),b=r.elGrid.getBoundingClientRect(),y=m.height;d=m.height;var w=m.width,C=parseInt(p.getAttribute("cx"),10),T=parseInt(p.getAttribute("cy"),10);u=parseFloat(p.getAttribute("barWidth"));var S=n.type==="touchmove"?n.touches[0].clientX:n.clientX;o=parseInt(p.getAttribute("j"),10),l=parseInt(p.parentNode.getAttribute("rel"),10)-1;var E=p.getAttribute("data-range-y1"),M=p.getAttribute("data-range-y2");s.globals.comboCharts&&(l=parseInt(p.parentNode.getAttribute("data:realIndex"),10));var I=function(N){return s.globals.isXNumeric?C-w/2:t.isVerticalGroupedRangeBar?C+w/2:C-a.dataPointsDividedWidth+w/2},P=function(){return T-a.dataPointsDividedHeight+y/2-a.tooltipRect.ttHeight/2};a.tooltipLabels.drawSeriesTexts({ttItems:r.ttItems,i:l,j:o,y1:E?parseInt(E,10):null,y2:M?parseInt(M,10):null,shared:!a.showOnIntersect&&s.config.tooltip.shared,e:n}),s.config.tooltip.followCursor?s.globals.isBarHorizontal?(c=S-b.left+15,h=P()):(c=I(),h=n.clientY-b.top-a.tooltipRect.ttHeight/2-15):s.globals.isBarHorizontal?((c=C)<a.xyRatios.baseLineInvertedY&&(c=C-a.tooltipRect.ttWidth),h=P()):(c=I(),h=T)}return{x:c,y:h,barHeight:d,barWidth:u,i:l,j:o}}}]),i}(),vA=function(){function i(e){Ee(this,i),this.w=e.w,this.ttCtx=e}return Oe(i,[{key:"drawXaxisTooltip",value:function(){var e=this.w,t=this.ttCtx,n=e.config.xaxis.position==="bottom";t.xaxisOffY=n?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var r=n?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",s=e.globals.dom.elWrap;t.isXAxisTooltipEnabled&&e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(t.xaxisTooltip=document.createElement("div"),t.xaxisTooltip.setAttribute("class",r+" apexcharts-theme-"+e.config.tooltip.theme),s.appendChild(t.xaxisTooltip),t.xaxisTooltipText=document.createElement("div"),t.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),t.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,t.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,t.xaxisTooltip.appendChild(t.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,t=this.ttCtx,n=0;n<e.config.yaxis.length;n++){var r=e.config.yaxis[n].opposite||e.config.yaxis[n].crosshairs.opposite;t.yaxisOffX=r?e.globals.gridWidth+1:1;var s="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(n,r?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),o=e.globals.dom.elWrap;e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(n))===null&&(t.yaxisTooltip=document.createElement("div"),t.yaxisTooltip.setAttribute("class",s+" apexcharts-theme-"+e.config.tooltip.theme),o.appendChild(t.yaxisTooltip),n===0&&(t.yaxisTooltipText=[]),t.yaxisTooltipText[n]=document.createElement("div"),t.yaxisTooltipText[n].classList.add("apexcharts-yaxistooltip-text"),t.yaxisTooltip.appendChild(t.yaxisTooltipText[n]))}}},{key:"setXCrosshairWidth",value:function(){var e=this.w,t=this.ttCtx,n=t.getElXCrosshairs();if(t.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var r=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(r!==null&&e.config.xaxis.crosshairs.width==="barWidth"){var s=parseFloat(r.getAttribute("barWidth"));t.xcrosshairsWidth=s}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var o=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/o}}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var a=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/a}else if(e.config.xaxis.crosshairs.width==="barWidth"){var l=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(l!==null){var c=parseFloat(l.getAttribute("barWidth"));t.xcrosshairsWidth=c}else t.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(t.xcrosshairsWidth=0),n!==null&&t.xcrosshairsWidth>0&&n.setAttribute("width",t.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,t=this.ttCtx;t.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),t.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,t,n){var r=this.ttCtx,s=this.w,o=s.globals,a=o.seriesYAxisMap[e];if(r.yaxisTooltips[e]&&a.length>0){var l=o.yLabelFormatters[e],c=r.getElGrid().getBoundingClientRect(),h=a[0],u=0;n.yRatio.length>1&&(u=h);var d=(t-c.top)*n.yRatio[u],f=o.maxYArr[h]-o.minYArr[h],p=o.minYArr[h]+(f-d);s.config.yaxis[e].reversed&&(p=o.maxYArr[h]-(f-d)),r.tooltipPosition.moveYCrosshairs(t-c.top),r.yaxisTooltipText[e].innerHTML=l(p),r.tooltipPosition.moveYAxisTooltip(e)}}}]),i}(),Lb=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w;var t=this.w;this.tConfig=t.config.tooltip,this.tooltipUtil=new Ib(this),this.tooltipLabels=new xA(this),this.tooltipPosition=new Pb(this),this.marker=new bA(this),this.intersect=new yA(this),this.axesTooltip=new vA(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!t.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return Oe(i,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var t=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=t.config.xaxis.tooltip.enabled&&t.globals.axisCharts,this.yaxisTooltips=t.config.yaxis.map(function(o,a){return!!(o.show&&o.tooltip.enabled&&t.globals.axisCharts)}),this.allTooltipSeriesGroups=[],t.globals.axisCharts||(this.showTooltipTitle=!1);var n=document.createElement("div");if(n.classList.add("apexcharts-tooltip"),t.config.tooltip.cssClass&&n.classList.add(t.config.tooltip.cssClass),n.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),t.globals.dom.elWrap.appendChild(n),t.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var r=new Da(this.ctx);this.xAxisTicksPositions=r.getXAxisTicksPositions()}if(!t.globals.comboCharts&&!this.tConfig.intersect&&t.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),t.config.markers.size!==0&&t.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),t.globals.collapsedSeries.length!==t.globals.series.length){this.dataPointsDividedHeight=t.globals.gridHeight/t.globals.dataPoints,this.dataPointsDividedWidth=t.globals.gridWidth/t.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||t.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,n.appendChild(this.tooltipTitle));var s=t.globals.series.length;(t.globals.xyCharts||t.globals.comboCharts)&&this.tConfig.shared&&(s=this.showOnIntersect?1:t.globals.series.length),this.legendLabels=t.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(s),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var t=this,n=this.w,r=[],s=this.getElTooltip(),o=function(l){var c=document.createElement("div");c.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(l)),c.style.order=n.config.tooltip.inverseOrder?e-l:l+1;var h=document.createElement("span");h.classList.add("apexcharts-tooltip-marker"),n.config.tooltip.fillSeriesColor?h.style.backgroundColor=n.globals.colors[l]:h.style.color=n.globals.colors[l];var u=n.config.markers.shape,d=u;Array.isArray(u)&&(d=u[l]),h.setAttribute("shape",d),c.appendChild(h);var f=document.createElement("div");f.classList.add("apexcharts-tooltip-text"),f.style.fontFamily=t.tConfig.style.fontFamily||n.config.chart.fontFamily,f.style.fontSize=t.tConfig.style.fontSize,["y","goals","z"].forEach(function(p){var m=document.createElement("div");m.classList.add("apexcharts-tooltip-".concat(p,"-group"));var b=document.createElement("span");b.classList.add("apexcharts-tooltip-text-".concat(p,"-label")),m.appendChild(b);var y=document.createElement("span");y.classList.add("apexcharts-tooltip-text-".concat(p,"-value")),m.appendChild(y),f.appendChild(m)}),c.appendChild(f),s.appendChild(c),r.push(c)},a=0;a<e;a++)o(a);return r}},{key:"addSVGEvents",value:function(){var e=this.w,t=e.config.chart.type,n=this.getElTooltip(),r=!(t!=="bar"&&t!=="candlestick"&&t!=="boxPlot"&&t!=="rangeBar"),s=t==="area"||t==="line"||t==="scatter"||t==="bubble"||t==="radar",o=e.globals.dom.Paper.node,a=this.getElGrid();a&&(this.seriesBound=a.getBoundingClientRect());var l,c=[],h=[],u={hoverArea:o,elGrid:a,tooltipEl:n,tooltipY:c,tooltipX:h,ttItems:this.ttItems};if(e.globals.axisCharts&&(s?l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):r?l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):t!=="heatmap"&&t!=="treemap"||(l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),l&&l.length))for(var d=0;d<l.length;d++)c.push(l[d].getAttribute("cy")),h.push(l[d].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||r&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([o],u);else if(r&&!e.globals.comboCharts||s&&this.showOnIntersect)this.addDatapointEventsListeners(u);else if(!e.globals.axisCharts||t==="heatmap"||t==="treemap"){var f=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(f,u)}if(this.showOnIntersect){var p=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");p.length>0&&this.addPathsEventListeners(p,u),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(u)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,t=this.getElTooltip(),n=t.getBoundingClientRect(),r=n.width+10,s=n.height+10,o=this.tConfig.fixed.offsetX,a=this.tConfig.fixed.offsetY,l=this.tConfig.fixed.position.toLowerCase();return l.indexOf("right")>-1&&(o=o+e.globals.svgWidth-r+10),l.indexOf("bottom")>-1&&(a=a+e.globals.svgHeight-s-10),t.style.left=o+"px",t.style.top=a+"px",{x:o,y:a,ttWidth:r,ttHeight:s}}},{key:"addDatapointEventsListeners",value:function(e){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(t,e)}},{key:"addPathsEventListeners",value:function(e,t){for(var n=this,r=function(o){var a={paths:e[o],tooltipEl:t.tooltipEl,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:t.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(l){return e[o].addEventListener(l,n.onSeriesHover.bind(n,a),{capture:!1,passive:!0})})},s=0;s<e.length;s++)r(s)}},{key:"onSeriesHover",value:function(e,t){var n=this,r=Date.now()-this.lastHoverTime;r>=20?this.seriesHover(e,t):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){n.seriesHover(e,t)},20-r))}},{key:"seriesHover",value:function(e,t){var n=this;this.lastHoverTime=Date.now();var r=[],s=this.w;s.config.chart.group&&(r=this.ctx.getGroupedCharts()),s.globals.axisCharts&&(s.globals.minX===-1/0&&s.globals.maxX===1/0||s.globals.dataPoints===0)||(r.length?r.forEach(function(o){var a=n.getElTooltip(o),l={paths:e.paths,tooltipEl:a,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:o.w.globals.tooltip.ttItems};o.w.globals.minX===n.w.globals.minX&&o.w.globals.maxX===n.w.globals.maxX&&o.w.globals.tooltip.seriesHoverByContext({chartCtx:o,ttCtx:o.w.globals.tooltip,opt:l,e:t})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:t}))}},{key:"seriesHoverByContext",value:function(e){var t=e.chartCtx,n=e.ttCtx,r=e.opt,s=e.e,o=t.w,a=this.getElTooltip(t);a&&(n.tooltipRect={x:0,y:0,ttWidth:a.getBoundingClientRect().width,ttHeight:a.getBoundingClientRect().height},n.e=s,n.tooltipUtil.hasBars()&&!o.globals.comboCharts&&!n.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new ci(t).toggleSeriesOnHover(s,s.target.parentNode),n.fixedTooltip&&n.drawFixedTooltipRect(),o.globals.axisCharts?n.axisChartsTooltips({e:s,opt:r,tooltipRect:n.tooltipRect}):n.nonAxisChartsTooltips({e:s,opt:r,tooltipRect:n.tooltipRect}))}},{key:"axisChartsTooltips",value:function(e){var t,n,r=e.e,s=e.opt,o=this.w,a=s.elGrid.getBoundingClientRect(),l=r.type==="touchmove"?r.touches[0].clientX:r.clientX,c=r.type==="touchmove"?r.touches[0].clientY:r.clientY;if(this.clientY=c,this.clientX=l,o.globals.capturedSeriesIndex=-1,o.globals.capturedDataPointIndex=-1,c<a.top||c>a.top+a.height)this.handleMouseOut(s);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!o.config.tooltip.shared){var h=parseInt(s.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(h)<0)return void this.handleMouseOut(s)}var u=this.getElTooltip(),d=this.getElXCrosshairs(),f=[];o.config.chart.group&&(f=this.ctx.getSyncedCharts());var p=o.globals.xyCharts||o.config.chart.type==="bar"&&!o.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||o.globals.comboCharts&&this.tooltipUtil.hasBars();if(r.type==="mousemove"||r.type==="touchmove"||r.type==="mouseup"){if(o.globals.collapsedSeries.length+o.globals.ancillaryCollapsedSeries.length===o.globals.series.length)return;d!==null&&d.classList.add("apexcharts-active");var m=this.yaxisTooltips.filter(function(w){return w===!0});if(this.ycrosshairs!==null&&m.length&&this.ycrosshairs.classList.add("apexcharts-active"),p&&!this.showOnIntersect||f.length>1)this.handleStickyTooltip(r,l,c,s);else if(o.config.chart.type==="heatmap"||o.config.chart.type==="treemap"){var b=this.intersect.handleHeatTreeTooltip({e:r,opt:s,x:t,y:n,type:o.config.chart.type});t=b.x,n=b.y,u.style.left=t+"px",u.style.top=n+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:r,opt:s}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:r,opt:s,x:t,y:n});if(this.yaxisTooltips.length)for(var y=0;y<o.config.yaxis.length;y++)this.axesTooltip.drawYaxisTooltipText(y,c,this.xyRatios);o.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),s.tooltipEl.classList.add("apexcharts-active")}else r.type!=="mouseout"&&r.type!=="touchend"||this.handleMouseOut(s)}}},{key:"nonAxisChartsTooltips",value:function(e){var t=e.e,n=e.opt,r=e.tooltipRect,s=this.w,o=n.paths.getAttribute("rel"),a=this.getElTooltip(),l=s.globals.dom.elWrap.getBoundingClientRect();if(t.type==="mousemove"||t.type==="touchmove"){s.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),a.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:parseInt(o,10)-1,shared:!1});var c=s.globals.clientX-l.left-r.ttWidth/2,h=s.globals.clientY-l.top-r.ttHeight-10;if(a.style.left=c+"px",a.style.top=h+"px",s.config.legend.tooltipHoverFormatter){var u=o-1,d=(0,s.config.legend.tooltipHoverFormatter)(this.legendLabels[u].getAttribute("data:default-text"),{seriesIndex:u,dataPointIndex:u,w:s});this.legendLabels[u].innerHTML=d}}else t.type!=="mouseout"&&t.type!=="touchend"||(a.classList.remove("apexcharts-active"),s.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),s.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(f){var p=f.getAttribute("data:default-text");f.innerHTML=decodeURIComponent(p)}))}},{key:"handleStickyTooltip",value:function(e,t,n,r){var s=this.w,o=this.tooltipUtil.getNearestValues({context:this,hoverArea:r.hoverArea,elGrid:r.elGrid,clientX:t,clientY:n}),a=o.j,l=o.capturedSeries;s.globals.collapsedSeriesIndices.includes(l)&&(l=null);var c=r.elGrid.getBoundingClientRect();if(o.hoverX<0||o.hoverX>c.width)this.handleMouseOut(r);else if(l!==null)this.handleStickyCapturedSeries(e,l,r,a);else if(this.tooltipUtil.isXoverlap(a)||s.globals.isBarHorizontal){var h=s.globals.series.findIndex(function(u,d){return!s.globals.collapsedSeriesIndices.includes(d)});this.create(e,this,h,a,r.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(e,t,n,r){var s=this.w;if(!this.tConfig.shared&&s.globals.series[t][r]===null)return void this.handleMouseOut(n);if(s.globals.series[t][r]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(r)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,t,r,n.ttItems):this.create(e,this,t,r,n.ttItems,!1);else if(this.tooltipUtil.isXoverlap(r)){var o=s.globals.series.findIndex(function(a,l){return!s.globals.collapsedSeriesIndices.includes(l)});this.create(e,this,o,r,n.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,t=new oe(this.ctx),n=e.globals.dom.Paper.find(".apexcharts-bar-area"),r=0;r<n.length;r++)t.pathMouseLeave(n[r])}},{key:"handleMouseOut",value:function(e){var t=this.w,n=this.getElXCrosshairs();if(t.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),t.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),n!==null&&n.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var r=0;r<this.yaxisTTEls.length;r++)this.yaxisTTEls[r].classList.remove("apexcharts-active")}t.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(s){var o=s.getAttribute("data:default-text");s.innerHTML=decodeURIComponent(o)})}},{key:"markerClick",value:function(e,t,n){var r=this.w;typeof r.config.chart.events.markerClick=="function"&&r.config.chart.events.markerClick(e,this.ctx,{seriesIndex:t,dataPointIndex:n,w:r}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:t,dataPointIndex:n,w:r}])}},{key:"create",value:function(e,t,n,r,s){var o,a,l,c,h,u,d,f,p,m,b,y,w,C,T,S,E=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,M=this.w,I=t;e.type==="mouseup"&&this.markerClick(e,n,r),E===null&&(E=this.tConfig.shared);var P=this.tooltipUtil.hasMarkers(n),N=this.tooltipUtil.getElBars(),D=function(){M.globals.markers.largestSize>0?I.marker.enlargePoints(r):I.tooltipPosition.moveDynamicPointsOnHover(r)};if(M.config.legend.tooltipHoverFormatter){var _=M.config.legend.tooltipHoverFormatter,$=Array.from(this.legendLabels);$.forEach(function(st){var Ge=st.getAttribute("data:default-text");st.innerHTML=decodeURIComponent(Ge)});for(var U=0;U<$.length;U++){var re=$[U],ne=parseInt(re.getAttribute("i"),10),ie=decodeURIComponent(re.getAttribute("data:default-text")),ae=_(ie,{seriesIndex:E?ne:n,dataPointIndex:r,w:M});if(E)re.innerHTML=M.globals.collapsedSeriesIndices.indexOf(ne)<0?ae:ie;else if(re.innerHTML=ne===n?ae:ie,n===ne)break}}var Me=xe(xe({ttItems:s,i:n,j:r},((o=M.globals.seriesRange)===null||o===void 0||(a=o[n])===null||a===void 0||(l=a[r])===null||l===void 0||(c=l.y[0])===null||c===void 0?void 0:c.y1)!==void 0&&{y1:(h=M.globals.seriesRange)===null||h===void 0||(u=h[n])===null||u===void 0||(d=u[r])===null||d===void 0||(f=d.y[0])===null||f===void 0?void 0:f.y1}),((p=M.globals.seriesRange)===null||p===void 0||(m=p[n])===null||m===void 0||(b=m[r])===null||b===void 0||(y=b.y[0])===null||y===void 0?void 0:y.y2)!==void 0&&{y2:(w=M.globals.seriesRange)===null||w===void 0||(C=w[n])===null||C===void 0||(T=C[r])===null||T===void 0||(S=T.y[0])===null||S===void 0?void 0:S.y2});if(E){if(I.tooltipLabels.drawSeriesTexts(xe(xe({},Me),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),P)D();else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(N),this.barSeriesHeight>0)){var Re=new oe(this.ctx),Ne=M.globals.dom.Paper.find(".apexcharts-bar-area[j='".concat(r,"']"));this.deactivateHoverFilter(),I.tooltipPosition.moveStickyTooltipOverBars(r,n),I.tooltipUtil.getAllMarkers(!0).length&&D();for(var Qe=0;Qe<Ne.length;Qe++)Re.pathMouseEnter(Ne[Qe])}}else I.tooltipLabels.drawSeriesTexts(xe({shared:!1},Me)),this.tooltipUtil.hasBars()&&I.tooltipPosition.moveStickyTooltipOverBars(r,n),P&&I.tooltipPosition.moveMarkers(n,r)}}]),i}(),wA=function(){function i(e){Ee(this,i),this.w=e.w,this.barCtx=e,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return Oe(i,[{key:"handleBarDataLabels",value:function(e){var t,n,r=e.x,s=e.y,o=e.y1,a=e.y2,l=e.i,c=e.j,h=e.realIndex,u=e.columnGroupIndex,d=e.series,f=e.barHeight,p=e.barWidth,m=e.barXPosition,b=e.barYPosition,y=e.visibleSeries,w=e.renderedPath,C=this.w,T=new oe(this.barCtx.ctx),S=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[h]:this.barCtx.strokeWidth;C.globals.isXNumeric&&!C.globals.isBarHorizontal?(t=r+parseFloat(p*(y+1)),n=s+parseFloat(f*(y+1))-S):(t=r+parseFloat(p*y),n=s+parseFloat(f*y));var E,M=null,I=r,P=s,N={},D=C.config.dataLabels,_=this.barCtx.barOptions.dataLabels,$=this.barCtx.barOptions.dataLabels.total;b!==void 0&&this.barCtx.isRangeBar&&(n=b,P=b),m!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(t=m,I=m);var U=D.offsetX,re=D.offsetY,ne={width:0,height:0};if(C.config.dataLabels.enabled){var ie=C.globals.series[l][c];ne=T.getTextRects(C.config.dataLabels.formatter?C.config.dataLabels.formatter(ie,xe(xe({},C),{},{seriesIndex:l,dataPointIndex:c,w:C})):C.globals.yLabelFormatters[0](ie),parseFloat(D.style.fontSize))}var ae={x:r,y:s,i:l,j:c,realIndex:h,columnGroupIndex:u,renderedPath:w,bcx:t,bcy:n,barHeight:f,barWidth:p,textRects:ne,strokeWidth:S,dataLabelsX:I,dataLabelsY:P,dataLabelsConfig:D,barDataLabelsConfig:_,barTotalDataLabelsConfig:$,offX:U,offY:re};return N=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(ae):this.calculateColumnsDataLabelsPosition(ae),w.attr({cy:N.bcy,cx:N.bcx,j:c,val:C.globals.series[l][c],barHeight:f,barWidth:p}),E=this.drawCalculatedDataLabels({x:N.dataLabelsX,y:N.dataLabelsY,val:this.barCtx.isRangeBar?[o,a]:C.config.chart.stackType==="100%"?d[h][c]:C.globals.series[h][c],i:h,j:c,barWidth:p,barHeight:f,textRects:ne,dataLabelsConfig:D}),C.config.chart.stacked&&$.enabled&&(M=this.drawTotalDataLabels({x:N.totalDataLabelsX,y:N.totalDataLabelsY,barWidth:p,barHeight:f,realIndex:h,textAnchor:N.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:h,j:c}),dataLabelsConfig:D,barTotalDataLabelsConfig:$})),{dataLabels:E,totalDataLabels:M}}},{key:"getStackedTotalDataLabel",value:function(e){var t=e.realIndex,n=e.j,r=this.w,s=this.barCtx.stackedSeriesTotals[n];return this.totalFormatter&&(s=this.totalFormatter(s,xe(xe({},r),{},{seriesIndex:t,dataPointIndex:n,w:r}))),s}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var t=this,n=this.w,r=e.i,s=e.j,o=e.realIndex;e.columnGroupIndex;var a,l,c=e.y,h=e.bcx,u=e.barWidth,d=e.barHeight,f=e.textRects,p=e.dataLabelsX,m=e.dataLabelsY,b=e.dataLabelsConfig,y=e.barDataLabelsConfig,w=e.barTotalDataLabelsConfig,C=e.strokeWidth,T=e.offX,S=e.offY,E=h;d=Math.abs(d);var M=n.config.plotOptions.bar.dataLabels.orientation==="vertical",I=this.barCtx.barHelpers.getZeroValueEncounters({i:r,j:s}).zeroEncounters;h-=C/2;var P=n.globals.gridWidth/n.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?p+=u/2:(p=n.globals.isXNumeric?h-u/2+T:h-P+u/2+T,!n.config.chart.stacked&&I>0&&n.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(p-=u*I)),M&&(p=p+f.height/2-C/2-2);var N=n.globals.series[r][s]<0,D=c;switch(this.barCtx.isReversed&&(D=c+(N?d:-d)),y.position){case"center":m=M?N?D-d/2+S:D+d/2-S:N?D-d/2+f.height/2+S:D+d/2+f.height/2-S;break;case"bottom":m=M?N?D-d+S:D+d-S:N?D-d+f.height+C+S:D+d-f.height/2+C-S;break;case"top":m=M?N?D+S:D-S:N?D-f.height/2-S:D+f.height+S}var _=D;if(n.globals.seriesGroups.forEach(function(re){var ne;(ne=t.barCtx[re.join(",")])===null||ne===void 0||ne.prevY.forEach(function(ie){_=N?Math.max(ie[s],_):Math.min(ie[s],_)})}),this.barCtx.lastActiveBarSerieIndex===o&&w.enabled){var $=new oe(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:o,j:s}),b.fontSize);a=N?_-$.height/2-S-w.offsetY+18:_+$.height+S+w.offsetY-18;var U=P;l=E+(n.globals.isXNumeric?-u*n.globals.barGroups.length/2:n.globals.barGroups.length*u/2-(n.globals.barGroups.length-1)*u-U)+w.offsetX}return n.config.chart.stacked||(m<0?m=0+C:m+f.height/3>n.globals.gridHeight&&(m=n.globals.gridHeight-C)),{bcx:h,bcy:c,dataLabelsX:p,dataLabelsY:m,totalDataLabelsX:l,totalDataLabelsY:a,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var t=this,n=this.w,r=e.x,s=e.i,o=e.j,a=e.realIndex,l=e.bcy,c=e.barHeight,h=e.barWidth,u=e.textRects,d=e.dataLabelsX,f=e.strokeWidth,p=e.dataLabelsConfig,m=e.barDataLabelsConfig,b=e.barTotalDataLabelsConfig,y=e.offX,w=e.offY,C=n.globals.gridHeight/n.globals.dataPoints,T=this.barCtx.barHelpers.getZeroValueEncounters({i:s,j:o}).zeroEncounters;h=Math.abs(h);var S,E,M=l-(this.barCtx.isRangeBar?0:C)+c/2+u.height/2+w-3;!n.config.chart.stacked&&T>0&&n.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(M-=c*T);var I="start",P=n.globals.series[s][o]<0,N=r;switch(this.barCtx.isReversed&&(N=r+(P?-h:h),I=P?"start":"end"),m.position){case"center":d=P?N+h/2-y:Math.max(u.width/2,N-h/2)+y;break;case"bottom":d=P?N+h-f-y:N-h+f+y;break;case"top":d=P?N-f-y:N-f+y}var D=N;if(n.globals.seriesGroups.forEach(function($){var U;(U=t.barCtx[$.join(",")])===null||U===void 0||U.prevX.forEach(function(re){D=P?Math.min(re[o],D):Math.max(re[o],D)})}),this.barCtx.lastActiveBarSerieIndex===a&&b.enabled){var _=new oe(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:a,j:o}),p.fontSize);P?(S=D-f-y-b.offsetX,I="end"):S=D+y+b.offsetX+(this.barCtx.isReversed?-(h+f):f),E=M-u.height/2+_.height/2+b.offsetY+f,n.globals.barGroups.length>1&&(E-=n.globals.barGroups.length/2*(c/2))}return n.config.chart.stacked||(p.textAnchor==="start"?d-u.width<0?d=P?u.width+f:f:d+u.width>n.globals.gridWidth&&(d=P?n.globals.gridWidth-f:n.globals.gridWidth-u.width-f):p.textAnchor==="middle"?d-u.width/2<0?d=u.width/2+f:d+u.width/2>n.globals.gridWidth&&(d=n.globals.gridWidth-u.width/2-f):p.textAnchor==="end"&&(d<1?d=u.width+f:d+1>n.globals.gridWidth&&(d=n.globals.gridWidth-u.width-f))),{bcx:r,bcy:l,dataLabelsX:d,dataLabelsY:M,totalDataLabelsX:S,totalDataLabelsY:E,totalDataLabelsAnchor:I}}},{key:"drawCalculatedDataLabels",value:function(e){var t=e.x,n=e.y,r=e.val,s=e.i,o=e.j,a=e.textRects,l=e.barHeight,c=e.barWidth,h=e.dataLabelsConfig,u=this.w,d="rotate(0)";u.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(d="rotate(-90, ".concat(t,", ").concat(n,")"));var f=new mo(this.barCtx.ctx),p=new oe(this.barCtx.ctx),m=h.formatter,b=null,y=u.globals.collapsedSeriesIndices.indexOf(s)>-1;if(h.enabled&&!y){b=p.group({class:"apexcharts-data-labels",transform:d});var w="";r!==void 0&&(w=m(r,xe(xe({},u),{},{seriesIndex:s,dataPointIndex:o,w:u}))),!r&&u.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(w="");var C=u.globals.series[s][o]<0,T=u.config.plotOptions.bar.dataLabels.position;u.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(T==="top"&&(h.textAnchor=C?"end":"start"),T==="center"&&(h.textAnchor="middle"),T==="bottom"&&(h.textAnchor=C?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&c<p.getTextRects(w,parseFloat(h.style.fontSize)).width&&(w=""),u.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?a.width/1.6>Math.abs(c)&&(w=""):a.height/1.6>Math.abs(l)&&(w=""));var S=xe({},h);this.barCtx.isHorizontal&&r<0&&(h.textAnchor==="start"?S.textAnchor="end":h.textAnchor==="end"&&(S.textAnchor="start")),f.plotDataLabelsText({x:t,y:n,text:w,i:s,j:o,parent:b,dataLabelsConfig:S,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return b}},{key:"drawTotalDataLabels",value:function(e){var t=e.x,n=e.y,r=e.val,s=e.realIndex,o=e.textAnchor,a=e.barTotalDataLabelsConfig;this.w;var l,c=new oe(this.barCtx.ctx);return a.enabled&&t!==void 0&&n!==void 0&&this.barCtx.lastActiveBarSerieIndex===s&&(l=c.drawText({x:t,y:n,foreColor:a.style.color,text:r,textAnchor:o,fontFamily:a.style.fontFamily,fontSize:a.style.fontSize,fontWeight:a.style.fontWeight})),l}}]),i}(),kA=function(){function i(e){Ee(this,i),this.w=e.w,this.barCtx=e}return Oe(i,[{key:"initVariables",value:function(e){var t=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var n=0;n<e.length;n++)if(e[n].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[n].length),t.globals.isXNumeric)for(var r=0;r<e[n].length;r++)t.globals.seriesX[n][r]>t.globals.minX&&t.globals.seriesX[n][r]<t.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=t.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(t.globals.series),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],t.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(e){var t,n,r,s,o,a,l,c,h=this.w,u=h.globals.dataPoints;this.barCtx.isRangeBar&&(u=h.globals.labels.length);var d=this.barCtx.seriesLen;if(h.config.plotOptions.bar.rangeBarGroupRows&&(d=1),this.barCtx.isHorizontal)o=(r=h.globals.gridHeight/u)/d,h.globals.isXNumeric&&(o=(r=h.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),o=o*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(o=parseInt(this.barCtx.barOptions.barHeight,10)),c=this.barCtx.baseLineInvertedY+h.globals.padHorizontal+(this.barCtx.isReversed?h.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(c=h.globals.gridWidth/2),n=(r-o*this.barCtx.seriesLen)/2;else{if(s=h.globals.gridWidth/this.barCtx.visibleItems,h.config.xaxis.convertedCatToNumeric&&(s=h.globals.gridWidth/h.globals.dataPoints),a=s/d*parseInt(this.barCtx.barOptions.columnWidth,10)/100,h.globals.isXNumeric){var f=this.barCtx.xRatio;h.globals.minXDiff&&h.globals.minXDiff!==.5&&h.globals.minXDiff/f>0&&(s=h.globals.minXDiff/f),(a=s/d*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(a=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(a=parseInt(this.barCtx.barOptions.columnWidth,10)),l=h.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?h.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),h.globals.isXNumeric?t=this.barCtx.getBarXForNumericXAxis({x:t,j:0,realIndex:e,barWidth:a}).x:t=h.globals.padHorizontal+H.noExponents(s-a*this.barCtx.seriesLen)/2}return h.globals.barHeight=o,h.globals.barWidth=a,{x:t,y:n,yDivision:r,xDivision:s,barHeight:o,barWidth:a,zeroH:l,zeroW:c}}},{key:"initializeStackedPrevVars",value:function(e){e.w.globals.seriesGroups.forEach(function(t){e[t]||(e[t]={}),e[t].prevY=[],e[t].prevX=[],e[t].prevYF=[],e[t].prevXF=[],e[t].prevYVal=[],e[t].prevXVal=[]})}},{key:"initializeStackedXYVars",value:function(e){e.w.globals.seriesGroups.forEach(function(t){e[t]||(e[t]={}),e[t].xArrj=[],e[t].xArrjF=[],e[t].xArrjVal=[],e[t].yArrj=[],e[t].yArrjF=[],e[t].yArrjVal=[]})}},{key:"getPathFillColor",value:function(e,t,n,r){var s,o,a,l,c=this.w,h=this.barCtx.ctx.fill,u=null,d=this.barCtx.barOptions.distributed?n:t,f=!1;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(p){e[t][n]>=p.from&&e[t][n]<=p.to&&(u=p.color,f=!0)}),{color:h.fillPath({seriesNumber:this.barCtx.barOptions.distributed?d:r,dataPointIndex:n,color:u,value:e[t][n],fillConfig:(s=c.config.series[t].data[n])===null||s===void 0?void 0:s.fill,fillType:(o=c.config.series[t].data[n])!==null&&o!==void 0&&(a=o.fill)!==null&&a!==void 0&&a.type?(l=c.config.series[t].data[n])===null||l===void 0?void 0:l.fill.type:Array.isArray(c.config.fill.type)?c.config.fill.type[r]:c.config.fill.type}),useRangeColor:f}}},{key:"getStrokeWidth",value:function(e,t,n){var r=0,s=this.w;return this.barCtx.series[e][t]?this.barCtx.isNullValue=!1:this.barCtx.isNullValue=!0,s.config.stroke.show&&(this.barCtx.isNullValue||(r=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[n]:this.barCtx.strokeWidth)),r}},{key:"createBorderRadiusArr",value:function(e){var t,n=this.w,r=!this.w.config.chart.stacked||n.config.plotOptions.bar.borderRadius<=0,s=e.length,o=0|((t=e[0])===null||t===void 0?void 0:t.length),a=Array.from({length:s},function(){return Array(o).fill(r?"top":"none")});if(r)return a;for(var l=0;l<o;l++){for(var c=[],h=[],u=0,d=0;d<s;d++){var f=e[d][l];f>0?(c.push(d),u++):f<0&&(h.push(d),u++)}if(c.length>0&&h.length===0)if(c.length===1)a[c[0]][l]="both";else{var p,m=c[0],b=c[c.length-1],y=ya(c);try{for(y.s();!(p=y.n()).done;){var w=p.value;a[w][l]=w===m?"bottom":w===b?"top":"none"}}catch(ne){y.e(ne)}finally{y.f()}}else if(h.length>0&&c.length===0)if(h.length===1)a[h[0]][l]="both";else{var C,T=Math.max.apply(Math,h),S=Math.min.apply(Math,h),E=ya(h);try{for(E.s();!(C=E.n()).done;){var M=C.value;a[M][l]=M===T?"bottom":M===S?"top":"none"}}catch(ne){E.e(ne)}finally{E.f()}}else if(c.length>0&&h.length>0){var I,P=c[c.length-1],N=ya(c);try{for(N.s();!(I=N.n()).done;){var D=I.value;a[D][l]=D===P?"top":"none"}}catch(ne){N.e(ne)}finally{N.f()}var _,$=Math.max.apply(Math,h),U=ya(h);try{for(U.s();!(_=U.n()).done;){var re=_.value;a[re][l]=re===$?"bottom":"none"}}catch(ne){U.e(ne)}finally{U.f()}}else u===1&&(a[c[0]||h[0]][l]="both")}return a}},{key:"barBackground",value:function(e){var t=e.j,n=e.i,r=e.x1,s=e.x2,o=e.y1,a=e.y2,l=e.elSeries,c=this.w,h=new oe(this.barCtx.ctx),u=new ci(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&u===n){t>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(t%=this.barCtx.barOptions.colors.backgroundBarColors.length);var d=this.barCtx.barOptions.colors.backgroundBarColors[t],f=h.drawRect(r!==void 0?r:0,o!==void 0?o:0,s!==void 0?s:c.globals.gridWidth,a!==void 0?a:c.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,d,this.barCtx.barOptions.colors.backgroundBarOpacity);l.add(f),f.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var t,n=e.barWidth,r=e.barXPosition,s=e.y1,o=e.y2,a=e.strokeWidth,l=e.isReversed,c=e.series,h=e.seriesGroup,u=e.realIndex,d=e.i,f=e.j,p=e.w,m=new oe(this.barCtx.ctx);(a=Array.isArray(a)?a[u]:a)||(a=0);var b=n,y=r;(t=p.config.series[u].data[f])!==null&&t!==void 0&&t.columnWidthOffset&&(y=r-p.config.series[u].data[f].columnWidthOffset/2,b=n+p.config.series[u].data[f].columnWidthOffset);var w=a/2,C=y+w,T=y+b-w,S=(c[d][f]>=0?1:-1)*(l?-1:1);s+=.001-w*S,o+=.001+w*S;var E=m.move(C,s),M=m.move(C,s),I=m.line(T,s);if(p.globals.previousPaths.length>0&&(M=this.barCtx.getPreviousPath(u,f,!1)),E=E+m.line(C,o)+m.line(T,o)+I+(p.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[u][f]==="both"?" Z":" z"),M=M+m.line(C,s)+I+I+I+I+I+m.line(C,s)+(p.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[u][f]==="both"?" Z":" z"),this.arrBorderRadius[u][f]!=="none"&&(E=m.roundPathCorners(E,p.config.plotOptions.bar.borderRadius)),p.config.chart.stacked){var P=this.barCtx;(P=this.barCtx[h]).yArrj.push(o-w*S),P.yArrjF.push(Math.abs(s-o+a*S)),P.yArrjVal.push(this.barCtx.series[d][f])}return{pathTo:E,pathFrom:M}}},{key:"getBarpaths",value:function(e){var t,n=e.barYPosition,r=e.barHeight,s=e.x1,o=e.x2,a=e.strokeWidth,l=e.isReversed,c=e.series,h=e.seriesGroup,u=e.realIndex,d=e.i,f=e.j,p=e.w,m=new oe(this.barCtx.ctx);(a=Array.isArray(a)?a[u]:a)||(a=0);var b=n,y=r;(t=p.config.series[u].data[f])!==null&&t!==void 0&&t.barHeightOffset&&(b=n-p.config.series[u].data[f].barHeightOffset/2,y=r+p.config.series[u].data[f].barHeightOffset);var w=a/2,C=b+w,T=b+y-w,S=(c[d][f]>=0?1:-1)*(l?-1:1);s+=.001+w*S,o+=.001-w*S;var E=m.move(s,C),M=m.move(s,C);p.globals.previousPaths.length>0&&(M=this.barCtx.getPreviousPath(u,f,!1));var I=m.line(s,T);if(E=E+m.line(o,C)+m.line(o,T)+I+(p.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[u][f]==="both"?" Z":" z"),M=M+m.line(s,C)+I+I+I+I+I+m.line(s,C)+(p.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[u][f]==="both"?" Z":" z"),this.arrBorderRadius[u][f]!=="none"&&(E=m.roundPathCorners(E,p.config.plotOptions.bar.borderRadius)),p.config.chart.stacked){var P=this.barCtx;(P=this.barCtx[h]).xArrj.push(o+w*S),P.xArrjF.push(Math.abs(s-o-a*S)),P.xArrjVal.push(this.barCtx.series[d][f])}return{pathTo:E,pathFrom:M}}},{key:"checkZeroSeries",value:function(e){for(var t=e.series,n=this.w,r=0;r<t.length;r++){for(var s=0,o=0;o<t[n.globals.maxValsInArrayIndex].length;o++)s+=t[r][o];s===0&&this.barCtx.zeroSerieses.push(r)}}},{key:"getXForValue",value:function(e,t){var n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?t:null;return e!=null&&(n=t+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),n}},{key:"getYForValue",value:function(e,t,n){var r=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?t:null;return e!=null&&(r=t-e/this.barCtx.yRatio[n]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[n]:0)),r}},{key:"getGoalValues",value:function(e,t,n,r,s,o){var a=this,l=this.w,c=[],h=function(f,p){var m;c.push((ic(m={},e,e==="x"?a.getXForValue(f,t,!1):a.getYForValue(f,n,o,!1)),ic(m,"attrs",p),m))};if(l.globals.seriesGoals[r]&&l.globals.seriesGoals[r][s]&&Array.isArray(l.globals.seriesGoals[r][s])&&l.globals.seriesGoals[r][s].forEach(function(f){h(f.value,f)}),this.barCtx.barOptions.isDumbbell&&l.globals.seriesRange.length){var u=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:l.globals.colors,d={strokeHeight:e==="x"?0:l.globals.markers.size[r],strokeWidth:e==="x"?l.globals.markers.size[r]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(u[r])?u[r][0]:u[r]};h(l.globals.seriesRangeStart[r][s],d),h(l.globals.seriesRangeEnd[r][s],xe(xe({},d),{},{strokeColor:Array.isArray(u[r])?u[r][1]:u[r]}))}return c}},{key:"drawGoalLine",value:function(e){var t=e.barXPosition,n=e.barYPosition,r=e.goalX,s=e.goalY,o=e.barWidth,a=e.barHeight,l=new oe(this.barCtx.ctx),c=l.group({className:"apexcharts-bar-goals-groups"});c.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:c.node}),c.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var h=null;return this.barCtx.isHorizontal?Array.isArray(r)&&r.forEach(function(u){if(u.x>=-1&&u.x<=l.w.globals.gridWidth+1){var d=u.attrs.strokeHeight!==void 0?u.attrs.strokeHeight:a/2,f=n+d+a/2;h=l.drawLine(u.x,f-2*d,u.x,f,u.attrs.strokeColor?u.attrs.strokeColor:void 0,u.attrs.strokeDashArray,u.attrs.strokeWidth?u.attrs.strokeWidth:2,u.attrs.strokeLineCap),c.add(h)}}):Array.isArray(s)&&s.forEach(function(u){if(u.y>=-1&&u.y<=l.w.globals.gridHeight+1){var d=u.attrs.strokeWidth!==void 0?u.attrs.strokeWidth:o/2,f=t+d+o/2;h=l.drawLine(f-2*d,u.y,f,u.y,u.attrs.strokeColor?u.attrs.strokeColor:void 0,u.attrs.strokeDashArray,u.attrs.strokeHeight?u.attrs.strokeHeight:2,u.attrs.strokeLineCap),c.add(h)}}),c}},{key:"drawBarShadow",value:function(e){var t=e.prevPaths,n=e.currPaths,r=e.color,s=this.w,o=t.x,a=t.x1,l=t.barYPosition,c=n.x,h=n.x1,u=n.barYPosition,d=l+n.barHeight,f=new oe(this.barCtx.ctx),p=new H,m=f.move(a,d)+f.line(o,d)+f.line(c,u)+f.line(h,u)+f.line(a,d)+(s.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return f.drawPath({d:m,fill:p.shadeColor(.5,H.rgb2hex(r)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadow apexcharts-decoration-element"})}},{key:"getZeroValueEncounters",value:function(e){var t,n=e.i,r=e.j,s=this.w,o=0,a=0;return(s.config.plotOptions.bar.horizontal?s.globals.series.map(function(l,c){return c}):((t=s.globals.columnSeries)===null||t===void 0?void 0:t.i.map(function(l){return l}))||[]).forEach(function(l){var c=s.globals.seriesPercent[l][r];c&&o++,l<n&&c===0&&a++}),{nonZeroColumns:o,zeroEncounters:a}}},{key:"getGroupIndex",value:function(e){var t=this.w,n=t.globals.seriesGroups.findIndex(function(o){return o.indexOf(t.globals.seriesNames[e])>-1}),r=this.barCtx.columnGroupIndices,s=r.indexOf(n);return s<0&&(r.push(n),s=r.length-1),{groupIndex:n,columnGroupIndex:s}}}]),i}(),xo=function(){function i(e,t){Ee(this,i),this.ctx=e,this.w=e.w;var n=this.w;this.barOptions=n.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=n.config.stroke.width,this.isNullValue=!1,this.isRangeBar=n.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!n.globals.isBarHorizontal&&n.globals.seriesRange.length&&n.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=t,this.xyRatios!==null&&(this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.invertedXRatio=t.invertedXRatio,this.invertedYRatio=t.invertedYRatio,this.baseLineY=t.baseLineY,this.baseLineInvertedY=t.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var r=new ci(this.ctx);this.lastActiveBarSerieIndex=r.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var s=r.getBarSeriesIndices(),o=new Bt(this.ctx);this.stackedSeriesTotals=o.getStackedSeriesTotals(this.w.config.series.map(function(a,l){return s.indexOf(l)===-1?l:-1}).filter(function(a){return a!==-1})),this.barHelpers=new kA(this)}return Oe(i,[{key:"draw",value:function(e,t){var n=this.w,r=new oe(this.ctx),s=new Bt(this.ctx,n);e=s.getLogSeries(e),this.series=e,this.yRatio=s.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var o=r.group({class:"apexcharts-bar-series apexcharts-plot-series"});n.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var a=0,l=0;a<e.length;a++,l++){var c,h,u,d,f=void 0,p=void 0,m=[],b=[],y=n.globals.comboCharts?t[a]:a,w=this.barHelpers.getGroupIndex(y).columnGroupIndex,C=r.group({class:"apexcharts-series",rel:a+1,seriesName:H.escapeString(n.globals.seriesNames[y]),"data:realIndex":y});this.ctx.series.addCollapsedClassToSeries(C,y),e[a].length>0&&(this.visibleI=this.visibleI+1);var T=0,S=0;this.yRatio.length>1&&(this.yaxisIndex=n.globals.seriesYAxisReverseMap[y],this.translationsIndex=y);var E=this.translationsIndex;this.isReversed=n.config.yaxis[this.yaxisIndex]&&n.config.yaxis[this.yaxisIndex].reversed;var M=this.barHelpers.initialPositions(y);p=M.y,T=M.barHeight,h=M.yDivision,d=M.zeroW,f=M.x,S=M.barWidth,c=M.xDivision,u=M.zeroH,this.isHorizontal||b.push(f+S/2);var I=r.group({class:"apexcharts-datalabels","data:realIndex":y});n.globals.delayedElements.push({el:I.node}),I.node.classList.add("apexcharts-element-hidden");var P=r.group({class:"apexcharts-bar-goals-markers"}),N=r.group({class:"apexcharts-bar-shadows"});n.globals.delayedElements.push({el:N.node}),N.node.classList.add("apexcharts-element-hidden");for(var D=0;D<e[a].length;D++){var _=this.barHelpers.getStrokeWidth(a,D,y),$=null,U={indexes:{i:a,j:D,realIndex:y,translationsIndex:E,bc:l},x:f,y:p,strokeWidth:_,elSeries:C};this.isHorizontal?($=this.drawBarPaths(xe(xe({},U),{},{barHeight:T,zeroW:d,yDivision:h})),S=this.series[a][D]/this.invertedYRatio):($=this.drawColumnPaths(xe(xe({},U),{},{xDivision:c,barWidth:S,zeroH:u})),T=this.series[a][D]/this.yRatio[E]);var re=this.barHelpers.getPathFillColor(e,a,D,y);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&D>0){var ne,ie=this.barHelpers.drawBarShadow({color:typeof re.color=="string"&&((ne=re.color)===null||ne===void 0?void 0:ne.indexOf("url"))===-1?re.color:H.hexToRgba(n.globals.colors[a]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:$});N.add(ie),n.config.chart.dropShadow.enabled&&new un(this.ctx).dropShadow(ie,n.config.chart.dropShadow,y)}this.pathArr.push($);var ae=this.barHelpers.drawGoalLine({barXPosition:$.barXPosition,barYPosition:$.barYPosition,goalX:$.goalX,goalY:$.goalY,barHeight:T,barWidth:S});ae&&P.add(ae),p=$.y,f=$.x,D>0&&b.push(f+S/2),m.push(p),this.renderSeries(xe(xe({realIndex:y,pathFill:re.color},re.useRangeColor?{lineFill:re.color}:{}),{},{j:D,i:a,columnGroupIndex:w,pathFrom:$.pathFrom,pathTo:$.pathTo,strokeWidth:_,elSeries:C,x:f,y:p,series:e,barHeight:Math.abs($.barHeight?$.barHeight:T),barWidth:Math.abs($.barWidth?$.barWidth:S),elDataLabelsWrap:I,elGoalsMarkers:P,elBarShadows:N,visibleSeries:this.visibleI,type:"bar"}))}n.globals.seriesXvalues[y]=b,n.globals.seriesYvalues[y]=m,o.add(C)}return o}},{key:"renderSeries",value:function(e){var t=e.realIndex,n=e.pathFill,r=e.lineFill,s=e.j,o=e.i,a=e.columnGroupIndex,l=e.pathFrom,c=e.pathTo,h=e.strokeWidth,u=e.elSeries,d=e.x,f=e.y,p=e.y1,m=e.y2,b=e.series,y=e.barHeight,w=e.barWidth,C=e.barXPosition,T=e.barYPosition,S=e.elDataLabelsWrap,E=e.elGoalsMarkers,M=e.elBarShadows,I=e.visibleSeries,P=e.type,N=e.classes,D=this.w,_=new oe(this.ctx);if(!r){var $=typeof D.globals.stroke.colors[t]=="function"?function(ae){var Me,Re=D.config.stroke.colors;return Array.isArray(Re)&&Re.length>0&&((Me=Re[ae])||(Me=""),typeof Me=="function")?Me({value:D.globals.series[ae][s],dataPointIndex:s,w:D}):Me}(t):D.globals.stroke.colors[t];r=this.barOptions.distributed?D.globals.stroke.colors[s]:$}D.config.series[o].data[s]&&D.config.series[o].data[s].strokeColor&&(r=D.config.series[o].data[s].strokeColor),this.isNullValue&&(n="none");var U=s/D.config.chart.animations.animateGradually.delay*(D.config.chart.animations.speed/D.globals.dataPoints)/2.4,re=_.renderPaths({i:o,j:s,realIndex:t,pathFrom:l,pathTo:c,stroke:r,strokeWidth:h,strokeLineCap:D.config.stroke.lineCap,fill:n,animationDelay:U,initialSpeed:D.config.chart.animations.speed,dataChangeSpeed:D.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(P,"-area ").concat(N),chartType:P});re.attr("clip-path","url(#gridRectBarMask".concat(D.globals.cuid,")"));var ne=D.config.forecastDataPoints;ne.count>0&&s>=D.globals.dataPoints-ne.count&&(re.node.setAttribute("stroke-dasharray",ne.dashArray),re.node.setAttribute("stroke-width",ne.strokeWidth),re.node.setAttribute("fill-opacity",ne.fillOpacity)),p!==void 0&&m!==void 0&&(re.attr("data-range-y1",p),re.attr("data-range-y2",m)),new un(this.ctx).setSelectionFilter(re,t,s),u.add(re);var ie=new wA(this).handleBarDataLabels({x:d,y:f,y1:p,y2:m,i:o,j:s,series:b,realIndex:t,columnGroupIndex:a,barHeight:y,barWidth:w,barXPosition:C,barYPosition:T,renderedPath:re,visibleSeries:I});return ie.dataLabels!==null&&S.add(ie.dataLabels),ie.totalDataLabels&&S.add(ie.totalDataLabels),u.add(S),E&&u.add(E),M&&u.add(M),u}},{key:"drawBarPaths",value:function(e){var t,n=e.indexes,r=e.barHeight,s=e.strokeWidth,o=e.zeroW,a=e.x,l=e.y,c=e.yDivision,h=e.elSeries,u=this.w,d=n.i,f=n.j;if(u.globals.isXNumeric)t=(l=(u.globals.seriesX[d][f]-u.globals.minX)/this.invertedXRatio-r)+r*this.visibleI;else if(u.config.plotOptions.bar.hideZeroBarsWhenGrouped){var p=this.barHelpers.getZeroValueEncounters({i:d,j:f}),m=p.nonZeroColumns,b=p.zeroEncounters;m>0&&(r=this.seriesLen*r/m),t=l+r*this.visibleI,t-=r*b}else t=l+r*this.visibleI;this.isFunnel&&(o-=(this.barHelpers.getXForValue(this.series[d][f],o)-o)/2),a=this.barHelpers.getXForValue(this.series[d][f],o);var y=this.barHelpers.getBarpaths({barYPosition:t,barHeight:r,x1:o,x2:a,strokeWidth:s,isReversed:this.isReversed,series:this.series,realIndex:n.realIndex,i:d,j:f,w:u});return u.globals.isXNumeric||(l+=c),this.barHelpers.barBackground({j:f,i:d,y1:t-r*this.visibleI,y2:r*this.seriesLen,elSeries:h}),{pathTo:y.pathTo,pathFrom:y.pathFrom,x1:o,x:a,y:l,goalX:this.barHelpers.getGoalValues("x",o,null,d,f),barYPosition:t,barHeight:r}}},{key:"drawColumnPaths",value:function(e){var t,n=e.indexes,r=e.x,s=e.y,o=e.xDivision,a=e.barWidth,l=e.zeroH,c=e.strokeWidth,h=e.elSeries,u=this.w,d=n.realIndex,f=n.translationsIndex,p=n.i,m=n.j,b=n.bc;if(u.globals.isXNumeric){var y=this.getBarXForNumericXAxis({x:r,j:m,realIndex:d,barWidth:a});r=y.x,t=y.barXPosition}else if(u.config.plotOptions.bar.hideZeroBarsWhenGrouped){var w=this.barHelpers.getZeroValueEncounters({i:p,j:m}),C=w.nonZeroColumns,T=w.zeroEncounters;C>0&&(a=this.seriesLen*a/C),t=r+a*this.visibleI,t-=a*T}else t=r+a*this.visibleI;s=this.barHelpers.getYForValue(this.series[p][m],l,f);var S=this.barHelpers.getColumnPaths({barXPosition:t,barWidth:a,y1:l,y2:s,strokeWidth:c,isReversed:this.isReversed,series:this.series,realIndex:d,i:p,j:m,w:u});return u.globals.isXNumeric||(r+=o),this.barHelpers.barBackground({bc:b,j:m,i:p,x1:t-c/2-a*this.visibleI,x2:a*this.seriesLen+c/2,elSeries:h}),{pathTo:S.pathTo,pathFrom:S.pathFrom,x:r,y:s,goalY:this.barHelpers.getGoalValues("y",null,l,p,m,f),barXPosition:t,barWidth:a}}},{key:"getBarXForNumericXAxis",value:function(e){var t=e.x,n=e.barWidth,r=e.realIndex,s=e.j,o=this.w,a=r;return o.globals.seriesX[r].length||(a=o.globals.maxValsInArrayIndex),H.isNumber(o.globals.seriesX[a][s])&&(t=(o.globals.seriesX[a][s]-o.globals.minX)/this.xRatio-n*this.seriesLen/2),{barXPosition:t+n*this.visibleI,x:t}}},{key:"getPreviousPath",value:function(e,t){for(var n,r=this.w,s=0;s<r.globals.previousPaths.length;s++){var o=r.globals.previousPaths[s];o.paths&&o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(e,10)&&r.globals.previousPaths[s].paths[t]!==void 0&&(n=r.globals.previousPaths[s].paths[t].d)}return n}}]),i}(),Rb=function(i){wa(t,xo);var e=va(t);function t(){return Ee(this,t),e.apply(this,arguments)}return Oe(t,[{key:"draw",value:function(n,r){var s=this,o=this.w;this.graphics=new oe(this.ctx),this.bar=new xo(this.ctx,this.xyRatios);var a=new Bt(this.ctx,o);n=a.getLogSeries(n),this.yRatio=a.getLogYRatios(this.yRatio),this.barHelpers.initVariables(n),o.config.chart.stackType==="100%"&&(n=o.globals.comboCharts?r.map(function(p){return o.globals.seriesPercent[p]}):o.globals.seriesPercent.slice()),this.series=n,this.barHelpers.initializeStackedPrevVars(this);for(var l=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),c=0,h=0,u=function(p,m){var b=void 0,y=void 0,w=void 0,C=void 0,T=o.globals.comboCharts?r[p]:p,S=s.barHelpers.getGroupIndex(T),E=S.groupIndex,M=S.columnGroupIndex;s.groupCtx=s[o.globals.seriesGroups[E]];var I=[],P=[],N=0;s.yRatio.length>1&&(s.yaxisIndex=o.globals.seriesYAxisReverseMap[T][0],N=T),s.isReversed=o.config.yaxis[s.yaxisIndex]&&o.config.yaxis[s.yaxisIndex].reversed;var D=s.graphics.group({class:"apexcharts-series",seriesName:H.escapeString(o.globals.seriesNames[T]),rel:p+1,"data:realIndex":T});s.ctx.series.addCollapsedClassToSeries(D,T);var _=s.graphics.group({class:"apexcharts-datalabels","data:realIndex":T}),$=s.graphics.group({class:"apexcharts-bar-goals-markers"}),U=0,re=0,ne=s.initialPositions(c,h,b,y,w,C,N);h=ne.y,U=ne.barHeight,y=ne.yDivision,C=ne.zeroW,c=ne.x,re=ne.barWidth,b=ne.xDivision,w=ne.zeroH,o.globals.barHeight=U,o.globals.barWidth=re,s.barHelpers.initializeStackedXYVars(s),s.groupCtx.prevY.length===1&&s.groupCtx.prevY[0].every(function(Mt){return isNaN(Mt)})&&(s.groupCtx.prevY[0]=s.groupCtx.prevY[0].map(function(){return w}),s.groupCtx.prevYF[0]=s.groupCtx.prevYF[0].map(function(){return 0}));for(var ie=0;ie<o.globals.dataPoints;ie++){var ae=s.barHelpers.getStrokeWidth(p,ie,T),Me={indexes:{i:p,j:ie,realIndex:T,translationsIndex:N,bc:m},strokeWidth:ae,x:c,y:h,elSeries:D,columnGroupIndex:M,seriesGroup:o.globals.seriesGroups[E]},Re=null;s.isHorizontal?(Re=s.drawStackedBarPaths(xe(xe({},Me),{},{zeroW:C,barHeight:U,yDivision:y})),re=s.series[p][ie]/s.invertedYRatio):(Re=s.drawStackedColumnPaths(xe(xe({},Me),{},{xDivision:b,barWidth:re,zeroH:w})),U=s.series[p][ie]/s.yRatio[N]);var Ne=s.barHelpers.drawGoalLine({barXPosition:Re.barXPosition,barYPosition:Re.barYPosition,goalX:Re.goalX,goalY:Re.goalY,barHeight:U,barWidth:re});Ne&&$.add(Ne),h=Re.y,c=Re.x,I.push(c),P.push(h);var Qe=s.barHelpers.getPathFillColor(n,p,ie,T),st="",Ge=o.globals.isBarHorizontal?"apexcharts-flip-x":"apexcharts-flip-y";(s.barHelpers.arrBorderRadius[T][ie]==="bottom"&&o.globals.series[T][ie]>0||s.barHelpers.arrBorderRadius[T][ie]==="top"&&o.globals.series[T][ie]<0)&&(st=Ge),D=s.renderSeries(xe(xe({realIndex:T,pathFill:Qe.color},Qe.useRangeColor?{lineFill:Qe.color}:{}),{},{j:ie,i:p,columnGroupIndex:M,pathFrom:Re.pathFrom,pathTo:Re.pathTo,strokeWidth:ae,elSeries:D,x:c,y:h,series:n,barHeight:U,barWidth:re,elDataLabelsWrap:_,elGoalsMarkers:$,type:"bar",visibleSeries:M,classes:st}))}o.globals.seriesXvalues[T]=I,o.globals.seriesYvalues[T]=P,s.groupCtx.prevY.push(s.groupCtx.yArrj),s.groupCtx.prevYF.push(s.groupCtx.yArrjF),s.groupCtx.prevYVal.push(s.groupCtx.yArrjVal),s.groupCtx.prevX.push(s.groupCtx.xArrj),s.groupCtx.prevXF.push(s.groupCtx.xArrjF),s.groupCtx.prevXVal.push(s.groupCtx.xArrjVal),l.add(D)},d=0,f=0;d<n.length;d++,f++)u(d,f);return l}},{key:"initialPositions",value:function(n,r,s,o,a,l,c){var h,u,d=this.w;if(this.isHorizontal){o=d.globals.gridHeight/d.globals.dataPoints;var f=d.config.plotOptions.bar.barHeight;h=String(f).indexOf("%")===-1?parseInt(f,10):o*parseInt(f,10)/100,l=d.globals.padHorizontal+(this.isReversed?d.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),r=(o-h)/2}else{u=s=d.globals.gridWidth/d.globals.dataPoints;var p=d.config.plotOptions.bar.columnWidth;d.globals.isXNumeric&&d.globals.dataPoints>1?u=(s=d.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(p).indexOf("%")===-1?u=parseInt(p,10):u*=parseInt(p,10)/100,a=this.isReversed?this.baseLineY[c]:d.globals.gridHeight-this.baseLineY[c],n=d.globals.padHorizontal+(s-u)/2}var m=d.globals.barGroups.length||1;return{x:n,y:r,yDivision:o,xDivision:s,barHeight:h/m,barWidth:u/m,zeroH:a,zeroW:l}}},{key:"drawStackedBarPaths",value:function(n){for(var r,s=n.indexes,o=n.barHeight,a=n.strokeWidth,l=n.zeroW,c=n.x,h=n.y,u=n.columnGroupIndex,d=n.seriesGroup,f=n.yDivision,p=n.elSeries,m=this.w,b=h+u*o,y=s.i,w=s.j,C=s.realIndex,T=s.translationsIndex,S=0,E=0;E<this.groupCtx.prevXF.length;E++)S+=this.groupCtx.prevXF[E][w];var M=y;if(m.config.series[C].name&&(M=d.indexOf(m.config.series[C].name)),M>0){var I=l;this.groupCtx.prevXVal[M-1][w]<0?I=this.series[y][w]>=0?this.groupCtx.prevX[M-1][w]+S-2*(this.isReversed?S:0):this.groupCtx.prevX[M-1][w]:this.groupCtx.prevXVal[M-1][w]>=0&&(I=this.series[y][w]>=0?this.groupCtx.prevX[M-1][w]:this.groupCtx.prevX[M-1][w]-S+2*(this.isReversed?S:0)),r=I}else r=l;c=this.series[y][w]===null?r:r+this.series[y][w]/this.invertedYRatio-2*(this.isReversed?this.series[y][w]/this.invertedYRatio:0);var P=this.barHelpers.getBarpaths({barYPosition:b,barHeight:o,x1:r,x2:c,strokeWidth:a,isReversed:this.isReversed,series:this.series,realIndex:s.realIndex,seriesGroup:d,i:y,j:w,w:m});return this.barHelpers.barBackground({j:w,i:y,y1:b,y2:o,elSeries:p}),h+=f,{pathTo:P.pathTo,pathFrom:P.pathFrom,goalX:this.barHelpers.getGoalValues("x",l,null,y,w,T),barXPosition:r,barYPosition:b,x:c,y:h}}},{key:"drawStackedColumnPaths",value:function(n){var r=n.indexes,s=n.x,o=n.y,a=n.xDivision,l=n.barWidth,c=n.zeroH,h=n.columnGroupIndex,u=n.seriesGroup,d=n.elSeries,f=this.w,p=r.i,m=r.j,b=r.bc,y=r.realIndex,w=r.translationsIndex;if(f.globals.isXNumeric){var C=f.globals.seriesX[y][m];C||(C=0),s=(C-f.globals.minX)/this.xRatio-l/2*f.globals.barGroups.length}for(var T,S=s+h*l,E=0,M=0;M<this.groupCtx.prevYF.length;M++)E+=isNaN(this.groupCtx.prevYF[M][m])?0:this.groupCtx.prevYF[M][m];var I=p;if(u&&(I=u.indexOf(f.globals.seriesNames[y])),I>0&&!f.globals.isXNumeric||I>0&&f.globals.isXNumeric&&f.globals.seriesX[y-1][m]===f.globals.seriesX[y][m]){var P,N,D,_=Math.min(this.yRatio.length+1,y+1);if(this.groupCtx.prevY[I-1]!==void 0&&this.groupCtx.prevY[I-1].length)for(var $=1;$<_;$++){var U;if(!isNaN((U=this.groupCtx.prevY[I-$])===null||U===void 0?void 0:U[m])){D=this.groupCtx.prevY[I-$][m];break}}for(var re=1;re<_;re++){var ne,ie;if(((ne=this.groupCtx.prevYVal[I-re])===null||ne===void 0?void 0:ne[m])<0){N=this.series[p][m]>=0?D-E+2*(this.isReversed?E:0):D;break}if(((ie=this.groupCtx.prevYVal[I-re])===null||ie===void 0?void 0:ie[m])>=0){N=this.series[p][m]>=0?D:D+E-2*(this.isReversed?E:0);break}}N===void 0&&(N=f.globals.gridHeight),T=(P=this.groupCtx.prevYF[0])!==null&&P!==void 0&&P.every(function(Me){return Me===0})&&this.groupCtx.prevYF.slice(1,I).every(function(Me){return Me.every(function(Re){return isNaN(Re)})})?c:N}else T=c;o=this.series[p][m]?T-this.series[p][m]/this.yRatio[w]+2*(this.isReversed?this.series[p][m]/this.yRatio[w]:0):T;var ae=this.barHelpers.getColumnPaths({barXPosition:S,barWidth:l,y1:T,y2:o,yRatio:this.yRatio[w],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:u,realIndex:r.realIndex,i:p,j:m,w:f});return this.barHelpers.barBackground({bc:b,j:m,i:p,x1:S,x2:l,elSeries:d}),{pathTo:ae.pathTo,pathFrom:ae.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,c,p,m),barXPosition:S,x:f.globals.isXNumeric?s:s+a,y:o}}}]),t}(),Yd=function(i){wa(t,xo);var e=va(t);function t(){return Ee(this,t),e.apply(this,arguments)}return Oe(t,[{key:"draw",value:function(n,r,s){var o=this,a=this.w,l=new oe(this.ctx),c=a.globals.comboCharts?r:a.config.chart.type,h=new Ai(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=a.config.plotOptions.bar.horizontal;var u=new Bt(this.ctx,a);n=u.getLogSeries(n),this.series=n,this.yRatio=u.getLogYRatios(this.yRatio),this.barHelpers.initVariables(n);for(var d=l.group({class:"apexcharts-".concat(c,"-series apexcharts-plot-series")}),f=function(m){o.isBoxPlot=a.config.chart.type==="boxPlot"||a.config.series[m].type==="boxPlot";var b,y,w,C,T=void 0,S=void 0,E=[],M=[],I=a.globals.comboCharts?s[m]:m,P=o.barHelpers.getGroupIndex(I).columnGroupIndex,N=l.group({class:"apexcharts-series",seriesName:H.escapeString(a.globals.seriesNames[I]),rel:m+1,"data:realIndex":I});o.ctx.series.addCollapsedClassToSeries(N,I),n[m].length>0&&(o.visibleI=o.visibleI+1);var D,_,$=0;o.yRatio.length>1&&(o.yaxisIndex=a.globals.seriesYAxisReverseMap[I][0],$=I);var U=o.barHelpers.initialPositions(I);S=U.y,D=U.barHeight,y=U.yDivision,C=U.zeroW,T=U.x,_=U.barWidth,b=U.xDivision,w=U.zeroH,M.push(T+_/2);for(var re=l.group({class:"apexcharts-datalabels","data:realIndex":I}),ne=l.group({class:"apexcharts-bar-goals-markers"}),ie=function(Me){var Re=o.barHelpers.getStrokeWidth(m,Me,I),Ne=null,Qe={indexes:{i:m,j:Me,realIndex:I,translationsIndex:$},x:T,y:S,strokeWidth:Re,elSeries:N};Ne=o.isHorizontal?o.drawHorizontalBoxPaths(xe(xe({},Qe),{},{yDivision:y,barHeight:D,zeroW:C})):o.drawVerticalBoxPaths(xe(xe({},Qe),{},{xDivision:b,barWidth:_,zeroH:w})),S=Ne.y,T=Ne.x;var st=o.barHelpers.drawGoalLine({barXPosition:Ne.barXPosition,barYPosition:Ne.barYPosition,goalX:Ne.goalX,goalY:Ne.goalY,barHeight:D,barWidth:_});st&&ne.add(st),Me>0&&M.push(T+_/2),E.push(S),Ne.pathTo.forEach(function(Ge,Mt){var Ue=!o.isBoxPlot&&o.candlestickOptions.wick.useFillColor?Ne.color[Mt]:a.globals.stroke.colors[m],$e=h.fillPath({seriesNumber:I,dataPointIndex:Me,color:Ne.color[Mt],value:n[m][Me]});o.renderSeries({realIndex:I,pathFill:$e,lineFill:Ue,j:Me,i:m,pathFrom:Ne.pathFrom,pathTo:Ge,strokeWidth:Re,elSeries:N,x:T,y:S,series:n,columnGroupIndex:P,barHeight:D,barWidth:_,elDataLabelsWrap:re,elGoalsMarkers:ne,visibleSeries:o.visibleI,type:a.config.chart.type})})},ae=0;ae<a.globals.dataPoints;ae++)ie(ae);a.globals.seriesXvalues[I]=M,a.globals.seriesYvalues[I]=E,d.add(N)},p=0;p<n.length;p++)f(p);return d}},{key:"drawVerticalBoxPaths",value:function(n){var r=n.indexes,s=n.x;n.y;var o=n.xDivision,a=n.barWidth,l=n.zeroH,c=n.strokeWidth,h=this.w,u=new oe(this.ctx),d=r.i,f=r.j,p=h.config.plotOptions.candlestick.colors,m=this.boxOptions.colors,b=r.realIndex,y=function(re){return Array.isArray(re)?re[b]:re},w=y(p.upward),C=y(p.downward),T=this.yRatio[r.translationsIndex],S=this.getOHLCValue(b,f),E=l,M=l,I=S.o<S.c?[w]:[C];this.isBoxPlot&&(I=[y(m.lower),y(m.upper)]);var P=Math.min(S.o,S.c),N=Math.max(S.o,S.c),D=S.m;h.globals.isXNumeric&&(s=(h.globals.seriesX[b][f]-h.globals.minX)/this.xRatio-a/2);var _=s+a*this.visibleI;this.series[d][f]===void 0||this.series[d][f]===null?(P=l,N=l):(P=l-P/T,N=l-N/T,E=l-S.h/T,M=l-S.l/T,D=l-S.m/T);var $=u.move(_,l),U=u.move(_+a/2,P);return h.globals.previousPaths.length>0&&(U=this.getPreviousPath(b,f,!0)),$=this.isBoxPlot?[u.move(_,P)+u.line(_+a/2,P)+u.line(_+a/2,E)+u.line(_+a/4,E)+u.line(_+a-a/4,E)+u.line(_+a/2,E)+u.line(_+a/2,P)+u.line(_+a,P)+u.line(_+a,D)+u.line(_,D)+u.line(_,P+c/2),u.move(_,D)+u.line(_+a,D)+u.line(_+a,N)+u.line(_+a/2,N)+u.line(_+a/2,M)+u.line(_+a-a/4,M)+u.line(_+a/4,M)+u.line(_+a/2,M)+u.line(_+a/2,N)+u.line(_,N)+u.line(_,D)+"z"]:[u.move(_,N)+u.line(_+a/2,N)+u.line(_+a/2,E)+u.line(_+a/2,N)+u.line(_+a,N)+u.line(_+a,P)+u.line(_+a/2,P)+u.line(_+a/2,M)+u.line(_+a/2,P)+u.line(_,P)+u.line(_,N-c/2)],U+=u.move(_,P),h.globals.isXNumeric||(s+=o),{pathTo:$,pathFrom:U,x:s,y:N,goalY:this.barHelpers.getGoalValues("y",null,l,d,f,r.translationsIndex),barXPosition:_,color:I}}},{key:"drawHorizontalBoxPaths",value:function(n){var r=n.indexes;n.x;var s=n.y,o=n.yDivision,a=n.barHeight,l=n.zeroW,c=n.strokeWidth,h=this.w,u=new oe(this.ctx),d=r.i,f=r.j,p=this.boxOptions.colors.lower;this.isBoxPlot&&(p=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var m=this.invertedYRatio,b=r.realIndex,y=this.getOHLCValue(b,f),w=l,C=l,T=Math.min(y.o,y.c),S=Math.max(y.o,y.c),E=y.m;h.globals.isXNumeric&&(s=(h.globals.seriesX[b][f]-h.globals.minX)/this.invertedXRatio-a/2);var M=s+a*this.visibleI;this.series[d][f]===void 0||this.series[d][f]===null?(T=l,S=l):(T=l+T/m,S=l+S/m,w=l+y.h/m,C=l+y.l/m,E=l+y.m/m);var I=u.move(l,M),P=u.move(T,M+a/2);return h.globals.previousPaths.length>0&&(P=this.getPreviousPath(b,f,!0)),I=[u.move(T,M)+u.line(T,M+a/2)+u.line(w,M+a/2)+u.line(w,M+a/2-a/4)+u.line(w,M+a/2+a/4)+u.line(w,M+a/2)+u.line(T,M+a/2)+u.line(T,M+a)+u.line(E,M+a)+u.line(E,M)+u.line(T+c/2,M),u.move(E,M)+u.line(E,M+a)+u.line(S,M+a)+u.line(S,M+a/2)+u.line(C,M+a/2)+u.line(C,M+a-a/4)+u.line(C,M+a/4)+u.line(C,M+a/2)+u.line(S,M+a/2)+u.line(S,M)+u.line(E,M)+"z"],P+=u.move(T,M),h.globals.isXNumeric||(s+=o),{pathTo:I,pathFrom:P,x:S,y:s,goalX:this.barHelpers.getGoalValues("x",l,null,d,f),barYPosition:M,color:p}}},{key:"getOHLCValue",value:function(n,r){var s=this.w,o=new Bt(this.ctx,s),a=o.getLogValAtSeriesIndex(s.globals.seriesCandleH[n][r],n),l=o.getLogValAtSeriesIndex(s.globals.seriesCandleO[n][r],n),c=o.getLogValAtSeriesIndex(s.globals.seriesCandleM[n][r],n),h=o.getLogValAtSeriesIndex(s.globals.seriesCandleC[n][r],n),u=o.getLogValAtSeriesIndex(s.globals.seriesCandleL[n][r],n);return{o:this.isBoxPlot?a:l,h:this.isBoxPlot?l:a,m:c,l:this.isBoxPlot?h:u,c:this.isBoxPlot?u:h}}}]),t}(),Db=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"checkColorRange",value:function(){var e=this.w,t=!1,n=e.config.plotOptions[e.config.chart.type];return n.colorScale.ranges.length>0&&n.colorScale.ranges.map(function(r,s){r.from<=0&&(t=!0)}),t}},{key:"getShadeColor",value:function(e,t,n,r){var s=this.w,o=1,a=s.config.plotOptions[e].shadeIntensity,l=this.determineColor(e,t,n);s.globals.hasNegs||r?o=s.config.plotOptions[e].reverseNegativeShade?l.percent<0?l.percent/100*(1.25*a):(1-l.percent/100)*(1.25*a):l.percent<=0?1-(1+l.percent/100)*a:(1-l.percent/100)*a:(o=1-l.percent/100,e==="treemap"&&(o=(1-l.percent/100)*(1.25*a)));var c=l.color,h=new H;if(s.config.plotOptions[e].enableShades)if(this.w.config.theme.mode==="dark"){var u=h.shadeColor(-1*o,l.color);c=H.hexToRgba(H.isColorHex(u)?u:H.rgb2hex(u),s.config.fill.opacity)}else{var d=h.shadeColor(o,l.color);c=H.hexToRgba(H.isColorHex(d)?d:H.rgb2hex(d),s.config.fill.opacity)}return{color:c,colorProps:l}}},{key:"determineColor",value:function(e,t,n){var r=this.w,s=r.globals.series[t][n],o=r.config.plotOptions[e],a=o.colorScale.inverse?n:t;o.distributed&&r.config.chart.type==="treemap"&&(a=n);var l=r.globals.colors[a],c=null,h=Math.min.apply(Math,Ut(r.globals.series[t])),u=Math.max.apply(Math,Ut(r.globals.series[t]));o.distributed||e!=="heatmap"||(h=r.globals.minY,u=r.globals.maxY),o.colorScale.min!==void 0&&(h=o.colorScale.min<r.globals.minY?o.colorScale.min:r.globals.minY,u=o.colorScale.max>r.globals.maxY?o.colorScale.max:r.globals.maxY);var d=Math.abs(u)+Math.abs(h),f=100*s/(d===0?d-1e-6:d);return o.colorScale.ranges.length>0&&o.colorScale.ranges.map(function(p,m){if(s>=p.from&&s<=p.to){l=p.color,c=p.foreColor?p.foreColor:null,h=p.from,u=p.to;var b=Math.abs(u)+Math.abs(h);f=100*s/(b===0?b-1e-6:b)}}),{color:l,foreColor:c,percent:f}}},{key:"calculateDataLabels",value:function(e){var t=e.text,n=e.x,r=e.y,s=e.i,o=e.j,a=e.colorProps,l=e.fontSize,c=this.w.config.dataLabels,h=new oe(this.ctx),u=new mo(this.ctx),d=null;if(c.enabled){d=h.group({class:"apexcharts-data-labels"});var f=c.offsetX,p=c.offsetY,m=n+f,b=r+parseFloat(c.style.fontSize)/3+p;u.plotDataLabelsText({x:m,y:b,text:t,i:s,j:o,color:a.foreColor,parent:d,fontSize:l,dataLabelsConfig:c})}return d}},{key:"addListeners",value:function(e){var t=new oe(this.ctx);e.node.addEventListener("mouseenter",t.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",t.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",t.pathMouseDown.bind(this,e))}}]),i}(),SA=function(){function i(e,t){Ee(this,i),this.ctx=e,this.w=e.w,this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new Db(e),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return Oe(i,[{key:"draw",value:function(e){var t=this.w,n=new oe(this.ctx),r=n.group({class:"apexcharts-heatmap"});r.attr("clip-path","url(#gridRectMask".concat(t.globals.cuid,")"));var s=t.globals.gridWidth/t.globals.dataPoints,o=t.globals.gridHeight/t.globals.series.length,a=0,l=!1;this.negRange=this.helpers.checkColorRange();var c=e.slice();t.config.yaxis[0].reversed&&(l=!0,c.reverse());for(var h=l?0:c.length-1;l?h<c.length:h>=0;l?h++:h--){var u=n.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:H.escapeString(t.globals.seriesNames[h]),rel:h+1,"data:realIndex":h});if(this.ctx.series.addCollapsedClassToSeries(u,h),t.config.chart.dropShadow.enabled){var d=t.config.chart.dropShadow;new un(this.ctx).dropShadow(u,d,h)}for(var f=0,p=t.config.plotOptions.heatmap.shadeIntensity,m=0,b=0;b<t.globals.dataPoints;b++)if(t.globals.seriesX.length&&!t.globals.allSeriesHasEqualX&&t.globals.minX+t.globals.minXDiff*b<t.globals.seriesX[h][m])f+=s;else{if(m>=c[h].length)break;var y=this.helpers.getShadeColor(t.config.chart.type,h,m,this.negRange),w=y.color,C=y.colorProps;t.config.fill.type==="image"&&(w=new Ai(this.ctx).fillPath({seriesNumber:h,dataPointIndex:m,opacity:t.globals.hasNegs?C.percent<0?1-(1+C.percent/100):p+C.percent/100:C.percent/100,patternID:H.randomId(),width:t.config.fill.image.width?t.config.fill.image.width:s,height:t.config.fill.image.height?t.config.fill.image.height:o}));var T=this.rectRadius,S=n.drawRect(f,a,s,o,T);if(S.attr({cx:f,cy:a}),S.node.classList.add("apexcharts-heatmap-rect"),u.add(S),S.attr({fill:w,i:h,index:h,j:m,val:e[h][m],"stroke-width":this.strokeWidth,stroke:t.config.plotOptions.heatmap.useFillColorAsStroke?w:t.globals.stroke.colors[0],color:w}),this.helpers.addListeners(S),t.config.chart.animations.enabled&&!t.globals.dataChanged){var E=1;t.globals.resized||(E=t.config.chart.animations.speed),this.animateHeatMap(S,f,a,s,o,E)}if(t.globals.dataChanged){var M=1;if(this.dynamicAnim.enabled&&t.globals.shouldAnimate){M=this.dynamicAnim.speed;var I=t.globals.previousPaths[h]&&t.globals.previousPaths[h][m]&&t.globals.previousPaths[h][m].color;I||(I="rgba(255, 255, 255, 0)"),this.animateHeatColor(S,H.isColorHex(I)?I:H.rgb2hex(I),H.isColorHex(w)?w:H.rgb2hex(w),M)}}var P=(0,t.config.dataLabels.formatter)(t.globals.series[h][m],{value:t.globals.series[h][m],seriesIndex:h,dataPointIndex:m,w:t}),N=this.helpers.calculateDataLabels({text:P,x:f+s/2,y:a+o/2,i:h,j:m,colorProps:C,series:c});N!==null&&u.add(N),f+=s,m++}a+=o,r.add(u)}var D=t.globals.yAxisScale[0].result.slice();return t.config.yaxis[0].reversed?D.unshift(""):D.push(""),t.globals.yAxisScale[0].result=D,r}},{key:"animateHeatMap",value:function(e,t,n,r,s,o){var a=new oo(this.ctx);a.animateRect(e,{x:t+r/2,y:n+s/2,width:0,height:0},{x:t,y:n,width:r,height:s},o,function(){a.animationCompleted(e)})}},{key:"animateHeatColor",value:function(e,t,n,r){e.attr({fill:t}).animate(r).attr({fill:n})}}]),i}(),_b=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"drawYAxisTexts",value:function(e,t,n,r){var s=this.w,o=s.config.yaxis[0],a=s.globals.yLabelFormatters[0];return new oe(this.ctx).drawText({x:e+o.labels.offsetX,y:t+o.labels.offsetY,text:a(r,n),textAnchor:"middle",fontSize:o.labels.style.fontSize,fontFamily:o.labels.style.fontFamily,foreColor:Array.isArray(o.labels.style.colors)?o.labels.style.colors[n]:o.labels.style.colors})}}]),i}(),Nb=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w;var t=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=Math.min(t.globals.gridWidth,t.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=t.globals.gridWidth/2,t.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(t.config.plotOptions.pie.endAngle-t.config.plotOptions.pie.startAngle),this.initialAngle=t.config.plotOptions.pie.startAngle%this.fullAngle,t.globals.radialSize=this.defaultSize/2.05-t.config.stroke.width-(t.config.chart.sparkline.enabled?0:t.config.chart.dropShadow.blur),this.donutSize=t.globals.radialSize*parseInt(t.config.plotOptions.pie.donut.size,10)/100;var n=t.config.plotOptions.pie.customScale,r=t.globals.gridWidth/2,s=t.globals.gridHeight/2;this.translateX=r-r*n,this.translateY=s-s*n,this.dataLabelsGroup=new oe(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(n,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return Oe(i,[{key:"draw",value:function(e){var t=this,n=this.w,r=new oe(this.ctx),s=r.group({class:"apexcharts-pie"});if(n.globals.noData)return s;for(var o=0,a=0;a<e.length;a++)o+=H.negToZero(e[a]);var l=[],c=r.group();o===0&&(o=1e-5),e.forEach(function(C){t.maxY=Math.max(t.maxY,C)}),n.config.yaxis[0].max&&(this.maxY=n.config.yaxis[0].max),n.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(s);for(var h=0;h<e.length;h++){var u=this.fullAngle*H.negToZero(e[h])/o;l.push(u),this.chartType==="polarArea"?(l[h]=this.fullAngle/e.length,this.sliceSizes.push(n.globals.radialSize*e[h]/this.maxY)):this.sliceSizes.push(n.globals.radialSize)}if(n.globals.dataChanged){for(var d,f=0,p=0;p<n.globals.previousPaths.length;p++)f+=H.negToZero(n.globals.previousPaths[p]);for(var m=0;m<n.globals.previousPaths.length;m++)d=this.fullAngle*H.negToZero(n.globals.previousPaths[m])/f,this.prevSectorAngleArr.push(d)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var b=r.drawCircle(this.donutSize);b.attr({cx:this.centerX,cy:this.centerY,fill:n.config.plotOptions.pie.donut.background?n.config.plotOptions.pie.donut.background:"transparent"}),c.add(b)}var y=this.drawArcs(l,e);if(this.sliceLabels.forEach(function(C){y.add(C)}),c.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(n.config.plotOptions.pie.customScale,")")}),c.add(y),s.add(c),this.donutDataLabels.show){var w=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});s.add(w)}return n.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(s),s}},{key:"drawArcs",value:function(e,t){var n=this.w,r=new un(this.ctx),s=new oe(this.ctx),o=new Ai(this.ctx),a=s.group({class:"apexcharts-slices"}),l=this.initialAngle,c=this.initialAngle,h=this.initialAngle,u=this.initialAngle;this.strokeWidth=n.config.stroke.show?n.config.stroke.width:0;for(var d=0;d<e.length;d++){var f=s.group({class:"apexcharts-series apexcharts-pie-series",seriesName:H.escapeString(n.globals.seriesNames[d]),rel:d+1,"data:realIndex":d});a.add(f),c=u,h=(l=h)+e[d],u=c+this.prevSectorAngleArr[d];var p=h<l?this.fullAngle+h-l:h-l,m=o.fillPath({seriesNumber:d,size:this.sliceSizes[d],value:t[d]}),b=this.getChangedPath(c,u),y=s.drawPath({d:b,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[d]:this.lineColorArr,strokeWidth:0,fill:m,fillOpacity:n.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(d)});if(y.attr({index:0,j:d}),r.setSelectionFilter(y,0,d),n.config.chart.dropShadow.enabled){var w=n.config.chart.dropShadow;r.dropShadow(y,w,d)}this.addListeners(y,this.donutDataLabels),oe.setAttrs(y.node,{"data:angle":p,"data:startAngle":l,"data:strokeWidth":this.strokeWidth,"data:value":t[d]});var C={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?C=H.polarToCartesian(this.centerX,this.centerY,n.globals.radialSize/1.25+n.config.plotOptions.pie.dataLabels.offset,(l+p/2)%this.fullAngle):this.chartType==="donut"&&(C=H.polarToCartesian(this.centerX,this.centerY,(n.globals.radialSize+this.donutSize)/2+n.config.plotOptions.pie.dataLabels.offset,(l+p/2)%this.fullAngle)),f.add(y);var T=0;if(!this.initialAnim||n.globals.resized||n.globals.dataChanged?this.animBeginArr.push(0):((T=p/this.fullAngle*n.config.chart.animations.speed)===0&&(T=1),this.animDur=T+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&n.globals.dataChanged?this.animatePaths(y,{size:this.sliceSizes[d],endAngle:h,startAngle:l,prevStartAngle:c,prevEndAngle:u,animateStartingPos:!0,i:d,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:n.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(y,{size:this.sliceSizes[d],endAngle:h,startAngle:l,i:d,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:T}),n.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&y.node.addEventListener("mouseup",this.pieClicked.bind(this,d)),n.globals.selectedDataPoints[0]!==void 0&&n.globals.selectedDataPoints[0].indexOf(d)>-1&&this.pieClicked(d),n.config.dataLabels.enabled){var S=C.x,E=C.y,M=100*p/this.fullAngle+"%";if(p!==0&&n.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[d]){var I=n.config.dataLabels.formatter;I!==void 0&&(M=I(n.globals.seriesPercent[d][0],{seriesIndex:d,w:n}));var P=n.globals.dataLabels.style.colors[d],N=s.group({class:"apexcharts-datalabels"}),D=s.drawText({x:S,y:E,text:M,textAnchor:"middle",fontSize:n.config.dataLabels.style.fontSize,fontFamily:n.config.dataLabels.style.fontFamily,fontWeight:n.config.dataLabels.style.fontWeight,foreColor:P});if(N.add(D),n.config.dataLabels.dropShadow.enabled){var _=n.config.dataLabels.dropShadow;r.dropShadow(D,_)}D.node.classList.add("apexcharts-pie-label"),n.config.chart.animations.animate&&n.globals.resized===!1&&(D.node.classList.add("apexcharts-pie-label-delay"),D.node.style.animationDelay=n.config.chart.animations.speed/940+"s"),this.sliceLabels.push(N)}}}return a}},{key:"addListeners",value:function(e,t){var n=new oe(this.ctx);e.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",n.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,t)))}},{key:"animatePaths",value:function(e,t){var n=this.w,r=t.endAngle<t.startAngle?this.fullAngle+t.endAngle-t.startAngle:t.endAngle-t.startAngle,s=r,o=t.startAngle,a=t.startAngle;t.prevStartAngle!==void 0&&t.prevEndAngle!==void 0&&(o=t.prevEndAngle,s=t.prevEndAngle<t.prevStartAngle?this.fullAngle+t.prevEndAngle-t.prevStartAngle:t.prevEndAngle-t.prevStartAngle),t.i===n.config.series.length-1&&(r+a>this.fullAngle?t.endAngle=t.endAngle-(r+a):r+a<this.fullAngle&&(t.endAngle=t.endAngle+(this.fullAngle-(r+a)))),r===this.fullAngle&&(r=this.fullAngle-.01),this.animateArc(e,o,a,r,s,t)}},{key:"animateArc",value:function(e,t,n,r,s,o){var a,l=this,c=this.w,h=new oo(this.ctx),u=o.size;(isNaN(t)||isNaN(s))&&(t=n,s=r,o.dur=0);var d=r,f=n,p=t<n?this.fullAngle+t-n:t-n;c.globals.dataChanged&&o.shouldSetPrevPaths&&o.prevEndAngle&&(a=l.getPiePath({me:l,startAngle:o.prevStartAngle,angle:o.prevEndAngle<o.prevStartAngle?this.fullAngle+o.prevEndAngle-o.prevStartAngle:o.prevEndAngle-o.prevStartAngle,size:u}),e.attr({d:a})),o.dur!==0?e.animate(o.dur,o.animBeginArr[o.i]).after(function(){l.chartType!=="pie"&&l.chartType!=="donut"&&l.chartType!=="polarArea"||this.animate(c.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":l.strokeWidth}),o.i===c.config.series.length-1&&h.animationCompleted(e)}).during(function(m){d=p+(r-p)*m,o.animateStartingPos&&(d=s+(r-s)*m,f=t-s+(n-(t-s))*m),a=l.getPiePath({me:l,startAngle:f,angle:d,size:u}),e.node.setAttribute("data:pathOrig",a),e.attr({d:a})}):(a=l.getPiePath({me:l,startAngle:f,angle:r,size:u}),o.isTrack||(c.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",a),e.attr({d:a,"stroke-width":l.strokeWidth}))}},{key:"pieClicked",value:function(e){var t,n=this.w,r=this,s=r.sliceSizes[e]+(n.config.plotOptions.pie.expandOnClick?4:0),o=n.globals.dom.Paper.findOne(".apexcharts-".concat(r.chartType.toLowerCase(),"-slice-").concat(e));if(o.attr("data:pieClicked")!=="true"){var a=n.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(a,function(u){u.setAttribute("data:pieClicked","false");var d=u.getAttribute("data:pathOrig");d&&u.setAttribute("d",d)}),n.globals.capturedDataPointIndex=e,o.attr("data:pieClicked","true");var l=parseInt(o.attr("data:startAngle"),10),c=parseInt(o.attr("data:angle"),10);t=r.getPiePath({me:r,startAngle:l,angle:c,size:s}),c!==360&&o.plot(t)}else{o.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(o.node,this.donutDataLabels);var h=o.attr("data:pathOrig");o.attr({d:h})}}},{key:"getChangedPath",value:function(e,t){var n="";return this.dynamicAnim&&this.w.globals.dataChanged&&(n=this.getPiePath({me:this,startAngle:e,angle:t-e,size:this.size})),n}},{key:"getPiePath",value:function(e){var t,n=e.me,r=e.startAngle,s=e.angle,o=e.size,a=new oe(this.ctx),l=r,c=Math.PI*(l-90)/180,h=s+r;Math.ceil(h)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(h=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(h)>this.fullAngle&&(h-=this.fullAngle);var u=Math.PI*(h-90)/180,d=n.centerX+o*Math.cos(c),f=n.centerY+o*Math.sin(c),p=n.centerX+o*Math.cos(u),m=n.centerY+o*Math.sin(u),b=H.polarToCartesian(n.centerX,n.centerY,n.donutSize,h),y=H.polarToCartesian(n.centerX,n.centerY,n.donutSize,l),w=s>180?1:0,C=["M",d,f,"A",o,o,0,w,1,p,m];return t=n.chartType==="donut"?[].concat(C,["L",b.x,b.y,"A",n.donutSize,n.donutSize,0,w,0,y.x,y.y,"L",d,f,"z"]).join(" "):n.chartType==="pie"||n.chartType==="polarArea"?[].concat(C,["L",n.centerX,n.centerY,"L",d,f]).join(" "):[].concat(C).join(" "),a.roundPathCorners(t,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(e){var t=this.w,n=new Tb(this.ctx),r=new oe(this.ctx),s=new _b(this.ctx),o=r.group(),a=r.group(),l=n.niceScale(0,Math.ceil(this.maxY),0),c=l.result.reverse(),h=l.result.length;this.maxY=l.niceMax;for(var u=t.globals.radialSize,d=u/(h-1),f=0;f<h-1;f++){var p=r.drawCircle(u);if(p.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":t.config.plotOptions.polarArea.rings.strokeWidth,stroke:t.config.plotOptions.polarArea.rings.strokeColor}),t.config.yaxis[0].show){var m=s.drawYAxisTexts(this.centerX,this.centerY-u+parseInt(t.config.yaxis[0].labels.style.fontSize,10)/2,f,c[f]);a.add(m)}o.add(p),u-=d}this.drawSpokes(e),e.add(o),e.add(a)}},{key:"renderInnerDataLabels",value:function(e,t,n){var r=this.w,s=new oe(this.ctx),o=t.total.show;e.node.innerHTML="",e.node.style.opacity=n.opacity;var a,l,c=n.centerX,h=this.donutDataLabels.total.label?n.centerY:n.centerY-n.centerY/6;a=t.name.color===void 0?r.globals.colors[0]:t.name.color;var u=t.name.fontSize,d=t.name.fontFamily,f=t.name.fontWeight;l=t.value.color===void 0?r.config.chart.foreColor:t.value.color;var p=t.value.formatter,m="",b="";if(o?(a=t.total.color,u=t.total.fontSize,d=t.total.fontFamily,f=t.total.fontWeight,b=this.donutDataLabels.total.label?t.total.label:"",m=t.total.formatter(r)):r.globals.series.length===1&&(m=p(r.globals.series[0],r),b=r.globals.seriesNames[0]),b&&(b=t.name.formatter(b,t.total.show,r)),t.name.show){var y=s.drawText({x:c,y:h+parseFloat(t.name.offsetY),text:b,textAnchor:"middle",foreColor:a,fontSize:u,fontWeight:f,fontFamily:d});y.node.classList.add("apexcharts-datalabel-label"),e.add(y)}if(t.value.show){var w=t.name.show?parseFloat(t.value.offsetY)+16:t.value.offsetY,C=s.drawText({x:c,y:h+w,text:m,textAnchor:"middle",foreColor:l,fontWeight:t.value.fontWeight,fontSize:t.value.fontSize,fontFamily:t.value.fontFamily});C.node.classList.add("apexcharts-datalabel-value"),e.add(C)}return e}},{key:"printInnerLabels",value:function(e,t,n,r){var s,o=this.w;r?s=e.name.color===void 0?o.globals.colors[parseInt(r.parentNode.getAttribute("rel"),10)-1]:e.name.color:o.globals.series.length>1&&e.total.show&&(s=e.total.color);var a=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),l=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");n=(0,e.value.formatter)(n,o),r||typeof e.total.formatter!="function"||(n=e.total.formatter(o));var c=t===e.total.label;t=this.donutDataLabels.total.label?e.name.formatter(t,c,o):"",a!==null&&(a.textContent=t),l!==null&&(l.textContent=n),a!==null&&(a.style.fill=s)}},{key:"printDataLabelsInner",value:function(e,t){var n=this.w,r=e.getAttribute("data:value"),s=n.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];n.globals.series.length>1&&this.printInnerLabels(t,s,r,e);var o=n.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");o!==null&&(o.style.opacity=1)}},{key:"drawSpokes",value:function(e){var t=this,n=this.w,r=new oe(this.ctx),s=n.config.plotOptions.polarArea.spokes;if(s.strokeWidth!==0){for(var o=[],a=360/n.globals.series.length,l=0;l<n.globals.series.length;l++)o.push(H.polarToCartesian(this.centerX,this.centerY,n.globals.radialSize,n.config.plotOptions.pie.startAngle+a*l));o.forEach(function(c,h){var u=r.drawLine(c.x,c.y,t.centerX,t.centerY,Array.isArray(s.connectorColors)?s.connectorColors[h]:s.connectorColors);e.add(u)})}}},{key:"revertDataLabelsInner",value:function(){var e=this.w;if(this.donutDataLabels.show){var t=e.globals.dom.Paper.findOne(".apexcharts-datalabels-group"),n=this.renderInnerDataLabels(t,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});e.globals.dom.Paper.findOne(".apexcharts-radialbar, .apexcharts-pie").add(n)}}}]),i}(),CA=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var t=this.w;this.graphics=new oe(this.ctx),this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=t.globals.svgHeight<t.globals.svgWidth?t.globals.gridHeight:t.globals.gridWidth,this.isLog=t.config.yaxis[0].logarithmic,this.logBase=t.config.yaxis[0].logBase,this.coreUtils=new Bt(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,t.globals.maxY,0):t.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):t.globals.minY,this.polygons=t.config.plotOptions.radar.polygons,this.strokeWidth=t.config.stroke.show?t.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-t.config.chart.dropShadow.blur,t.config.xaxis.labels.show&&(this.size=this.size-t.globals.xAxisLabelsWidth/1.75),t.config.plotOptions.radar.size!==void 0&&(this.size=t.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return Oe(i,[{key:"draw",value:function(e){var t=this,n=this.w,r=new Ai(this.ctx),s=[],o=new mo(this.ctx);e.length&&(this.dataPointsLen=e[n.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var a=n.globals.gridWidth/2,l=n.globals.gridHeight/2,c=a+n.config.plotOptions.radar.offsetX,h=l+n.config.plotOptions.radar.offsetY,u=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(c||0,", ").concat(h||0,")")}),d=[],f=null,p=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach(function(b,y){var w=b.length===n.globals.dataPoints,C=t.graphics.group().attr({class:"apexcharts-series","data:longestSeries":w,seriesName:H.escapeString(n.globals.seriesNames[y]),rel:y+1,"data:realIndex":y});t.dataRadiusOfPercent[y]=[],t.dataRadius[y]=[],t.angleArr[y]=[],b.forEach(function($,U){var re=Math.abs(t.maxValue-t.minValue);$-=t.minValue,t.isLog&&($=t.coreUtils.getLogVal(t.logBase,$,0)),t.dataRadiusOfPercent[y][U]=$/re,t.dataRadius[y][U]=t.dataRadiusOfPercent[y][U]*t.size,t.angleArr[y][U]=U*t.disAngle}),d=t.getDataPointsPos(t.dataRadius[y],t.angleArr[y]);var T=t.createPaths(d,{x:0,y:0});f=t.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),p=t.graphics.group({class:"apexcharts-datalabels","data:realIndex":y}),n.globals.delayedElements.push({el:f.node,index:y});var S={i:y,realIndex:y,animationDelay:y,initialSpeed:n.config.chart.animations.speed,dataChangeSpeed:n.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:n.globals.stroke.colors[y],strokeLineCap:n.config.stroke.lineCap},E=null;n.globals.previousPaths.length>0&&(E=t.getPreviousPath(y));for(var M=0;M<T.linePathsTo.length;M++){var I=t.graphics.renderPaths(xe(xe({},S),{},{pathFrom:E===null?T.linePathsFrom[M]:E,pathTo:T.linePathsTo[M],strokeWidth:Array.isArray(t.strokeWidth)?t.strokeWidth[y]:t.strokeWidth,fill:"none",drawShadow:!1}));C.add(I);var P=r.fillPath({seriesNumber:y}),N=t.graphics.renderPaths(xe(xe({},S),{},{pathFrom:E===null?T.areaPathsFrom[M]:E,pathTo:T.areaPathsTo[M],strokeWidth:0,fill:P,drawShadow:!1}));if(n.config.chart.dropShadow.enabled){var D=new un(t.ctx),_=n.config.chart.dropShadow;D.dropShadow(N,Object.assign({},_,{noUserSpaceOnUse:!0}),y)}C.add(N)}b.forEach(function($,U){var re=new go(t.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:y,dataPointIndex:U}),ne=t.graphics.drawMarker(d[U].x,d[U].y,re);ne.attr("rel",U),ne.attr("j",U),ne.attr("index",y),ne.node.setAttribute("default-marker-size",re.pSize);var ie=t.graphics.group({class:"apexcharts-series-markers"});ie&&ie.add(ne),f.add(ie),C.add(f);var ae=n.config.dataLabels;if(ae.enabled){var Me=ae.formatter(n.globals.series[y][U],{seriesIndex:y,dataPointIndex:U,w:n});o.plotDataLabelsText({x:d[U].x,y:d[U].y,text:Me,textAnchor:"middle",i:y,j:y,parent:p,offsetCorrection:!1,dataLabelsConfig:xe({},ae)})}C.add(p)}),s.push(C)}),this.drawPolygons({parent:u}),n.config.xaxis.labels.show){var m=this.drawXAxisTexts();u.add(m)}return s.forEach(function(b){u.add(b)}),u.add(this.yaxisLabels),u}},{key:"drawPolygons",value:function(e){for(var t=this,n=this.w,r=e.parent,s=new _b(this.ctx),o=n.globals.yAxisScale[0].result.reverse(),a=o.length,l=[],c=this.size/(a-1),h=0;h<a;h++)l[h]=c*h;l.reverse();var u=[],d=[];l.forEach(function(f,p){var m=H.getPolygonPos(f,t.dataPointsLen),b="";m.forEach(function(y,w){if(p===0){var C=t.graphics.drawLine(y.x,y.y,0,0,Array.isArray(t.polygons.connectorColors)?t.polygons.connectorColors[w]:t.polygons.connectorColors);d.push(C)}w===0&&t.yaxisLabelsTextsPos.push({x:y.x,y:y.y}),b+=y.x+","+y.y+" "}),u.push(b)}),u.forEach(function(f,p){var m=t.polygons.strokeColors,b=t.polygons.strokeWidth,y=t.graphics.drawPolygon(f,Array.isArray(m)?m[p]:m,Array.isArray(b)?b[p]:b,n.globals.radarPolygons.fill.colors[p]);r.add(y)}),d.forEach(function(f){r.add(f)}),n.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(f,p){var m=s.drawYAxisTexts(f.x,f.y,p,o[p]);t.yaxisLabels.add(m)})}},{key:"drawXAxisTexts",value:function(){var e=this,t=this.w,n=t.config.xaxis.labels,r=this.graphics.group({class:"apexcharts-xaxis"}),s=H.getPolygonPos(this.size,this.dataPointsLen);return t.globals.labels.forEach(function(o,a){var l=t.config.xaxis.labels.formatter,c=new mo(e.ctx);if(s[a]){var h=e.getTextPos(s[a],e.size),u=l(o,{seriesIndex:-1,dataPointIndex:a,w:t});c.plotDataLabelsText({x:h.newX,y:h.newY,text:u,textAnchor:h.textAnchor,i:a,j:a,parent:r,className:"apexcharts-xaxis-label",color:Array.isArray(n.style.colors)&&n.style.colors[a]?n.style.colors[a]:"#a8a8a8",dataLabelsConfig:xe({textAnchor:h.textAnchor,dropShadow:{enabled:!1}},n),offsetCorrection:!1}).on("click",function(d){if(typeof t.config.chart.events.xAxisLabelClick=="function"){var f=Object.assign({},t,{labelIndex:a});t.config.chart.events.xAxisLabelClick(d,e.ctx,f)}})}}),r}},{key:"createPaths",value:function(e,t){var n=this,r=[],s=[],o=[],a=[];if(e.length){s=[this.graphics.move(t.x,t.y)],a=[this.graphics.move(t.x,t.y)];var l=this.graphics.move(e[0].x,e[0].y),c=this.graphics.move(e[0].x,e[0].y);e.forEach(function(h,u){l+=n.graphics.line(h.x,h.y),c+=n.graphics.line(h.x,h.y),u===e.length-1&&(l+="Z",c+="Z")}),r.push(l),o.push(c)}return{linePathsFrom:s,linePathsTo:r,areaPathsFrom:a,areaPathsTo:o}}},{key:"getTextPos",value:function(e,t){var n="middle",r=e.x,s=e.y;return Math.abs(e.x)>=10?e.x>0?(n="start",r+=10):e.x<0&&(n="end",r-=10):n="middle",Math.abs(e.y)>=t-10&&(e.y<0?s-=10:e.y>0&&(s+=10)),{textAnchor:n,newX:r,newY:s}}},{key:"getPreviousPath",value:function(e){for(var t=this.w,n=null,r=0;r<t.globals.previousPaths.length;r++){var s=t.globals.previousPaths[r];s.paths.length>0&&parseInt(s.realIndex,10)===parseInt(e,10)&&t.globals.previousPaths[r].paths[0]!==void 0&&(n=t.globals.previousPaths[r].paths[0].d)}return n}},{key:"getDataPointsPos",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;e=e||[],t=t||[];for(var r=[],s=0;s<n;s++){var o={};o.x=e[s]*Math.sin(t[s]),o.y=-e[s]*Math.cos(t[s]),r.push(o)}return r}}]),i}(),AA=function(i){wa(t,Nb);var e=va(t);function t(n){var r;Ee(this,t),(r=e.call(this,n)).ctx=n,r.w=n.w,r.animBeginArr=[0],r.animDur=0;var s=r.w;return r.startAngle=s.config.plotOptions.radialBar.startAngle,r.endAngle=s.config.plotOptions.radialBar.endAngle,r.totalAngle=Math.abs(s.config.plotOptions.radialBar.endAngle-s.config.plotOptions.radialBar.startAngle),r.trackStartAngle=s.config.plotOptions.radialBar.track.startAngle,r.trackEndAngle=s.config.plotOptions.radialBar.track.endAngle,r.barLabels=r.w.config.plotOptions.radialBar.barLabels,r.donutDataLabels=r.w.config.plotOptions.radialBar.dataLabels,r.radialDataLabels=r.donutDataLabels,r.trackStartAngle||(r.trackStartAngle=r.startAngle),r.trackEndAngle||(r.trackEndAngle=r.endAngle),r.endAngle===360&&(r.endAngle=359.99),r.margin=parseInt(s.config.plotOptions.radialBar.track.margin,10),r.onBarLabelClick=r.onBarLabelClick.bind(Dx(r)),r}return Oe(t,[{key:"draw",value:function(n){var r=this.w,s=new oe(this.ctx),o=s.group({class:"apexcharts-radialbar"});if(r.globals.noData)return o;var a=s.group(),l=this.defaultSize/2,c=r.globals.gridWidth/2,h=this.defaultSize/2.05;r.config.chart.sparkline.enabled||(h=h-r.config.stroke.width-r.config.chart.dropShadow.blur);var u=r.globals.fill.colors;if(r.config.plotOptions.radialBar.track.show){var d=this.drawTracks({size:h,centerX:c,centerY:l,colorArr:u,series:n});a.add(d)}var f=this.drawArcs({size:h,centerX:c,centerY:l,colorArr:u,series:n}),p=360;r.config.plotOptions.radialBar.startAngle<0&&(p=this.totalAngle);var m=(360-p)/360;if(r.globals.radialSize=h-h*m,this.radialDataLabels.value.show){var b=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);r.globals.radialSize+=b*m}return a.add(f.g),r.config.plotOptions.radialBar.hollow.position==="front"&&(f.g.add(f.elHollow),f.dataLabels&&f.g.add(f.dataLabels)),o.add(a),o}},{key:"drawTracks",value:function(n){var r=this.w,s=new oe(this.ctx),o=s.group({class:"apexcharts-tracks"}),a=new un(this.ctx),l=new Ai(this.ctx),c=this.getStrokeWidth(n);n.size=n.size-c/2;for(var h=0;h<n.series.length;h++){var u=s.group({class:"apexcharts-radialbar-track apexcharts-track"});o.add(u),u.attr({rel:h+1}),n.size=n.size-c-this.margin;var d=r.config.plotOptions.radialBar.track,f=l.fillPath({seriesNumber:0,size:n.size,fillColors:Array.isArray(d.background)?d.background[h]:d.background,solid:!0}),p=this.trackStartAngle,m=this.trackEndAngle;Math.abs(m)+Math.abs(p)>=360&&(m=360-Math.abs(this.startAngle)-.1);var b=s.drawPath({d:"",stroke:f,strokeWidth:c*parseInt(d.strokeWidth,10)/100,fill:"none",strokeOpacity:d.opacity,classes:"apexcharts-radialbar-area"});if(d.dropShadow.enabled){var y=d.dropShadow;a.dropShadow(b,y)}u.add(b),b.attr("id","apexcharts-radialbarTrack-"+h),this.animatePaths(b,{centerX:n.centerX,centerY:n.centerY,endAngle:m,startAngle:p,size:n.size,i:h,totalItems:2,animBeginArr:0,dur:0,isTrack:!0})}return o}},{key:"drawArcs",value:function(n){var r=this.w,s=new oe(this.ctx),o=new Ai(this.ctx),a=new un(this.ctx),l=s.group(),c=this.getStrokeWidth(n);n.size=n.size-c/2;var h=r.config.plotOptions.radialBar.hollow.background,u=n.size-c*n.series.length-this.margin*n.series.length-c*parseInt(r.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,d=u-r.config.plotOptions.radialBar.hollow.margin;r.config.plotOptions.radialBar.hollow.image!==void 0&&(h=this.drawHollowImage(n,l,u,h));var f=this.drawHollow({size:d,centerX:n.centerX,centerY:n.centerY,fill:h||"transparent"});if(r.config.plotOptions.radialBar.hollow.dropShadow.enabled){var p=r.config.plotOptions.radialBar.hollow.dropShadow;a.dropShadow(f,p)}var m=1;!this.radialDataLabels.total.show&&r.globals.series.length>1&&(m=0);var b=null;if(this.radialDataLabels.show){var y=r.globals.dom.Paper.findOne(".apexcharts-datalabels-group");b=this.renderInnerDataLabels(y,this.radialDataLabels,{hollowSize:u,centerX:n.centerX,centerY:n.centerY,opacity:m})}r.config.plotOptions.radialBar.hollow.position==="back"&&(l.add(f),b&&l.add(b));var w=!1;r.config.plotOptions.radialBar.inverseOrder&&(w=!0);for(var C=w?n.series.length-1:0;w?C>=0:C<n.series.length;w?C--:C++){var T=s.group({class:"apexcharts-series apexcharts-radial-series",seriesName:H.escapeString(r.globals.seriesNames[C])});l.add(T),T.attr({rel:C+1,"data:realIndex":C}),this.ctx.series.addCollapsedClassToSeries(T,C),n.size=n.size-c-this.margin;var S=o.fillPath({seriesNumber:C,size:n.size,value:n.series[C]}),E=this.startAngle,M=void 0,I=H.negToZero(n.series[C]>100?100:n.series[C])/100,P=Math.round(this.totalAngle*I)+this.startAngle,N=void 0;r.globals.dataChanged&&(M=this.startAngle,N=Math.round(this.totalAngle*H.negToZero(r.globals.previousPaths[C])/100)+M),Math.abs(P)+Math.abs(E)>360&&(P-=.01),Math.abs(N)+Math.abs(M)>360&&(N-=.01);var D=P-E,_=Array.isArray(r.config.stroke.dashArray)?r.config.stroke.dashArray[C]:r.config.stroke.dashArray,$=s.drawPath({d:"",stroke:S,strokeWidth:c,fill:"none",fillOpacity:r.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+C,strokeDashArray:_});if(oe.setAttrs($.node,{"data:angle":D,"data:value":n.series[C]}),r.config.chart.dropShadow.enabled){var U=r.config.chart.dropShadow;a.dropShadow($,U,C)}if(a.setSelectionFilter($,0,C),this.addListeners($,this.radialDataLabels),T.add($),$.attr({index:0,j:C}),this.barLabels.enabled){var re=H.polarToCartesian(n.centerX,n.centerY,n.size,E),ne=this.barLabels.formatter(r.globals.seriesNames[C],{seriesIndex:C,w:r}),ie=["apexcharts-radialbar-label"];this.barLabels.onClick||ie.push("apexcharts-no-click");var ae=this.barLabels.useSeriesColors?r.globals.colors[C]:r.config.chart.foreColor;ae||(ae=r.config.chart.foreColor);var Me=re.x+this.barLabels.offsetX,Re=re.y+this.barLabels.offsetY,Ne=s.drawText({x:Me,y:Re,text:ne,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:ae,cssClass:ie.join(" ")});Ne.on("click",this.onBarLabelClick),Ne.attr({rel:C+1}),E!==0&&Ne.attr({"transform-origin":"".concat(Me," ").concat(Re),transform:"rotate(".concat(E," 0 0)")}),T.add(Ne)}var Qe=0;!this.initialAnim||r.globals.resized||r.globals.dataChanged||(Qe=r.config.chart.animations.speed),r.globals.dataChanged&&(Qe=r.config.chart.animations.dynamicAnimation.speed),this.animDur=Qe/(1.2*n.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths($,{centerX:n.centerX,centerY:n.centerY,endAngle:P,startAngle:E,prevEndAngle:N,prevStartAngle:M,size:n.size,i:C,totalItems:2,animBeginArr:this.animBeginArr,dur:Qe,shouldSetPrevPaths:!0})}return{g:l,elHollow:f,dataLabels:b}}},{key:"drawHollow",value:function(n){var r=new oe(this.ctx).drawCircle(2*n.size);return r.attr({class:"apexcharts-radialbar-hollow",cx:n.centerX,cy:n.centerY,r:n.size,fill:n.fill}),r}},{key:"drawHollowImage",value:function(n,r,s,o){var a=this.w,l=new Ai(this.ctx),c=H.randomId(),h=a.config.plotOptions.radialBar.hollow.image;if(a.config.plotOptions.radialBar.hollow.imageClipped)l.clippedImgArea({width:s,height:s,image:h,patternID:"pattern".concat(a.globals.cuid).concat(c)}),o="url(#pattern".concat(a.globals.cuid).concat(c,")");else{var u=a.config.plotOptions.radialBar.hollow.imageWidth,d=a.config.plotOptions.radialBar.hollow.imageHeight;if(u===void 0&&d===void 0){var f=a.globals.dom.Paper.image(h,function(m){this.move(n.centerX-m.width/2+a.config.plotOptions.radialBar.hollow.imageOffsetX,n.centerY-m.height/2+a.config.plotOptions.radialBar.hollow.imageOffsetY)});r.add(f)}else{var p=a.globals.dom.Paper.image(h,function(m){this.move(n.centerX-u/2+a.config.plotOptions.radialBar.hollow.imageOffsetX,n.centerY-d/2+a.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(u,d)});r.add(p)}}return o}},{key:"getStrokeWidth",value:function(n){var r=this.w;return n.size*(100-parseInt(r.config.plotOptions.radialBar.hollow.size,10))/100/(n.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(n){var r=parseInt(n.target.getAttribute("rel"),10)-1,s=this.barLabels.onClick,o=this.w;s&&s(o.globals.seriesNames[r],{w:o,seriesIndex:r})}}]),t}(),MA=function(i){wa(t,xo);var e=va(t);function t(){return Ee(this,t),e.apply(this,arguments)}return Oe(t,[{key:"draw",value:function(n,r){var s=this.w,o=new oe(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=n,this.seriesRangeStart=s.globals.seriesRangeStart,this.seriesRangeEnd=s.globals.seriesRangeEnd,this.barHelpers.initVariables(n);for(var a=o.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),l=0;l<n.length;l++){var c,h,u,d,f=void 0,p=void 0,m=s.globals.comboCharts?r[l]:l,b=this.barHelpers.getGroupIndex(m).columnGroupIndex,y=o.group({class:"apexcharts-series",seriesName:H.escapeString(s.globals.seriesNames[m]),rel:l+1,"data:realIndex":m});this.ctx.series.addCollapsedClassToSeries(y,m),n[l].length>0&&(this.visibleI=this.visibleI+1);var w=0,C=0,T=0;this.yRatio.length>1&&(this.yaxisIndex=s.globals.seriesYAxisReverseMap[m][0],T=m);var S=this.barHelpers.initialPositions(m);p=S.y,d=S.zeroW,f=S.x,C=S.barWidth,w=S.barHeight,c=S.xDivision,h=S.yDivision,u=S.zeroH;for(var E=o.group({class:"apexcharts-datalabels","data:realIndex":m}),M=o.group({class:"apexcharts-rangebar-goals-markers"}),I=0;I<s.globals.dataPoints;I++){var P=this.barHelpers.getStrokeWidth(l,I,m),N=this.seriesRangeStart[l][I],D=this.seriesRangeEnd[l][I],_=null,$=null,U=null,re={x:f,y:p,strokeWidth:P,elSeries:y},ne=this.seriesLen;if(s.config.plotOptions.bar.rangeBarGroupRows&&(ne=1),s.config.series[l].data[I]===void 0)break;if(this.isHorizontal){U=p+w*this.visibleI;var ie=(h-w*ne)/2;if(s.config.series[l].data[I].x){var ae=this.detectOverlappingBars({i:l,j:I,barYPosition:U,srty:ie,barHeight:w,yDivision:h,initPositions:S});w=ae.barHeight,U=ae.barYPosition}C=(_=this.drawRangeBarPaths(xe({indexes:{i:l,j:I,realIndex:m},barHeight:w,barYPosition:U,zeroW:d,yDivision:h,y1:N,y2:D},re))).barWidth}else{s.globals.isXNumeric&&(f=(s.globals.seriesX[l][I]-s.globals.minX)/this.xRatio-C/2),$=f+C*this.visibleI;var Me=(c-C*ne)/2;if(s.config.series[l].data[I].x){var Re=this.detectOverlappingBars({i:l,j:I,barXPosition:$,srtx:Me,barWidth:C,xDivision:c,initPositions:S});C=Re.barWidth,$=Re.barXPosition}w=(_=this.drawRangeColumnPaths(xe({indexes:{i:l,j:I,realIndex:m,translationsIndex:T},barWidth:C,barXPosition:$,zeroH:u,xDivision:c},re))).barHeight}var Ne=this.barHelpers.drawGoalLine({barXPosition:_.barXPosition,barYPosition:U,goalX:_.goalX,goalY:_.goalY,barHeight:w,barWidth:C});Ne&&M.add(Ne),p=_.y,f=_.x;var Qe=this.barHelpers.getPathFillColor(n,l,I,m);this.renderSeries({realIndex:m,pathFill:Qe.color,lineFill:Qe.useRangeColor?Qe.color:s.globals.stroke.colors[m],j:I,i:l,x:f,y:p,y1:N,y2:D,pathFrom:_.pathFrom,pathTo:_.pathTo,strokeWidth:P,elSeries:y,series:n,barHeight:w,barWidth:C,barXPosition:$,barYPosition:U,columnGroupIndex:b,elDataLabelsWrap:E,elGoalsMarkers:M,visibleSeries:this.visibleI,type:"rangebar"})}a.add(y)}return a}},{key:"detectOverlappingBars",value:function(n){var r=n.i,s=n.j,o=n.barYPosition,a=n.barXPosition,l=n.srty,c=n.srtx,h=n.barHeight,u=n.barWidth,d=n.yDivision,f=n.xDivision,p=n.initPositions,m=this.w,b=[],y=m.config.series[r].data[s].rangeName,w=m.config.series[r].data[s].x,C=Array.isArray(w)?w.join(" "):w,T=m.globals.labels.map(function(E){return Array.isArray(E)?E.join(" "):E}).indexOf(C),S=m.globals.seriesRange[r].findIndex(function(E){return E.x===C&&E.overlaps.length>0});return this.isHorizontal?(o=m.config.plotOptions.bar.rangeBarGroupRows?l+d*T:l+h*this.visibleI+d*T,S>-1&&!m.config.plotOptions.bar.rangeBarOverlap&&(b=m.globals.seriesRange[r][S].overlaps).indexOf(y)>-1&&(o=(h=p.barHeight/b.length)*this.visibleI+d*(100-parseInt(this.barOptions.barHeight,10))/100/2+h*(this.visibleI+b.indexOf(y))+d*T)):(T>-1&&!m.globals.timescaleLabels.length&&(a=m.config.plotOptions.bar.rangeBarGroupRows?c+f*T:c+u*this.visibleI+f*T),S>-1&&!m.config.plotOptions.bar.rangeBarOverlap&&(b=m.globals.seriesRange[r][S].overlaps).indexOf(y)>-1&&(a=(u=p.barWidth/b.length)*this.visibleI+f*(100-parseInt(this.barOptions.barWidth,10))/100/2+u*(this.visibleI+b.indexOf(y))+f*T)),{barYPosition:o,barXPosition:a,barHeight:h,barWidth:u}}},{key:"drawRangeColumnPaths",value:function(n){var r=n.indexes,s=n.x,o=n.xDivision,a=n.barWidth,l=n.barXPosition,c=n.zeroH,h=this.w,u=r.i,d=r.j,f=r.realIndex,p=r.translationsIndex,m=this.yRatio[p],b=this.getRangeValue(f,d),y=Math.min(b.start,b.end),w=Math.max(b.start,b.end);this.series[u][d]===void 0||this.series[u][d]===null?y=c:(y=c-y/m,w=c-w/m);var C=Math.abs(w-y),T=this.barHelpers.getColumnPaths({barXPosition:l,barWidth:a,y1:y,y2:w,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:f,i:f,j:d,w:h});if(h.globals.isXNumeric){var S=this.getBarXForNumericXAxis({x:s,j:d,realIndex:f,barWidth:a});s=S.x,l=S.barXPosition}else s+=o;return{pathTo:T.pathTo,pathFrom:T.pathFrom,barHeight:C,x:s,y:b.start<0&&b.end<0?y:w,goalY:this.barHelpers.getGoalValues("y",null,c,u,d,p),barXPosition:l}}},{key:"preventBarOverflow",value:function(n){var r=this.w;return n<0&&(n=0),n>r.globals.gridWidth&&(n=r.globals.gridWidth),n}},{key:"drawRangeBarPaths",value:function(n){var r=n.indexes,s=n.y,o=n.y1,a=n.y2,l=n.yDivision,c=n.barHeight,h=n.barYPosition,u=n.zeroW,d=this.w,f=r.realIndex,p=r.j,m=this.preventBarOverflow(u+o/this.invertedYRatio),b=this.preventBarOverflow(u+a/this.invertedYRatio),y=this.getRangeValue(f,p),w=Math.abs(b-m),C=this.barHelpers.getBarpaths({barYPosition:h,barHeight:c,x1:m,x2:b,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:f,realIndex:f,j:p,w:d});return d.globals.isXNumeric||(s+=l),{pathTo:C.pathTo,pathFrom:C.pathFrom,barWidth:w,x:y.start<0&&y.end<0?m:b,goalX:this.barHelpers.getGoalValues("x",u,null,f,p),y:s}}},{key:"getRangeValue",value:function(n,r){var s=this.w;return{start:s.globals.seriesRangeStart[n][r],end:s.globals.seriesRangeEnd[n][r]}}}]),t}(),TA=function(){function i(e){Ee(this,i),this.w=e.w,this.lineCtx=e}return Oe(i,[{key:"sameValueSeriesFix",value:function(e,t){var n=this.w;if((n.config.fill.type==="gradient"||n.config.fill.type[e]==="gradient")&&new Bt(this.lineCtx.ctx,n).seriesHaveSameValues(e)){var r=t[e].slice();r[r.length-1]=r[r.length-1]+1e-6,t[e]=r}return t}},{key:"calculatePoints",value:function(e){var t=e.series,n=e.realIndex,r=e.x,s=e.y,o=e.i,a=e.j,l=e.prevY,c=this.w,h=[],u=[],d=this.lineCtx.categoryAxisCorrection+c.config.markers.offsetX;return c.globals.isXNumeric&&(d=(c.globals.seriesX[n][0]-c.globals.minX)/this.lineCtx.xRatio+c.config.markers.offsetX),a===0&&(h.push(d),u.push(H.isNumber(t[o][0])?l+c.config.markers.offsetY:null)),h.push(r+c.config.markers.offsetX),u.push(H.isNumber(t[o][a+1])?s+c.config.markers.offsetY:null),{x:h,y:u}}},{key:"checkPreviousPaths",value:function(e){for(var t=e.pathFromLine,n=e.pathFromArea,r=e.realIndex,s=this.w,o=0;o<s.globals.previousPaths.length;o++){var a=s.globals.previousPaths[o];(a.type==="line"||a.type==="area")&&a.paths.length>0&&parseInt(a.realIndex,10)===parseInt(r,10)&&(a.type==="line"?(this.lineCtx.appendPathFrom=!1,t=s.globals.previousPaths[o].paths[0].d):a.type==="area"&&(this.lineCtx.appendPathFrom=!1,n=s.globals.previousPaths[o].paths[0].d,s.config.stroke.show&&s.globals.previousPaths[o].paths[1]&&(t=s.globals.previousPaths[o].paths[1].d)))}return{pathFromLine:t,pathFromArea:n}}},{key:"determineFirstPrevY",value:function(e){var t,n,r,s=e.i,o=e.realIndex,a=e.series,l=e.prevY,c=e.lineYPosition,h=e.translationsIndex,u=this.w,d=u.config.chart.stacked&&!u.globals.comboCharts||u.config.chart.stacked&&u.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[o])===null||t===void 0?void 0:t.type)==="bar"||((n=this.w.config.series[o])===null||n===void 0?void 0:n.type)==="column");if(((r=a[s])===null||r===void 0?void 0:r[0])!==void 0)l=(c=d&&s>0?this.lineCtx.prevSeriesY[s-1][0]:this.lineCtx.zeroY)-a[s][0]/this.lineCtx.yRatio[h]+2*(this.lineCtx.isReversed?a[s][0]/this.lineCtx.yRatio[h]:0);else if(d&&s>0&&a[s][0]===void 0){for(var f=s-1;f>=0;f--)if(a[f][0]!==null&&a[f][0]!==void 0){l=c=this.lineCtx.prevSeriesY[f][0];break}}return{prevY:l,lineYPosition:c}}}]),i}(),EA=function(i){for(var e,t,n,r,s=function(h){for(var u=[],d=h[0],f=h[1],p=u[0]=jd(d,f),m=1,b=h.length-1;m<b;m++)d=f,f=h[m+1],u[m]=.5*(p+(p=jd(d,f)));return u[m]=p,u}(i),o=i.length-1,a=[],l=0;l<o;l++)n=jd(i[l],i[l+1]),Math.abs(n)<1e-6?s[l]=s[l+1]=0:(r=(e=s[l]/n)*e+(t=s[l+1]/n)*t)>9&&(r=3*n/Math.sqrt(r),s[l]=r*e,s[l+1]=r*t);for(var c=0;c<=o;c++)r=(i[Math.min(o,c+1)][0]-i[Math.max(0,c-1)][0])/(6*(1+s[c]*s[c])),a.push([r||0,s[c]*r||0]);return a},OA=function(i){var e=EA(i),t=i[1],n=i[0],r=[],s=e[1],o=e[0];r.push(n,[n[0]+o[0],n[1]+o[1],t[0]-s[0],t[1]-s[1],t[0],t[1]]);for(var a=2,l=e.length;a<l;a++){var c=i[a],h=e[a];r.push([c[0]-h[0],c[1]-h[1],c[0],c[1]])}return r},IA=function(i,e,t){var n=i.slice(e,t);if(e){if(t-e>1&&n[1].length<6){var r=n[0].length;n[1]=[2*n[0][r-2]-n[0][r-4],2*n[0][r-1]-n[0][r-3]].concat(n[1])}n[0]=n[0].slice(-2)}return n};function jd(i,e){return(e[1]-i[1])/(e[0]-i[0])}var Vd=function(){function i(e,t,n){Ee(this,i),this.ctx=e,this.w=e.w,this.xyRatios=t,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||n,this.scatter=new Ab(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new TA(this),this.markers=new go(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return Oe(i,[{key:"draw",value:function(e,t,n,r){var s,o=this.w,a=new oe(this.ctx),l=o.globals.comboCharts?t:o.config.chart.type,c=a.group({class:"apexcharts-".concat(l,"-series apexcharts-plot-series")}),h=new Bt(this.ctx,o);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=h.getLogSeries(e),this.yRatio=h.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var u=[],d=0;d<e.length;d++){e=this.lineHelpers.sameValueSeriesFix(d,e);var f=o.globals.comboCharts?n[d]:d,p=this.yRatio.length>1?f:0;this._initSerieVariables(e,d,f);var m=[],b=[],y=[],w=o.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,f),o.globals.isXNumeric&&o.globals.seriesX.length>0&&(w=(o.globals.seriesX[f][0]-o.globals.minX)/this.xRatio),y.push(w);var C,T=w,S=void 0,E=T,M=this.zeroY,I=this.zeroY;M=this.lineHelpers.determineFirstPrevY({i:d,realIndex:f,series:e,prevY:M,lineYPosition:0,translationsIndex:p}).prevY,o.config.stroke.curve==="monotoneCubic"&&e[d][0]===null?m.push(null):m.push(M),C=M,l==="rangeArea"&&(S=I=this.lineHelpers.determineFirstPrevY({i:d,realIndex:f,series:r,prevY:I,lineYPosition:0,translationsIndex:p}).prevY,b.push(m[0]!==null?I:null));var P=this._calculatePathsFrom({type:l,series:e,i:d,realIndex:f,translationsIndex:p,prevX:E,prevY:M,prevY2:I}),N=[m[0]],D=[b[0]],_={type:l,series:e,realIndex:f,translationsIndex:p,i:d,x:w,y:1,pX:T,pY:C,pathsFrom:P,linePaths:[],areaPaths:[],seriesIndex:n,lineYPosition:0,xArrj:y,yArrj:m,y2Arrj:b,seriesRangeEnd:r},$=this._iterateOverDataPoints(xe(xe({},_),{},{iterations:l==="rangeArea"?e[d].length-1:void 0,isRangeStart:!0}));if(l==="rangeArea"){for(var U=this._calculatePathsFrom({series:r,i:d,realIndex:f,prevX:E,prevY:I}),re=this._iterateOverDataPoints(xe(xe({},_),{},{series:r,xArrj:[w],yArrj:N,y2Arrj:D,pY:S,areaPaths:$.areaPaths,pathsFrom:U,iterations:r[d].length-1,isRangeStart:!1})),ne=$.linePaths.length/2,ie=0;ie<ne;ie++)$.linePaths[ie]=re.linePaths[ie+ne]+$.linePaths[ie];$.linePaths.splice(ne),$.pathFromLine=re.pathFromLine+$.pathFromLine}else $.pathFromArea+="z";this._handlePaths({type:l,realIndex:f,i:d,paths:$}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),u.push(this.elSeries)}if(((s=o.config.series[0])===null||s===void 0?void 0:s.zIndex)!==void 0&&u.sort(function(Re,Ne){return Number(Re.node.getAttribute("zIndex"))-Number(Ne.node.getAttribute("zIndex"))}),o.config.chart.stacked)for(var ae=u.length-1;ae>=0;ae--)c.add(u[ae]);else for(var Me=0;Me<u.length;Me++)c.add(u[Me]);return c}},{key:"_initSerieVariables",value:function(e,t,n){var r=this.w,s=new oe(this.ctx);this.xDivision=r.globals.gridWidth/(r.globals.dataPoints-(r.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(r.config.stroke.width)?r.config.stroke.width[n]:r.config.stroke.width;var o=0;if(this.yRatio.length>1&&(this.yaxisIndex=r.globals.seriesYAxisReverseMap[n],o=n),this.isReversed=r.config.yaxis[this.yaxisIndex]&&r.config.yaxis[this.yaxisIndex].reversed,this.zeroY=r.globals.gridHeight-this.baseLineY[o]-(this.isReversed?r.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[o]:0),this.areaBottomY=this.zeroY,(this.zeroY>r.globals.gridHeight||r.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=r.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=s.group({class:"apexcharts-series",zIndex:r.config.series[n].zIndex!==void 0?r.config.series[n].zIndex:n,seriesName:H.escapeString(r.globals.seriesNames[n])}),this.elPointsMain=s.group({class:"apexcharts-series-markers-wrap","data:realIndex":n}),r.globals.hasNullValues){var a=this.markers.plotChartMarkers({pointsPos:{x:[0],y:[r.globals.gridHeight+r.globals.markers.largestSize]},seriesIndex:t,j:0,pSize:.1,alwaysDrawMarker:!0,isVirtualPoint:!0});a!==null&&this.elPointsMain.add(a)}this.elDataLabelsWrap=s.group({class:"apexcharts-datalabels","data:realIndex":n});var l=e[t].length===r.globals.dataPoints;this.elSeries.attr({"data:longestSeries":l,rel:t+1,"data:realIndex":n}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var t,n,r,s,o=e.type,a=e.series,l=e.i,c=e.realIndex,h=e.translationsIndex,u=e.prevX,d=e.prevY,f=e.prevY2,p=this.w,m=new oe(this.ctx);if(a[l][0]===null){for(var b=0;b<a[l].length;b++)if(a[l][b]!==null){u=this.xDivision*b,d=this.zeroY-a[l][b]/this.yRatio[h],t=m.move(u,d),n=m.move(u,this.areaBottomY);break}}else t=m.move(u,d),o==="rangeArea"&&(t=m.move(u,f)+m.line(u,d)),n=m.move(u,this.areaBottomY)+m.line(u,d);if(r=m.move(0,this.areaBottomY)+m.line(0,this.areaBottomY),s=m.move(0,this.areaBottomY)+m.line(0,this.areaBottomY),p.globals.previousPaths.length>0){var y=this.lineHelpers.checkPreviousPaths({pathFromLine:r,pathFromArea:s,realIndex:c});r=y.pathFromLine,s=y.pathFromArea}return{prevX:u,prevY:d,linePath:t,areaPath:n,pathFromLine:r,pathFromArea:s}}},{key:"_handlePaths",value:function(e){var t=e.type,n=e.realIndex,r=e.i,s=e.paths,o=this.w,a=new oe(this.ctx),l=new Ai(this.ctx);this.prevSeriesY.push(s.yArrj),o.globals.seriesXvalues[n]=s.xArrj,o.globals.seriesYvalues[n]=s.yArrj;var c=o.config.forecastDataPoints;if(c.count>0&&t!=="rangeArea"){var h=o.globals.seriesXvalues[n][o.globals.seriesXvalues[n].length-c.count-1],u=a.drawRect(h,0,o.globals.gridWidth,o.globals.gridHeight,0);o.globals.dom.elForecastMask.appendChild(u.node);var d=a.drawRect(0,0,h,o.globals.gridHeight,0);o.globals.dom.elNonForecastMask.appendChild(d.node)}this.pointsChart||o.globals.delayedElements.push({el:this.elPointsMain.node,index:n});var f={i:r,realIndex:n,animationDelay:r,initialSpeed:o.config.chart.animations.speed,dataChangeSpeed:o.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(t)};if(t==="area")for(var p=l.fillPath({seriesNumber:n}),m=0;m<s.areaPaths.length;m++){var b=a.renderPaths(xe(xe({},f),{},{pathFrom:s.pathFromArea,pathTo:s.areaPaths[m],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:p}));this.elSeries.add(b)}if(o.config.stroke.show&&!this.pointsChart){var y=null;if(t==="line")y=l.fillPath({seriesNumber:n,i:r});else if(o.config.stroke.fill.type==="solid")y=o.globals.stroke.colors[n];else{var w=o.config.fill;o.config.fill=o.config.stroke.fill,y=l.fillPath({seriesNumber:n,i:r}),o.config.fill=w}for(var C=0;C<s.linePaths.length;C++){var T=y;t==="rangeArea"&&(T=l.fillPath({seriesNumber:n}));var S=xe(xe({},f),{},{pathFrom:s.pathFromLine,pathTo:s.linePaths[C],stroke:y,strokeWidth:this.strokeWidth,strokeLineCap:o.config.stroke.lineCap,fill:t==="rangeArea"?T:"none"}),E=a.renderPaths(S);if(this.elSeries.add(E),E.attr("fill-rule","evenodd"),c.count>0&&t!=="rangeArea"){var M=a.renderPaths(S);M.node.setAttribute("stroke-dasharray",c.dashArray),c.strokeWidth&&M.node.setAttribute("stroke-width",c.strokeWidth),this.elSeries.add(M),M.attr("clip-path","url(#forecastMask".concat(o.globals.cuid,")")),E.attr("clip-path","url(#nonForecastMask".concat(o.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){var t,n,r=this,s=e.type,o=e.series,a=e.iterations,l=e.realIndex,c=e.translationsIndex,h=e.i,u=e.x,d=e.y,f=e.pX,p=e.pY,m=e.pathsFrom,b=e.linePaths,y=e.areaPaths,w=e.seriesIndex,C=e.lineYPosition,T=e.xArrj,S=e.yArrj,E=e.y2Arrj,M=e.isRangeStart,I=e.seriesRangeEnd,P=this.w,N=new oe(this.ctx),D=this.yRatio,_=m.prevY,$=m.linePath,U=m.areaPath,re=m.pathFromLine,ne=m.pathFromArea,ie=H.isNumber(P.globals.minYArr[l])?P.globals.minYArr[l]:P.globals.minY;a||(a=P.globals.dataPoints>1?P.globals.dataPoints-1:P.globals.dataPoints);var ae=function(Ce,Tt){return Tt-Ce/D[c]+2*(r.isReversed?Ce/D[c]:0)},Me=d,Re=P.config.chart.stacked&&!P.globals.comboCharts||P.config.chart.stacked&&P.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[l])===null||t===void 0?void 0:t.type)==="bar"||((n=this.w.config.series[l])===null||n===void 0?void 0:n.type)==="column"),Ne=P.config.stroke.curve;Array.isArray(Ne)&&(Ne=Array.isArray(w)?Ne[w[h]]:Ne[h]);for(var Qe,st=0,Ge=0;Ge<a&&o[h].length!==0;Ge++){var Mt=o[h][Ge+1]===void 0||o[h][Ge+1]===null;if(P.globals.isXNumeric){var Ue=P.globals.seriesX[l][Ge+1];P.globals.seriesX[l][Ge+1]===void 0&&(Ue=P.globals.seriesX[l][a-1]),u=(Ue-P.globals.minX)/this.xRatio}else u+=this.xDivision;Re?h>0&&P.globals.collapsedSeries.length<P.config.series.length-1?C=this.prevSeriesY[function(Ce){for(var Tt=Ce;Tt>0;Tt--){if(!(P.globals.collapsedSeriesIndices.indexOf((w==null?void 0:w[Tt])||Tt)>-1))return Tt;Tt--}return 0}(h-1)][Ge+1]:C=this.zeroY:C=this.zeroY,Mt?d=ae(ie,C):(d=ae(o[h][Ge+1],C),s==="rangeArea"&&(Me=ae(I[h][Ge+1],C))),T.push(o[h][Ge+1]===null?null:u),!Mt||P.config.stroke.curve!=="smooth"&&P.config.stroke.curve!=="monotoneCubic"?(S.push(d),E.push(Me)):(S.push(null),E.push(null));var $e=this.lineHelpers.calculatePoints({series:o,x:u,y:d,realIndex:l,i:h,j:Ge,prevY:_}),at=this._createPaths({type:s,series:o,i:h,realIndex:l,j:Ge,x:u,y:d,y2:Me,xArrj:T,yArrj:S,y2Arrj:E,pX:f,pY:p,pathState:st,segmentStartX:Qe,linePath:$,areaPath:U,linePaths:b,areaPaths:y,curve:Ne,isRangeStart:M});y=at.areaPaths,b=at.linePaths,f=at.pX,p=at.pY,st=at.pathState,Qe=at.segmentStartX,U=at.areaPath,$=at.linePath,!this.appendPathFrom||P.globals.hasNullValues||Ne==="monotoneCubic"&&s==="rangeArea"||(re+=N.line(u,this.areaBottomY),ne+=N.line(u,this.areaBottomY)),this.handleNullDataPoints(o,$e,h,Ge,l),this._handleMarkersAndLabels({type:s,pointsPos:$e,i:h,j:Ge,realIndex:l,isRangeStart:M})}return{yArrj:S,xArrj:T,pathFromArea:ne,areaPaths:y,pathFromLine:re,linePaths:b,linePath:$,areaPath:U}}},{key:"_handleMarkersAndLabels",value:function(e){var t=e.type,n=e.pointsPos,r=e.isRangeStart,s=e.i,o=e.j,a=e.realIndex,l=this.w,c=new mo(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,o,{realIndex:a,pointsPos:n,zRatio:this.zRatio,elParent:this.elPointsMain});else{l.globals.series[s].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var h=this.markers.plotChartMarkers({pointsPos:n,seriesIndex:a,j:o+1});h!==null&&this.elPointsMain.add(h)}var u=c.drawDataLabel({type:t,isRangeStart:r,pos:n,i:a,j:o+1});u!==null&&this.elDataLabelsWrap.add(u)}},{key:"_createPaths",value:function(e){var t=e.type,n=e.series,r=e.i;e.realIndex;var s,o=e.j,a=e.x,l=e.y,c=e.xArrj,h=e.yArrj,u=e.y2,d=e.y2Arrj,f=e.pX,p=e.pY,m=e.pathState,b=e.segmentStartX,y=e.linePath,w=e.areaPath,C=e.linePaths,T=e.areaPaths,S=e.curve,E=e.isRangeStart,M=new oe(this.ctx),I=this.areaBottomY,P=t==="rangeArea",N=t==="rangeArea"&&E;switch(S){case"monotoneCubic":var D=E?h:d;switch(m){case 0:if(D[o+1]===null)break;m=1;case 1:if(!(P?c.length===n[r].length:o===n[r].length-2))break;case 2:var _=E?c:c.slice().reverse(),$=E?D:D.slice().reverse(),U=(s=$,_.map(function(Ue,$e){return[Ue,s[$e]]}).filter(function(Ue){return Ue[1]!==null})),re=U.length>1?OA(U):U,ne=[];P&&(N?T=U:ne=T.reverse());var ie=0,ae=0;if(function(Ue,$e){for(var at=function(ht){var R=[],B=0;return ht.forEach(function(te){te!==null?B++:B>0&&(R.push(B),B=0)}),B>0&&R.push(B),R}(Ue),Ce=[],Tt=0,Et=0;Tt<at.length;Et+=at[Tt++])Ce[Tt]=IA($e,Et,Et+at[Tt]);return Ce}($,re).forEach(function(Ue){ie++;var $e=function(Tt){for(var Et="",ht=0;ht<Tt.length;ht++){var R=Tt[ht],B=R.length;B>4?(Et+="C".concat(R[0],", ").concat(R[1]),Et+=", ".concat(R[2],", ").concat(R[3]),Et+=", ".concat(R[4],", ").concat(R[5])):B>2&&(Et+="S".concat(R[0],", ").concat(R[1]),Et+=", ".concat(R[2],", ").concat(R[3]))}return Et}(Ue),at=ae,Ce=(ae+=Ue.length)-1;N?y=M.move(U[at][0],U[at][1])+$e:P?y=M.move(ne[at][0],ne[at][1])+M.line(U[at][0],U[at][1])+$e+M.line(ne[Ce][0],ne[Ce][1]):(y=M.move(U[at][0],U[at][1])+$e,w=y+M.line(U[Ce][0],I)+M.line(U[at][0],I)+"z",T.push(w)),C.push(y)}),P&&ie>1&&!N){var Me=C.slice(ie).reverse();C.splice(ie),Me.forEach(function(Ue){return C.push(Ue)})}m=0}break;case"smooth":var Re=.35*(a-f);if(n[r][o]===null)m=0;else switch(m){case 0:if(b=f,y=N?M.move(f,d[o])+M.line(f,p):M.move(f,p),w=M.move(f,p),n[r][o+1]===null||n[r][o+1]===void 0){C.push(y),T.push(w);break}if(m=1,o<n[r].length-2){var Ne=M.curve(f+Re,p,a-Re,l,a,l);y+=Ne,w+=Ne;break}case 1:if(n[r][o+1]===null)y+=N?M.line(f,u):M.move(f,p),w+=M.line(f,I)+M.line(b,I)+"z",C.push(y),T.push(w),m=-1;else{var Qe=M.curve(f+Re,p,a-Re,l,a,l);y+=Qe,w+=Qe,o>=n[r].length-2&&(N&&(y+=M.curve(a,l,a,l,a,u)+M.move(a,u)),w+=M.curve(a,l,a,l,a,I)+M.line(b,I)+"z",C.push(y),T.push(w),m=-1)}}f=a,p=l;break;default:var st=function(Ue,$e,at){var Ce=[];switch(Ue){case"stepline":Ce=M.line($e,null,"H")+M.line(null,at,"V");break;case"linestep":Ce=M.line(null,at,"V")+M.line($e,null,"H");break;case"straight":Ce=M.line($e,at)}return Ce};if(n[r][o]===null)m=0;else switch(m){case 0:if(b=f,y=N?M.move(f,d[o])+M.line(f,p):M.move(f,p),w=M.move(f,p),n[r][o+1]===null||n[r][o+1]===void 0){C.push(y),T.push(w);break}if(m=1,o<n[r].length-2){var Ge=st(S,a,l);y+=Ge,w+=Ge;break}case 1:if(n[r][o+1]===null)y+=N?M.line(f,u):M.move(f,p),w+=M.line(f,I)+M.line(b,I)+"z",C.push(y),T.push(w),m=-1;else{var Mt=st(S,a,l);y+=Mt,w+=Mt,o>=n[r].length-2&&(N&&(y+=M.line(a,u)),w+=M.line(a,I)+M.line(b,I)+"z",C.push(y),T.push(w),m=-1)}}f=a,p=l}return{linePaths:C,areaPaths:T,pX:f,pY:p,pathState:m,segmentStartX:b,linePath:y,areaPath:w}}},{key:"handleNullDataPoints",value:function(e,t,n,r,s){var o=this.w;if(e[n][r]===null&&o.config.markers.showNullDataPoints||e[n].length===1){var a=this.strokeWidth-o.config.markers.strokeWidth/2;a>0||(a=0);var l=this.markers.plotChartMarkers({pointsPos:t,seriesIndex:s,j:r+1,pSize:a,alwaysDrawMarker:!0});l!==null&&this.elPointsMain.add(l)}}}]),i}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function i(a,l,c,h){this.xoffset=a,this.yoffset=l,this.height=h,this.width=c,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(u){var d,f=[],p=this.xoffset,m=this.yoffset,b=s(u)/this.height,y=s(u)/this.width;if(this.width>=this.height)for(d=0;d<u.length;d++)f.push([p,m,p+b,m+u[d]/b]),m+=u[d]/b;else for(d=0;d<u.length;d++)f.push([p,m,p+u[d]/y,m+y]),p+=u[d]/y;return f},this.cutArea=function(u){var d;if(this.width>=this.height){var f=u/this.height,p=this.width-f;d=new i(this.xoffset+f,this.yoffset,p,this.height)}else{var m=u/this.width,b=this.height-m;d=new i(this.xoffset,this.yoffset+m,this.width,b)}return d}}function e(a,l,c,h,u){h=h===void 0?0:h,u=u===void 0?0:u;var d=t(function(f,p){var m,b=[],y=p/s(f);for(m=0;m<f.length;m++)b[m]=f[m]*y;return b}(a,l*c),[],new i(h,u,l,c),[]);return function(f){var p,m,b=[];for(p=0;p<f.length;p++)for(m=0;m<f[p].length;m++)b.push(f[p][m]);return b}(d)}function t(a,l,c,h){var u,d,f;if(a.length!==0)return u=c.shortestEdge(),function(p,m,b){var y;if(p.length===0)return!0;(y=p.slice()).push(m);var w=n(p,b),C=n(y,b);return w>=C}(l,d=a[0],u)?(l.push(d),t(a.slice(1),l,c,h)):(f=c.cutArea(s(l),h),h.push(c.getCoordinates(l)),t(a,[],f,h)),h;h.push(c.getCoordinates(l))}function n(a,l){var c=Math.min.apply(Math,a),h=Math.max.apply(Math,a),u=s(a);return Math.max(Math.pow(l,2)*h/Math.pow(u,2),Math.pow(u,2)/(Math.pow(l,2)*c))}function r(a){return a&&a.constructor===Array}function s(a){var l,c=0;for(l=0;l<a.length;l++)c+=a[l];return c}function o(a){var l,c=0;if(r(a[0]))for(l=0;l<a.length;l++)c+=o(a[l]);else c=s(a);return c}return function a(l,c,h,u,d){u=u===void 0?0:u,d=d===void 0?0:d;var f,p,m=[],b=[];if(r(l[0])){for(p=0;p<l.length;p++)m[p]=o(l[p]);for(f=e(m,c,h,u,d),p=0;p<l.length;p++)b.push(a(l[p],f[p][2]-f[p][0],f[p][3]-f[p][1],f[p][0],f[p][1]))}else b=e(l,c,h,u,d);return b}}();var PA=function(){function i(e,t){Ee(this,i),this.ctx=e,this.w=e.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new Db(e),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return Oe(i,[{key:"draw",value:function(e){var t=this,n=this.w,r=new oe(this.ctx),s=new Ai(this.ctx),o=r.group({class:"apexcharts-treemap"});if(n.globals.noData)return o;var a=[];return e.forEach(function(l){var c=l.map(function(h){return Math.abs(h)});a.push(c)}),this.negRange=this.helpers.checkColorRange(),n.config.series.forEach(function(l,c){l.data.forEach(function(h){Array.isArray(t.labels[c])||(t.labels[c]=[]),t.labels[c].push(h.x)})}),window.TreemapSquared.generate(a,n.globals.gridWidth,n.globals.gridHeight).forEach(function(l,c){var h=r.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:H.escapeString(n.globals.seriesNames[c]),rel:c+1,"data:realIndex":c});if(n.config.chart.dropShadow.enabled){var u=n.config.chart.dropShadow;new un(t.ctx).dropShadow(o,u,c)}var d=r.group({class:"apexcharts-data-labels"}),f={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0};l.forEach(function(re,ne){var ie=re[0],ae=re[1],Me=re[2],Re=re[3];f.xMin=Math.min(f.xMin,ie),f.yMin=Math.min(f.yMin,ae),f.xMax=Math.max(f.xMax,Me),f.yMax=Math.max(f.yMax,Re);var Ne=t.helpers.getShadeColor(n.config.chart.type,c,ne,t.negRange),Qe=Ne.color,st=s.fillPath({color:Qe,seriesNumber:c,dataPointIndex:ne}),Ge=r.drawRect(ie,ae,Me-ie,Re-ae,n.config.plotOptions.treemap.borderRadius,"#fff",1,t.strokeWidth,n.config.plotOptions.treemap.useFillColorAsStroke?Qe:n.globals.stroke.colors[c]);Ge.attr({cx:ie,cy:ae,index:c,i:c,j:ne,width:Me-ie,height:Re-ae,fill:st}),Ge.node.classList.add("apexcharts-treemap-rect"),t.helpers.addListeners(Ge);var Mt={x:ie+(Me-ie)/2,y:ae+(Re-ae)/2,width:0,height:0},Ue={x:ie,y:ae,width:Me-ie,height:Re-ae};if(n.config.chart.animations.enabled&&!n.globals.dataChanged){var $e=1;n.globals.resized||($e=n.config.chart.animations.speed),t.animateTreemap(Ge,Mt,Ue,$e)}if(n.globals.dataChanged){var at=1;t.dynamicAnim.enabled&&n.globals.shouldAnimate&&(at=t.dynamicAnim.speed,n.globals.previousPaths[c]&&n.globals.previousPaths[c][ne]&&n.globals.previousPaths[c][ne].rect&&(Mt=n.globals.previousPaths[c][ne].rect),t.animateTreemap(Ge,Mt,Ue,at))}var Ce=t.getFontSize(re),Tt=n.config.dataLabels.formatter(t.labels[c][ne],{value:n.globals.series[c][ne],seriesIndex:c,dataPointIndex:ne,w:n});n.config.plotOptions.treemap.dataLabels.format==="truncate"&&(Ce=parseInt(n.config.dataLabels.style.fontSize,10),Tt=t.truncateLabels(Tt,Ce,ie,ae,Me,Re));var Et=null;n.globals.series[c][ne]&&(Et=t.helpers.calculateDataLabels({text:Tt,x:(ie+Me)/2,y:(ae+Re)/2+t.strokeWidth/2+Ce/3,i:c,j:ne,colorProps:Ne,fontSize:Ce,series:e})),n.config.dataLabels.enabled&&Et&&t.rotateToFitLabel(Et,Ce,Tt,ie,ae,Me,Re),h.add(Ge),Et!==null&&h.add(Et)});var p=n.config.plotOptions.treemap.seriesTitle;if(n.config.series.length>1&&p&&p.show){var m=n.config.series[c].name||"";if(m&&f.xMin<1/0&&f.yMin<1/0){var b=p.offsetX,y=p.offsetY,w=p.borderColor,C=p.borderWidth,T=p.borderRadius,S=p.style,E=S.color||n.config.chart.foreColor,M={left:S.padding.left,right:S.padding.right,top:S.padding.top,bottom:S.padding.bottom},I=r.getTextRects(m,S.fontSize,S.fontFamily),P=I.width+M.left+M.right,N=I.height+M.top+M.bottom,D=f.xMin+(b||0),_=f.yMin+(y||0),$=r.drawRect(D,_,P,N,T,S.background,1,C,w),U=r.drawText({x:D+M.left,y:_+M.top+.75*I.height,text:m,fontSize:S.fontSize,fontFamily:S.fontFamily,fontWeight:S.fontWeight,foreColor:E,cssClass:S.cssClass||""});h.add($),h.add(U)}}h.add(d),o.add(h)}),o}},{key:"getFontSize",value:function(e){var t=this.w,n=function r(s){var o,a=0;if(Array.isArray(s[0]))for(o=0;o<s.length;o++)a+=r(s[o]);else for(o=0;o<s.length;o++)a+=s[o].length;return a}(this.labels)/function r(s){var o,a=0;if(Array.isArray(s[0]))for(o=0;o<s.length;o++)a+=r(s[o]);else for(o=0;o<s.length;o++)a+=1;return a}(this.labels);return function(r,s){var o=r*s,a=Math.pow(o,.5);return Math.min(a/n,parseInt(t.config.dataLabels.style.fontSize,10))}(e[2]-e[0],e[3]-e[1])}},{key:"rotateToFitLabel",value:function(e,t,n,r,s,o,a){var l=new oe(this.ctx),c=l.getTextRects(n,t);if(c.width+this.w.config.stroke.width+5>o-r&&c.width<=a-s){var h=l.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(h.x," ").concat(h.y,") translate(").concat(c.height/3,")"))}}},{key:"truncateLabels",value:function(e,t,n,r,s,o){var a=new oe(this.ctx),l=a.getTextRects(e,t).width+this.w.config.stroke.width+5>s-n&&o-r>s-n?o-r:s-n,c=a.getTextBasedOnMaxWidth({text:e,maxWidth:l,fontSize:t});return e.length!==c.length&&l/t<5?"":c}},{key:"animateTreemap",value:function(e,t,n,r){var s=new oo(this.ctx);s.animateRect(e,t,n,r,function(){s.animationCompleted(e)})}}]),i}(),zb=86400,LA=10/zb,RA=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return Oe(i,[{key:"calculateTimeScaleTicks",value:function(e,t){var n=this,r=this.w;if(r.globals.allSeriesCollapsed)return r.globals.labels=[],r.globals.timescaleLabels=[],[];var s=new dn(this.ctx),o=(t-e)/864e5;this.determineInterval(o),r.globals.disableZoomIn=!1,r.globals.disableZoomOut=!1,o<LA?r.globals.disableZoomIn=!0:o>5e4&&(r.globals.disableZoomOut=!0);var a=s.getTimeUnitsfromTimestamp(e,t,this.utc),l=r.globals.gridWidth/o,c=l/24,h=c/60,u=h/60,d=Math.floor(24*o),f=Math.floor(1440*o),p=Math.floor(o*zb),m=Math.floor(o),b=Math.floor(o/30),y=Math.floor(o/365),w={minMillisecond:a.minMillisecond,minSecond:a.minSecond,minMinute:a.minMinute,minHour:a.minHour,minDate:a.minDate,minMonth:a.minMonth,minYear:a.minYear},C={firstVal:w,currentMillisecond:w.minMillisecond,currentSecond:w.minSecond,currentMinute:w.minMinute,currentHour:w.minHour,currentMonthDate:w.minDate,currentDate:w.minDate,currentMonth:w.minMonth,currentYear:w.minYear,daysWidthOnXAxis:l,hoursWidthOnXAxis:c,minutesWidthOnXAxis:h,secondsWidthOnXAxis:u,numberOfSeconds:p,numberOfMinutes:f,numberOfHours:d,numberOfDays:m,numberOfMonths:b,numberOfYears:y};switch(this.tickInterval){case"years":this.generateYearScale(C);break;case"months":case"half_year":this.generateMonthScale(C);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(C);break;case"hours":this.generateHourScale(C);break;case"minutes_fives":case"minutes":this.generateMinuteScale(C);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(C)}var T=this.timeScaleArray.map(function(S){var E={position:S.position,unit:S.unit,year:S.year,day:S.day?S.day:1,hour:S.hour?S.hour:0,month:S.month+1};return S.unit==="month"?xe(xe({},E),{},{day:1,value:S.value+1}):S.unit==="day"||S.unit==="hour"?xe(xe({},E),{},{value:S.value}):S.unit==="minute"?xe(xe({},E),{},{value:S.value,minute:S.value}):S.unit==="second"?xe(xe({},E),{},{value:S.value,minute:S.minute,second:S.second}):S});return T.filter(function(S){var E=1,M=Math.ceil(r.globals.gridWidth/120),I=S.value;r.config.xaxis.tickAmount!==void 0&&(M=r.config.xaxis.tickAmount),T.length>M&&(E=Math.floor(T.length/M));var P=!1,N=!1;switch(n.tickInterval){case"years":S.unit==="year"&&(P=!0);break;case"half_year":E=7,S.unit==="year"&&(P=!0);break;case"months":E=1,S.unit==="year"&&(P=!0);break;case"months_fortnight":E=15,S.unit!=="year"&&S.unit!=="month"||(P=!0),I===30&&(N=!0);break;case"months_days":E=10,S.unit==="month"&&(P=!0),I===30&&(N=!0);break;case"week_days":E=8,S.unit==="month"&&(P=!0);break;case"days":E=1,S.unit==="month"&&(P=!0);break;case"hours":S.unit==="day"&&(P=!0);break;case"minutes_fives":case"seconds_fives":I%5!=0&&(N=!0);break;case"seconds_tens":I%10!=0&&(N=!0)}if(n.tickInterval==="hours"||n.tickInterval==="minutes_fives"||n.tickInterval==="seconds_tens"||n.tickInterval==="seconds_fives"){if(!N)return!0}else if((I%E==0||P)&&!N)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(e,t){var n=this.w,r=this.formatDates(e),s=this.removeOverlappingTS(r);n.globals.timescaleLabels=s.slice(),new gc(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var t=24*e,n=60*t;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case t>2.4:this.tickInterval="hours";break;case n>15:this.tickInterval="minutes_fives";break;case n>5:this.tickInterval="minutes";break;case n>1:this.tickInterval="seconds_tens";break;case 60*n>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var t=e.firstVal,n=e.currentMonth,r=e.currentYear,s=e.daysWidthOnXAxis,o=e.numberOfYears,a=t.minYear,l=0,c=new dn(this.ctx),h="year";if(t.minDate>1||t.minMonth>0){var u=c.determineRemainingDaysOfYear(t.minYear,t.minMonth,t.minDate);l=(c.determineDaysOfYear(t.minYear)-u+1)*s,a=t.minYear+1,this.timeScaleArray.push({position:l,value:a,unit:h,year:a,month:H.monthMod(n+1)})}else t.minDate===1&&t.minMonth===0&&this.timeScaleArray.push({position:l,value:a,unit:h,year:r,month:H.monthMod(n+1)});for(var d=a,f=l,p=0;p<o;p++)d++,f=c.determineDaysOfYear(d-1)*s+f,this.timeScaleArray.push({position:f,value:d,unit:h,year:d,month:1})}},{key:"generateMonthScale",value:function(e){var t=e.firstVal,n=e.currentMonthDate,r=e.currentMonth,s=e.currentYear,o=e.daysWidthOnXAxis,a=e.numberOfMonths,l=r,c=0,h=new dn(this.ctx),u="month",d=0;if(t.minDate>1){c=(h.determineDaysOfMonths(r+1,t.minYear)-n+1)*o,l=H.monthMod(r+1);var f=s+d,p=H.monthMod(l),m=l;l===0&&(u="year",m=f,p=1,f+=d+=1),this.timeScaleArray.push({position:c,value:m,unit:u,year:f,month:p})}else this.timeScaleArray.push({position:c,value:l,unit:u,year:s,month:H.monthMod(r)});for(var b=l+1,y=c,w=0,C=1;w<a;w++,C++){(b=H.monthMod(b))===0?(u="year",d+=1):u="month";var T=this._getYear(s,b,d);y=h.determineDaysOfMonths(b,T)*o+y;var S=b===0?T:b;this.timeScaleArray.push({position:y,value:S,unit:u,year:T,month:b===0?1:b}),b++}}},{key:"generateDayScale",value:function(e){var t=e.firstVal,n=e.currentMonth,r=e.currentYear,s=e.hoursWidthOnXAxis,o=e.numberOfDays,a=new dn(this.ctx),l="day",c=t.minDate+1,h=c,u=function(C,T,S){return C>a.determineDaysOfMonths(T+1,S)&&(h=1,l="month",f=T+=1),T},d=(24-t.minHour)*s,f=c,p=u(h,n,r);t.minHour===0&&t.minDate===1?(d=0,f=H.monthMod(t.minMonth),l="month",h=t.minDate):t.minDate!==1&&t.minHour===0&&t.minMinute===0&&(d=0,c=t.minDate,f=c,p=u(h=c,n,r),f!==1&&(l="day")),this.timeScaleArray.push({position:d,value:f,unit:l,year:this._getYear(r,p,0),month:H.monthMod(p),day:h});for(var m=d,b=0;b<o;b++){l="day",p=u(h+=1,p,this._getYear(r,p,0));var y=this._getYear(r,p,0);m=24*s+m;var w=h===1?H.monthMod(p):h;this.timeScaleArray.push({position:m,value:w,unit:l,year:y,month:H.monthMod(p),day:w})}}},{key:"generateHourScale",value:function(e){var t=e.firstVal,n=e.currentDate,r=e.currentMonth,s=e.currentYear,o=e.minutesWidthOnXAxis,a=e.numberOfHours,l=new dn(this.ctx),c="hour",h=function(E,M){return E>l.determineDaysOfMonths(M+1,s)&&(b=1,M+=1),{month:M,date:b}},u=function(E,M){return E>l.determineDaysOfMonths(M+1,s)?M+=1:M},d=60-(t.minMinute+t.minSecond/60),f=d*o,p=t.minHour+1,m=p;d===60&&(f=0,m=p=t.minHour);var b=n;m>=24&&(m=0,c="day",p=b+=1);var y=h(b,r).month;y=u(b,y),p>31&&(p=b=1),this.timeScaleArray.push({position:f,value:p,unit:c,day:b,hour:m,year:s,month:H.monthMod(y)}),m++;for(var w=f,C=0;C<a;C++){c="hour",m>=24&&(m=0,c="day",y=h(b+=1,y).month,y=u(b,y));var T=this._getYear(s,y,0);w=60*o+w;var S=m===0?b:m;this.timeScaleArray.push({position:w,value:S,unit:c,hour:m,day:b,year:T,month:H.monthMod(y)}),m++}}},{key:"generateMinuteScale",value:function(e){for(var t=e.currentMillisecond,n=e.currentSecond,r=e.currentMinute,s=e.currentHour,o=e.currentDate,a=e.currentMonth,l=e.currentYear,c=e.minutesWidthOnXAxis,h=e.secondsWidthOnXAxis,u=e.numberOfMinutes,d=r+1,f=o,p=a,m=l,b=s,y=(60-n-t/1e3)*h,w=0;w<u;w++)d>=60&&(d=0,(b+=1)===24&&(b=0)),this.timeScaleArray.push({position:y,value:d,unit:"minute",hour:b,minute:d,day:f,year:this._getYear(m,p,0),month:H.monthMod(p)}),y+=c,d++}},{key:"generateSecondScale",value:function(e){for(var t=e.currentMillisecond,n=e.currentSecond,r=e.currentMinute,s=e.currentHour,o=e.currentDate,a=e.currentMonth,l=e.currentYear,c=e.secondsWidthOnXAxis,h=e.numberOfSeconds,u=n+1,d=r,f=o,p=a,m=l,b=s,y=(1e3-t)/1e3*c,w=0;w<h;w++)u>=60&&(u=0,++d>=60&&(d=0,++b===24&&(b=0))),this.timeScaleArray.push({position:y,value:u,unit:"second",hour:b,minute:d,second:u,day:f,year:this._getYear(m,p,0),month:H.monthMod(p)}),y+=c,u++}},{key:"createRawDateString",value:function(e,t){var n=e.year;return e.month===0&&(e.month=1),n+="-"+("0"+e.month.toString()).slice(-2),e.unit==="day"?n+=e.unit==="day"?"-"+("0"+t).slice(-2):"-01":n+="-"+("0"+(e.day?e.day:"1")).slice(-2),e.unit==="hour"?n+=e.unit==="hour"?"T"+("0"+t).slice(-2):"T00":n+="T"+("0"+(e.hour?e.hour:"0")).slice(-2),e.unit==="minute"?n+=":"+("0"+t).slice(-2):n+=":"+(e.minute?("0"+e.minute).slice(-2):"00"),e.unit==="second"?n+=":"+("0"+t).slice(-2):n+=":00",this.utc&&(n+=".000Z"),n}},{key:"formatDates",value:function(e){var t=this,n=this.w;return e.map(function(r){var s=r.value.toString(),o=new dn(t.ctx),a=t.createRawDateString(r,s),l=o.getDate(o.parseDate(a));if(t.utc||(l=o.getDate(o.parseDateWithTimezone(a))),n.config.xaxis.labels.format===void 0){var c="dd MMM",h=n.config.xaxis.labels.datetimeFormatter;r.unit==="year"&&(c=h.year),r.unit==="month"&&(c=h.month),r.unit==="day"&&(c=h.day),r.unit==="hour"&&(c=h.hour),r.unit==="minute"&&(c=h.minute),r.unit==="second"&&(c=h.second),s=o.formatDate(l,c)}else s=o.formatDate(l,n.config.xaxis.labels.format);return{dateString:a,position:r.position,value:s,unit:r.unit,year:r.year,month:r.month}})}},{key:"removeOverlappingTS",value:function(e){var t,n=this,r=new oe(this.ctx),s=!1;e.length>0&&e[0].value&&e.every(function(l){return l.value.length===e[0].value.length})&&(s=!0,t=r.getTextRects(e[0].value).width);var o=0,a=e.map(function(l,c){if(c>0&&n.w.config.xaxis.labels.hideOverlappingLabels){var h=s?t:r.getTextRects(e[o].value).width,u=e[o].position;return l.position>u+h+10?(o=c,l):null}return l});return a=a.filter(function(l){return l!==null})}},{key:"_getYear",value:function(e,t,n){return e+Math.floor(t/12)+n}}]),i}(),DA=function(){function i(e,t){Ee(this,i),this.ctx=t,this.w=t.w,this.el=e}return Oe(i,[{key:"setupElements",value:function(){var e=this.w,t=e.globals,n=e.config,r=n.chart.type;t.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(r),t.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(r),t.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(r)&&n.plotOptions.bar.horizontal,t.chartClass=".apexcharts".concat(t.chartID),t.dom.baseEl=this.el,t.dom.elWrap=document.createElement("div"),oe.setAttrs(t.dom.elWrap,{id:t.chartClass.substring(1),class:"apexcharts-canvas ".concat(t.chartClass.substring(1))}),this.el.appendChild(t.dom.elWrap),t.dom.Paper=window.SVG().addTo(t.dom.elWrap),t.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(n.chart.offsetX,", ").concat(n.chart.offsetY,")")}),t.dom.Paper.node.style.background=n.theme.mode!=="dark"||n.chart.background?n.theme.mode!=="light"||n.chart.background?n.chart.background:"#fff":"#424242",this.setSVGDimensions(),t.dom.elLegendForeign=document.createElementNS(t.SVGNS,"foreignObject"),oe.setAttrs(t.dom.elLegendForeign,{x:0,y:0,width:t.svgWidth,height:t.svgHeight}),t.dom.elLegendWrap=document.createElement("div"),t.dom.elLegendWrap.classList.add("apexcharts-legend"),t.dom.elWrap.appendChild(t.dom.elLegendWrap),t.dom.Paper.node.appendChild(t.dom.elLegendForeign),t.dom.elGraphical=t.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),t.dom.elDefs=t.dom.Paper.defs(),t.dom.Paper.add(t.dom.elGraphical),t.dom.elGraphical.add(t.dom.elDefs)}},{key:"plotChartType",value:function(e,t){var n=this.w,r=this.ctx,s=n.config,o=n.globals,a={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},bar:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},l=s.chart.type||"line",c=null,h=0;o.series.forEach(function(E,M){var I=e[M].type==="column"?"bar":e[M].type||(l==="column"?"bar":l);a[I]?(I==="rangeArea"?(a[I].series.push(o.seriesRangeStart[M]),a[I].seriesRangeEnd.push(o.seriesRangeEnd[M])):a[I].series.push(E),a[I].i.push(M),I==="bar"&&(n.globals.columnSeries=a.bar)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(I)?c=I:console.warn("You have specified an unrecognized series type (".concat(I,").")),l!==I&&I!=="scatter"&&h++}),h>0&&(c&&console.warn("Chart or series type ".concat(c," cannot appear with other chart or series types.")),a.bar.series.length>0&&s.plotOptions.bar.horizontal&&(h-=a.bar.series.length,a.bar={series:[],i:[]},n.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),o.comboCharts||(o.comboCharts=h>0);var u=new Vd(r,t),d=new Yd(r,t);r.pie=new Nb(r);var f=new AA(r);r.rangeBar=new MA(r,t);var p=new CA(r),m=[];if(o.comboCharts){var b,y,w=new Bt(r);if(a.area.series.length>0&&(b=m).push.apply(b,Ut(w.drawSeriesByGroup(a.area,o.areaGroups,"area",u))),a.bar.series.length>0)if(s.chart.stacked){var C=new Rb(r,t);m.push(C.draw(a.bar.series,a.bar.i))}else r.bar=new xo(r,t),m.push(r.bar.draw(a.bar.series,a.bar.i));if(a.rangeArea.series.length>0&&m.push(u.draw(a.rangeArea.series,"rangeArea",a.rangeArea.i,a.rangeArea.seriesRangeEnd)),a.line.series.length>0&&(y=m).push.apply(y,Ut(w.drawSeriesByGroup(a.line,o.lineGroups,"line",u))),a.candlestick.series.length>0&&m.push(d.draw(a.candlestick.series,"candlestick",a.candlestick.i)),a.boxPlot.series.length>0&&m.push(d.draw(a.boxPlot.series,"boxPlot",a.boxPlot.i)),a.rangeBar.series.length>0&&m.push(r.rangeBar.draw(a.rangeBar.series,a.rangeBar.i)),a.scatter.series.length>0){var T=new Vd(r,t,!0);m.push(T.draw(a.scatter.series,"scatter",a.scatter.i))}if(a.bubble.series.length>0){var S=new Vd(r,t,!0);m.push(S.draw(a.bubble.series,"bubble",a.bubble.i))}}else switch(s.chart.type){case"line":m=u.draw(o.series,"line");break;case"area":m=u.draw(o.series,"area");break;case"bar":s.chart.stacked?m=new Rb(r,t).draw(o.series):(r.bar=new xo(r,t),m=r.bar.draw(o.series));break;case"candlestick":m=new Yd(r,t).draw(o.series,"candlestick");break;case"boxPlot":m=new Yd(r,t).draw(o.series,s.chart.type);break;case"rangeBar":m=r.rangeBar.draw(o.series);break;case"rangeArea":m=u.draw(o.seriesRangeStart,"rangeArea",void 0,o.seriesRangeEnd);break;case"heatmap":m=new SA(r,t).draw(o.series);break;case"treemap":m=new PA(r,t).draw(o.series);break;case"pie":case"donut":case"polarArea":m=r.pie.draw(o.series);break;case"radialBar":m=f.draw(o.series);break;case"radar":m=p.draw(o.series);break;default:m=u.draw(o.series)}return m}},{key:"setSVGDimensions",value:function(){var e=this.w,t=e.globals,n=e.config;n.chart.width=n.chart.width||"100%",n.chart.height=n.chart.height||"auto",t.svgWidth=n.chart.width,t.svgHeight=n.chart.height;var r=H.getDimensions(this.el),s=n.chart.width.toString().split(/[0-9]+/g).pop();s==="%"?H.isNumber(r[0])&&(r[0].width===0&&(r=H.getDimensions(this.el.parentNode)),t.svgWidth=r[0]*parseInt(n.chart.width,10)/100):s!=="px"&&s!==""||(t.svgWidth=parseInt(n.chart.width,10));var o=String(n.chart.height).toString().split(/[0-9]+/g).pop();if(t.svgHeight!=="auto"&&t.svgHeight!=="")if(o==="%"){var a=H.getDimensions(this.el.parentNode);t.svgHeight=a[1]*parseInt(n.chart.height,10)/100}else t.svgHeight=parseInt(n.chart.height,10);else t.svgHeight=t.axisCharts?t.svgWidth/1.61:t.svgWidth/1.2;if(t.svgWidth=Math.max(t.svgWidth,0),t.svgHeight=Math.max(t.svgHeight,0),oe.setAttrs(t.dom.Paper.node,{width:t.svgWidth,height:t.svgHeight}),o!=="%"){var l=n.chart.sparkline.enabled?0:t.axisCharts?n.chart.parentHeightOffset:0;t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(t.svgHeight+l,"px")}t.dom.elWrap.style.width="".concat(t.svgWidth,"px"),t.dom.elWrap.style.height="".concat(t.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals,t=e.translateY,n=e.translateX;oe.setAttrs(e.dom.elGraphical.node,{transform:"translate(".concat(n,", ").concat(t,")")})}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,t=e.globals,n=0,r=e.config.chart.sparkline.enabled?1:15;r+=e.config.grid.padding.bottom,["top","bottom"].includes(e.config.legend.position)&&e.config.legend.show&&!e.config.legend.floating&&(n=new Eb(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var s=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),o=2.05*e.globals.radialSize;if(s&&!e.config.chart.sparkline.enabled&&e.config.plotOptions.radialBar.startAngle!==0){var a=H.getBoundingClientRect(s);o=a.bottom;var l=a.bottom-a.top;o=Math.max(2.05*e.globals.radialSize,l)}var c=Math.ceil(o+t.translateY+n+r);t.dom.elLegendForeign&&t.dom.elLegendForeign.setAttribute("height",c),e.config.chart.height&&String(e.config.chart.height).includes("%")||(t.dom.elWrap.style.height="".concat(c,"px"),oe.setAttrs(t.dom.Paper.node,{height:c}),t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(c,"px"))}},{key:"coreCalculations",value:function(){new Hd(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,t=function(){return e.w.config.series.map(function(){return[]})},n=new Cb,r=this.w.globals;n.initGlobalVars(r),r.seriesXvalues=t(),r.seriesYvalues=t()}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var e=this.w,t=null;if(e.globals.axisCharts){if(e.config.xaxis.crosshairs.position==="back"&&new Wd(this.ctx).drawXCrosshairs(),e.config.yaxis[0].crosshairs.position==="back"&&new Wd(this.ctx).drawYCrosshairs(),e.config.xaxis.type==="datetime"&&e.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new RA(this.ctx);var n=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?n=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(n=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(n)}t=new Bt(this.ctx).getCalculatedRatios()}return t}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,t=this.ctx,n=this.w;if(n.config.chart.brush.enabled&&typeof n.config.chart.events.selection!="function"){var r=Array.isArray(n.config.chart.brush.targets)?n.config.chart.brush.targets:[n.config.chart.brush.target];r.forEach(function(s){var o=t.constructor.getChartByID(s);o.w.globals.brushSource=e.ctx,typeof o.w.config.chart.events.zoomed!="function"&&(o.w.config.chart.events.zoomed=function(){return e.updateSourceChart(o)}),typeof o.w.config.chart.events.scrolled!="function"&&(o.w.config.chart.events.scrolled=function(){return e.updateSourceChart(o)})}),n.config.chart.events.selection=function(s,o){r.forEach(function(a){t.constructor.getChartByID(a).ctx.updateHelpers._updateOptions({xaxis:{min:o.xaxis.min,max:o.xaxis.max}},!1,!1,!1,!1)})}}}}]),i}(),_A=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"_updateOptions",value:function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],s=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],o=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(a){var l=[t.ctx];s&&(l=t.ctx.getSyncedCharts()),t.ctx.w.globals.isExecCalled&&(l=[t.ctx],t.ctx.w.globals.isExecCalled=!1),l.forEach(function(c,h){var u=c.w;if(u.globals.shouldAnimate=r,n||(u.globals.resized=!0,u.globals.dataChanged=!0,r&&c.series.getPreviousPaths()),e&&so(e)==="object"&&(c.config=new La(e),e=Bt.extendArrayProps(c.config,e,u),c.w.globals.chartID!==t.ctx.w.globals.chartID&&delete e.series,u.config=H.extend(u.config,e),o&&(u.globals.lastXAxis=e.xaxis?H.clone(e.xaxis):[],u.globals.lastYAxis=e.yaxis?H.clone(e.yaxis):[],u.globals.initialConfig=H.extend({},u.config),u.globals.initialSeries=H.clone(u.config.series),e.series))){for(var d=0;d<u.globals.collapsedSeriesIndices.length;d++){var f=u.config.series[u.globals.collapsedSeriesIndices[d]];u.globals.collapsedSeries[d].data=u.globals.axisCharts?f.data.slice():f}for(var p=0;p<u.globals.ancillaryCollapsedSeriesIndices.length;p++){var m=u.config.series[u.globals.ancillaryCollapsedSeriesIndices[p]];u.globals.ancillaryCollapsedSeries[p].data=u.globals.axisCharts?m.data.slice():m}c.series.emptyCollapsedSeries(u.config.series)}return c.update(e).then(function(){h===l.length-1&&a(c)})})})}},{key:"_updateSeries",value:function(e,t){var n=this,r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(s){var o,a=n.w;return a.globals.shouldAnimate=t,a.globals.dataChanged=!0,t&&n.ctx.series.getPreviousPaths(),a.globals.axisCharts?((o=e.map(function(l,c){return n._extendSeries(l,c)})).length===0&&(o=[{data:[]}]),a.config.series=o):a.config.series=e.slice(),r&&(a.globals.initialConfig.series=H.clone(a.config.series),a.globals.initialSeries=H.clone(a.config.series)),n.ctx.update().then(function(){s(n.ctx)})})}},{key:"_extendSeries",value:function(e,t){var n=this.w,r=n.config.series[t];return xe(xe({},n.config.series[t]),{},{name:e.name?e.name:r==null?void 0:r.name,color:e.color?e.color:r==null?void 0:r.color,type:e.type?e.type:r==null?void 0:r.type,group:e.group?e.group:r==null?void 0:r.group,hidden:e.hidden!==void 0?e.hidden:r==null?void 0:r.hidden,data:e.data?e.data:r==null?void 0:r.data,zIndex:e.zIndex!==void 0?e.zIndex:t})}},{key:"toggleDataPointSelection",value:function(e,t){var n=this.w,r=null,s=".apexcharts-series[data\\:realIndex='".concat(e,"']");return n.globals.axisCharts?r=n.globals.dom.Paper.findOne("".concat(s," path[j='").concat(t,"'], ").concat(s," circle[j='").concat(t,"'], ").concat(s," rect[j='").concat(t,"']")):t===void 0&&(r=n.globals.dom.Paper.findOne("".concat(s," path[j='").concat(e,"']")),n.config.chart.type!=="pie"&&n.config.chart.type!=="polarArea"&&n.config.chart.type!=="donut"||this.ctx.pie.pieClicked(e)),r?(new oe(this.ctx).pathMouseDown(r,null),r.node?r.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var t=this.w;if(["min","max"].forEach(function(r){e.xaxis[r]!==void 0&&(t.config.xaxis[r]=e.xaxis[r],t.globals.lastXAxis[r]=e.xaxis[r])}),e.xaxis.categories&&e.xaxis.categories.length&&(t.config.xaxis.categories=e.xaxis.categories),t.config.xaxis.convertedCatToNumeric){var n=new Pa(e);e=n.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){return e.chart&&e.chart.stacked&&e.chart.stackType==="100%"&&(Array.isArray(e.yaxis)?e.yaxis.forEach(function(t,n){e.yaxis[n].min=0,e.yaxis[n].max=100}):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var t=this,n=this.w,r=n.globals.lastXAxis,s=n.globals.lastYAxis;e&&e.xaxis&&(r=e.xaxis),e&&e.yaxis&&(s=e.yaxis),n.config.xaxis.min=r.min,n.config.xaxis.max=r.max;var o=function(a){s[a]!==void 0&&(n.config.yaxis[a].min=s[a].min,n.config.yaxis[a].max=s[a].max)};n.config.yaxis.map(function(a,l){n.globals.zoomed||s[l]!==void 0?o(l):t.ctx.opts.yaxis[l]!==void 0&&(a.min=t.ctx.opts.yaxis[l].min,a.max=t.ctx.opts.yaxis[l].max)})}}]),i}();(function(){function i(){for(var s=arguments.length>0&&arguments[0]!==u?arguments[0]:[],o=arguments.length>1?arguments[1]:u,a=arguments.length>2?arguments[2]:u,l=arguments.length>3?arguments[3]:u,c=arguments.length>4?arguments[4]:u,h=arguments.length>5?arguments[5]:u,u=arguments.length>6?arguments[6]:u,d=s.slice(o,a||u),f=l.slice(c,h||u),p=0,m={pos:[0,0],start:[0,0]},b={pos:[0,0],start:[0,0]};d[p]=e.call(m,d[p]),f[p]=e.call(b,f[p]),d[p][0]!=f[p][0]||d[p][0]=="M"||d[p][0]=="A"&&(d[p][4]!=f[p][4]||d[p][5]!=f[p][5])?(Array.prototype.splice.apply(d,[p,1].concat(n.call(m,d[p]))),Array.prototype.splice.apply(f,[p,1].concat(n.call(b,f[p])))):(d[p]=t.call(m,d[p]),f[p]=t.call(b,f[p])),!(++p==d.length&&p==f.length);)p==d.length&&d.push(["C",m.pos[0],m.pos[1],m.pos[0],m.pos[1],m.pos[0],m.pos[1]]),p==f.length&&f.push(["C",b.pos[0],b.pos[1],b.pos[0],b.pos[1],b.pos[0],b.pos[1]]);return{start:d,dest:f}}function e(s){switch(s[0]){case"z":case"Z":s[0]="L",s[1]=this.start[0],s[2]=this.start[1];break;case"H":s[0]="L",s[2]=this.pos[1];break;case"V":s[0]="L",s[2]=s[1],s[1]=this.pos[0];break;case"T":s[0]="Q",s[3]=s[1],s[4]=s[2],s[1]=this.reflection[1],s[2]=this.reflection[0];break;case"S":s[0]="C",s[6]=s[4],s[5]=s[3],s[4]=s[2],s[3]=s[1],s[2]=this.reflection[1],s[1]=this.reflection[0]}return s}function t(s){var o=s.length;return this.pos=[s[o-2],s[o-1]],"SCQT".indexOf(s[0])!=-1&&(this.reflection=[2*this.pos[0]-s[o-4],2*this.pos[1]-s[o-3]]),s}function n(s){var o=[s];switch(s[0]){case"M":return this.pos=this.start=[s[1],s[2]],o;case"L":s[5]=s[3]=s[1],s[6]=s[4]=s[2],s[1]=this.pos[0],s[2]=this.pos[1];break;case"Q":s[6]=s[4],s[5]=s[3],s[4]=1*s[4]/3+2*s[2]/3,s[3]=1*s[3]/3+2*s[1]/3,s[2]=1*this.pos[1]/3+2*s[2]/3,s[1]=1*this.pos[0]/3+2*s[1]/3;break;case"A":o=function(a,l){var c,h,u,d,f,p,m,b,y,w,C,T,S,E,M,I,P,N,D,_,$,U,re,ne,ie,ae,Me=Math.abs(l[1]),Re=Math.abs(l[2]),Ne=l[3]%360,Qe=l[4],st=l[5],Ge=l[6],Mt=l[7],Ue=new xt(a),$e=new xt(Ge,Mt),at=[];if(Me===0||Re===0||Ue.x===$e.x&&Ue.y===$e.y)return[["C",Ue.x,Ue.y,$e.x,$e.y,$e.x,$e.y]];for(c=new xt((Ue.x-$e.x)/2,(Ue.y-$e.y)/2).transform(new Be().rotate(Ne)),h=c.x*c.x/(Me*Me)+c.y*c.y/(Re*Re),h>1&&(Me*=h=Math.sqrt(h),Re*=h),u=new Be().rotate(Ne).scale(1/Me,1/Re).rotate(-Ne),Ue=Ue.transform(u),$e=$e.transform(u),d=[$e.x-Ue.x,$e.y-Ue.y],p=d[0]*d[0]+d[1]*d[1],f=Math.sqrt(p),d[0]/=f,d[1]/=f,m=p<4?Math.sqrt(1-p/4):0,Qe===st&&(m*=-1),b=new xt(($e.x+Ue.x)/2+m*-d[1],($e.y+Ue.y)/2+m*d[0]),y=new xt(Ue.x-b.x,Ue.y-b.y),w=new xt($e.x-b.x,$e.y-b.y),C=Math.acos(y.x/Math.sqrt(y.x*y.x+y.y*y.y)),y.y<0&&(C*=-1),T=Math.acos(w.x/Math.sqrt(w.x*w.x+w.y*w.y)),w.y<0&&(T*=-1),st&&C>T&&(T+=2*Math.PI),!st&&C<T&&(T-=2*Math.PI),E=Math.ceil(2*Math.abs(C-T)/Math.PI),I=[],P=C,S=(T-C)/E,M=4*Math.tan(S/4)/3,$=0;$<=E;$++)D=Math.cos(P),N=Math.sin(P),_=new xt(b.x+D,b.y+N),I[$]=[new xt(_.x+M*N,_.y-M*D),_,new xt(_.x-M*N,_.y+M*D)],P+=S;for(I[0][0]=I[0][1].clone(),I[I.length-1][2]=I[I.length-1][1].clone(),u=new Be().rotate(Ne).scale(Me,Re).rotate(-Ne),$=0,U=I.length;$<U;$++)I[$][0]=I[$][0].transform(u),I[$][1]=I[$][1].transform(u),I[$][2]=I[$][2].transform(u);for($=1,U=I.length;$<U;$++)re=(_=I[$-1][2]).x,ne=_.y,ie=(_=I[$][0]).x,ae=_.y,Ge=(_=I[$][1]).x,Mt=_.y,at.push(["C",re,ne,ie,ae,Ge,Mt]);return at}(this.pos,s),s=o[0]}return s[0]="C",this.pos=[s[5],s[6]],this.reflection=[2*s[5]-s[3],2*s[6]-s[4]],o}function r(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=arguments.length>1?arguments[1]:void 0;if(o===!1)return!1;for(var a=o,l=s.length;a<l;++a)if(s[a][0]=="M")return a;return!1}Ye(Si,{morph:function(s,o,a,l,c){for(var h=this.parse(s),u=this.parse(o),d=0,f=0,p=!1,m=!1;d!==!1||f!==!1;){var b;p=r(h,d!==!1&&d+1),m=r(u,f!==!1&&f+1),d===!1&&(d=(b=new Si(y.start).bbox()).height==0||b.width==0?h.push(h[0])-1:h.push(["M",b.x+b.width/2,b.y+b.height/2])-1),f===!1&&(f=(b=new Si(y.dest).bbox()).height==0||b.width==0?u.push(u[0])-1:u.push(["M",b.x+b.width/2,b.y+b.height/2])-1);var y=i(h,d,p,u,f,m);h=h.slice(0,d).concat(y.start,p===!1?[]:h.slice(p)),u=u.slice(0,f).concat(y.dest,m===!1?[]:u.slice(m)),d=p!==!1&&d+y.start.length,f=m!==!1&&f+y.dest.length}this._array=h,this.destination=new Si,this.destination._array=u;var w=this.fromArray(h.map(function(C,T){var S=u[T].map(function(E,M){return M===0?E:l.step(C[M],u[T][M],a,c[T],c)});return S}));return w}})})();const Fb=i=>(i.changedTouches&&(i=i.changedTouches[0]),{x:i.clientX,y:i.clientY});class NA{constructor(e){e.remember("_draggable",this),this.el=e,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(e){e?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(e){const t=!e.type.indexOf("mouse");if(t&&e.which!==1&&e.buttons!==0||this.el.dispatch("beforedrag",{event:e,handler:this}).defaultPrevented)return;e.preventDefault(),e.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(Fb(e));const n=(t?"mouseup":"touchend")+".drag";sr(window,(t?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),sr(window,n,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:e,handler:this,box:this.box})}drag(e){const{box:t,lastClick:n}=this,r=this.el.point(Fb(e)),s=r.x-n.x,o=r.y-n.y;if(!s&&!o)return t;const a=t.x+s,l=t.y+o;this.box=new Ft(a,l,t.w,t.h),this.lastClick=r,this.el.dispatch("dragmove",{event:e,handler:this,box:this.box}).defaultPrevented||this.move(a,l)}move(e,t){this.el.type==="svg"?Mr.prototype.move.call(this.el,e,t):this.el.move(e,t)}endDrag(e){this.drag(e),this.el.fire("dragend",{event:e,handler:this,box:this.box}),ai(window,"mousemove.drag"),ai(window,"touchmove.drag"),ai(window,"mouseup.drag"),ai(window,"touchend.drag"),this.init(!0)}}/*!
  * @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
  * @version 4.0.1
  * https://github.com/svgdotjs/svg.select.js
  *
  * @copyright Ulrich-Matthias Schäfer
  * @license MIT
  *
  * BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
  */function $d(i,e,t,n=null){return function(r){r.preventDefault(),r.stopPropagation();var s=r.pageX||r.touches[0].pageX,o=r.pageY||r.touches[0].pageY;e.fire(i,{x:s,y:o,event:r,index:n,points:t})}}function Gd([i,e],{a:t,b:n,c:r,d:s,e:o,f:a}){return[i*t+e*r+o,i*n+e*s+a]}Ye(hn,{draggable(i=!0){return(this.remember("_draggable")||new NA(this)).init(i),this}});let Bb=class{constructor(e){this.el=e,e.remember("_selectHandler",this),this.selection=new Mr,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const t=ka();this.observer=new t.MutationObserver(this.mutationHandler)}init(e){this.createHandle=e.createHandle||this.createHandleFn,this.createRot=e.createRot||this.createRotFn,this.updateHandle=e.updateHandle||this.updateHandleFn,this.updateRot=e.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(e,t){if(!e)return this.selection.clear().remove(),void this.observer.disconnect();this.init(t)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((e,t,n)=>{const r=this.order[t];this.createHandle.call(this,this.selection,e,t,n,r),this.selection.get(t+1).addClass("svg_select_handle svg_select_handle_"+r).on("mousedown.selection touchstart.selection",$d(r,this.el,this.handlePoints,t))})}createHandleFn(e){e.polyline()}updateHandleFn(e,t,n,r){const s=r.at(n-1),o=r[(n+1)%r.length],a=t,l=[a[0]-s[0],a[1]-s[1]],c=[a[0]-o[0],a[1]-o[1]],h=Math.sqrt(l[0]*l[0]+l[1]*l[1]),u=Math.sqrt(c[0]*c[0]+c[1]*c[1]),d=[l[0]/h,l[1]/h],f=[c[0]/u,c[1]/u],p=[a[0]-10*d[0],a[1]-10*d[1]],m=[a[0]-10*f[0],a[1]-10*f[1]];e.plot([p,a,m])}updateResizeHandles(){this.handlePoints.forEach((e,t,n)=>{const r=this.order[t];this.updateHandle.call(this,this.selection.get(t+1),e,t,n,r)})}createRotFn(e){e.line(),e.circle(5)}getPoint(e){return this.handlePoints[this.order.indexOf(e)]}getPointHandle(e){return this.selection.get(this.order.indexOf(e)+1)}updateRotFn(e,t){const n=this.getPoint("t");e.get(0).plot(n[0],n[1],t[0],t[1]),e.get(1).center(t[0],t[1])}createRotationHandle(){const e=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",$d("rot",this.el,this.handlePoints));this.createRot.call(this,e)}updateRotationHandle(){const e=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(e,this.rotationPoint,this.handlePoints)}updatePoints(){const e=this.el.bbox(),t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(e).map(n=>Gd(n,t)),this.rotationPoint=Gd(this.getRotationPoint(e),t)}getHandlePoints({x:e,x2:t,y:n,y2:r,cx:s,cy:o}=this.el.bbox()){return[[e,n],[s,n],[t,n],[t,o],[t,r],[s,r],[e,r],[e,o]]}getRotationPoint({y:e,cx:t}=this.el.bbox()){return[t,e-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const Hb=i=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let n=this.remember("_"+i.name);return n||(e.prototype instanceof Bb?(n=new e(this),e=!0):n=new i(this),this.remember("_"+i.name,n)),n.active(e,t),this};/*!
  * @svgdotjs/svg.resize.js - An extension for svg.js which allows to resize elements which are selected
  * @version 2.0.4
  * https://github.com/svgdotjs/svg.resize.js
  *
  * @copyright [object Object]
  * @license MIT
  *
  * BUILT: Fri Sep 13 2024 12:43:14 GMT+0200 (Central European Summer Time)
  *//*!
  * @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
  * @version 4.0.1
  * https://github.com/svgdotjs/svg.select.js
  *
  * @copyright Ulrich-Matthias Schäfer
  * @license MIT
  *
  * BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
  */function qd(i,e,t,n=null){return function(r){r.preventDefault(),r.stopPropagation();var s=r.pageX||r.touches[0].pageX,o=r.pageY||r.touches[0].pageY;e.fire(i,{x:s,y:o,event:r,index:n,points:t})}}function Ud([i,e],{a:t,b:n,c:r,d:s,e:o,f:a}){return[i*t+e*r+o,i*n+e*s+a]}Ye(hn,{select:Hb(Bb)}),Ye([ys,vs,ms],{pointSelect:Hb(class{constructor(i){this.el=i,i.remember("_pointSelectHandler",this),this.selection=new Mr,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=ka();this.observer=new e.MutationObserver(this.mutationHandler)}init(i){this.createHandle=i.createHandle||this.createHandleFn,this.updateHandle=i.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(i,e){if(!i)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((i,e,t)=>{this.createHandle.call(this,this.selection,i,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",$d("point",this.el,this.points,e))})}createHandleFn(i){i.circle(5)}updateHandleFn(i,e){i.center(e[0],e[1])}updatePointHandles(){this.points.forEach((i,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),i,e,t)})}updatePoints(){const i=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>Gd(e,i))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});class Xb{constructor(e){this.el=e,e.remember("_selectHandler",this),this.selection=new Mr,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const t=ka();this.observer=new t.MutationObserver(this.mutationHandler)}init(e){this.createHandle=e.createHandle||this.createHandleFn,this.createRot=e.createRot||this.createRotFn,this.updateHandle=e.updateHandle||this.updateHandleFn,this.updateRot=e.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(e,t){if(!e)return this.selection.clear().remove(),void this.observer.disconnect();this.init(t)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((e,t,n)=>{const r=this.order[t];this.createHandle.call(this,this.selection,e,t,n,r),this.selection.get(t+1).addClass("svg_select_handle svg_select_handle_"+r).on("mousedown.selection touchstart.selection",qd(r,this.el,this.handlePoints,t))})}createHandleFn(e){e.polyline()}updateHandleFn(e,t,n,r){const s=r.at(n-1),o=r[(n+1)%r.length],a=t,l=[a[0]-s[0],a[1]-s[1]],c=[a[0]-o[0],a[1]-o[1]],h=Math.sqrt(l[0]*l[0]+l[1]*l[1]),u=Math.sqrt(c[0]*c[0]+c[1]*c[1]),d=[l[0]/h,l[1]/h],f=[c[0]/u,c[1]/u],p=[a[0]-10*d[0],a[1]-10*d[1]],m=[a[0]-10*f[0],a[1]-10*f[1]];e.plot([p,a,m])}updateResizeHandles(){this.handlePoints.forEach((e,t,n)=>{const r=this.order[t];this.updateHandle.call(this,this.selection.get(t+1),e,t,n,r)})}createRotFn(e){e.line(),e.circle(5)}getPoint(e){return this.handlePoints[this.order.indexOf(e)]}getPointHandle(e){return this.selection.get(this.order.indexOf(e)+1)}updateRotFn(e,t){const n=this.getPoint("t");e.get(0).plot(n[0],n[1],t[0],t[1]),e.get(1).center(t[0],t[1])}createRotationHandle(){const e=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",qd("rot",this.el,this.handlePoints));this.createRot.call(this,e)}updateRotationHandle(){const e=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(e,this.rotationPoint,this.handlePoints)}updatePoints(){const e=this.el.bbox(),t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(e).map(n=>Ud(n,t)),this.rotationPoint=Ud(this.getRotationPoint(e),t)}getHandlePoints({x:e,x2:t,y:n,y2:r,cx:s,cy:o}=this.el.bbox()){return[[e,n],[s,n],[t,n],[t,o],[t,r],[s,r],[e,r],[e,o]]}getRotationPoint({y:e,cx:t}=this.el.bbox()){return[t,e-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}}const Wb=i=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let n=this.remember("_"+i.name);return n||(e.prototype instanceof Xb?(n=new e(this),e=!0):n=new i(this),this.remember("_"+i.name,n)),n.active(e,t),this};Ye(hn,{select:Wb(Xb)}),Ye([ys,vs,ms],{pointSelect:Wb(class{constructor(i){this.el=i,i.remember("_pointSelectHandler",this),this.selection=new Mr,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=ka();this.observer=new e.MutationObserver(this.mutationHandler)}init(i){this.createHandle=i.createHandle||this.createHandleFn,this.updateHandle=i.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(i,e){if(!i)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((i,e,t)=>{this.createHandle.call(this,this.selection,i,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",qd("point",this.el,this.points,e))})}createHandleFn(i){i.circle(5)}updateHandleFn(i,e){i.center(e[0],e[1])}updatePointHandles(){this.points.forEach((i,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),i,e,t)})}updatePoints(){const i=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>Ud(e,i))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});const mc=i=>(i.changedTouches&&(i=i.changedTouches[0]),{x:i.clientX,y:i.clientY}),Yb=i=>{let e=1/0,t=1/0,n=-1/0,r=-1/0;for(let s=0;s<i.length;s++){const o=i[s];e=Math.min(e,o[0]),t=Math.min(t,o[1]),n=Math.max(n,o[0]),r=Math.max(r,o[1])}return new Ft(e,t,n-e,r-t)};class jb{constructor(e){this.el=e,e.remember("_ResizeHandler",this),this.lastCoordinates=null,this.eventType="",this.lastEvent=null,this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.movePoint=this.movePoint.bind(this)}active(e,t){this.preserveAspectRatio=t.preserveAspectRatio??!1,this.aroundCenter=t.aroundCenter??!1,this.grid=t.grid??0,this.degree=t.degree??0,this.el.off(".resize"),e&&(this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","point.resize"],this.handleResize),this.lastEvent&&(this.eventType==="rot"?this.rotate(this.lastEvent):this.eventType==="point"?this.movePoint(this.lastEvent):this.resize(this.lastEvent)))}handleResize(e){this.eventType=e.type;const{event:t,index:n,points:r}=e.detail,s=!t.type.indexOf("mouse");if(s&&(t.which||t.buttons)!==1||this.el.dispatch("beforeresize",{event:e,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(mc(t)),this.index=n,this.points=r.slice();const o=(s?"mousemove":"touchmove")+".resize",a=(s?"mouseup":"touchcancel.resize touchend")+".resize";e.type==="point"?sr(window,o,this.movePoint):e.type==="rot"?sr(window,o,this.rotate):sr(window,o,this.resize),sr(window,a,this.endResize)}resize(e){this.lastEvent=e;const t=this.snapToGrid(this.el.point(mc(e)));let n=t.x-this.startPoint.x,r=t.y-this.startPoint.y;this.preserveAspectRatio&&this.aroundCenter&&(n*=2,r*=2);const s=this.box.x+n,o=this.box.y+r,a=this.box.x2+n,l=this.box.y2+r;let c=new Ft(this.box);if(this.eventType.includes("l")&&(c.x=Math.min(s,this.box.x2),c.x2=Math.max(s,this.box.x2)),this.eventType.includes("r")&&(c.x=Math.min(a,this.box.x),c.x2=Math.max(a,this.box.x)),this.eventType.includes("t")&&(c.y=Math.min(o,this.box.y2),c.y2=Math.max(o,this.box.y2)),this.eventType.includes("b")&&(c.y=Math.min(l,this.box.y),c.y2=Math.max(l,this.box.y)),c.width=c.x2-c.x,c.height=c.y2-c.y,this.preserveAspectRatio){const h=c.width/this.box.width,u=c.height/this.box.height,d=["lt","t","rt","r","rb","b","lb","l"],f=(d.indexOf(this.eventType)+4)%d.length,p=this.aroundCenter?[this.box.cx,this.box.cy]:this.points[f];let m=this.eventType.includes("t")||this.eventType.includes("b")?u:h;m=this.eventType.length===2?Math.max(h,u):m,c=function(b,y,w){const C=[[b.x,b.y],[b.x+b.width,b.y],[b.x+b.width,b.y+b.height],[b.x,b.y+b.height]].map(([T,S])=>{const E=T-y[0],M=(S-y[1])*w;return[E*w+y[0],M+y[1]]});return Yb(C)}(this.box,p,m)}this.el.dispatch("resize",{box:new Ft(c),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.size(c.width,c.height).move(c.x,c.y)}movePoint(e){this.lastEvent=e;const{x:t,y:n}=this.snapToGrid(this.el.point(mc(e))),r=this.el.array().slice();r[this.index]=[t,n],this.el.dispatch("resize",{box:Yb(r),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.plot(r)}rotate(e){this.lastEvent=e;const t=this.startPoint,n=this.el.point(mc(e)),{cx:r,cy:s}=this.box,o=t.x-r,a=t.y-s,l=n.x-r,c=n.y-s,h=Math.sqrt(o*o+a*a)*Math.sqrt(l*l+c*c);if(h===0)return;let u=Math.acos((o*l+a*c)/h)/Math.PI*180;if(!u)return;n.x<t.x&&(u=-u);const d=new Be(this.el),{x:f,y:p}=new xt(r,s).transformO(d),{rotate:m}=d.decompose(),b=this.snapToAngle(m+u)-m;this.el.dispatch("resize",{box:this.box,angle:b,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.transform(d.rotateO(b,f,p))}endResize(e){this.eventType!=="rot"&&this.eventType!=="point"&&this.resize(e),this.lastEvent=null,this.eventType="",ai(window,"mousemove.resize touchmove.resize"),ai(window,"mouseup.resize touchend.resize")}snapToGrid(e){return this.grid&&(e.x=Math.round(e.x/this.grid)*this.grid,e.y=Math.round(e.y/this.grid)*this.grid),e}snapToAngle(e){return this.degree&&(e=Math.round(e/this.degree)*this.degree),e}}Ye(hn,{resize:function(i=!0,e={}){typeof i=="object"&&(e=i,i=!0);let t=this.remember("_ResizeHandler");return t||(i.prototype instanceof jb?(t=new i(this),i=!0):t=new jb(this),this.remember("_resizeHandler",t)),t.active(i,e),this}}),window.SVG===void 0&&(window.SVG=ZC),window.Apex===void 0&&(window.Apex={});var Vb=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new oo(this.ctx),this.ctx.axes=new aA(this.ctx),this.ctx.core=new DA(this.ctx.el,this.ctx),this.ctx.config=new La({}),this.ctx.data=new Bd(this.ctx),this.ctx.grid=new Mb(this.ctx),this.ctx.graphics=new oe(this.ctx),this.ctx.coreUtils=new Bt(this.ctx),this.ctx.crosshairs=new Wd(this.ctx),this.ctx.events=new sA(this.ctx),this.ctx.exports=new Ra(this.ctx),this.ctx.fill=new Ai(this.ctx),this.ctx.localization=new oA(this.ctx),this.ctx.options=new ws,this.ctx.responsive=new lA(this.ctx),this.ctx.series=new ci(this.ctx),this.ctx.theme=new cA(this.ctx),this.ctx.formatters=new Ia(this.ctx),this.ctx.titleSubtitle=new hA(this.ctx),this.ctx.legend=new Eb(this.ctx),this.ctx.toolbar=new Ob(this.ctx),this.ctx.tooltip=new Lb(this.ctx),this.ctx.dimensions=new gc(this.ctx),this.ctx.updateHelpers=new _A(this.ctx),this.ctx.zoomPanSelection=new mA(this.ctx),this.ctx.w.globals.tooltip=new Lb(this.ctx)}}]),i}(),$b=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"clear",value:function(e){var t=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:t})}},{key:"killSVG",value:function(e){e.each(function(){this.removeClass("*"),this.off()},!0),e.clear()}},{key:"clearDomElements",value:function(e){var t=this,n=e.isUpdating,r=this.w.globals.dom.Paper.node;r.parentNode&&r.parentNode.parentNode&&!n&&(r.parentNode.parentNode.style.minHeight="unset");var s=this.w.globals.dom.baseEl;s&&this.ctx.eventList.forEach(function(a){s.removeEventListener(a,t.ctx.events.documentEvent)});var o=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(o.Paper),o.Paper.remove(),o.elWrap=null,o.elGraphical=null,o.elLegendWrap=null,o.elLegendForeign=null,o.baseEl=null,o.elGridRect=null,o.elGridRectMask=null,o.elGridRectBarMask=null,o.elGridRectMarkerMask=null,o.elForecastMask=null,o.elNonForecastMask=null,o.elDefs=null}}]),i}(),Kd=new WeakMap,Gb=function(){function i(e,t){Ee(this,i),this.opts=t,this.ctx=this,this.w=new rA(t).init(),this.el=e,this.w.globals.cuid=H.randomId(),this.w.globals.chartID=this.w.config.chart.id?H.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Vb(this).initModules(),this.create=H.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return Oe(i,[{key:"render",value:function(){var e=this;return new Promise(function(t,n){if(H.elementExists(e.el)){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var r=e.w.config.chart.events.beforeMount;typeof r=="function"&&r(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),function(d,f){var p=!1;if(d.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var m=d.getBoundingClientRect();d.style.display!=="none"&&m.width!==0||(p=!0)}var b=new ResizeObserver(function(y){p&&f.call(d,y),p=!0});d.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(d.children).forEach(function(y){return b.observe(y)}):b.observe(d),Kd.set(f,b)}(e.el.parentNode,e.parentResizeHandler);var s=e.el.getRootNode&&e.el.getRootNode(),o=H.is("ShadowRoot",s),a=e.el.ownerDocument,l=o?s.getElementById("apexcharts-css"):a.getElementById("apexcharts-css");if(!l){var c;(l=document.createElement("style")).id="apexcharts-css",l.textContent=`@keyframes opaque {
    0% {
      opacity: 0
    }
  
    to {
      opacity: 1
    }
  }
  
  @keyframes resizeanim {
  
    0%,
    to {
      opacity: 0
    }
  }
  
  .apexcharts-canvas {
    position: relative;
    direction: ltr !important;
    user-select: none
  }
  
  .apexcharts-canvas ::-webkit-scrollbar {
    -webkit-appearance: none;
    width: 6px
  }
  
  .apexcharts-canvas ::-webkit-scrollbar-thumb {
    border-radius: 4px;
    background-color: rgba(0, 0, 0, .5);
    box-shadow: 0 0 1px rgba(255, 255, 255, .5);
    -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
  }
  
  .apexcharts-inner {
    position: relative
  }
  
  .apexcharts-text tspan {
    font-family: inherit
  }
  
  rect.legend-mouseover-inactive,
  .legend-mouseover-inactive rect,
  .legend-mouseover-inactive path,
  .legend-mouseover-inactive circle,
  .legend-mouseover-inactive line,
  .legend-mouseover-inactive text.apexcharts-yaxis-title-text,
  .legend-mouseover-inactive text.apexcharts-yaxis-label {
    transition: .15s ease all;
    opacity: .2
  }
  
  .apexcharts-legend-text {
    padding-left: 15px;
    margin-left: -15px;
  }
  
  .apexcharts-series-collapsed {
    opacity: 0
  }
  
  .apexcharts-tooltip {
    border-radius: 5px;
    box-shadow: 2px 2px 6px -4px #999;
    cursor: default;
    font-size: 14px;
    left: 62px;
    opacity: 0;
    pointer-events: none;
    position: absolute;
    top: 20px;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    white-space: nowrap;
    z-index: 12;
    transition: .15s ease all
  }
  
  .apexcharts-tooltip.apexcharts-active {
    opacity: 1;
    transition: .15s ease all
  }
  
  .apexcharts-tooltip.apexcharts-theme-light {
    border: 1px solid #e3e3e3;
    background: rgba(255, 255, 255, .96)
  }
  
  .apexcharts-tooltip.apexcharts-theme-dark {
    color: #fff;
    background: rgba(30, 30, 30, .8)
  }
  
  .apexcharts-tooltip * {
    font-family: inherit
  }
  
  .apexcharts-tooltip-title {
    padding: 6px;
    font-size: 15px;
    margin-bottom: 4px
  }
  
  .apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
    background: #eceff1;
    border-bottom: 1px solid #ddd
  }
  
  .apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
    background: rgba(0, 0, 0, .7);
    border-bottom: 1px solid #333
  }
  
  .apexcharts-tooltip-text-goals-value,
  .apexcharts-tooltip-text-y-value,
  .apexcharts-tooltip-text-z-value {
    display: inline-block;
    margin-left: 5px;
    font-weight: 600
  }
  
  .apexcharts-tooltip-text-goals-label:empty,
  .apexcharts-tooltip-text-goals-value:empty,
  .apexcharts-tooltip-text-y-label:empty,
  .apexcharts-tooltip-text-y-value:empty,
  .apexcharts-tooltip-text-z-value:empty,
  .apexcharts-tooltip-title:empty {
    display: none
  }
  
  .apexcharts-tooltip-text-goals-label,
  .apexcharts-tooltip-text-goals-value {
    padding: 6px 0 5px
  }
  
  .apexcharts-tooltip-goals-group,
  .apexcharts-tooltip-text-goals-label,
  .apexcharts-tooltip-text-goals-value {
    display: flex
  }
  
  .apexcharts-tooltip-text-goals-label:not(:empty),
  .apexcharts-tooltip-text-goals-value:not(:empty) {
    margin-top: -6px
  }
  
  .apexcharts-tooltip-marker {
    display: inline-block;
    position: relative;
    width: 16px;
    height: 16px;
    font-size: 16px;
    line-height: 16px;
    margin-right: 4px;
    text-align: center;
    vertical-align: middle;
    color: inherit;
  }
  
  .apexcharts-tooltip-marker::before {
    content: "";
    display: inline-block;
    width: 100%;
    text-align: center;
    color: currentcolor;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    font-size: 26px;
    font-family: Arial, Helvetica, sans-serif;
    line-height: 14px;
    font-weight: 900;
  }
  
  .apexcharts-tooltip-marker[shape="circle"]::before {
    content: "\\25CF";
  }
  
  .apexcharts-tooltip-marker[shape="square"]::before,
  .apexcharts-tooltip-marker[shape="rect"]::before {
    content: "\\25A0";
    transform: translate(-1px, -2px);
  }
  
  .apexcharts-tooltip-marker[shape="line"]::before {
    content: "\\2500";
  }
  
  .apexcharts-tooltip-marker[shape="diamond"]::before {
    content: "\\25C6";
    font-size: 28px;
  }
  
  .apexcharts-tooltip-marker[shape="triangle"]::before {
    content: "\\25B2";
    font-size: 22px;
  }
  
  .apexcharts-tooltip-marker[shape="cross"]::before {
    content: "\\2715";
    font-size: 18px;
  }
  
  .apexcharts-tooltip-marker[shape="plus"]::before {
    content: "\\2715";
    transform: rotate(45deg) translate(-1px, -1px);
    font-size: 18px;
  }
  
  .apexcharts-tooltip-marker[shape="star"]::before {
    content: "\\2605";
    font-size: 18px;
  }
  
  .apexcharts-tooltip-marker[shape="sparkle"]::before {
    content: "\\2726";
    font-size: 20px;
  }
  
  .apexcharts-tooltip-series-group {
    padding: 0 10px;
    display: none;
    text-align: left;
    justify-content: left;
    align-items: center
  }
  
  .apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
    opacity: 1
  }
  
  .apexcharts-tooltip-series-group.apexcharts-active,
  .apexcharts-tooltip-series-group:last-child {
    padding-bottom: 4px
  }
  
  .apexcharts-tooltip-y-group {
    padding: 6px 0 5px
  }
  
  .apexcharts-custom-tooltip,
  .apexcharts-tooltip-box {
    padding: 4px 8px
  }
  
  .apexcharts-tooltip-boxPlot {
    display: flex;
    flex-direction: column-reverse
  }
  
  .apexcharts-tooltip-box>div {
    margin: 4px 0
  }
  
  .apexcharts-tooltip-box span.value {
    font-weight: 700
  }
  
  .apexcharts-tooltip-rangebar {
    padding: 5px 8px
  }
  
  .apexcharts-tooltip-rangebar .category {
    font-weight: 600;
    color: #777
  }
  
  .apexcharts-tooltip-rangebar .series-name {
    font-weight: 700;
    display: block;
    margin-bottom: 5px
  }
  
  .apexcharts-xaxistooltip,
  .apexcharts-yaxistooltip {
    opacity: 0;
    pointer-events: none;
    color: #373d3f;
    font-size: 13px;
    text-align: center;
    border-radius: 2px;
    position: absolute;
    z-index: 10;
    background: #eceff1;
    border: 1px solid #90a4ae
  }
  
  .apexcharts-xaxistooltip {
    padding: 9px 10px;
    transition: .15s ease all
  }
  
  .apexcharts-xaxistooltip.apexcharts-theme-dark {
    background: rgba(0, 0, 0, .7);
    border: 1px solid rgba(0, 0, 0, .5);
    color: #fff
  }
  
  .apexcharts-xaxistooltip:after,
  .apexcharts-xaxistooltip:before {
    left: 50%;
    border: solid transparent;
    content: " ";
    height: 0;
    width: 0;
    position: absolute;
    pointer-events: none
  }
  
  .apexcharts-xaxistooltip:after {
    border-color: transparent;
    border-width: 6px;
    margin-left: -6px
  }
  
  .apexcharts-xaxistooltip:before {
    border-color: transparent;
    border-width: 7px;
    margin-left: -7px
  }
  
  .apexcharts-xaxistooltip-bottom:after,
  .apexcharts-xaxistooltip-bottom:before {
    bottom: 100%
  }
  
  .apexcharts-xaxistooltip-top:after,
  .apexcharts-xaxistooltip-top:before {
    top: 100%
  }
  
  .apexcharts-xaxistooltip-bottom:after {
    border-bottom-color: #eceff1
  }
  
  .apexcharts-xaxistooltip-bottom:before {
    border-bottom-color: #90a4ae
  }
  
  .apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
  .apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
    border-bottom-color: rgba(0, 0, 0, .5)
  }
  
  .apexcharts-xaxistooltip-top:after {
    border-top-color: #eceff1
  }
  
  .apexcharts-xaxistooltip-top:before {
    border-top-color: #90a4ae
  }
  
  .apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
  .apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
    border-top-color: rgba(0, 0, 0, .5)
  }
  
  .apexcharts-xaxistooltip.apexcharts-active {
    opacity: 1;
    transition: .15s ease all
  }
  
  .apexcharts-yaxistooltip {
    padding: 4px 10px
  }
  
  .apexcharts-yaxistooltip.apexcharts-theme-dark {
    background: rgba(0, 0, 0, .7);
    border: 1px solid rgba(0, 0, 0, .5);
    color: #fff
  }
  
  .apexcharts-yaxistooltip:after,
  .apexcharts-yaxistooltip:before {
    top: 50%;
    border: solid transparent;
    content: " ";
    height: 0;
    width: 0;
    position: absolute;
    pointer-events: none
  }
  
  .apexcharts-yaxistooltip:after {
    border-color: transparent;
    border-width: 6px;
    margin-top: -6px
  }
  
  .apexcharts-yaxistooltip:before {
    border-color: transparent;
    border-width: 7px;
    margin-top: -7px
  }
  
  .apexcharts-yaxistooltip-left:after,
  .apexcharts-yaxistooltip-left:before {
    left: 100%
  }
  
  .apexcharts-yaxistooltip-right:after,
  .apexcharts-yaxistooltip-right:before {
    right: 100%
  }
  
  .apexcharts-yaxistooltip-left:after {
    border-left-color: #eceff1
  }
  
  .apexcharts-yaxistooltip-left:before {
    border-left-color: #90a4ae
  }
  
  .apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
  .apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
    border-left-color: rgba(0, 0, 0, .5)
  }
  
  .apexcharts-yaxistooltip-right:after {
    border-right-color: #eceff1
  }
  
  .apexcharts-yaxistooltip-right:before {
    border-right-color: #90a4ae
  }
  
  .apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
  .apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
    border-right-color: rgba(0, 0, 0, .5)
  }
  
  .apexcharts-yaxistooltip.apexcharts-active {
    opacity: 1
  }
  
  .apexcharts-yaxistooltip-hidden {
    display: none
  }
  
  .apexcharts-xcrosshairs,
  .apexcharts-ycrosshairs {
    pointer-events: none;
    opacity: 0;
    transition: .15s ease all
  }
  
  .apexcharts-xcrosshairs.apexcharts-active,
  .apexcharts-ycrosshairs.apexcharts-active {
    opacity: 1;
    transition: .15s ease all
  }
  
  .apexcharts-ycrosshairs-hidden {
    opacity: 0
  }
  
  .apexcharts-selection-rect {
    cursor: move
  }
  
  .svg_select_shape {
    stroke-width: 1;
    stroke-dasharray: 10 10;
    stroke: black;
    stroke-opacity: 0.1;
    pointer-events: none;
    fill: none;
  }
  
  .svg_select_handle {
    stroke-width: 3;
    stroke: black;
    fill: none;
  }
  
  .svg_select_handle_r {
    cursor: e-resize;
  }
  
  .svg_select_handle_l {
    cursor: w-resize;
  }
  
  .apexcharts-svg.apexcharts-zoomable.hovering-zoom {
    cursor: crosshair
  }
  
  .apexcharts-svg.apexcharts-zoomable.hovering-pan {
    cursor: move
  }
  
  .apexcharts-menu-icon,
  .apexcharts-pan-icon,
  .apexcharts-reset-icon,
  .apexcharts-selection-icon,
  .apexcharts-toolbar-custom-icon,
  .apexcharts-zoom-icon,
  .apexcharts-zoomin-icon,
  .apexcharts-zoomout-icon {
    cursor: pointer;
    width: 20px;
    height: 20px;
    line-height: 24px;
    color: #6e8192;
    text-align: center
  }
  
  .apexcharts-menu-icon svg,
  .apexcharts-reset-icon svg,
  .apexcharts-zoom-icon svg,
  .apexcharts-zoomin-icon svg,
  .apexcharts-zoomout-icon svg {
    fill: #6e8192
  }
  
  .apexcharts-selection-icon svg {
    fill: #444;
    transform: scale(.76)
  }
  
  .apexcharts-theme-dark .apexcharts-menu-icon svg,
  .apexcharts-theme-dark .apexcharts-pan-icon svg,
  .apexcharts-theme-dark .apexcharts-reset-icon svg,
  .apexcharts-theme-dark .apexcharts-selection-icon svg,
  .apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
  .apexcharts-theme-dark .apexcharts-zoom-icon svg,
  .apexcharts-theme-dark .apexcharts-zoomin-icon svg,
  .apexcharts-theme-dark .apexcharts-zoomout-icon svg {
    fill: #f3f4f5
  }
  
  .apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
  .apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
  .apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
    fill: #008ffb
  }
  
  .apexcharts-theme-light .apexcharts-menu-icon:hover svg,
  .apexcharts-theme-light .apexcharts-reset-icon:hover svg,
  .apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
  .apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
  .apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
  .apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
    fill: #333
  }
  
  .apexcharts-menu-icon,
  .apexcharts-selection-icon {
    position: relative
  }
  
  .apexcharts-reset-icon {
    margin-left: 5px
  }
  
  .apexcharts-menu-icon,
  .apexcharts-reset-icon,
  .apexcharts-zoom-icon {
    transform: scale(.85)
  }
  
  .apexcharts-zoomin-icon,
  .apexcharts-zoomout-icon {
    transform: scale(.7)
  }
  
  .apexcharts-zoomout-icon {
    margin-right: 3px
  }
  
  .apexcharts-pan-icon {
    transform: scale(.62);
    position: relative;
    left: 1px;
    top: 0
  }
  
  .apexcharts-pan-icon svg {
    fill: #fff;
    stroke: #6e8192;
    stroke-width: 2
  }
  
  .apexcharts-pan-icon.apexcharts-selected svg {
    stroke: #008ffb
  }
  
  .apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
    stroke: #333
  }
  
  .apexcharts-toolbar {
    position: absolute;
    z-index: 11;
    max-width: 176px;
    text-align: right;
    border-radius: 3px;
    padding: 0 6px 2px;
    display: flex;
    justify-content: space-between;
    align-items: center
  }
  
  .apexcharts-menu {
    background: #fff;
    position: absolute;
    top: 100%;
    border: 1px solid #ddd;
    border-radius: 3px;
    padding: 3px;
    right: 10px;
    opacity: 0;
    min-width: 110px;
    transition: .15s ease all;
    pointer-events: none
  }
  
  .apexcharts-menu.apexcharts-menu-open {
    opacity: 1;
    pointer-events: all;
    transition: .15s ease all
  }
  
  .apexcharts-menu-item {
    padding: 6px 7px;
    font-size: 12px;
    cursor: pointer
  }
  
  .apexcharts-theme-light .apexcharts-menu-item:hover {
    background: #eee
  }
  
  .apexcharts-theme-dark .apexcharts-menu {
    background: rgba(0, 0, 0, .7);
    color: #fff
  }
  
  @media screen and (min-width:768px) {
    .apexcharts-canvas:hover .apexcharts-toolbar {
      opacity: 1
    }
  }
  
  .apexcharts-canvas .apexcharts-element-hidden,
  .apexcharts-datalabel.apexcharts-element-hidden,
  .apexcharts-hide .apexcharts-series-points {
    opacity: 0;
  }
  
  .apexcharts-hidden-element-shown {
    opacity: 1;
    transition: 0.25s ease all;
  }
  
  .apexcharts-datalabel,
  .apexcharts-datalabel-label,
  .apexcharts-datalabel-value,
  .apexcharts-datalabels,
  .apexcharts-pie-label {
    cursor: default;
    pointer-events: none
  }
  
  .apexcharts-pie-label-delay {
    opacity: 0;
    animation-name: opaque;
    animation-duration: .3s;
    animation-fill-mode: forwards;
    animation-timing-function: ease
  }
  
  .apexcharts-radialbar-label {
    cursor: pointer;
  }
  
  .apexcharts-annotation-rect,
  .apexcharts-area-series .apexcharts-area,
  .apexcharts-gridline,
  .apexcharts-line,
  .apexcharts-point-annotation-label,
  .apexcharts-radar-series path:not(.apexcharts-marker),
  .apexcharts-radar-series polygon,
  .apexcharts-toolbar svg,
  .apexcharts-tooltip .apexcharts-marker,
  .apexcharts-xaxis-annotation-label,
  .apexcharts-yaxis-annotation-label,
  .apexcharts-zoom-rect,
  .no-pointer-events {
    pointer-events: none
  }
  
  .apexcharts-tooltip-active .apexcharts-marker {
    transition: .15s ease all
  }
  
  .apexcharts-radar-series .apexcharts-yaxis {
    pointer-events: none;
  }
  
  .resize-triggers {
    animation: 1ms resizeanim;
    visibility: hidden;
    opacity: 0;
    height: 100%;
    width: 100%;
    overflow: hidden
  }
  
  .contract-trigger:before,
  .resize-triggers,
  .resize-triggers>div {
    content: " ";
    display: block;
    position: absolute;
    top: 0;
    left: 0
  }
  
  .resize-triggers>div {
    height: 100%;
    width: 100%;
    background: #eee;
    overflow: auto
  }
  
  .contract-trigger:before {
    overflow: hidden;
    width: 200%;
    height: 200%
  }
  
  .apexcharts-bar-goals-markers {
    pointer-events: none
  }
  
  .apexcharts-bar-shadows {
    pointer-events: none
  }
  
  .apexcharts-rangebar-goals-markers {
    pointer-events: none
  }`;var h=((c=e.opts.chart)===null||c===void 0?void 0:c.nonce)||e.w.config.chart.nonce;h&&l.setAttribute("nonce",h),o?s.prepend(l):a.head.appendChild(l)}var u=e.create(e.w.config.series,{});if(!u)return t(e);e.mount(u).then(function(){typeof e.w.config.chart.events.mounted=="function"&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),t(u)}).catch(function(d){n(d)})}else n(new Error("Element not found"))})}},{key:"create",value:function(e,t){var n=this,r=this.w;new Vb(this).initModules();var s=this.w.globals;if(s.noData=!1,s.animationEnded=!1,!H.elementExists(this.el))return s.animationEnded=!0,this.destroy(),null;if(this.responsive.checkResponsiveConfig(t),r.config.xaxis.convertedCatToNumeric&&new Pa(r.config).convertCatToNumericXaxis(r.config,this.ctx),this.core.setupElements(),r.config.chart.type==="treemap"&&(r.config.grid.show=!1,r.config.yaxis[0].show=!1),s.svgWidth===0)return s.animationEnded=!0,null;var o=e;e.forEach(function(d,f){d.hidden&&(o=n.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:f}))});var a=Bt.checkComboSeries(o,r.config.chart.type);s.comboCharts=a.comboCharts,s.comboBarCount=a.comboBarCount;var l=o.every(function(d){return d.data&&d.data.length===0});(o.length===0||l&&s.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(o),this.theme.init(),new go(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),s.noData&&s.collapsedSeries.length!==s.series.length&&!r.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),s.axisCharts&&(this.core.coreCalculations(),r.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=r.globals.minX,this.ctx.toolbar.maxX=r.globals.maxX),this.formatters.heatmapLabelFormatters(),new Bt(this).getLargestMarkerSize(),this.dimensions.plotCoords();var c=this.core.xySettings();this.grid.createGridMask();var h=this.core.plotChartType(o,c),u=new mo(this);return u.bringForward(),r.config.dataLabels.background.enabled&&u.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:h,xyRatios:c,dimensions:{plot:{left:r.globals.translateX,top:r.globals.translateY,width:r.globals.gridWidth,height:r.globals.gridHeight}}}}},{key:"mount",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=this,r=n.w;return new Promise(function(s,o){if(n.el===null)return o(new Error("Not enough data to display or target element not found"));(t===null||r.globals.allSeriesCollapsed)&&n.series.handleNoData(),n.grid=new Mb(n);var a,l,c=n.grid.drawGrid();if(n.annotations=new iA(n),n.annotations.drawImageAnnos(),n.annotations.drawTextAnnos(),r.config.grid.position==="back"&&(c&&r.globals.dom.elGraphical.add(c.el),c!=null&&(a=c.elGridBorders)!==null&&a!==void 0&&a.node&&r.globals.dom.elGraphical.add(c.elGridBorders)),Array.isArray(t.elGraph))for(var h=0;h<t.elGraph.length;h++)r.globals.dom.elGraphical.add(t.elGraph[h]);else r.globals.dom.elGraphical.add(t.elGraph);r.config.grid.position==="front"&&(c&&r.globals.dom.elGraphical.add(c.el),c!=null&&(l=c.elGridBorders)!==null&&l!==void 0&&l.node&&r.globals.dom.elGraphical.add(c.elGridBorders)),r.config.xaxis.crosshairs.position==="front"&&n.crosshairs.drawXCrosshairs(),r.config.yaxis[0].crosshairs.position==="front"&&n.crosshairs.drawYCrosshairs(),r.config.chart.type!=="treemap"&&n.axes.drawAxis(r.config.chart.type,c);var u=new Da(e.ctx,c),d=new Xd(e.ctx,c);if(c!==null&&(u.xAxisLabelCorrections(c.xAxisTickWidth),d.setYAxisTextAlignments(),r.config.yaxis.map(function(p,m){r.globals.ignoreYAxisIndexes.indexOf(m)===-1&&d.yAxisTitleRotate(m,p.opposite)})),n.annotations.drawAxesAnnotations(),!r.globals.noData){if(r.config.tooltip.enabled&&!r.globals.noData&&n.w.globals.tooltip.drawTooltip(t.xyRatios),r.globals.axisCharts&&(r.globals.isXNumeric||r.config.xaxis.convertedCatToNumeric||r.globals.isRangeBar))(r.config.chart.zoom.enabled||r.config.chart.selection&&r.config.chart.selection.enabled||r.config.chart.pan&&r.config.chart.pan.enabled)&&n.zoomPanSelection.init({xyRatios:t.xyRatios});else{var f=r.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(p){f[p]=!1})}r.config.chart.toolbar.show&&!r.globals.allSeriesCollapsed&&n.toolbar.createToolbar()}r.globals.memory.methodsToExec.length>0&&r.globals.memory.methodsToExec.forEach(function(p){p.method(p.params,!1,p.context)}),r.globals.axisCharts||r.globals.noData||n.core.resizeNonAxisCharts(),s(n)})}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),function(t,n){var r=Kd.get(n);r&&(r.disconnect(),Kd.delete(n))}(this.el.parentNode,this.parentResizeHandler);var e=this.w.config.chart.id;e&&Apex._chartInstances.forEach(function(t,n){t.id===H.escapeString(e)&&Apex._chartInstances.splice(n,1)}),new $b(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],s=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],o=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],a=this.w;return a.globals.selection=void 0,e.series&&(this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map(function(l,c){return t.updateHelpers._extendSeries(l,c)})),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),a.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,n,r,s,o)}},{key:"updateSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,t,n)}},{key:"appendSeries",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=this.w.config.series.slice();return r.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(r,t,n)}},{key:"appendData",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=this;n.w.globals.dataChanged=!0,n.series.getPreviousPaths();for(var r=n.w.config.series.slice(),s=0;s<r.length;s++)if(e[s]!==null&&e[s]!==void 0)for(var o=0;o<e[s].data.length;o++)r[s].data.push(e[s].data[o]);return n.w.config.series=r,t&&(n.w.globals.initialSeries=H.clone(n.w.config.series)),this.update()}},{key:"update",value:function(e){var t=this;return new Promise(function(n,r){new $b(t.ctx).clear({isUpdating:!0});var s=t.create(t.w.config.series,e);if(!s)return n(t);t.mount(s).then(function(){typeof t.w.config.chart.events.updated=="function"&&t.w.config.chart.events.updated(t,t.w),t.events.fireEvent("updated",[t,t.w]),t.w.globals.isDirty=!0,n(t)}).catch(function(o){r(o)})})}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),t=[this];return e.length&&(t=[],e.forEach(function(n){t.push(n)})),t}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter(function(t){if(t.group)return!0}).map(function(t){return e.w.config.chart.group===t.group?t.chart:e})}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,t){return this.series.toggleSeriesOnHover(e,t)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"highlightSeries",value:function(e){this.series.highlightSeries(e)}},{key:"isSeriesHidden",value:function(e){this.series.isSeriesHidden(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(e,t)}},{key:"addEventListener",value:function(e,t){this.events.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.events.removeEventListener(e,t)}},{key:"addXaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=this;n&&(r=n),r.annotations.addXaxisAnnotationExternal(e,t,r)}},{key:"addYaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=this;n&&(r=n),r.annotations.addYaxisAnnotationExternal(e,t,r)}},{key:"addPointAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=this;n&&(r=n),r.annotations.addPointAnnotationExternal(e,t,r)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,t=this;e&&(t=e),t.annotations.clearAnnotations(t)}},{key:"removeAnnotation",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,n=this;t&&(n=t),n.annotations.removeAnnotation(n,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,t){return this.coreUtils.getSeriesTotalsXRange(e,t)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Hd(this.ctx).getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Hd(this.ctx).getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,t){return this.updateHelpers.toggleDataPointSelection(e,t)}},{key:"zoomX",value:function(e,t){this.ctx.toolbar.zoomUpdateOptions(e,t)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new Ra(this.ctx).dataURI(e)}},{key:"getSvgString",value:function(e){return new Ra(this.ctx).getSvgString(e)}},{key:"exportToCSV",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Ra(this.ctx).exportToCSV(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;typeof e=="function"&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var t=H.escapeString(e);if(Apex._chartInstances){var n=Apex._chartInstances.filter(function(r){return r.id===t})[0];return n&&n.chart}}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),t=0;t<e.length;t++)new i(e[t],JSON.parse(e[t].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,t){var n=this.getChartByID(e);if(n){n.w.globals.isExecCalled=!0;var r=null;if(n.publicMethods.indexOf(t)!==-1){for(var s=arguments.length,o=new Array(s>2?s-2:0),a=2;a<s;a++)o[a-2]=arguments[a];r=n[t].apply(n,o)}return r}}},{key:"merge",value:function(e,t){return H.extend(e,t)}}]),i}();const qb=["animationEnd","beforeMount","mounted","updated","click","mouseMove","mouseLeave","legendClick","markerClick","selection","dataPointSelection","dataPointMouseEnter","dataPointMouseLeave","beforeZoom","beforeResetZoom","zoomed","scrolled","brushScrolled"],xc=ia({name:"apexchart",props:{options:{type:Object},type:{type:String},series:{type:Array,required:!0},width:{default:"100%"},height:{default:"auto"}},emits:qb,setup(i,{emit:e}){const t=Yt(null),n=Yt(null),r=D=>D&&typeof D=="object"&&!Array.isArray(D)&&D!=null,s=(D,_)=>{typeof Object.assign!="function"&&function(){Object.assign=function(U){if(U==null)throw new TypeError("Cannot convert undefined or null to object");let re=Object(U);for(let ne=1;ne<arguments.length;ne++){let ie=arguments[ne];if(ie!=null)for(let ae in ie)ie.hasOwnProperty(ae)&&(re[ae]=ie[ae])}return re}}();let $=Object.assign({},D);return r(D)&&r(_)&&Object.keys(_).forEach(U=>{r(_[U])?U in D?$[U]=s(D[U],_[U]):Object.assign($,{[U]:_[U]}):Object.assign($,{[U]:_[U]})}),$},o=async()=>{if(await Ks(),n.value)return;const D={chart:{type:i.type||i.options.chart.type||"line",height:i.height,width:i.width,events:{}},series:i.series},_=i.options.chart?i.options.chart.events:null;qb.forEach(U=>{let re=(...ne)=>e(U,...ne);D.chart.events[U]=(...ne)=>{re(...ne),_&&_.hasOwnProperty(U)&&_[U](...ne)}});const $=s(i.options,D);return n.value=new Gb(t.value,$),n.value.render()},a=()=>(l(),o()),l=()=>{n.value.destroy(),n.value=null},c=(D,_)=>n.value.updateSeries(D,_),h=(D,_,$,U)=>n.value.updateOptions(D,_,$,U),u=D=>n.value.toggleSeries(D),d=D=>{n.value.showSeries(D)},f=D=>{n.value.hideSeries(D)},p=(D,_)=>n.value.appendSeries(D,_),m=()=>{n.value.resetSeries()},b=(D,_)=>{n.value.toggleDataPointSelection(D,_)},y=D=>n.value.appendData(D),w=(D,_)=>n.value.zoomX(D,_),C=D=>n.value.dataURI(D),T=D=>n.value.setLocale(D),S=(D,_)=>{n.value.addXaxisAnnotation(D,_)},E=(D,_)=>{n.value.addYaxisAnnotation(D,_)},M=(D,_)=>{n.value.addPointAnnotation(D,_)},I=(D,_)=>{n.value.removeAnnotation(D,_)},P=()=>{n.value.clearAnnotations()};ym(()=>{window.ApexCharts=Gb}),Js(()=>{t.value=pa().proxy.$el,o()}),oa(()=>{n.value&&l()});const N=F1(i);return _i(N.options,()=>{!n.value&&i.options?o():n.value.updateOptions(i.options)}),_i(N.series,()=>{!n.value&&i.series?o():n.value.updateSeries(i.series)},{deep:!0}),_i(N.type,()=>{a()}),_i(N.width,()=>{a()}),_i(N.height,()=>{a()}),{chart:n,init:o,refresh:a,destroy:l,updateOptions:h,updateSeries:c,toggleSeries:u,showSeries:d,hideSeries:f,resetSeries:m,zoomX:w,toggleDataPointSelection:b,appendData:y,appendSeries:p,addXaxisAnnotation:S,addYaxisAnnotation:E,addPointAnnotation:M,removeAnnotation:I,clearAnnotations:P,setLocale:T,dataURI:C}},render(){return io("div",{class:"vue-apexcharts"})}}),zA=i=>{i.component(xc.name,xc)};xc.install=zA;const FA=["onClick"],BA={key:0,class:"relative ml-auto"},HA=["value","selected"],XA=ia({__name:"ChartsNavbar",props:Ok({tabs:{},modelValue:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(i){const e=i,t=lS(i,"modelValue"),n=Yt(null),r=Yt([]),s=Yt(e.tabs.length),o=no(()=>e.tabs.slice(0,s.value)),a=no(()=>e.tabs.slice(s.value));Js(()=>{window.addEventListener("resize",c)}),oa(()=>{window.removeEventListener("resize",c)}),_i(e,async()=>{s.value=e.tabs.length,await Ks(),c()},{immediate:!0});function l(h){let u=h.selectedOptions[0]||null;u?t.value=u.value=="-1"?null:u.value:t.value=null}async function c(){if(!n.value)return;await Ks();let h=n.value.offsetWidth||0,u=0,d=0;for(const f of r.value){if(!f)continue;const p=f.offsetWidth;if(u+=p,u<h)d++;else{d--;break}}s.value=d}return(h,u)=>(Ot(),jt("nav",{ref_key:"navbar",ref:n,class:"stats-nav"},[(Ot(!0),jt(qn,null,wm(o.value,(d,f)=>(Ot(),jt("button",{key:d.link,ref_for:!0,ref:p=>r.value[f]=p,type:"button",class:In(["nav-btn",d.value===t.value?"is-active":""]),onClick:p=>t.value=d.value},Vo(d.label),11,FA))),128)),a.value.length?(Ot(),jt("div",BA,[It("select",{class:"nav-select",onChange:u[0]||(u[0]=d=>{l(d.target)})},[u[1]||(u[1]=It("option",{value:"-1"}," Andere Geschichten ",-1)),(Ot(!0),jt(qn,null,wm(a.value,d=>(Ot(),jt("option",{key:d.value,value:d.value,selected:d.value==t.value},Vo(d.label),9,HA))),128))],32)])):cn("",!0)],512))}}),Jd=(i,e)=>{const t=i.__vccOpts||i;for(const[n,r]of e)t[n]=r;return t},WA=Jd(XA,[["__scopeId","data-v-2d02e9dc"]]);var YA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jA(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var bc={exports:{}},VA=bc.exports,Ub;function $A(){return Ub||(Ub=1,function(i,e){(function(t,n){i.exports=n()})(VA,function(){var t=function(g,x){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,k){v.__proto__=k}||function(v,k){for(var A in k)Object.prototype.hasOwnProperty.call(k,A)&&(v[A]=k[A])})(g,x)},n=function(){return(n=Object.assign||function(g){for(var x,v=1,k=arguments.length;v<k;v++)for(var A in x=arguments[v])Object.prototype.hasOwnProperty.call(x,A)&&(g[A]=x[A]);return g}).apply(this,arguments)};function r(g,x,v){for(var k,A=0,O=x.length;A<O;A++)!k&&A in x||((k=k||Array.prototype.slice.call(x,0,A))[A]=x[A]);return g.concat(k||Array.prototype.slice.call(x))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:YA,o=Object.keys,a=Array.isArray;function l(g,x){return typeof x!="object"||o(x).forEach(function(v){g[v]=x[v]}),g}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var c=Object.getPrototypeOf,h={}.hasOwnProperty;function u(g,x){return h.call(g,x)}function d(g,x){typeof x=="function"&&(x=x(c(g))),(typeof Reflect>"u"?o:Reflect.ownKeys)(x).forEach(function(v){p(g,v,x[v])})}var f=Object.defineProperty;function p(g,x,v,k){f(g,x,l(v&&u(v,"get")&&typeof v.get=="function"?{get:v.get,set:v.set,configurable:!0}:{value:v,configurable:!0,writable:!0},k))}function m(g){return{from:function(x){return g.prototype=Object.create(x.prototype),p(g.prototype,"constructor",g),{extend:d.bind(null,g.prototype)}}}}var b=Object.getOwnPropertyDescriptor,y=[].slice;function w(g,x,v){return y.call(g,x,v)}function C(g,x){return x(g)}function T(g){if(!g)throw new Error("Assertion Failed")}function S(g){s.setImmediate?setImmediate(g):setTimeout(g,0)}function E(g,x){if(typeof x=="string"&&u(g,x))return g[x];if(!x)return g;if(typeof x!="string"){for(var v=[],k=0,A=x.length;k<A;++k){var O=E(g,x[k]);v.push(O)}return v}var L=x.indexOf(".");if(L!==-1){var z=g[x.substr(0,L)];return z==null?void 0:E(z,x.substr(L+1))}}function M(g,x,v){if(g&&x!==void 0&&!("isFrozen"in Object&&Object.isFrozen(g)))if(typeof x!="string"&&"length"in x){T(typeof v!="string"&&"length"in v);for(var k=0,A=x.length;k<A;++k)M(g,x[k],v[k])}else{var O,L,z=x.indexOf(".");z!==-1?(O=x.substr(0,z),(L=x.substr(z+1))===""?v===void 0?a(g)&&!isNaN(parseInt(O))?g.splice(O,1):delete g[O]:g[O]=v:M(z=!(z=g[O])||!u(g,O)?g[O]={}:z,L,v)):v===void 0?a(g)&&!isNaN(parseInt(x))?g.splice(x,1):delete g[x]:g[x]=v}}function I(g){var x,v={};for(x in g)u(g,x)&&(v[x]=g[x]);return v}var P=[].concat;function N(g){return P.apply([],g)}var We="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(N([8,16,32,64].map(function(g){return["Int","Uint","Float"].map(function(x){return x+g+"Array"})}))).filter(function(g){return s[g]}),D=new Set(We.map(function(g){return s[g]})),_=null;function $(g){return _=new WeakMap,g=function x(v){if(!v||typeof v!="object")return v;var k=_.get(v);if(k)return k;if(a(v)){k=[],_.set(v,k);for(var A=0,O=v.length;A<O;++A)k.push(x(v[A]))}else if(D.has(v.constructor))k=v;else{var L,z=c(v);for(L in k=z===Object.prototype?{}:Object.create(z),_.set(v,k),v)u(v,L)&&(k[L]=x(v[L]))}return k}(g),_=null,g}var U={}.toString;function re(g){return U.call(g).slice(8,-1)}var ne=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ie=typeof ne=="symbol"?function(g){var x;return g!=null&&(x=g[ne])&&x.apply(g)}:function(){return null};function ae(g,x){return x=g.indexOf(x),0<=x&&g.splice(x,1),0<=x}var Me={};function Re(g){var x,v,k,A;if(arguments.length===1){if(a(g))return g.slice();if(this===Me&&typeof g=="string")return[g];if(A=ie(g)){for(v=[];!(k=A.next()).done;)v.push(k.value);return v}if(g==null)return[g];if(typeof(x=g.length)!="number")return[g];for(v=new Array(x);x--;)v[x]=g[x];return v}for(x=arguments.length,v=new Array(x);x--;)v[x]=arguments[x];return v}var Ne=typeof Symbol<"u"?function(g){return g[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},ze=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],xi=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ze),Qe={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function st(g,x){this.name=g,this.message=x}function Ge(g,x){return g+". Errors: "+Object.keys(x).map(function(v){return x[v].toString()}).filter(function(v,k,A){return A.indexOf(v)===k}).join(`
  `)}function Mt(g,x,v,k){this.failures=x,this.failedKeys=k,this.successCount=v,this.message=Ge(g,x)}function Ue(g,x){this.name="BulkError",this.failures=Object.keys(x).map(function(v){return x[v]}),this.failuresByPos=x,this.message=Ge(g,this.failures)}m(st).from(Error).extend({toString:function(){return this.name+": "+this.message}}),m(Mt).from(st),m(Ue).from(st);var $e=xi.reduce(function(g,x){return g[x]=x+"Error",g},{}),at=st,Ce=xi.reduce(function(g,x){var v=x+"Error";function k(A,O){this.name=v,A?typeof A=="string"?(this.message="".concat(A).concat(O?`
   `+O:""),this.inner=O||null):typeof A=="object"&&(this.message="".concat(A.name," ").concat(A.message),this.inner=A):(this.message=Qe[x]||v,this.inner=null)}return m(k).from(at),g[x]=k,g},{});Ce.Syntax=SyntaxError,Ce.Type=TypeError,Ce.Range=RangeError;var Tt=ze.reduce(function(g,x){return g[x+"Error"]=Ce[x],g},{}),Et=xi.reduce(function(g,x){return["Syntax","Type","Range"].indexOf(x)===-1&&(g[x+"Error"]=Ce[x]),g},{});function ht(){}function R(g){return g}function B(g,x){return g==null||g===R?x:function(v){return x(g(v))}}function te(g,x){return function(){g.apply(this,arguments),x.apply(this,arguments)}}function de(g,x){return g===ht?x:function(){var v=g.apply(this,arguments);v!==void 0&&(arguments[0]=v);var k=this.onsuccess,A=this.onerror;this.onsuccess=null,this.onerror=null;var O=x.apply(this,arguments);return k&&(this.onsuccess=this.onsuccess?te(k,this.onsuccess):k),A&&(this.onerror=this.onerror?te(A,this.onerror):A),O!==void 0?O:v}}function le(g,x){return g===ht?x:function(){g.apply(this,arguments);var v=this.onsuccess,k=this.onerror;this.onsuccess=this.onerror=null,x.apply(this,arguments),v&&(this.onsuccess=this.onsuccess?te(v,this.onsuccess):v),k&&(this.onerror=this.onerror?te(k,this.onerror):k)}}function ce(g,x){return g===ht?x:function(v){var k=g.apply(this,arguments);l(v,k);var A=this.onsuccess,O=this.onerror;return this.onsuccess=null,this.onerror=null,v=x.apply(this,arguments),A&&(this.onsuccess=this.onsuccess?te(A,this.onsuccess):A),O&&(this.onerror=this.onerror?te(O,this.onerror):O),k===void 0?v===void 0?void 0:v:l(k,v)}}function ke(g,x){return g===ht?x:function(){return x.apply(this,arguments)!==!1&&g.apply(this,arguments)}}function ye(g,x){return g===ht?x:function(){var v=g.apply(this,arguments);if(v&&typeof v.then=="function"){for(var k=this,A=arguments.length,O=new Array(A);A--;)O[A]=arguments[A];return v.then(function(){return x.apply(k,O)})}return x.apply(this,arguments)}}Et.ModifyError=Mt,Et.DexieError=st,Et.BulkError=Ue;var fe=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ue(g){fe=g}var He={},Ae=100,We=typeof Promise>"u"?[]:function(){var g=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[g,c(g),g];var x=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[x,c(x),g]}(),ze=We[0],xi=We[1],We=We[2],xi=xi&&xi.then,et=ze&&ze.constructor,bt=!!We,ut=function(g,x){An.push([g,x]),Jt&&(queueMicrotask(XP),Jt=!1)},xn=!0,Jt=!0,on=[],Hn=[],pr=R,Oi={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ht,pgp:!1,env:{},finalize:ht},Ie=Oi,An=[],Vi=0,zh=[];function Pe(g){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var x=this._PSD=Ie;if(typeof g!="function"){if(g!==He)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&zp(this,this._value))}this._state=null,this._value=null,++x.ref,function v(k,A){try{A(function(O){if(k._state===null){if(O===k)throw new TypeError("A promise cannot be resolved with itself.");var L=k._lib&&_o();O&&typeof O.then=="function"?v(k,function(z,X){O instanceof Pe?O._then(z,X):O.then(z,X)}):(k._state=!0,k._value=O,bw(k)),L&&No()}},zp.bind(null,k))}catch(O){zp(k,O)}}(this,g)}var Np={get:function(){var g=Ie,x=Xh;function v(k,A){var O=this,L=!g.global&&(g!==Ie||x!==Xh),z=L&&!Gr(),X=new Pe(function(Y,q){Fp(O,new xw(vw(k,g,L,z),vw(A,g,L,z),Y,q,g))});return this._consoleTask&&(X._consoleTask=this._consoleTask),X}return v.prototype=He,v},set:function(g){p(this,"then",g&&g.prototype===He?Np:{get:function(){return g},set:Np.set})}};function xw(g,x,v,k,A){this.onFulfilled=typeof g=="function"?g:null,this.onRejected=typeof x=="function"?x:null,this.resolve=v,this.reject=k,this.psd=A}function zp(g,x){var v,k;Hn.push(x),g._state===null&&(v=g._lib&&_o(),x=pr(x),g._state=!1,g._value=x,k=g,on.some(function(A){return A._value===k._value})||on.push(k),bw(g),v&&No())}function bw(g){var x=g._listeners;g._listeners=[];for(var v=0,k=x.length;v<k;++v)Fp(g,x[v]);var A=g._PSD;--A.ref||A.finalize(),Vi===0&&(++Vi,ut(function(){--Vi==0&&Bp()},[]))}function Fp(g,x){if(g._state!==null){var v=g._state?x.onFulfilled:x.onRejected;if(v===null)return(g._state?x.resolve:x.reject)(g._value);++x.psd.ref,++Vi,ut(HP,[v,g,x])}else g._listeners.push(x)}function HP(g,x,v){try{var k,A=x._value;!x._state&&Hn.length&&(Hn=[]),k=fe&&x._consoleTask?x._consoleTask.run(function(){return g(A)}):g(A),x._state||Hn.indexOf(A)!==-1||function(O){for(var L=on.length;L;)if(on[--L]._value===O._value)return on.splice(L,1)}(x),v.resolve(k)}catch(O){v.reject(O)}finally{--Vi==0&&Bp(),--v.psd.ref||v.psd.finalize()}}function XP(){Bs(Oi,function(){_o()&&No()})}function _o(){var g=xn;return Jt=xn=!1,g}function No(){var g,x,v;do for(;0<An.length;)for(g=An,An=[],v=g.length,x=0;x<v;++x){var k=g[x];k[0].apply(null,k[1])}while(0<An.length);Jt=xn=!0}function Bp(){var g=on;on=[],g.forEach(function(k){k._PSD.onunhandled.call(null,k._value,k)});for(var x=zh.slice(0),v=x.length;v;)x[--v]()}function Fh(g){return new Pe(He,!1,g)}function zt(g,x){var v=Ie;return function(){var k=_o(),A=Ie;try{return qr(v,!0),g.apply(this,arguments)}catch(O){x&&x(O)}finally{qr(A,!1),k&&No()}}}d(Pe.prototype,{then:Np,_then:function(g,x){Fp(this,new xw(null,null,g,x,Ie))},catch:function(g){if(arguments.length===1)return this.then(null,g);var x=g,v=arguments[1];return typeof x=="function"?this.then(null,function(k){return(k instanceof x?v:Fh)(k)}):this.then(null,function(k){return(k&&k.name===x?v:Fh)(k)})},finally:function(g){return this.then(function(x){return Pe.resolve(g()).then(function(){return x})},function(x){return Pe.resolve(g()).then(function(){return Fh(x)})})},timeout:function(g,x){var v=this;return g<1/0?new Pe(function(k,A){var O=setTimeout(function(){return A(new Ce.Timeout(x))},g);v.then(k,A).finally(clearTimeout.bind(null,O))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&p(Pe.prototype,Symbol.toStringTag,"Dexie.Promise"),Oi.env=yw(),d(Pe,{all:function(){var g=Re.apply(null,arguments).map(Wh);return new Pe(function(x,v){g.length===0&&x([]);var k=g.length;g.forEach(function(A,O){return Pe.resolve(A).then(function(L){g[O]=L,--k||x(g)},v)})})},resolve:function(g){return g instanceof Pe?g:g&&typeof g.then=="function"?new Pe(function(x,v){g.then(x,v)}):new Pe(He,!0,g)},reject:Fh,race:function(){var g=Re.apply(null,arguments).map(Wh);return new Pe(function(x,v){g.map(function(k){return Pe.resolve(k).then(x,v)})})},PSD:{get:function(){return Ie},set:function(g){return Ie=g}},totalEchoes:{get:function(){return Xh}},newPSD:$r,usePSD:Bs,scheduler:{get:function(){return ut},set:function(g){ut=g}},rejectionMapper:{get:function(){return pr},set:function(g){pr=g}},follow:function(g,x){return new Pe(function(v,k){return $r(function(A,O){var L=Ie;L.unhandleds=[],L.onunhandled=O,L.finalize=te(function(){var z,X=this;z=function(){X.unhandleds.length===0?A():O(X.unhandleds[0])},zh.push(function Y(){z(),zh.splice(zh.indexOf(Y),1)}),++Vi,ut(function(){--Vi==0&&Bp()},[])},L.finalize),g()},x,v,k)})}}),et&&(et.allSettled&&p(Pe,"allSettled",function(){var g=Re.apply(null,arguments).map(Wh);return new Pe(function(x){g.length===0&&x([]);var v=g.length,k=new Array(v);g.forEach(function(A,O){return Pe.resolve(A).then(function(L){return k[O]={status:"fulfilled",value:L}},function(L){return k[O]={status:"rejected",reason:L}}).then(function(){return--v||x(k)})})})}),et.any&&typeof AggregateError<"u"&&p(Pe,"any",function(){var g=Re.apply(null,arguments).map(Wh);return new Pe(function(x,v){g.length===0&&v(new AggregateError([]));var k=g.length,A=new Array(k);g.forEach(function(O,L){return Pe.resolve(O).then(function(z){return x(z)},function(z){A[L]=z,--k||v(new AggregateError(A))})})})}),et.withResolvers&&(Pe.withResolvers=et.withResolvers));var an={awaits:0,echoes:0,id:0},WP=0,Bh=[],Hh=0,Xh=0,YP=0;function $r(g,x,v,k){var A=Ie,O=Object.create(A);return O.parent=A,O.ref=0,O.global=!1,O.id=++YP,Oi.env,O.env=bt?{Promise:Pe,PromiseProp:{value:Pe,configurable:!0,writable:!0},all:Pe.all,race:Pe.race,allSettled:Pe.allSettled,any:Pe.any,resolve:Pe.resolve,reject:Pe.reject}:{},x&&l(O,x),++A.ref,O.finalize=function(){--this.parent.ref||this.parent.finalize()},k=Bs(O,g,v,k),O.ref===0&&O.finalize(),k}function zo(){return an.id||(an.id=++WP),++an.awaits,an.echoes+=Ae,an.id}function Gr(){return!!an.awaits&&(--an.awaits==0&&(an.id=0),an.echoes=an.awaits*Ae,!0)}function Wh(g){return an.echoes&&g&&g.constructor===et?(zo(),g.then(function(x){return Gr(),x},function(x){return Gr(),Vt(x)})):g}function jP(){var g=Bh[Bh.length-1];Bh.pop(),qr(g,!1)}function qr(g,x){var v,k=Ie;(x?!an.echoes||Hh++&&g===Ie:!Hh||--Hh&&g===Ie)||queueMicrotask(x?(function(A){++Xh,an.echoes&&--an.echoes!=0||(an.echoes=an.awaits=an.id=0),Bh.push(Ie),qr(A,!0)}).bind(null,g):jP),g!==Ie&&(Ie=g,k===Oi&&(Oi.env=yw()),bt&&(v=Oi.env.Promise,x=g.env,(k.global||g.global)&&(Object.defineProperty(s,"Promise",x.PromiseProp),v.all=x.all,v.race=x.race,v.resolve=x.resolve,v.reject=x.reject,x.allSettled&&(v.allSettled=x.allSettled),x.any&&(v.any=x.any))))}function yw(){var g=s.Promise;return bt?{Promise:g,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:g.all,race:g.race,allSettled:g.allSettled,any:g.any,resolve:g.resolve,reject:g.reject}:{}}function Bs(g,x,v,k,A){var O=Ie;try{return qr(g,!0),x(v,k,A)}finally{qr(O,!1)}}function vw(g,x,v,k){return typeof g!="function"?g:function(){var A=Ie;v&&zo(),qr(x,!0);try{return g.apply(this,arguments)}finally{qr(A,!1),k&&queueMicrotask(Gr)}}}function Hp(g){Promise===et&&an.echoes===0?Hh===0?g():enqueueNativeMicroTask(g):setTimeout(g,0)}(""+xi).indexOf("[native code]")===-1&&(zo=Gr=ht);var Vt=Pe.reject,Hs="￿",gr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ww="String expected.",Fo=[],Yh="__dbnames",Xp="readonly",Wp="readwrite";function Xs(g,x){return g?x?function(){return g.apply(this,arguments)&&x.apply(this,arguments)}:g:x}var kw={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function jh(g){return typeof g!="string"||/\./.test(g)?function(x){return x}:function(x){return x[g]===void 0&&g in x&&delete(x=$(x))[g],x}}function Sw(){throw Ce.Type()}function dt(g,x){try{var v=Cw(g),k=Cw(x);if(v!==k)return v==="Array"?1:k==="Array"?-1:v==="binary"?1:k==="binary"?-1:v==="string"?1:k==="string"?-1:v==="Date"?1:k!=="Date"?NaN:-1;switch(v){case"number":case"Date":case"string":return x<g?1:g<x?-1:0;case"binary":return function(A,O){for(var L=A.length,z=O.length,X=L<z?L:z,Y=0;Y<X;++Y)if(A[Y]!==O[Y])return A[Y]<O[Y]?-1:1;return L===z?0:L<z?-1:1}(Aw(g),Aw(x));case"Array":return function(A,O){for(var L=A.length,z=O.length,X=L<z?L:z,Y=0;Y<X;++Y){var q=dt(A[Y],O[Y]);if(q!==0)return q}return L===z?0:L<z?-1:1}(g,x)}}catch{}return NaN}function Cw(g){var x=typeof g;return x!="object"?x:ArrayBuffer.isView(g)?"binary":(g=re(g),g==="ArrayBuffer"?"binary":g)}function Aw(g){return g instanceof Uint8Array?g:ArrayBuffer.isView(g)?new Uint8Array(g.buffer,g.byteOffset,g.byteLength):new Uint8Array(g)}var Mw=(Dt.prototype._trans=function(g,x,v){var k=this._tx||Ie.trans,A=this.name,O=fe&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(g==="readonly"?"read":"write"," ").concat(this.name));function L(Y,q,F){if(!F.schema[A])throw new Ce.NotFound("Table "+A+" not part of transaction");return x(F.idbtrans,F)}var z=_o();try{var X=k&&k.db._novip===this.db._novip?k===Ie.trans?k._promise(g,L,v):$r(function(){return k._promise(g,L,v)},{trans:k,transless:Ie.transless||Ie}):function Y(q,F,J,W){if(q.idbdb&&(q._state.openComplete||Ie.letThrough||q._vip)){var G=q._createTransaction(F,J,q._dbSchema);try{G.create(),q._state.PR1398_maxLoop=3}catch(K){return K.name===$e.InvalidState&&q.isOpen()&&0<--q._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),q.close({disableAutoOpen:!1}),q.open().then(function(){return Y(q,F,J,W)})):Vt(K)}return G._promise(F,function(K,V){return $r(function(){return Ie.trans=G,W(K,V,G)})}).then(function(K){if(F==="readwrite")try{G.idbtrans.commit()}catch{}return F==="readonly"?K:G._completion.then(function(){return K})})}if(q._state.openComplete)return Vt(new Ce.DatabaseClosed(q._state.dbOpenError));if(!q._state.isBeingOpened){if(!q._state.autoOpen)return Vt(new Ce.DatabaseClosed);q.open().catch(ht)}return q._state.dbReadyPromise.then(function(){return Y(q,F,J,W)})}(this.db,g,[this.name],L);return O&&(X._consoleTask=O,X=X.catch(function(Y){return console.trace(Y),Vt(Y)})),X}finally{z&&No()}},Dt.prototype.get=function(g,x){var v=this;return g&&g.constructor===Object?this.where(g).first(x):g==null?Vt(new Ce.Type("Invalid argument to Table.get()")):this._trans("readonly",function(k){return v.core.get({trans:k,key:g}).then(function(A){return v.hook.reading.fire(A)})}).then(x)},Dt.prototype.where=function(g){if(typeof g=="string")return new this.db.WhereClause(this,g);if(a(g))return new this.db.WhereClause(this,"[".concat(g.join("+"),"]"));var x=o(g);if(x.length===1)return this.where(x[0]).equals(g[x[0]]);var v=this.schema.indexes.concat(this.schema.primKey).filter(function(z){if(z.compound&&x.every(function(Y){return 0<=z.keyPath.indexOf(Y)})){for(var X=0;X<x.length;++X)if(x.indexOf(z.keyPath[X])===-1)return!1;return!0}return!1}).sort(function(z,X){return z.keyPath.length-X.keyPath.length})[0];if(v&&this.db._maxKey!==Hs){var O=v.keyPath.slice(0,x.length);return this.where(O).equals(O.map(function(X){return g[X]}))}!v&&fe&&console.warn("The query ".concat(JSON.stringify(g)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(x.join("+"),"]"));var k=this.schema.idxByName;function A(z,X){return dt(z,X)===0}var L=x.reduce(function(F,X){var Y=F[0],q=F[1],F=k[X],J=g[X];return[Y||F,Y||!F?Xs(q,F&&F.multi?function(W){return W=E(W,X),a(W)&&W.some(function(G){return A(J,G)})}:function(W){return A(J,E(W,X))}):q]},[null,null]),O=L[0],L=L[1];return O?this.where(O.name).equals(g[O.keyPath]).filter(L):v?this.filter(L):this.where(x).equals("")},Dt.prototype.filter=function(g){return this.toCollection().and(g)},Dt.prototype.count=function(g){return this.toCollection().count(g)},Dt.prototype.offset=function(g){return this.toCollection().offset(g)},Dt.prototype.limit=function(g){return this.toCollection().limit(g)},Dt.prototype.each=function(g){return this.toCollection().each(g)},Dt.prototype.toArray=function(g){return this.toCollection().toArray(g)},Dt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Dt.prototype.orderBy=function(g){return new this.db.Collection(new this.db.WhereClause(this,a(g)?"[".concat(g.join("+"),"]"):g))},Dt.prototype.reverse=function(){return this.toCollection().reverse()},Dt.prototype.mapToClass=function(g){var x,v=this.db,k=this.name;function A(){return x!==null&&x.apply(this,arguments)||this}(this.schema.mappedClass=g).prototype instanceof Sw&&(function(X,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Class extends value "+String(Y)+" is not a constructor or null");function q(){this.constructor=X}t(X,Y),X.prototype=Y===null?Object.create(Y):(q.prototype=Y.prototype,new q)}(A,x=g),Object.defineProperty(A.prototype,"db",{get:function(){return v},enumerable:!1,configurable:!0}),A.prototype.table=function(){return k},g=A);for(var O=new Set,L=g.prototype;L;L=c(L))Object.getOwnPropertyNames(L).forEach(function(X){return O.add(X)});function z(X){if(!X)return X;var Y,q=Object.create(g.prototype);for(Y in X)if(!O.has(Y))try{q[Y]=X[Y]}catch{}return q}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=z,this.hook("reading",z),g},Dt.prototype.defineClass=function(){return this.mapToClass(function(g){l(this,g)})},Dt.prototype.add=function(g,x){var v=this,k=this.schema.primKey,A=k.auto,O=k.keyPath,L=g;return O&&A&&(L=jh(O)(g)),this._trans("readwrite",function(z){return v.core.mutate({trans:z,type:"add",keys:x!=null?[x]:null,values:[L]})}).then(function(z){return z.numFailures?Pe.reject(z.failures[0]):z.lastResult}).then(function(z){if(O)try{M(g,O,z)}catch{}return z})},Dt.prototype.update=function(g,x){return typeof g!="object"||a(g)?this.where(":id").equals(g).modify(x):(g=E(g,this.schema.primKey.keyPath),g===void 0?Vt(new Ce.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(g).modify(x))},Dt.prototype.put=function(g,x){var v=this,k=this.schema.primKey,A=k.auto,O=k.keyPath,L=g;return O&&A&&(L=jh(O)(g)),this._trans("readwrite",function(z){return v.core.mutate({trans:z,type:"put",values:[L],keys:x!=null?[x]:null})}).then(function(z){return z.numFailures?Pe.reject(z.failures[0]):z.lastResult}).then(function(z){if(O)try{M(g,O,z)}catch{}return z})},Dt.prototype.delete=function(g){var x=this;return this._trans("readwrite",function(v){return x.core.mutate({trans:v,type:"delete",keys:[g]})}).then(function(v){return v.numFailures?Pe.reject(v.failures[0]):void 0})},Dt.prototype.clear=function(){var g=this;return this._trans("readwrite",function(x){return g.core.mutate({trans:x,type:"deleteRange",range:kw})}).then(function(x){return x.numFailures?Pe.reject(x.failures[0]):void 0})},Dt.prototype.bulkGet=function(g){var x=this;return this._trans("readonly",function(v){return x.core.getMany({keys:g,trans:v}).then(function(k){return k.map(function(A){return x.hook.reading.fire(A)})})})},Dt.prototype.bulkAdd=function(g,x,v){var k=this,A=Array.isArray(x)?x:void 0,O=(v=v||(A?void 0:x))?v.allKeys:void 0;return this._trans("readwrite",function(L){var Y=k.schema.primKey,z=Y.auto,Y=Y.keyPath;if(Y&&A)throw new Ce.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(A&&A.length!==g.length)throw new Ce.InvalidArgument("Arguments objects and keys must have the same length");var X=g.length,Y=Y&&z?g.map(jh(Y)):g;return k.core.mutate({trans:L,type:"add",keys:A,values:Y,wantResults:O}).then(function(G){var F=G.numFailures,J=G.results,W=G.lastResult,G=G.failures;if(F===0)return O?J:W;throw new Ue("".concat(k.name,".bulkAdd(): ").concat(F," of ").concat(X," operations failed"),G)})})},Dt.prototype.bulkPut=function(g,x,v){var k=this,A=Array.isArray(x)?x:void 0,O=(v=v||(A?void 0:x))?v.allKeys:void 0;return this._trans("readwrite",function(L){var Y=k.schema.primKey,z=Y.auto,Y=Y.keyPath;if(Y&&A)throw new Ce.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(A&&A.length!==g.length)throw new Ce.InvalidArgument("Arguments objects and keys must have the same length");var X=g.length,Y=Y&&z?g.map(jh(Y)):g;return k.core.mutate({trans:L,type:"put",keys:A,values:Y,wantResults:O}).then(function(G){var F=G.numFailures,J=G.results,W=G.lastResult,G=G.failures;if(F===0)return O?J:W;throw new Ue("".concat(k.name,".bulkPut(): ").concat(F," of ").concat(X," operations failed"),G)})})},Dt.prototype.bulkUpdate=function(g){var x=this,v=this.core,k=g.map(function(L){return L.key}),A=g.map(function(L){return L.changes}),O=[];return this._trans("readwrite",function(L){return v.getMany({trans:L,keys:k,cache:"clone"}).then(function(z){var X=[],Y=[];g.forEach(function(F,J){var W=F.key,G=F.changes,K=z[J];if(K){for(var V=0,Z=Object.keys(G);V<Z.length;V++){var Q=Z[V],ee=G[Q];if(Q===x.schema.primKey.keyPath){if(dt(ee,W)!==0)throw new Ce.Constraint("Cannot update primary key in bulkUpdate()")}else M(K,Q,ee)}O.push(J),X.push(W),Y.push(K)}});var q=X.length;return v.mutate({trans:L,type:"put",keys:X,values:Y,updates:{keys:k,changeSpecs:A}}).then(function(F){var J=F.numFailures,W=F.failures;if(J===0)return q;for(var G=0,K=Object.keys(W);G<K.length;G++){var V,Z=K[G],Q=O[Number(Z)];Q!=null&&(V=W[Z],delete W[Z],W[Q]=V)}throw new Ue("".concat(x.name,".bulkUpdate(): ").concat(J," of ").concat(q," operations failed"),W)})})})},Dt.prototype.bulkDelete=function(g){var x=this,v=g.length;return this._trans("readwrite",function(k){return x.core.mutate({trans:k,type:"delete",keys:g})}).then(function(L){var A=L.numFailures,O=L.lastResult,L=L.failures;if(A===0)return O;throw new Ue("".concat(x.name,".bulkDelete(): ").concat(A," of ").concat(v," operations failed"),L)})},Dt);function Dt(){}function ul(g){function x(L,z){if(z){for(var X=arguments.length,Y=new Array(X-1);--X;)Y[X-1]=arguments[X];return v[L].subscribe.apply(null,Y),g}if(typeof L=="string")return v[L]}var v={};x.addEventType=O;for(var k=1,A=arguments.length;k<A;++k)O(arguments[k]);return x;function O(L,z,X){if(typeof L!="object"){var Y;z=z||ke;var q={subscribers:[],fire:X=X||ht,subscribe:function(F){q.subscribers.indexOf(F)===-1&&(q.subscribers.push(F),q.fire=z(q.fire,F))},unsubscribe:function(F){q.subscribers=q.subscribers.filter(function(J){return J!==F}),q.fire=q.subscribers.reduce(z,X)}};return v[L]=x[L]=q}o(Y=L).forEach(function(F){var J=Y[F];if(a(J))O(F,Y[F][0],Y[F][1]);else{if(J!=="asap")throw new Ce.InvalidArgument("Invalid event config");var W=O(F,R,function(){for(var G=arguments.length,K=new Array(G);G--;)K[G]=arguments[G];W.subscribers.forEach(function(V){S(function(){V.apply(null,K)})})})}})}}function dl(g,x){return m(x).from({prototype:g}),x}function Bo(g,x){return!(g.filter||g.algorithm||g.or)&&(x?g.justLimit:!g.replayFilter)}function Yp(g,x){g.filter=Xs(g.filter,x)}function jp(g,x,v){var k=g.replayFilter;g.replayFilter=k?function(){return Xs(k(),x())}:x,g.justLimit=v&&!k}function Vh(g,x){if(g.isPrimKey)return x.primaryKey;var v=x.getIndexByKeyPath(g.index);if(!v)throw new Ce.Schema("KeyPath "+g.index+" on object store "+x.name+" is not indexed");return v}function Tw(g,x,v){var k=Vh(g,x.schema);return x.openCursor({trans:v,values:!g.keysOnly,reverse:g.dir==="prev",unique:!!g.unique,query:{index:k,range:g.range}})}function $h(g,x,v,k){var A=g.replayFilter?Xs(g.filter,g.replayFilter()):g.filter;if(g.or){var O={},L=function(z,X,Y){var q,F;A&&!A(X,Y,function(J){return X.stop(J)},function(J){return X.fail(J)})||((F=""+(q=X.primaryKey))=="[object ArrayBuffer]"&&(F=""+new Uint8Array(q)),u(O,F)||(O[F]=!0,x(z,X,Y)))};return Promise.all([g.or._iterate(L,v),Ew(Tw(g,k,v),g.algorithm,L,!g.keysOnly&&g.valueMapper)])}return Ew(Tw(g,k,v),Xs(g.algorithm,A),x,!g.keysOnly&&g.valueMapper)}function Ew(g,x,v,k){var A=zt(k?function(O,L,z){return v(k(O),L,z)}:v);return g.then(function(O){if(O)return O.start(function(){var L=function(){return O.continue()};x&&!x(O,function(z){return L=z},function(z){O.stop(z),L=ht},function(z){O.fail(z),L=ht})||A(O.value,O,function(z){return L=z}),L()})})}var fl=(Ow.prototype.execute=function(g){var x=this["@@propmod"];if(x.add!==void 0){var v=x.add;if(a(v))return r(r([],a(g)?g:[],!0),v).sort();if(typeof v=="number")return(Number(g)||0)+v;if(typeof v=="bigint")try{return BigInt(g)+v}catch{return BigInt(0)+v}throw new TypeError("Invalid term ".concat(v))}if(x.remove!==void 0){var k=x.remove;if(a(k))return a(g)?g.filter(function(A){return!k.includes(A)}).sort():[];if(typeof k=="number")return Number(g)-k;if(typeof k=="bigint")try{return BigInt(g)-k}catch{return BigInt(0)-k}throw new TypeError("Invalid subtrahend ".concat(k))}return v=(v=x.replacePrefix)===null||v===void 0?void 0:v[0],v&&typeof g=="string"&&g.startsWith(v)?x.replacePrefix[1]+g.substring(v.length):g},Ow);function Ow(g){this["@@propmod"]=g}var VP=(mt.prototype._read=function(g,x){var v=this._ctx;return v.error?v.table._trans(null,Vt.bind(null,v.error)):v.table._trans("readonly",g).then(x)},mt.prototype._write=function(g){var x=this._ctx;return x.error?x.table._trans(null,Vt.bind(null,x.error)):x.table._trans("readwrite",g,"locked")},mt.prototype._addAlgorithm=function(g){var x=this._ctx;x.algorithm=Xs(x.algorithm,g)},mt.prototype._iterate=function(g,x){return $h(this._ctx,g,x,this._ctx.table.core)},mt.prototype.clone=function(g){var x=Object.create(this.constructor.prototype),v=Object.create(this._ctx);return g&&l(v,g),x._ctx=v,x},mt.prototype.raw=function(){return this._ctx.valueMapper=null,this},mt.prototype.each=function(g){var x=this._ctx;return this._read(function(v){return $h(x,g,v,x.table.core)})},mt.prototype.count=function(g){var x=this;return this._read(function(v){var k=x._ctx,A=k.table.core;if(Bo(k,!0))return A.count({trans:v,query:{index:Vh(k,A.schema),range:k.range}}).then(function(L){return Math.min(L,k.limit)});var O=0;return $h(k,function(){return++O,!1},v,A).then(function(){return O})}).then(g)},mt.prototype.sortBy=function(g,x){var v=g.split(".").reverse(),k=v[0],A=v.length-1;function O(X,Y){return Y?O(X[v[Y]],Y-1):X[k]}var L=this._ctx.dir==="next"?1:-1;function z(X,Y){return dt(O(X,A),O(Y,A))*L}return this.toArray(function(X){return X.sort(z)}).then(x)},mt.prototype.toArray=function(g){var x=this;return this._read(function(v){var k=x._ctx;if(k.dir==="next"&&Bo(k,!0)&&0<k.limit){var A=k.valueMapper,O=Vh(k,k.table.core.schema);return k.table.core.query({trans:v,limit:k.limit,values:!0,query:{index:O,range:k.range}}).then(function(z){return z=z.result,A?z.map(A):z})}var L=[];return $h(k,function(z){return L.push(z)},v,k.table.core).then(function(){return L})},g)},mt.prototype.offset=function(g){var x=this._ctx;return g<=0||(x.offset+=g,Bo(x)?jp(x,function(){var v=g;return function(k,A){return v===0||(v===1?--v:A(function(){k.advance(v),v=0}),!1)}}):jp(x,function(){var v=g;return function(){return--v<0}})),this},mt.prototype.limit=function(g){return this._ctx.limit=Math.min(this._ctx.limit,g),jp(this._ctx,function(){var x=g;return function(v,k,A){return--x<=0&&k(A),0<=x}},!0),this},mt.prototype.until=function(g,x){return Yp(this._ctx,function(v,k,A){return!g(v.value)||(k(A),x)}),this},mt.prototype.first=function(g){return this.limit(1).toArray(function(x){return x[0]}).then(g)},mt.prototype.last=function(g){return this.reverse().first(g)},mt.prototype.filter=function(g){var x;return Yp(this._ctx,function(v){return g(v.value)}),(x=this._ctx).isMatch=Xs(x.isMatch,g),this},mt.prototype.and=function(g){return this.filter(g)},mt.prototype.or=function(g){return new this.db.WhereClause(this._ctx.table,g,this)},mt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},mt.prototype.desc=function(){return this.reverse()},mt.prototype.eachKey=function(g){var x=this._ctx;return x.keysOnly=!x.isMatch,this.each(function(v,k){g(k.key,k)})},mt.prototype.eachUniqueKey=function(g){return this._ctx.unique="unique",this.eachKey(g)},mt.prototype.eachPrimaryKey=function(g){var x=this._ctx;return x.keysOnly=!x.isMatch,this.each(function(v,k){g(k.primaryKey,k)})},mt.prototype.keys=function(g){var x=this._ctx;x.keysOnly=!x.isMatch;var v=[];return this.each(function(k,A){v.push(A.key)}).then(function(){return v}).then(g)},mt.prototype.primaryKeys=function(g){var x=this._ctx;if(x.dir==="next"&&Bo(x,!0)&&0<x.limit)return this._read(function(k){var A=Vh(x,x.table.core.schema);return x.table.core.query({trans:k,values:!1,limit:x.limit,query:{index:A,range:x.range}})}).then(function(k){return k.result}).then(g);x.keysOnly=!x.isMatch;var v=[];return this.each(function(k,A){v.push(A.primaryKey)}).then(function(){return v}).then(g)},mt.prototype.uniqueKeys=function(g){return this._ctx.unique="unique",this.keys(g)},mt.prototype.firstKey=function(g){return this.limit(1).keys(function(x){return x[0]}).then(g)},mt.prototype.lastKey=function(g){return this.reverse().firstKey(g)},mt.prototype.distinct=function(){var g=this._ctx,g=g.index&&g.table.schema.idxByName[g.index];if(!g||!g.multi)return this;var x={};return Yp(this._ctx,function(A){var k=A.primaryKey.toString(),A=u(x,k);return x[k]=!0,!A}),this},mt.prototype.modify=function(g){var x=this,v=this._ctx;return this._write(function(k){var A,O,L;L=typeof g=="function"?g:(A=o(g),O=A.length,function(V){for(var Z=!1,Q=0;Q<O;++Q){var ee=A[Q],se=g[ee],ge=E(V,ee);se instanceof fl?(M(V,ee,se.execute(ge)),Z=!0):ge!==se&&(M(V,ee,se),Z=!0)}return Z});var z=v.table.core,F=z.schema.primaryKey,X=F.outbound,Y=F.extractKey,q=200,F=x.db._options.modifyChunkSize;F&&(q=typeof F=="object"?F[z.name]||F["*"]||200:F);function J(V,ee){var Q=ee.failures,ee=ee.numFailures;G+=V-ee;for(var se=0,ge=o(Q);se<ge.length;se++){var Se=ge[se];W.push(Q[Se])}}var W=[],G=0,K=[];return x.clone().primaryKeys().then(function(V){function Z(ee){var se=Math.min(q,V.length-ee);return z.getMany({trans:k,keys:V.slice(ee,ee+se),cache:"immutable"}).then(function(ge){for(var Se=[],me=[],ve=X?[]:null,Te=[],we=0;we<se;++we){var De=ge[we],tt={value:$(De),primKey:V[ee+we]};L.call(tt,tt.value,tt)!==!1&&(tt.value==null?Te.push(V[ee+we]):X||dt(Y(De),Y(tt.value))===0?(me.push(tt.value),X&&ve.push(V[ee+we])):(Te.push(V[ee+we]),Se.push(tt.value)))}return Promise.resolve(0<Se.length&&z.mutate({trans:k,type:"add",values:Se}).then(function(lt){for(var ct in lt.failures)Te.splice(parseInt(ct),1);J(Se.length,lt)})).then(function(){return(0<me.length||Q&&typeof g=="object")&&z.mutate({trans:k,type:"put",keys:ve,values:me,criteria:Q,changeSpec:typeof g!="function"&&g,isAdditionalChunk:0<ee}).then(function(lt){return J(me.length,lt)})}).then(function(){return(0<Te.length||Q&&g===Vp)&&z.mutate({trans:k,type:"delete",keys:Te,criteria:Q,isAdditionalChunk:0<ee}).then(function(lt){return J(Te.length,lt)})}).then(function(){return V.length>ee+se&&Z(ee+q)})})}var Q=Bo(v)&&v.limit===1/0&&(typeof g!="function"||g===Vp)&&{index:v.index,range:v.range};return Z(0).then(function(){if(0<W.length)throw new Mt("Error modifying one or more objects",W,G,K);return V.length})})})},mt.prototype.delete=function(){var g=this._ctx,x=g.range;return Bo(g)&&(g.isPrimKey||x.type===3)?this._write(function(v){var k=g.table.core.schema.primaryKey,A=x;return g.table.core.count({trans:v,query:{index:k,range:A}}).then(function(O){return g.table.core.mutate({trans:v,type:"deleteRange",range:A}).then(function(L){var z=L.failures;if(L.lastResult,L.results,L=L.numFailures,L)throw new Mt("Could not delete some values",Object.keys(z).map(function(X){return z[X]}),O-L);return O-L})})}):this.modify(Vp)},mt);function mt(){}var Vp=function(g,x){return x.value=null};function $P(g,x){return g<x?-1:g===x?0:1}function GP(g,x){return x<g?-1:g===x?0:1}function ti(g,x,v){return g=g instanceof Pw?new g.Collection(g):g,g._ctx.error=new(v||TypeError)(x),g}function Ho(g){return new g.Collection(g,function(){return Iw("")}).limit(0)}function Gh(g,x,v,k){var A,O,L,z,X,Y,q,F=v.length;if(!v.every(function(G){return typeof G=="string"}))return ti(g,ww);function J(G){A=G==="next"?function(V){return V.toUpperCase()}:function(V){return V.toLowerCase()},O=G==="next"?function(V){return V.toLowerCase()}:function(V){return V.toUpperCase()},L=G==="next"?$P:GP;var K=v.map(function(V){return{lower:O(V),upper:A(V)}}).sort(function(V,Z){return L(V.lower,Z.lower)});z=K.map(function(V){return V.upper}),X=K.map(function(V){return V.lower}),q=(Y=G)==="next"?"":k}J("next"),g=new g.Collection(g,function(){return Ur(z[0],X[F-1]+k)}),g._ondirectionchange=function(G){J(G)};var W=0;return g._addAlgorithm(function(G,K,V){var Z=G.key;if(typeof Z!="string")return!1;var Q=O(Z);if(x(Q,X,W))return!0;for(var ee=null,se=W;se<F;++se){var ge=function(Se,me,ve,Te,we,De){for(var tt=Math.min(Se.length,Te.length),lt=-1,ct=0;ct<tt;++ct){var ni=me[ct];if(ni!==Te[ct])return we(Se[ct],ve[ct])<0?Se.substr(0,ct)+ve[ct]+ve.substr(ct+1):we(Se[ct],Te[ct])<0?Se.substr(0,ct)+Te[ct]+ve.substr(ct+1):0<=lt?Se.substr(0,lt)+me[lt]+ve.substr(lt+1):null;we(Se[ct],ni)<0&&(lt=ct)}return tt<Te.length&&De==="next"?Se+ve.substr(Se.length):tt<Se.length&&De==="prev"?Se.substr(0,ve.length):lt<0?null:Se.substr(0,lt)+Te[lt]+ve.substr(lt+1)}(Z,Q,z[se],X[se],L,Y);ge===null&&ee===null?W=se+1:(ee===null||0<L(ee,ge))&&(ee=ge)}return K(ee!==null?function(){G.continue(ee+q)}:V),!1}),g}function Ur(g,x,v,k){return{type:2,lower:g,upper:x,lowerOpen:v,upperOpen:k}}function Iw(g){return{type:1,lower:g,upper:g}}var Pw=(Object.defineProperty(ln.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),ln.prototype.between=function(g,x,v,k){v=v!==!1,k=k===!0;try{return 0<this._cmp(g,x)||this._cmp(g,x)===0&&(v||k)&&(!v||!k)?Ho(this):new this.Collection(this,function(){return Ur(g,x,!v,!k)})}catch{return ti(this,gr)}},ln.prototype.equals=function(g){return g==null?ti(this,gr):new this.Collection(this,function(){return Iw(g)})},ln.prototype.above=function(g){return g==null?ti(this,gr):new this.Collection(this,function(){return Ur(g,void 0,!0)})},ln.prototype.aboveOrEqual=function(g){return g==null?ti(this,gr):new this.Collection(this,function(){return Ur(g,void 0,!1)})},ln.prototype.below=function(g){return g==null?ti(this,gr):new this.Collection(this,function(){return Ur(void 0,g,!1,!0)})},ln.prototype.belowOrEqual=function(g){return g==null?ti(this,gr):new this.Collection(this,function(){return Ur(void 0,g)})},ln.prototype.startsWith=function(g){return typeof g!="string"?ti(this,ww):this.between(g,g+Hs,!0,!0)},ln.prototype.startsWithIgnoreCase=function(g){return g===""?this.startsWith(g):Gh(this,function(x,v){return x.indexOf(v[0])===0},[g],Hs)},ln.prototype.equalsIgnoreCase=function(g){return Gh(this,function(x,v){return x===v[0]},[g],"")},ln.prototype.anyOfIgnoreCase=function(){var g=Re.apply(Me,arguments);return g.length===0?Ho(this):Gh(this,function(x,v){return v.indexOf(x)!==-1},g,"")},ln.prototype.startsWithAnyOfIgnoreCase=function(){var g=Re.apply(Me,arguments);return g.length===0?Ho(this):Gh(this,function(x,v){return v.some(function(k){return x.indexOf(k)===0})},g,Hs)},ln.prototype.anyOf=function(){var g=this,x=Re.apply(Me,arguments),v=this._cmp;try{x.sort(v)}catch{return ti(this,gr)}if(x.length===0)return Ho(this);var k=new this.Collection(this,function(){return Ur(x[0],x[x.length-1])});k._ondirectionchange=function(O){v=O==="next"?g._ascending:g._descending,x.sort(v)};var A=0;return k._addAlgorithm(function(O,L,z){for(var X=O.key;0<v(X,x[A]);)if(++A===x.length)return L(z),!1;return v(X,x[A])===0||(L(function(){O.continue(x[A])}),!1)}),k},ln.prototype.notEqual=function(g){return this.inAnyRange([[-1/0,g],[g,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},ln.prototype.noneOf=function(){var g=Re.apply(Me,arguments);if(g.length===0)return new this.Collection(this);try{g.sort(this._ascending)}catch{return ti(this,gr)}var x=g.reduce(function(v,k){return v?v.concat([[v[v.length-1][1],k]]):[[-1/0,k]]},null);return x.push([g[g.length-1],this.db._maxKey]),this.inAnyRange(x,{includeLowers:!1,includeUppers:!1})},ln.prototype.inAnyRange=function(Z,x){var v=this,k=this._cmp,A=this._ascending,O=this._descending,L=this._min,z=this._max;if(Z.length===0)return Ho(this);if(!Z.every(function(Q){return Q[0]!==void 0&&Q[1]!==void 0&&A(Q[0],Q[1])<=0}))return ti(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ce.InvalidArgument);var X=!x||x.includeLowers!==!1,Y=x&&x.includeUppers===!0,q,F=A;function J(Q,ee){return F(Q[0],ee[0])}try{(q=Z.reduce(function(Q,ee){for(var se=0,ge=Q.length;se<ge;++se){var Se=Q[se];if(k(ee[0],Se[1])<0&&0<k(ee[1],Se[0])){Se[0]=L(Se[0],ee[0]),Se[1]=z(Se[1],ee[1]);break}}return se===ge&&Q.push(ee),Q},[])).sort(J)}catch{return ti(this,gr)}var W=0,G=Y?function(Q){return 0<A(Q,q[W][1])}:function(Q){return 0<=A(Q,q[W][1])},K=X?function(Q){return 0<O(Q,q[W][0])}:function(Q){return 0<=O(Q,q[W][0])},V=G,Z=new this.Collection(this,function(){return Ur(q[0][0],q[q.length-1][1],!X,!Y)});return Z._ondirectionchange=function(Q){F=Q==="next"?(V=G,A):(V=K,O),q.sort(J)},Z._addAlgorithm(function(Q,ee,se){for(var ge,Se=Q.key;V(Se);)if(++W===q.length)return ee(se),!1;return!G(ge=Se)&&!K(ge)||(v._cmp(Se,q[W][1])===0||v._cmp(Se,q[W][0])===0||ee(function(){F===A?Q.continue(q[W][0]):Q.continue(q[W][1])}),!1)}),Z},ln.prototype.startsWithAnyOf=function(){var g=Re.apply(Me,arguments);return g.every(function(x){return typeof x=="string"})?g.length===0?Ho(this):this.inAnyRange(g.map(function(x){return[x,x+Hs]})):ti(this,"startsWithAnyOf() only works with strings")},ln);function ln(){}function $i(g){return zt(function(x){return pl(x),g(x.target.error),!1})}function pl(g){g.stopPropagation&&g.stopPropagation(),g.preventDefault&&g.preventDefault()}var gl="storagemutated",$p="x-storagemutated-1",Kr=ul(null,gl),qP=(Gi.prototype._lock=function(){return T(!Ie.global),++this._reculock,this._reculock!==1||Ie.global||(Ie.lockOwnerFor=this),this},Gi.prototype._unlock=function(){if(T(!Ie.global),--this._reculock==0)for(Ie.global||(Ie.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var g=this._blockedFuncs.shift();try{Bs(g[1],g[0])}catch{}}return this},Gi.prototype._locked=function(){return this._reculock&&Ie.lockOwnerFor!==this},Gi.prototype.create=function(g){var x=this;if(!this.mode)return this;var v=this.db.idbdb,k=this.db._state.dbOpenError;if(T(!this.idbtrans),!g&&!v)switch(k&&k.name){case"DatabaseClosedError":throw new Ce.DatabaseClosed(k);case"MissingAPIError":throw new Ce.MissingAPI(k.message,k);default:throw new Ce.OpenFailed(k)}if(!this.active)throw new Ce.TransactionInactive;return T(this._completion._state===null),(g=this.idbtrans=g||(this.db.core||v).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=zt(function(A){pl(A),x._reject(g.error)}),g.onabort=zt(function(A){pl(A),x.active&&x._reject(new Ce.Abort(g.error)),x.active=!1,x.on("abort").fire(A)}),g.oncomplete=zt(function(){x.active=!1,x._resolve(),"mutatedParts"in g&&Kr.storagemutated.fire(g.mutatedParts)}),this},Gi.prototype._promise=function(g,x,v){var k=this;if(g==="readwrite"&&this.mode!=="readwrite")return Vt(new Ce.ReadOnly("Transaction is readonly"));if(!this.active)return Vt(new Ce.TransactionInactive);if(this._locked())return new Pe(function(O,L){k._blockedFuncs.push([function(){k._promise(g,x,v).then(O,L)},Ie])});if(v)return $r(function(){var O=new Pe(function(L,z){k._lock();var X=x(L,z,k);X&&X.then&&X.then(L,z)});return O.finally(function(){return k._unlock()}),O._lib=!0,O});var A=new Pe(function(O,L){var z=x(O,L,k);z&&z.then&&z.then(O,L)});return A._lib=!0,A},Gi.prototype._root=function(){return this.parent?this.parent._root():this},Gi.prototype.waitFor=function(g){var x,v=this._root(),k=Pe.resolve(g);v._waitingFor?v._waitingFor=v._waitingFor.then(function(){return k}):(v._waitingFor=k,v._waitingQueue=[],x=v.idbtrans.objectStore(v.storeNames[0]),function O(){for(++v._spinCount;v._waitingQueue.length;)v._waitingQueue.shift()();v._waitingFor&&(x.get(-1/0).onsuccess=O)}());var A=v._waitingFor;return new Pe(function(O,L){k.then(function(z){return v._waitingQueue.push(zt(O.bind(null,z)))},function(z){return v._waitingQueue.push(zt(L.bind(null,z)))}).finally(function(){v._waitingFor===A&&(v._waitingFor=null)})})},Gi.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ce.Abort))},Gi.prototype.table=function(g){var x=this._memoizedTables||(this._memoizedTables={});if(u(x,g))return x[g];var v=this.schema[g];if(!v)throw new Ce.NotFound("Table "+g+" not part of transaction");return v=new this.db.Table(g,v,this),v.core=this.db.core.table(g),x[g]=v},Gi);function Gi(){}function Gp(g,x,v,k,A,O,L){return{name:g,keyPath:x,unique:v,multi:k,auto:A,compound:O,src:(v&&!L?"&":"")+(k?"*":"")+(A?"++":"")+Lw(x)}}function Lw(g){return typeof g=="string"?g:g?"["+[].join.call(g,"+")+"]":""}function qp(g,x,v){return{name:g,primKey:x,indexes:v,mappedClass:null,idxByName:(k=function(A){return[A.name,A]},v.reduce(function(A,O,L){return L=k(O,L),L&&(A[L[0]]=L[1]),A},{}))};var k}var ml=function(g){try{return g.only([[]]),ml=function(){return[[]]},[[]]}catch{return ml=function(){return Hs},Hs}};function Up(g){return g==null?function(){}:typeof g=="string"?(x=g).split(".").length===1?function(v){return v[x]}:function(v){return E(v,x)}:function(v){return E(v,g)};var x}function Rw(g){return[].slice.call(g)}var UP=0;function xl(g){return g==null?":id":typeof g=="string"?g:"[".concat(g.join("+"),"]")}function KP(g,x,X){function k(V){if(V.type===3)return null;if(V.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var W=V.lower,G=V.upper,K=V.lowerOpen,V=V.upperOpen;return W===void 0?G===void 0?null:x.upperBound(G,!!V):G===void 0?x.lowerBound(W,!!K):x.bound(W,G,!!K,!!V)}function A(J){var W,G=J.name;return{name:G,schema:J,mutate:function(K){var V=K.trans,Z=K.type,Q=K.keys,ee=K.values,se=K.range;return new Promise(function(ge,Se){ge=zt(ge);var me=V.objectStore(G),ve=me.keyPath==null,Te=Z==="put"||Z==="add";if(!Te&&Z!=="delete"&&Z!=="deleteRange")throw new Error("Invalid operation type: "+Z);var we,De=(Q||ee||{length:1}).length;if(Q&&ee&&Q.length!==ee.length)throw new Error("Given keys array must have same length as given values array.");if(De===0)return ge({numFailures:0,failures:{},results:[],lastResult:void 0});function tt(Xn){++ni,pl(Xn)}var lt=[],ct=[],ni=0;if(Z==="deleteRange"){if(se.type===4)return ge({numFailures:ni,failures:ct,results:[],lastResult:void 0});se.type===3?lt.push(we=me.clear()):lt.push(we=me.delete(k(se)))}else{var ve=Te?ve?[ee,Q]:[ee,null]:[Q,null],Ke=ve[0],Tn=ve[1];if(Te)for(var En=0;En<De;++En)lt.push(we=Tn&&Tn[En]!==void 0?me[Z](Ke[En],Tn[En]):me[Z](Ke[En])),we.onerror=tt;else for(En=0;En<De;++En)lt.push(we=me[Z](Ke[En])),we.onerror=tt}function ou(Xn){Xn=Xn.target.result,lt.forEach(function(js,fg){return js.error!=null&&(ct[fg]=js.error)}),ge({numFailures:ni,failures:ct,results:Z==="delete"?Q:lt.map(function(js){return js.result}),lastResult:Xn})}we.onerror=function(Xn){tt(Xn),ou(Xn)},we.onsuccess=ou})},getMany:function(K){var V=K.trans,Z=K.keys;return new Promise(function(Q,ee){Q=zt(Q);for(var se,ge=V.objectStore(G),Se=Z.length,me=new Array(Se),ve=0,Te=0,we=function(lt){lt=lt.target,me[lt._pos]=lt.result,++Te===ve&&Q(me)},De=$i(ee),tt=0;tt<Se;++tt)Z[tt]!=null&&((se=ge.get(Z[tt]))._pos=tt,se.onsuccess=we,se.onerror=De,++ve);ve===0&&Q(me)})},get:function(K){var V=K.trans,Z=K.key;return new Promise(function(Q,ee){Q=zt(Q);var se=V.objectStore(G).get(Z);se.onsuccess=function(ge){return Q(ge.target.result)},se.onerror=$i(ee)})},query:(W=Y,function(K){return new Promise(function(V,Z){V=zt(V);var Q,ee,se,ve=K.trans,ge=K.values,Se=K.limit,we=K.query,me=Se===1/0?void 0:Se,Te=we.index,we=we.range,ve=ve.objectStore(G),Te=Te.isPrimaryKey?ve:ve.index(Te.name),we=k(we);if(Se===0)return V({result:[]});W?((me=ge?Te.getAll(we,me):Te.getAllKeys(we,me)).onsuccess=function(De){return V({result:De.target.result})},me.onerror=$i(Z)):(Q=0,ee=!ge&&"openKeyCursor"in Te?Te.openKeyCursor(we):Te.openCursor(we),se=[],ee.onsuccess=function(De){var tt=ee.result;return tt?(se.push(ge?tt.value:tt.primaryKey),++Q===Se?V({result:se}):void tt.continue()):V({result:se})},ee.onerror=$i(Z))})}),openCursor:function(K){var V=K.trans,Z=K.values,Q=K.query,ee=K.reverse,se=K.unique;return new Promise(function(ge,Se){ge=zt(ge);var Te=Q.index,me=Q.range,ve=V.objectStore(G),ve=Te.isPrimaryKey?ve:ve.index(Te.name),Te=ee?se?"prevunique":"prev":se?"nextunique":"next",we=!Z&&"openKeyCursor"in ve?ve.openKeyCursor(k(me),Te):ve.openCursor(k(me),Te);we.onerror=$i(Se),we.onsuccess=zt(function(De){var tt,lt,ct,ni,Ke=we.result;Ke?(Ke.___id=++UP,Ke.done=!1,tt=Ke.continue.bind(Ke),lt=(lt=Ke.continuePrimaryKey)&&lt.bind(Ke),ct=Ke.advance.bind(Ke),ni=function(){throw new Error("Cursor not stopped")},Ke.trans=V,Ke.stop=Ke.continue=Ke.continuePrimaryKey=Ke.advance=function(){throw new Error("Cursor not started")},Ke.fail=zt(Se),Ke.next=function(){var Tn=this,En=1;return this.start(function(){return En--?Tn.continue():Tn.stop()}).then(function(){return Tn})},Ke.start=function(Tn){function En(){if(we.result)try{Tn()}catch(Xn){Ke.fail(Xn)}else Ke.done=!0,Ke.start=function(){throw new Error("Cursor behind last entry")},Ke.stop()}var ou=new Promise(function(Xn,js){Xn=zt(Xn),we.onerror=$i(js),Ke.fail=js,Ke.stop=function(fg){Ke.stop=Ke.continue=Ke.continuePrimaryKey=Ke.advance=ni,Xn(fg)}});return we.onsuccess=zt(function(Xn){we.onsuccess=En,En()}),Ke.continue=tt,Ke.continuePrimaryKey=lt,Ke.advance=ct,En(),ou},ge(Ke)):ge(null)},Se)})},count:function(K){var V=K.query,Z=K.trans,Q=V.index,ee=V.range;return new Promise(function(se,ge){var Se=Z.objectStore(G),me=Q.isPrimaryKey?Se:Se.index(Q.name),Se=k(ee),me=Se?me.count(Se):me.count();me.onsuccess=zt(function(ve){return se(ve.target.result)}),me.onerror=$i(ge)})}}}var O,L,z,q=(L=X,z=Rw((O=g).objectStoreNames),{schema:{name:O.name,tables:z.map(function(J){return L.objectStore(J)}).map(function(J){var W=J.keyPath,V=J.autoIncrement,G=a(W),K={},V={name:J.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:W==null,compound:G,keyPath:W,autoIncrement:V,unique:!0,extractKey:Up(W)},indexes:Rw(J.indexNames).map(function(Z){return J.index(Z)}).map(function(se){var Q=se.name,ee=se.unique,ge=se.multiEntry,se=se.keyPath,ge={name:Q,compound:a(se),keyPath:se,unique:ee,multiEntry:ge,extractKey:Up(se)};return K[xl(se)]=ge}),getIndexByKeyPath:function(Z){return K[xl(Z)]}};return K[":id"]=V.primaryKey,W!=null&&(K[xl(W)]=V.primaryKey),V})},hasGetAll:0<z.length&&"getAll"in L.objectStore(z[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),X=q.schema,Y=q.hasGetAll,q=X.tables.map(A),F={};return q.forEach(function(J){return F[J.name]=J}),{stack:"dbcore",transaction:g.transaction.bind(g),table:function(J){if(!F[J])throw new Error("Table '".concat(J,"' not found"));return F[J]},MIN_KEY:-1/0,MAX_KEY:ml(x),schema:X}}function JP(g,x,v,k){var A=v.IDBKeyRange;return v.indexedDB,{dbcore:(k=KP(x,A,k),g.dbcore.reduce(function(O,L){return L=L.create,n(n({},O),L(O))},k))}}function qh(g,k){var v=k.db,k=JP(g._middlewares,v,g._deps,k);g.core=k.dbcore,g.tables.forEach(function(A){var O=A.name;g.core.schema.tables.some(function(L){return L.name===O})&&(A.core=g.core.table(O),g[O]instanceof g.Table&&(g[O].core=A.core))})}function Uh(g,x,v,k){v.forEach(function(A){var O=k[A];x.forEach(function(L){var z=function X(Y,q){return b(Y,q)||(Y=c(Y))&&X(Y,q)}(L,A);(!z||"value"in z&&z.value===void 0)&&(L===g.Transaction.prototype||L instanceof g.Transaction?p(L,A,{get:function(){return this.table(A)},set:function(X){f(this,A,{value:X,writable:!0,configurable:!0,enumerable:!0})}}):L[A]=new g.Table(A,O))})})}function Kp(g,x){x.forEach(function(v){for(var k in v)v[k]instanceof g.Table&&delete v[k]})}function ZP(g,x){return g._cfg.version-x._cfg.version}function QP(g,x,v,k){var A=g._dbSchema;v.objectStoreNames.contains("$meta")&&!A.$meta&&(A.$meta=qp("$meta",_w("")[0],[]),g._storeNames.push("$meta"));var O=g._createTransaction("readwrite",g._storeNames,A);O.create(v),O._completion.catch(k);var L=O._reject.bind(O),z=Ie.transless||Ie;$r(function(){return Ie.trans=O,Ie.transless=z,x!==0?(qh(g,v),Y=x,((X=O).storeNames.includes("$meta")?X.table("$meta").get("version").then(function(q){return q??Y}):Pe.resolve(Y)).then(function(q){return J=q,W=O,G=v,K=[],q=(F=g)._versions,V=F._dbSchema=Jh(0,F.idbdb,G),(q=q.filter(function(Z){return Z._cfg.version>=J})).length!==0?(q.forEach(function(Z){K.push(function(){var Q=V,ee=Z._cfg.dbschema;Zh(F,Q,G),Zh(F,ee,G),V=F._dbSchema=ee;var se=Jp(Q,ee);se.add.forEach(function(Te){Zp(G,Te[0],Te[1].primKey,Te[1].indexes)}),se.change.forEach(function(Te){if(Te.recreate)throw new Ce.Upgrade("Not yet support for changing primary key");var we=G.objectStore(Te.name);Te.add.forEach(function(De){return Kh(we,De)}),Te.change.forEach(function(De){we.deleteIndex(De.name),Kh(we,De)}),Te.del.forEach(function(De){return we.deleteIndex(De)})});var ge=Z._cfg.contentUpgrade;if(ge&&Z._cfg.version>J){qh(F,G),W._memoizedTables={};var Se=I(ee);se.del.forEach(function(Te){Se[Te]=Q[Te]}),Kp(F,[F.Transaction.prototype]),Uh(F,[F.Transaction.prototype],o(Se),Se),W.schema=Se;var me,ve=Ne(ge);return ve&&zo(),se=Pe.follow(function(){var Te;(me=ge(W))&&ve&&(Te=Gr.bind(null,null),me.then(Te,Te))}),me&&typeof me.then=="function"?Pe.resolve(me):se.then(function(){return me})}}),K.push(function(Q){var ee,se,ge=Z._cfg.dbschema;ee=ge,se=Q,[].slice.call(se.db.objectStoreNames).forEach(function(Se){return ee[Se]==null&&se.db.deleteObjectStore(Se)}),Kp(F,[F.Transaction.prototype]),Uh(F,[F.Transaction.prototype],F._storeNames,F._dbSchema),W.schema=F._dbSchema}),K.push(function(Q){F.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(F.idbdb.version/10)===Z._cfg.version?(F.idbdb.deleteObjectStore("$meta"),delete F._dbSchema.$meta,F._storeNames=F._storeNames.filter(function(ee){return ee!=="$meta"})):Q.objectStore("$meta").put(Z._cfg.version,"version"))})}),function Z(){return K.length?Pe.resolve(K.shift()(W.idbtrans)).then(Z):Pe.resolve()}().then(function(){Dw(V,G)})):Pe.resolve();var F,J,W,G,K,V}).catch(L)):(o(A).forEach(function(q){Zp(v,q,A[q].primKey,A[q].indexes)}),qh(g,v),void Pe.follow(function(){return g.on.populate.fire(O)}).catch(L));var X,Y})}function eL(g,x){Dw(g._dbSchema,x),x.db.version%10!=0||x.objectStoreNames.contains("$meta")||x.db.createObjectStore("$meta").add(Math.ceil(x.db.version/10-1),"version");var v=Jh(0,g.idbdb,x);Zh(g,g._dbSchema,x);for(var k=0,A=Jp(v,g._dbSchema).change;k<A.length;k++){var O=function(L){if(L.change.length||L.recreate)return console.warn("Unable to patch indexes of table ".concat(L.name," because it has changes on the type of index or primary key.")),{value:void 0};var z=x.objectStore(L.name);L.add.forEach(function(X){fe&&console.debug("Dexie upgrade patch: Creating missing index ".concat(L.name,".").concat(X.src)),Kh(z,X)})}(A[k]);if(typeof O=="object")return O.value}}function Jp(g,x){var v,k={del:[],add:[],change:[]};for(v in g)x[v]||k.del.push(v);for(v in x){var A=g[v],O=x[v];if(A){var L={name:v,def:O,recreate:!1,del:[],add:[],change:[]};if(""+(A.primKey.keyPath||"")!=""+(O.primKey.keyPath||"")||A.primKey.auto!==O.primKey.auto)L.recreate=!0,k.change.push(L);else{var z=A.idxByName,X=O.idxByName,Y=void 0;for(Y in z)X[Y]||L.del.push(Y);for(Y in X){var q=z[Y],F=X[Y];q?q.src!==F.src&&L.change.push(F):L.add.push(F)}(0<L.del.length||0<L.add.length||0<L.change.length)&&k.change.push(L)}}else k.add.push([v,O])}return k}function Zp(g,x,v,k){var A=g.db.createObjectStore(x,v.keyPath?{keyPath:v.keyPath,autoIncrement:v.auto}:{autoIncrement:v.auto});return k.forEach(function(O){return Kh(A,O)}),A}function Dw(g,x){o(g).forEach(function(v){x.db.objectStoreNames.contains(v)||(fe&&console.debug("Dexie: Creating missing table",v),Zp(x,v,g[v].primKey,g[v].indexes))})}function Kh(g,x){g.createIndex(x.name,x.keyPath,{unique:x.unique,multiEntry:x.multi})}function Jh(g,x,v){var k={};return w(x.objectStoreNames,0).forEach(function(A){for(var O=v.objectStore(A),L=Gp(Lw(Y=O.keyPath),Y||"",!0,!1,!!O.autoIncrement,Y&&typeof Y!="string",!0),z=[],X=0;X<O.indexNames.length;++X){var q=O.index(O.indexNames[X]),Y=q.keyPath,q=Gp(q.name,Y,!!q.unique,!!q.multiEntry,!1,Y&&typeof Y!="string",!1);z.push(q)}k[A]=qp(A,L,z)}),k}function Zh(g,x,v){for(var k=v.db.objectStoreNames,A=0;A<k.length;++A){var O=k[A],L=v.objectStore(O);g._hasGetAll="getAll"in L;for(var z=0;z<L.indexNames.length;++z){var X=L.indexNames[z],Y=L.index(X).keyPath,q=typeof Y=="string"?Y:"["+w(Y).join("+")+"]";!x[O]||(Y=x[O].idxByName[q])&&(Y.name=X,delete x[O].idxByName[q],x[O].idxByName[X]=Y)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(g._hasGetAll=!1)}function _w(g){return g.split(",").map(function(x,v){var k=(x=x.trim()).replace(/([&*]|\+\+)/g,""),A=/^\[/.test(k)?k.match(/^\[(.*)\]$/)[1].split("+"):k;return Gp(k,A||null,/\&/.test(x),/\*/.test(x),/\+\+/.test(x),a(A),v===0)})}var tL=(Qh.prototype._parseStoresSpec=function(g,x){o(g).forEach(function(v){if(g[v]!==null){var k=_w(g[v]),A=k.shift();if(A.unique=!0,A.multi)throw new Ce.Schema("Primary key cannot be multi-valued");k.forEach(function(O){if(O.auto)throw new Ce.Schema("Only primary key can be marked as autoIncrement (++)");if(!O.keyPath)throw new Ce.Schema("Index must have a name and cannot be an empty string")}),x[v]=qp(v,A,k)}})},Qh.prototype.stores=function(v){var x=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,v):v;var v=x._versions,k={},A={};return v.forEach(function(O){l(k,O._cfg.storesSource),A=O._cfg.dbschema={},O._parseStoresSpec(k,A)}),x._dbSchema=A,Kp(x,[x._allTables,x,x.Transaction.prototype]),Uh(x,[x._allTables,x,x.Transaction.prototype,this._cfg.tables],o(A),A),x._storeNames=o(A),this},Qh.prototype.upgrade=function(g){return this._cfg.contentUpgrade=ye(this._cfg.contentUpgrade||ht,g),this},Qh);function Qh(){}function Qp(g,x){var v=g._dbNamesDB;return v||(v=g._dbNamesDB=new mr(Yh,{addons:[],indexedDB:g,IDBKeyRange:x})).version(1).stores({dbnames:"name"}),v.table("dbnames")}function eg(g){return g&&typeof g.databases=="function"}function tg(g){return $r(function(){return Ie.letThrough=!0,g()})}function ng(g){return!("from"in g)}var Mn=function(g,x){if(!this){var v=new Mn;return g&&"d"in g&&l(v,g),v}l(this,arguments.length?{d:1,from:g,to:1<arguments.length?x:g}:{d:0})};function bl(g,x,v){var k=dt(x,v);if(!isNaN(k)){if(0<k)throw RangeError();if(ng(g))return l(g,{from:x,to:v,d:1});var A=g.l,k=g.r;if(dt(v,g.from)<0)return A?bl(A,x,v):g.l={from:x,to:v,d:1,l:null,r:null},zw(g);if(0<dt(x,g.to))return k?bl(k,x,v):g.r={from:x,to:v,d:1,l:null,r:null},zw(g);dt(x,g.from)<0&&(g.from=x,g.l=null,g.d=k?k.d+1:1),0<dt(v,g.to)&&(g.to=v,g.r=null,g.d=g.l?g.l.d+1:1),v=!g.r,A&&!g.l&&yl(g,A),k&&v&&yl(g,k)}}function yl(g,x){ng(x)||function v(k,X){var O=X.from,L=X.to,z=X.l,X=X.r;bl(k,O,L),z&&v(k,z),X&&v(k,X)}(g,x)}function Nw(g,x){var v=eu(x),k=v.next();if(k.done)return!1;for(var A=k.value,O=eu(g),L=O.next(A.from),z=L.value;!k.done&&!L.done;){if(dt(z.from,A.to)<=0&&0<=dt(z.to,A.from))return!0;dt(A.from,z.from)<0?A=(k=v.next(z.from)).value:z=(L=O.next(A.from)).value}return!1}function eu(g){var x=ng(g)?null:{s:0,n:g};return{next:function(v){for(var k=0<arguments.length;x;)switch(x.s){case 0:if(x.s=1,k)for(;x.n.l&&dt(v,x.n.from)<0;)x={up:x,n:x.n.l,s:1};else for(;x.n.l;)x={up:x,n:x.n.l,s:1};case 1:if(x.s=2,!k||dt(v,x.n.to)<=0)return{value:x.n,done:!1};case 2:if(x.n.r){x.s=3,x={up:x,n:x.n.r,s:0};continue}case 3:x=x.up}return{done:!0}}}}function zw(g){var x,v,k=(((x=g.r)===null||x===void 0?void 0:x.d)||0)-(((v=g.l)===null||v===void 0?void 0:v.d)||0),A=1<k?"r":k<-1?"l":"";A&&(x=A=="r"?"l":"r",v=n({},g),k=g[A],g.from=k.from,g.to=k.to,g[A]=k[A],v[A]=k[x],(g[x]=v).d=Fw(v)),g.d=Fw(g)}function Fw(v){var x=v.r,v=v.l;return(x?v?Math.max(x.d,v.d):x.d:v?v.d:0)+1}function tu(g,x){return o(x).forEach(function(v){g[v]?yl(g[v],x[v]):g[v]=function k(A){var O,L,z={};for(O in A)u(A,O)&&(L=A[O],z[O]=!L||typeof L!="object"||D.has(L.constructor)?L:k(L));return z}(x[v])}),g}function ig(g,x){return g.all||x.all||Object.keys(g).some(function(v){return x[v]&&Nw(x[v],g[v])})}d(Mn.prototype,((xi={add:function(g){return yl(this,g),this},addKey:function(g){return bl(this,g,g),this},addKeys:function(g){var x=this;return g.forEach(function(v){return bl(x,v,v)}),this},hasKey:function(g){var x=eu(this).next(g).value;return x&&dt(x.from,g)<=0&&0<=dt(x.to,g)}})[ne]=function(){return eu(this)},xi));var Ws={},rg={},sg=!1;function nu(g){tu(rg,g),sg||(sg=!0,setTimeout(function(){sg=!1,og(rg,!(rg={}))},0))}function og(g,x){x===void 0&&(x=!1);var v=new Set;if(g.all)for(var k=0,A=Object.values(Ws);k<A.length;k++)Bw(L=A[k],g,v,x);else for(var O in g){var L,z=/^idb\:\/\/(.*)\/(.*)\//.exec(O);z&&(O=z[1],z=z[2],(L=Ws["idb://".concat(O,"/").concat(z)])&&Bw(L,g,v,x))}v.forEach(function(X){return X()})}function Bw(g,x,v,k){for(var A=[],O=0,L=Object.entries(g.queries.query);O<L.length;O++){for(var z=L[O],X=z[0],Y=[],q=0,F=z[1];q<F.length;q++){var J=F[q];ig(x,J.obsSet)?J.subscribers.forEach(function(V){return v.add(V)}):k&&Y.push(J)}k&&A.push([X,Y])}if(k)for(var W=0,G=A;W<G.length;W++){var K=G[W],X=K[0],Y=K[1];g.queries.query[X]=Y}}function nL(g){var x=g._state,v=g._deps.indexedDB;if(x.isBeingOpened||g.idbdb)return x.dbReadyPromise.then(function(){return x.dbOpenError?Vt(x.dbOpenError):g});x.isBeingOpened=!0,x.dbOpenError=null,x.openComplete=!1;var k=x.openCanceller,A=Math.round(10*g.verno),O=!1;function L(){if(x.openCanceller!==k)throw new Ce.DatabaseClosed("db.open() was cancelled")}function z(){return new Pe(function(J,W){if(L(),!v)throw new Ce.MissingAPI;var G=g.name,K=x.autoSchema||!A?v.open(G):v.open(G,A);if(!K)throw new Ce.MissingAPI;K.onerror=$i(W),K.onblocked=zt(g._fireOnBlocked),K.onupgradeneeded=zt(function(V){var Z;q=K.transaction,x.autoSchema&&!g._options.allowEmptyDB?(K.onerror=pl,q.abort(),K.result.close(),(Z=v.deleteDatabase(G)).onsuccess=Z.onerror=zt(function(){W(new Ce.NoSuchDatabase("Database ".concat(G," doesnt exist")))})):(q.onerror=$i(W),V=V.oldVersion>Math.pow(2,62)?0:V.oldVersion,F=V<1,g.idbdb=K.result,O&&eL(g,q),QP(g,V/10,q,W))},W),K.onsuccess=zt(function(){q=null;var V,Z,Q,ee,se,ge=g.idbdb=K.result,Se=w(ge.objectStoreNames);if(0<Se.length)try{var me=ge.transaction((ee=Se).length===1?ee[0]:ee,"readonly");if(x.autoSchema)Z=ge,Q=me,(V=g).verno=Z.version/10,Q=V._dbSchema=Jh(0,Z,Q),V._storeNames=w(Z.objectStoreNames,0),Uh(V,[V._allTables],o(Q),Q);else if(Zh(g,g._dbSchema,me),((se=Jp(Jh(0,(se=g).idbdb,me),se._dbSchema)).add.length||se.change.some(function(ve){return ve.add.length||ve.change.length}))&&!O)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ge.close(),A=ge.version+1,O=!0,J(z());qh(g,me)}catch{}Fo.push(g),ge.onversionchange=zt(function(ve){x.vcFired=!0,g.on("versionchange").fire(ve)}),ge.onclose=zt(function(ve){g.on("close").fire(ve)}),F&&(se=g._deps,me=G,ge=se.indexedDB,se=se.IDBKeyRange,eg(ge)||me===Yh||Qp(ge,se).put({name:me}).catch(ht)),J()},W)}).catch(function(J){switch(J==null?void 0:J.name){case"UnknownError":if(0<x.PR1398_maxLoop)return x.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),z();break;case"VersionError":if(0<A)return A=0,z()}return Pe.reject(J)})}var X,Y=x.dbReadyResolve,q=null,F=!1;return Pe.race([k,(typeof navigator>"u"?Pe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(J){function W(){return indexedDB.databases().finally(J)}X=setInterval(W,100),W()}).finally(function(){return clearInterval(X)}):Promise.resolve()).then(z)]).then(function(){return L(),x.onReadyBeingFired=[],Pe.resolve(tg(function(){return g.on.ready.fire(g.vip)})).then(function J(){if(0<x.onReadyBeingFired.length){var W=x.onReadyBeingFired.reduce(ye,ht);return x.onReadyBeingFired=[],Pe.resolve(tg(function(){return W(g.vip)})).then(J)}})}).finally(function(){x.openCanceller===k&&(x.onReadyBeingFired=null,x.isBeingOpened=!1)}).catch(function(J){x.dbOpenError=J;try{q&&q.abort()}catch{}return k===x.openCanceller&&g._close(),Vt(J)}).finally(function(){x.openComplete=!0,Y()}).then(function(){var J;return F&&(J={},g.tables.forEach(function(W){W.schema.indexes.forEach(function(G){G.name&&(J["idb://".concat(g.name,"/").concat(W.name,"/").concat(G.name)]=new Mn(-1/0,[[[]]]))}),J["idb://".concat(g.name,"/").concat(W.name,"/")]=J["idb://".concat(g.name,"/").concat(W.name,"/:dels")]=new Mn(-1/0,[[[]]])}),Kr(gl).fire(J),og(J,!0)),g})}function ag(g){function x(O){return g.next(O)}var v=A(x),k=A(function(O){return g.throw(O)});function A(O){return function(X){var z=O(X),X=z.value;return z.done?X:X&&typeof X.then=="function"?X.then(v,k):a(X)?Promise.all(X).then(v,k):v(X)}}return A(x)()}function iu(g,x,v){for(var k=a(g)?g.slice():[g],A=0;A<v;++A)k.push(x);return k}var iL={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(g){return n(n({},g),{table:function(x){var v=g.table(x),k=v.schema,A={},O=[];function L(F,J,W){var G=xl(F),K=A[G]=A[G]||[],V=F==null?0:typeof F=="string"?1:F.length,Z=0<J,Z=n(n({},W),{name:Z?"".concat(G,"(virtual-from:").concat(W.name,")"):W.name,lowLevelIndex:W,isVirtual:Z,keyTail:J,keyLength:V,extractKey:Up(F),unique:!Z&&W.unique});return K.push(Z),Z.isPrimaryKey||O.push(Z),1<V&&L(V===2?F[0]:F.slice(0,V-1),J+1,W),K.sort(function(Q,ee){return Q.keyTail-ee.keyTail}),Z}x=L(k.primaryKey.keyPath,0,k.primaryKey),A[":id"]=[x];for(var z=0,X=k.indexes;z<X.length;z++){var Y=X[z];L(Y.keyPath,0,Y)}function q(F){var J,W=F.query.index;return W.isVirtual?n(n({},F),{query:{index:W.lowLevelIndex,range:(J=F.query.range,W=W.keyTail,{type:J.type===1?2:J.type,lower:iu(J.lower,J.lowerOpen?g.MAX_KEY:g.MIN_KEY,W),lowerOpen:!0,upper:iu(J.upper,J.upperOpen?g.MIN_KEY:g.MAX_KEY,W),upperOpen:!0})}}):F}return n(n({},v),{schema:n(n({},k),{primaryKey:x,indexes:O,getIndexByKeyPath:function(F){return(F=A[xl(F)])&&F[0]}}),count:function(F){return v.count(q(F))},query:function(F){return v.query(q(F))},openCursor:function(F){var J=F.query.index,W=J.keyTail,G=J.isVirtual,K=J.keyLength;return G?v.openCursor(q(F)).then(function(Z){return Z&&V(Z)}):v.openCursor(F);function V(Z){return Object.create(Z,{continue:{value:function(Q){Q!=null?Z.continue(iu(Q,F.reverse?g.MAX_KEY:g.MIN_KEY,W)):F.unique?Z.continue(Z.key.slice(0,K).concat(F.reverse?g.MIN_KEY:g.MAX_KEY,W)):Z.continue()}},continuePrimaryKey:{value:function(Q,ee){Z.continuePrimaryKey(iu(Q,g.MAX_KEY,W),ee)}},primaryKey:{get:function(){return Z.primaryKey}},key:{get:function(){var Q=Z.key;return K===1?Q[0]:Q.slice(0,K)}},value:{get:function(){return Z.value}}})}}})}})}};function lg(g,x,v,k){return v=v||{},k=k||"",o(g).forEach(function(A){var O,L,z;u(x,A)?(O=g[A],L=x[A],typeof O=="object"&&typeof L=="object"&&O&&L?(z=re(O))!==re(L)?v[k+A]=x[A]:z==="Object"?lg(O,L,v,k+A+"."):O!==L&&(v[k+A]=x[A]):O!==L&&(v[k+A]=x[A])):v[k+A]=void 0}),o(x).forEach(function(A){u(g,A)||(v[k+A]=x[A])}),v}function cg(g,x){return x.type==="delete"?x.keys:x.keys||x.values.map(g.extractKey)}var rL={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(g){return n(n({},g),{table:function(x){var v=g.table(x),k=v.schema.primaryKey;return n(n({},v),{mutate:function(A){var O=Ie.trans,L=O.table(x).hook,z=L.deleting,X=L.creating,Y=L.updating;switch(A.type){case"add":if(X.fire===ht)break;return O._promise("readwrite",function(){return q(A)},!0);case"put":if(X.fire===ht&&Y.fire===ht)break;return O._promise("readwrite",function(){return q(A)},!0);case"delete":if(z.fire===ht)break;return O._promise("readwrite",function(){return q(A)},!0);case"deleteRange":if(z.fire===ht)break;return O._promise("readwrite",function(){return function F(J,W,G){return v.query({trans:J,values:!1,query:{index:k,range:W},limit:G}).then(function(K){var V=K.result;return q({type:"delete",keys:V,trans:J}).then(function(Z){return 0<Z.numFailures?Promise.reject(Z.failures[0]):V.length<G?{failures:[],numFailures:0,lastResult:void 0}:F(J,n(n({},W),{lower:V[V.length-1],lowerOpen:!0}),G)})})}(A.trans,A.range,1e4)},!0)}return v.mutate(A);function q(F){var J,W,G,K=Ie.trans,V=F.keys||cg(k,F);if(!V)throw new Error("Keys missing");return(F=F.type==="add"||F.type==="put"?n(n({},F),{keys:V}):n({},F)).type!=="delete"&&(F.values=r([],F.values)),F.keys&&(F.keys=r([],F.keys)),J=v,G=V,((W=F).type==="add"?Promise.resolve([]):J.getMany({trans:W.trans,keys:G,cache:"immutable"})).then(function(Z){var Q=V.map(function(ee,se){var ge,Se,me,ve=Z[se],Te={onerror:null,onsuccess:null};return F.type==="delete"?z.fire.call(Te,ee,ve,K):F.type==="add"||ve===void 0?(ge=X.fire.call(Te,ee,F.values[se],K),ee==null&&ge!=null&&(F.keys[se]=ee=ge,k.outbound||M(F.values[se],k.keyPath,ee))):(ge=lg(ve,F.values[se]),(Se=Y.fire.call(Te,ge,ee,ve,K))&&(me=F.values[se],Object.keys(Se).forEach(function(we){u(me,we)?me[we]=Se[we]:M(me,we,Se[we])}))),Te});return v.mutate(F).then(function(ee){for(var se=ee.failures,ge=ee.results,Se=ee.numFailures,ee=ee.lastResult,me=0;me<V.length;++me){var ve=(ge||V)[me],Te=Q[me];ve==null?Te.onerror&&Te.onerror(se[me]):Te.onsuccess&&Te.onsuccess(F.type==="put"&&Z[me]?F.values[me]:ve)}return{failures:se,results:ge,numFailures:Se,lastResult:ee}}).catch(function(ee){return Q.forEach(function(se){return se.onerror&&se.onerror(ee)}),Promise.reject(ee)})})}}})}})}};function Hw(g,x,v){try{if(!x||x.keys.length<g.length)return null;for(var k=[],A=0,O=0;A<x.keys.length&&O<g.length;++A)dt(x.keys[A],g[O])===0&&(k.push(v?$(x.values[A]):x.values[A]),++O);return k.length===g.length?k:null}catch{return null}}var sL={stack:"dbcore",level:-1,create:function(g){return{table:function(x){var v=g.table(x);return n(n({},v),{getMany:function(k){if(!k.cache)return v.getMany(k);var A=Hw(k.keys,k.trans._cache,k.cache==="clone");return A?Pe.resolve(A):v.getMany(k).then(function(O){return k.trans._cache={keys:k.keys,values:k.cache==="clone"?$(O):O},O})},mutate:function(k){return k.type!=="add"&&(k.trans._cache=null),v.mutate(k)}})}}}};function Xw(g,x){return g.trans.mode==="readonly"&&!!g.subscr&&!g.trans.explicit&&g.trans.db._options.cache!=="disabled"&&!x.schema.primaryKey.outbound}function Ww(g,x){switch(g){case"query":return x.values&&!x.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var oL={stack:"dbcore",level:0,name:"Observability",create:function(g){var x=g.schema.name,v=new Mn(g.MIN_KEY,g.MAX_KEY);return n(n({},g),{transaction:function(k,A,O){if(Ie.subscr&&A!=="readonly")throw new Ce.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ie.querier));return g.transaction(k,A,O)},table:function(k){var A=g.table(k),O=A.schema,L=O.primaryKey,F=O.indexes,z=L.extractKey,X=L.outbound,Y=L.autoIncrement&&F.filter(function(W){return W.compound&&W.keyPath.includes(L.keyPath)}),q=n(n({},A),{mutate:function(W){function G(we){return we="idb://".concat(x,"/").concat(k,"/").concat(we),ee[we]||(ee[we]=new Mn)}var K,V,Z,Q=W.trans,ee=W.mutatedParts||(W.mutatedParts={}),se=G(""),ge=G(":dels"),Se=W.type,Te=W.type==="deleteRange"?[W.range]:W.type==="delete"?[W.keys]:W.values.length<50?[cg(L,W).filter(function(we){return we}),W.values]:[],me=Te[0],ve=Te[1],Te=W.trans._cache;return a(me)?(se.addKeys(me),(Te=Se==="delete"||me.length===ve.length?Hw(me,Te):null)||ge.addKeys(me),(Te||ve)&&(K=G,V=Te,Z=ve,O.indexes.forEach(function(we){var De=K(we.name||"");function tt(ct){return ct!=null?we.extractKey(ct):null}function lt(ct){return we.multiEntry&&a(ct)?ct.forEach(function(ni){return De.addKey(ni)}):De.addKey(ct)}(V||Z).forEach(function(ct,Tn){var Ke=V&&tt(V[Tn]),Tn=Z&&tt(Z[Tn]);dt(Ke,Tn)!==0&&(Ke!=null&&lt(Ke),Tn!=null&&lt(Tn))})}))):me?(ve={from:(ve=me.lower)!==null&&ve!==void 0?ve:g.MIN_KEY,to:(ve=me.upper)!==null&&ve!==void 0?ve:g.MAX_KEY},ge.add(ve),se.add(ve)):(se.add(v),ge.add(v),O.indexes.forEach(function(we){return G(we.name).add(v)})),A.mutate(W).then(function(we){return!me||W.type!=="add"&&W.type!=="put"||(se.addKeys(we.results),Y&&Y.forEach(function(De){for(var tt=W.values.map(function(Ke){return De.extractKey(Ke)}),lt=De.keyPath.findIndex(function(Ke){return Ke===L.keyPath}),ct=0,ni=we.results.length;ct<ni;++ct)tt[ct][lt]=we.results[ct];G(De.name).addKeys(tt)})),Q.mutatedParts=tu(Q.mutatedParts||{},ee),we})}}),F=function(G){var K=G.query,G=K.index,K=K.range;return[G,new Mn((G=K.lower)!==null&&G!==void 0?G:g.MIN_KEY,(K=K.upper)!==null&&K!==void 0?K:g.MAX_KEY)]},J={get:function(W){return[L,new Mn(W.key)]},getMany:function(W){return[L,new Mn().addKeys(W.keys)]},count:F,query:F,openCursor:F};return o(J).forEach(function(W){q[W]=function(G){var K=Ie.subscr,V=!!K,Z=Xw(Ie,A)&&Ww(W,G)?G.obsSet={}:K;if(V){var Q=function(ve){return ve="idb://".concat(x,"/").concat(k,"/").concat(ve),Z[ve]||(Z[ve]=new Mn)},ee=Q(""),se=Q(":dels"),K=J[W](G),V=K[0],K=K[1];if((W==="query"&&V.isPrimaryKey&&!G.values?se:Q(V.name||"")).add(K),!V.isPrimaryKey){if(W!=="count"){var ge=W==="query"&&X&&G.values&&A.query(n(n({},G),{values:!1}));return A[W].apply(this,arguments).then(function(ve){if(W==="query"){if(X&&G.values)return ge.then(function(tt){return tt=tt.result,ee.addKeys(tt),ve});var Te=G.values?ve.result.map(z):ve.result;(G.values?ee:se).addKeys(Te)}else if(W==="openCursor"){var we=ve,De=G.values;return we&&Object.create(we,{key:{get:function(){return se.addKey(we.primaryKey),we.key}},primaryKey:{get:function(){var tt=we.primaryKey;return se.addKey(tt),tt}},value:{get:function(){return De&&ee.addKey(we.primaryKey),we.value}}})}return ve})}se.add(v)}}return A[W].apply(this,arguments)}}),q}})}};function Yw(g,x,v){if(v.numFailures===0)return x;if(x.type==="deleteRange")return null;var k=x.keys?x.keys.length:"values"in x&&x.values?x.values.length:1;return v.numFailures===k?null:(x=n({},x),a(x.keys)&&(x.keys=x.keys.filter(function(A,O){return!(O in v.failures)})),"values"in x&&a(x.values)&&(x.values=x.values.filter(function(A,O){return!(O in v.failures)})),x)}function hg(g,x){return v=g,((k=x).lower===void 0||(k.lowerOpen?0<dt(v,k.lower):0<=dt(v,k.lower)))&&(g=g,(x=x).upper===void 0||(x.upperOpen?dt(g,x.upper)<0:dt(g,x.upper)<=0));var v,k}function jw(g,x,J,k,A,O){if(!J||J.length===0)return g;var L=x.query.index,z=L.multiEntry,X=x.query.range,Y=k.schema.primaryKey.extractKey,q=L.extractKey,F=(L.lowLevelIndex||L).extractKey,J=J.reduce(function(W,G){var K=W,V=[];if(G.type==="add"||G.type==="put")for(var Z=new Mn,Q=G.values.length-1;0<=Q;--Q){var ee,se=G.values[Q],ge=Y(se);Z.hasKey(ge)||(ee=q(se),(z&&a(ee)?ee.some(function(we){return hg(we,X)}):hg(ee,X))&&(Z.addKey(ge),V.push(se)))}switch(G.type){case"add":var Se=new Mn().addKeys(x.values?W.map(function(De){return Y(De)}):W),K=W.concat(x.values?V.filter(function(De){return De=Y(De),!Se.hasKey(De)&&(Se.addKey(De),!0)}):V.map(function(De){return Y(De)}).filter(function(De){return!Se.hasKey(De)&&(Se.addKey(De),!0)}));break;case"put":var me=new Mn().addKeys(G.values.map(function(De){return Y(De)}));K=W.filter(function(De){return!me.hasKey(x.values?Y(De):De)}).concat(x.values?V:V.map(function(De){return Y(De)}));break;case"delete":var ve=new Mn().addKeys(G.keys);K=W.filter(function(De){return!ve.hasKey(x.values?Y(De):De)});break;case"deleteRange":var Te=G.range;K=W.filter(function(De){return!hg(Y(De),Te)})}return K},g);return J===g?g:(J.sort(function(W,G){return dt(F(W),F(G))||dt(Y(W),Y(G))}),x.limit&&x.limit<1/0&&(J.length>x.limit?J.length=x.limit:g.length===x.limit&&J.length<x.limit&&(A.dirty=!0)),O?Object.freeze(J):J)}function Vw(g,x){return dt(g.lower,x.lower)===0&&dt(g.upper,x.upper)===0&&!!g.lowerOpen==!!x.lowerOpen&&!!g.upperOpen==!!x.upperOpen}function aL(g,x){return function(v,k,A,O){if(v===void 0)return k!==void 0?-1:0;if(k===void 0)return 1;if((k=dt(v,k))===0){if(A&&O)return 0;if(A)return 1;if(O)return-1}return k}(g.lower,x.lower,g.lowerOpen,x.lowerOpen)<=0&&0<=function(v,k,A,O){if(v===void 0)return k!==void 0?1:0;if(k===void 0)return-1;if((k=dt(v,k))===0){if(A&&O)return 0;if(A)return-1;if(O)return 1}return k}(g.upper,x.upper,g.upperOpen,x.upperOpen)}function lL(g,x,v,k){g.subscribers.add(v),k.addEventListener("abort",function(){var A,O;g.subscribers.delete(v),g.subscribers.size===0&&(A=g,O=x,setTimeout(function(){A.subscribers.size===0&&ae(O,A)},3e3))})}var cL={stack:"dbcore",level:0,name:"Cache",create:function(g){var x=g.schema.name;return n(n({},g),{transaction:function(v,k,A){var O,L,z=g.transaction(v,k,A);return k==="readwrite"&&(L=(O=new AbortController).signal,A=function(X){return function(){if(O.abort(),k==="readwrite"){for(var Y=new Set,q=0,F=v;q<F.length;q++){var J=F[q],W=Ws["idb://".concat(x,"/").concat(J)];if(W){var G=g.table(J),K=W.optimisticOps.filter(function(De){return De.trans===z});if(z._explicit&&X&&z.mutatedParts)for(var V=0,Z=Object.values(W.queries.query);V<Z.length;V++)for(var Q=0,ee=(Se=Z[V]).slice();Q<ee.length;Q++)ig((me=ee[Q]).obsSet,z.mutatedParts)&&(ae(Se,me),me.subscribers.forEach(function(De){return Y.add(De)}));else if(0<K.length){W.optimisticOps=W.optimisticOps.filter(function(De){return De.trans!==z});for(var se=0,ge=Object.values(W.queries.query);se<ge.length;se++)for(var Se,me,ve,Te=0,we=(Se=ge[se]).slice();Te<we.length;Te++)(me=we[Te]).res!=null&&z.mutatedParts&&(X&&!me.dirty?(ve=Object.isFrozen(me.res),ve=jw(me.res,me.req,K,G,me,ve),me.dirty?(ae(Se,me),me.subscribers.forEach(function(De){return Y.add(De)})):ve!==me.res&&(me.res=ve,me.promise=Pe.resolve({result:ve}))):(me.dirty&&ae(Se,me),me.subscribers.forEach(function(De){return Y.add(De)})))}}}Y.forEach(function(De){return De()})}}},z.addEventListener("abort",A(!1),{signal:L}),z.addEventListener("error",A(!1),{signal:L}),z.addEventListener("complete",A(!0),{signal:L})),z},table:function(v){var k=g.table(v),A=k.schema.primaryKey;return n(n({},k),{mutate:function(O){var L=Ie.trans;if(A.outbound||L.db._options.cache==="disabled"||L.explicit||L.idbtrans.mode!=="readwrite")return k.mutate(O);var z=Ws["idb://".concat(x,"/").concat(v)];return z?(L=k.mutate(O),O.type!=="add"&&O.type!=="put"||!(50<=O.values.length||cg(A,O).some(function(X){return X==null}))?(z.optimisticOps.push(O),O.mutatedParts&&nu(O.mutatedParts),L.then(function(X){0<X.numFailures&&(ae(z.optimisticOps,O),(X=Yw(0,O,X))&&z.optimisticOps.push(X),O.mutatedParts&&nu(O.mutatedParts))}),L.catch(function(){ae(z.optimisticOps,O),O.mutatedParts&&nu(O.mutatedParts)})):L.then(function(X){var Y=Yw(0,n(n({},O),{values:O.values.map(function(q,F){var J;return X.failures[F]?q:(q=(J=A.keyPath)!==null&&J!==void 0&&J.includes(".")?$(q):n({},q),M(q,A.keyPath,X.results[F]),q)})}),X);z.optimisticOps.push(Y),queueMicrotask(function(){return O.mutatedParts&&nu(O.mutatedParts)})}),L):k.mutate(O)},query:function(O){if(!Xw(Ie,k)||!Ww("query",O))return k.query(O);var L=((Y=Ie.trans)===null||Y===void 0?void 0:Y.db._options.cache)==="immutable",F=Ie,z=F.requery,X=F.signal,Y=function(G,K,V,Z){var Q=Ws["idb://".concat(G,"/").concat(K)];if(!Q)return[];if(!(K=Q.queries[V]))return[null,!1,Q,null];var ee=K[(Z.query?Z.query.index.name:null)||""];if(!ee)return[null,!1,Q,null];switch(V){case"query":var se=ee.find(function(ge){return ge.req.limit===Z.limit&&ge.req.values===Z.values&&Vw(ge.req.query.range,Z.query.range)});return se?[se,!0,Q,ee]:[ee.find(function(ge){return("limit"in ge.req?ge.req.limit:1/0)>=Z.limit&&(!Z.values||ge.req.values)&&aL(ge.req.query.range,Z.query.range)}),!1,Q,ee];case"count":return se=ee.find(function(ge){return Vw(ge.req.query.range,Z.query.range)}),[se,!!se,Q,ee]}}(x,v,"query",O),q=Y[0],F=Y[1],J=Y[2],W=Y[3];return q&&F?q.obsSet=O.obsSet:(F=k.query(O).then(function(G){var K=G.result;if(q&&(q.res=K),L){for(var V=0,Z=K.length;V<Z;++V)Object.freeze(K[V]);Object.freeze(K)}else G.result=$(K);return G}).catch(function(G){return W&&q&&ae(W,q),Promise.reject(G)}),q={obsSet:O.obsSet,promise:F,subscribers:new Set,type:"query",req:O,dirty:!1},W?W.push(q):(W=[q],(J=J||(Ws["idb://".concat(x,"/").concat(v)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[O.query.index.name||""]=W)),lL(q,W,z,X),q.promise.then(function(G){return{result:jw(G.result,O,J==null?void 0:J.optimisticOps,k,q,L)}})}})}})}};function ru(g,x){return new Proxy(g,{get:function(v,k,A){return k==="db"?x:Reflect.get(v,k,A)}})}var mr=($t.prototype.version=function(g){if(isNaN(g)||g<.1)throw new Ce.Type("Given version is not a positive number");if(g=Math.round(10*g)/10,this.idbdb||this._state.isBeingOpened)throw new Ce.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,g);var x=this._versions,v=x.filter(function(k){return k._cfg.version===g})[0];return v||(v=new this.Version(g),x.push(v),x.sort(ZP),v.stores({}),this._state.autoSchema=!1,v)},$t.prototype._whenReady=function(g){var x=this;return this.idbdb&&(this._state.openComplete||Ie.letThrough||this._vip)?g():new Pe(function(v,k){if(x._state.openComplete)return k(new Ce.DatabaseClosed(x._state.dbOpenError));if(!x._state.isBeingOpened){if(!x._state.autoOpen)return void k(new Ce.DatabaseClosed);x.open().catch(ht)}x._state.dbReadyPromise.then(v,k)}).then(g)},$t.prototype.use=function(g){var x=g.stack,v=g.create,k=g.level,A=g.name;return A&&this.unuse({stack:x,name:A}),g=this._middlewares[x]||(this._middlewares[x]=[]),g.push({stack:x,create:v,level:k??10,name:A}),g.sort(function(O,L){return O.level-L.level}),this},$t.prototype.unuse=function(g){var x=g.stack,v=g.name,k=g.create;return x&&this._middlewares[x]&&(this._middlewares[x]=this._middlewares[x].filter(function(A){return k?A.create!==k:!!v&&A.name!==v})),this},$t.prototype.open=function(){var g=this;return Bs(Oi,function(){return nL(g)})},$t.prototype._close=function(){var g=this._state,x=Fo.indexOf(this);if(0<=x&&Fo.splice(x,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}g.isBeingOpened||(g.dbReadyPromise=new Pe(function(v){g.dbReadyResolve=v}),g.openCanceller=new Pe(function(v,k){g.cancelOpen=k}))},$t.prototype.close=function(v){var x=(v===void 0?{disableAutoOpen:!0}:v).disableAutoOpen,v=this._state;x?(v.isBeingOpened&&v.cancelOpen(new Ce.DatabaseClosed),this._close(),v.autoOpen=!1,v.dbOpenError=new Ce.DatabaseClosed):(this._close(),v.autoOpen=this._options.autoOpen||v.isBeingOpened,v.openComplete=!1,v.dbOpenError=null)},$t.prototype.delete=function(g){var x=this;g===void 0&&(g={disableAutoOpen:!0});var v=0<arguments.length&&typeof arguments[0]!="object",k=this._state;return new Pe(function(A,O){function L(){x.close(g);var z=x._deps.indexedDB.deleteDatabase(x.name);z.onsuccess=zt(function(){var X,Y,q;X=x._deps,Y=x.name,q=X.indexedDB,X=X.IDBKeyRange,eg(q)||Y===Yh||Qp(q,X).delete(Y).catch(ht),A()}),z.onerror=$i(O),z.onblocked=x._fireOnBlocked}if(v)throw new Ce.InvalidArgument("Invalid closeOptions argument to db.delete()");k.isBeingOpened?k.dbReadyPromise.then(L):L()})},$t.prototype.backendDB=function(){return this.idbdb},$t.prototype.isOpen=function(){return this.idbdb!==null},$t.prototype.hasBeenClosed=function(){var g=this._state.dbOpenError;return g&&g.name==="DatabaseClosed"},$t.prototype.hasFailed=function(){return this._state.dbOpenError!==null},$t.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty($t.prototype,"tables",{get:function(){var g=this;return o(this._allTables).map(function(x){return g._allTables[x]})},enumerable:!1,configurable:!0}),$t.prototype.transaction=function(){var g=(function(x,v,k){var A=arguments.length;if(A<2)throw new Ce.InvalidArgument("Too few arguments");for(var O=new Array(A-1);--A;)O[A-1]=arguments[A];return k=O.pop(),[x,N(O),k]}).apply(this,arguments);return this._transaction.apply(this,g)},$t.prototype._transaction=function(g,x,v){var k=this,A=Ie.trans;A&&A.db===this&&g.indexOf("!")===-1||(A=null);var O,L,z=g.indexOf("?")!==-1;g=g.replace("!","").replace("?","");try{if(L=x.map(function(Y){if(Y=Y instanceof k.Table?Y.name:Y,typeof Y!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Y}),g=="r"||g===Xp)O=Xp;else{if(g!="rw"&&g!=Wp)throw new Ce.InvalidArgument("Invalid transaction mode: "+g);O=Wp}if(A){if(A.mode===Xp&&O===Wp){if(!z)throw new Ce.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");A=null}A&&L.forEach(function(Y){if(A&&A.storeNames.indexOf(Y)===-1){if(!z)throw new Ce.SubTransaction("Table "+Y+" not included in parent transaction.");A=null}}),z&&A&&!A.active&&(A=null)}}catch(Y){return A?A._promise(null,function(q,F){F(Y)}):Vt(Y)}var X=(function Y(q,F,J,W,G){return Pe.resolve().then(function(){var K=Ie.transless||Ie,V=q._createTransaction(F,J,q._dbSchema,W);if(V.explicit=!0,K={trans:V,transless:K},W)V.idbtrans=W.idbtrans;else try{V.create(),V.idbtrans._explicit=!0,q._state.PR1398_maxLoop=3}catch(ee){return ee.name===$e.InvalidState&&q.isOpen()&&0<--q._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),q.close({disableAutoOpen:!1}),q.open().then(function(){return Y(q,F,J,null,G)})):Vt(ee)}var Z,Q=Ne(G);return Q&&zo(),K=Pe.follow(function(){var ee;(Z=G.call(V,V))&&(Q?(ee=Gr.bind(null,null),Z.then(ee,ee)):typeof Z.next=="function"&&typeof Z.throw=="function"&&(Z=ag(Z)))},K),(Z&&typeof Z.then=="function"?Pe.resolve(Z).then(function(ee){return V.active?ee:Vt(new Ce.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):K.then(function(){return Z})).then(function(ee){return W&&V._resolve(),V._completion.then(function(){return ee})}).catch(function(ee){return V._reject(ee),Vt(ee)})})}).bind(null,this,O,L,A,v);return A?A._promise(O,X,"lock"):Ie.trans?Bs(Ie.transless,function(){return k._whenReady(X)}):this._whenReady(X)},$t.prototype.table=function(g){if(!u(this._allTables,g))throw new Ce.InvalidTable("Table ".concat(g," does not exist"));return this._allTables[g]},$t);function $t(g,x){var v=this;this._middlewares={},this.verno=0;var k=$t.dependencies;this._options=x=n({addons:$t.addons,autoOpen:!0,indexedDB:k.indexedDB,IDBKeyRange:k.IDBKeyRange,cache:"cloned"},x),this._deps={indexedDB:x.indexedDB,IDBKeyRange:x.IDBKeyRange},k=x.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var A,O,L,z,X,Y={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ht,dbReadyPromise:null,cancelOpen:ht,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:x.autoOpen};Y.dbReadyPromise=new Pe(function(F){Y.dbReadyResolve=F}),Y.openCanceller=new Pe(function(F,J){Y.cancelOpen=J}),this._state=Y,this.name=g,this.on=ul(this,"populate","blocked","versionchange","close",{ready:[ye,ht]}),this.on.ready.subscribe=C(this.on.ready.subscribe,function(F){return function(J,W){$t.vip(function(){var G,K=v._state;K.openComplete?(K.dbOpenError||Pe.resolve().then(J),W&&F(J)):K.onReadyBeingFired?(K.onReadyBeingFired.push(J),W&&F(J)):(F(J),G=v,W||F(function V(){G.on.ready.unsubscribe(J),G.on.ready.unsubscribe(V)}))})}}),this.Collection=(A=this,dl(VP.prototype,function(Z,V){this.db=A;var W=kw,G=null;if(V)try{W=V()}catch(Q){G=Q}var K=Z._ctx,V=K.table,Z=V.hook.reading.fire;this._ctx={table:V,index:K.index,isPrimKey:!K.index||V.schema.primKey.keyPath&&K.index===V.schema.primKey.name,range:W,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:G,or:K.or,valueMapper:Z!==R?Z:null}})),this.Table=(O=this,dl(Mw.prototype,function(F,J,W){this.db=O,this._tx=W,this.name=F,this.schema=J,this.hook=O._allTables[F]?O._allTables[F].hook:ul(null,{creating:[de,ht],reading:[B,R],updating:[ce,ht],deleting:[le,ht]})})),this.Transaction=(L=this,dl(qP.prototype,function(F,J,W,G,K){var V=this;this.db=L,this.mode=F,this.storeNames=J,this.schema=W,this.chromeTransactionDurability=G,this.idbtrans=null,this.on=ul(this,"complete","error","abort"),this.parent=K||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Pe(function(Z,Q){V._resolve=Z,V._reject=Q}),this._completion.then(function(){V.active=!1,V.on.complete.fire()},function(Z){var Q=V.active;return V.active=!1,V.on.error.fire(Z),V.parent?V.parent._reject(Z):Q&&V.idbtrans&&V.idbtrans.abort(),Vt(Z)})})),this.Version=(z=this,dl(tL.prototype,function(F){this.db=z,this._cfg={version:F,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(X=this,dl(Pw.prototype,function(F,J,W){if(this.db=X,this._ctx={table:F,index:J===":id"?null:J,or:W},this._cmp=this._ascending=dt,this._descending=function(G,K){return dt(K,G)},this._max=function(G,K){return 0<dt(G,K)?G:K},this._min=function(G,K){return dt(G,K)<0?G:K},this._IDBKeyRange=X._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ce.MissingAPI})),this.on("versionchange",function(F){0<F.newVersion?console.warn("Another connection wants to upgrade database '".concat(v.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(v.name,"'. Closing db now to resume the delete request.")),v.close({disableAutoOpen:!1})}),this.on("blocked",function(F){!F.newVersion||F.newVersion<F.oldVersion?console.warn("Dexie.delete('".concat(v.name,"') was blocked")):console.warn("Upgrade '".concat(v.name,"' blocked by other connection holding version ").concat(F.oldVersion/10))}),this._maxKey=ml(x.IDBKeyRange),this._createTransaction=function(F,J,W,G){return new v.Transaction(F,J,W,v._options.chromeTransactionDurability,G)},this._fireOnBlocked=function(F){v.on("blocked").fire(F),Fo.filter(function(J){return J.name===v.name&&J!==v&&!J._state.vcFired}).map(function(J){return J.on("versionchange").fire(F)})},this.use(sL),this.use(cL),this.use(oL),this.use(iL),this.use(rL);var q=new Proxy(this,{get:function(F,J,W){if(J==="_vip")return!0;if(J==="table")return function(K){return ru(v.table(K),q)};var G=Reflect.get(F,J,W);return G instanceof Mw?ru(G,q):J==="tables"?G.map(function(K){return ru(K,q)}):J==="_createTransaction"?function(){return ru(G.apply(this,arguments),q)}:G}});this.vip=q,k.forEach(function(F){return F(v)})}var su,xi=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",hL=(ug.prototype.subscribe=function(g,x,v){return this._subscribe(g&&typeof g!="function"?g:{next:g,error:x,complete:v})},ug.prototype[xi]=function(){return this},ug);function ug(g){this._subscribe=g}try{su={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{su={indexedDB:null,IDBKeyRange:null}}function $w(g){var x,v=!1,k=new hL(function(A){var O=Ne(g),L,z=!1,X={},Y={},q={get closed(){return z},unsubscribe:function(){z||(z=!0,L&&L.abort(),F&&Kr.storagemutated.unsubscribe(W))}};A.start&&A.start(q);var F=!1,J=function(){return Hp(G)},W=function(K){tu(X,K),ig(Y,X)&&J()},G=function(){var K,V,Z;!z&&su.indexedDB&&(X={},K={},L&&L.abort(),L=new AbortController,Z=function(Q){var ee=_o();try{O&&zo();var se=$r(g,Q);return se=O?se.finally(Gr):se}finally{ee&&No()}}(V={subscr:K,signal:L.signal,requery:J,querier:g,trans:null}),Promise.resolve(Z).then(function(Q){v=!0,x=Q,z||V.signal.aborted||(X={},function(ee){for(var se in ee)if(u(ee,se))return;return 1}(Y=K)||F||(Kr(gl,W),F=!0),Hp(function(){return!z&&A.next&&A.next(Q)}))},function(Q){v=!1,["DatabaseClosedError","AbortError"].includes(Q==null?void 0:Q.name)||z||Hp(function(){z||A.error&&A.error(Q)})}))};return setTimeout(J,0),q});return k.hasValue=function(){return v},k.getValue=function(){return x},k}var Ys=mr;function dg(g){var x=Jr;try{Jr=!0,Kr.storagemutated.fire(g),og(g,!0)}finally{Jr=x}}d(Ys,n(n({},Et),{delete:function(g){return new Ys(g,{addons:[]}).delete()},exists:function(g){return new Ys(g,{addons:[]}).open().then(function(x){return x.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(g){try{return x=Ys.dependencies,v=x.indexedDB,x=x.IDBKeyRange,(eg(v)?Promise.resolve(v.databases()).then(function(k){return k.map(function(A){return A.name}).filter(function(A){return A!==Yh})}):Qp(v,x).toCollection().primaryKeys()).then(g)}catch{return Vt(new Ce.MissingAPI)}var x,v},defineClass:function(){return function(g){l(this,g)}},ignoreTransaction:function(g){return Ie.trans?Bs(Ie.transless,g):g()},vip:tg,async:function(g){return function(){try{var x=ag(g.apply(this,arguments));return x&&typeof x.then=="function"?x:Pe.resolve(x)}catch(v){return Vt(v)}}},spawn:function(g,x,v){try{var k=ag(g.apply(v,x||[]));return k&&typeof k.then=="function"?k:Pe.resolve(k)}catch(A){return Vt(A)}},currentTransaction:{get:function(){return Ie.trans||null}},waitFor:function(g,x){return x=Pe.resolve(typeof g=="function"?Ys.ignoreTransaction(g):g).timeout(x||6e4),Ie.trans?Ie.trans.waitFor(x):x},Promise:Pe,debug:{get:function(){return fe},set:function(g){ue(g)}},derive:m,extend:l,props:d,override:C,Events:ul,on:Kr,liveQuery:$w,extendObservabilitySet:tu,getByKeyPath:E,setByKeyPath:M,delByKeyPath:function(g,x){typeof x=="string"?M(g,x,void 0):"length"in x&&[].map.call(x,function(v){M(g,v,void 0)})},shallowClone:I,deepClone:$,getObjectDiff:lg,cmp:dt,asap:S,minKey:-1/0,addons:[],connections:Fo,errnames:$e,dependencies:su,cache:Ws,semVer:"4.0.11",version:"4.0.11".split(".").map(function(g){return parseInt(g)}).reduce(function(g,x,v){return g+x/Math.pow(10,2*v)})})),Ys.maxKey=ml(Ys.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Kr(gl,function(g){Jr||(g=new CustomEvent($p,{detail:g}),Jr=!0,dispatchEvent(g),Jr=!1)}),addEventListener($p,function(g){g=g.detail,Jr||dg(g)}));var Xo,Jr=!1,Gw=function(){};return typeof BroadcastChannel<"u"&&((Gw=function(){(Xo=new BroadcastChannel($p)).onmessage=function(g){return g.data&&dg(g.data)}})(),typeof Xo.unref=="function"&&Xo.unref(),Kr(gl,function(g){Jr||Xo.postMessage(g)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(g){if(!mr.disableBfCache&&g.persisted){fe&&console.debug("Dexie: handling persisted pagehide"),Xo!=null&&Xo.close();for(var x=0,v=Fo;x<v.length;x++)v[x].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(g){!mr.disableBfCache&&g.persisted&&(fe&&console.debug("Dexie: handling persisted pageshow"),Gw(),dg({all:new Mn(-1/0,[[]])}))})),Pe.rejectionMapper=function(g,x){return!g||g instanceof st||g instanceof TypeError||g instanceof SyntaxError||!g.name||!Tt[g.name]?g:(x=new Tt[g.name](x||g.message,g),"stack"in g&&p(x,"stack",{get:function(){return this.inner.stack}}),x)},ue(fe),n(mr,Object.freeze({__proto__:null,Dexie:mr,liveQuery:$w,Entity:Sw,cmp:dt,PropModification:fl,replacePrefix:function(g,x){return new fl({replacePrefix:[g,x]})},add:function(g){return new fl({add:g})},remove:function(g){return new fl({remove:g})},default:mr,RangeSet:Mn,mergeRanges:yl,rangesOverlap:Nw}),{default:mr}),mr})}(bc)),bc.exports}var GA=$A();const Zd=jA(GA),Kb=Symbol.for("Dexie"),yc=globalThis[Kb]||(globalThis[Kb]=Zd);if(Zd.semVer!==yc.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Zd.semVer} and ${yc.semVer}`);const{liveQuery:xL,mergeRanges:bL,rangesOverlap:yL,RangeSet:vL,cmp:wL,Entity:kL,PropModification:SL,replacePrefix:CL,add:AL,remove:ML}=yc;function Qd(){const i=new yc("FAFIX");return i.version(1).stores({statistics:"++id, title, link, chapters, words, reviews, recommendations, views, favorites, bookmarks, offlineLibraries, bookshelves, date, time"}),i.version(2).stores({statistics:"++id, title, link, chapters, words, reviews, recommendations, views, favorites, bookmarks, offlineLibraries, bookshelves, date, time",books:"++id, status, title, link, *category, *genres, chapters, words, created_at, updated_at"}),i}function Jb(){const i=Qd();async function e(s){return await i.books.add(s)}async function t(s,o){return await i.books.update(s,o)}async function n(s){const o=await i.books.where({title:s.title,link:s.link}).first();return o?await i.books.update(o.id,s):await i.books.add(s)}async function r(){return await i.books.toArray()}return{insert:e,update:t,upsert:n,get:r}}function Zb(){const i=Qd();async function e(n,r,s,o){const a=o||new Date,l=f=>String(f).padStart(2,"0"),c=`${a.getFullYear()}-${l(a.getMonth()+1)}-${l(a.getDate())}`,h=`${l(a.getHours())}:${l(a.getMinutes())}:${l(a.getSeconds())}`,u=Qd(),d=await u.statistics.where({title:n,date:c}).first();return d?await u.statistics.update(d.id,{time:h,...s}):await u.statistics.add({title:n,link:r,date:c,time:h,...s})}async function t(n){return await i.statistics.where({link:n}).sortBy("date")}return{store:e,stats:t}}class Qb{constructor(e=null,t=localStorage){au(this,"prefix");au(this,"engine");au(this,"listeners");this.prefix=e===null?"":e,this.prefix.length>0&&!this.prefix.endsWith(":")&&(this.prefix+=":"),this.engine=t,this.listeners={}}prepare(e){return this.prefix.length===0||e.startsWith(this.prefix)?e:`${this.prefix}${e}`}encode(e){return typeof e>"u"||e===null?e="":typeof e=="boolean"?e=e===!0?"true":"false":typeof e=="object"?e=JSON.stringify(e):typeof e!="string"&&(e=e.toString()),e}decode(e){return typeof e!="string"?e:e===""?null:e.toLowerCase()==="true"?!0:e.toLowerCase()==="false"?!1:e[0]==="{"||e[0]==="["?JSON.parse(e):/^[0-9]+(\.[0-9]+)?$/.test(e)?e.indexOf(".")>=0?parseFloat(e):parseInt(e):e}exists(e){return this.engine.getItem(this.prepare(e))!==null}has(e){return this.exists(e)}get(e,t=null){const n=this.engine.getItem(this.prepare(e));return n===null?t:this.decode(n)}all(){const e={};for(let t=0;t<this.engine.length;t++){const n=this.engine.key(t);n!==null&&(this.prefix===""&&n.indexOf(":")<0?e[n]=this.encode(this.engine.getItem(n)):this.prefix.length>0&&n.startsWith(this.prefix)&&(e[n]=this.encode(this.engine.getItem(n))))}return e}set(e,t){const n=this.get(e,null);typeof this.listeners[e]<"u"&&this.listeners[e].forEach(r=>r(t,n,e,this)),typeof this.listeners._all<"u"&&this.listeners._all.forEach(r=>r(t,n,e,this)),this.engine.setItem(this.prepare(e),this.encode(t))}remove(e){const t=this.get(e,null);typeof this.listeners[e]<"u"&&this.listeners[e].forEach(n=>n(null,t,e,this)),typeof this.listeners._all<"u"&&this.listeners._all.forEach(n=>n(null,t,e,this)),this.engine.removeItem(this.prepare(e))}delete(e){return this.remove(this.prepare(e))}unset(e){return this.remove(this.prepare(e))}clear(){const e=[];for(let t=0;t<this.engine.length;t++){const n=this.engine.key(t);n!==null&&(this.prefix===""&&n.indexOf(":")<0||this.prefix.length>0&&n.startsWith(this.prefix))&&e.push(n)}e.map(t=>this.engine.removeItem(t))}listen(e){typeof this.listeners._all>"u"&&(this.listeners._all=[]),this.listeners._all.push(e)}listenTo(e,t){typeof this.listeners[e]>"u"&&(this.listeners[e]=[]),this.listeners[e].push(t)}}function vc(){return{local:new Qb("FAFIX",localStorage),session:new Qb("FAFIX",sessionStorage)}}var ef=(i=>(i.Reviews="#b45309",i.Recommendations="#c026d3",i.Favorites="#dc2626",i.Bookmarks="#16a34a",i.OfflineLibraries="#0891b2",i.Bookshelves="#4b5563",i))(ef||{}),ey=(i=>(i.Reviews='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="white" class="icon icon-tabler icons-tabler-filled icon-tabler-message-circle"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5.821 4.91c3.899 -2.765 9.468 -2.539 13.073 .535c3.667 3.129 4.168 8.238 1.152 11.898c-2.841 3.447 -7.965 4.583 -12.231 2.805l-.233 -.101l-4.374 .931l-.04 .006l-.035 .007h-.018l-.022 .005h-.038l-.033 .004l-.021 -.001l-.023 .001l-.033 -.003h-.035l-.022 -.004l-.022 -.002l-.035 -.007l-.034 -.005l-.016 -.004l-.024 -.005l-.049 -.016l-.024 -.005l-.011 -.005l-.022 -.007l-.045 -.02l-.03 -.012l-.011 -.006l-.014 -.006l-.031 -.018l-.045 -.024l-.016 -.011l-.037 -.026l-.04 -.027l-.002 -.004l-.013 -.009l-.043 -.04l-.025 -.02l-.006 -.007l-.056 -.062l-.013 -.014l-.011 -.014l-.039 -.056l-.014 -.019l-.005 -.01l-.042 -.073l-.007 -.012l-.004 -.008l-.007 -.012l-.014 -.038l-.02 -.042l-.004 -.016l-.004 -.01l-.017 -.061l-.007 -.018l-.002 -.015l-.005 -.019l-.005 -.033l-.008 -.042l-.002 -.031l-.003 -.01v-.016l-.004 -.054l.001 -.036l.001 -.023l.002 -.053l.004 -.025v-.019l.008 -.035l.005 -.034l.005 -.02l.004 -.02l.018 -.06l.003 -.013l1.15 -3.45l-.022 -.037c-2.21 -3.747 -1.209 -8.391 2.413 -11.119z" /></svg>',i.Recommendations='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="white" class="icon icon-tabler icons-tabler-filled icon-tabler-star"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z" /></svg>',i.Favorites='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="white" class="icon icon-tabler icons-tabler-filled icon-tabler-heart"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6.979 3.074a6 6 0 0 1 4.988 1.425l.037 .033l.034 -.03a6 6 0 0 1 4.733 -1.44l.246 .036a6 6 0 0 1 3.364 10.008l-.18 .185l-.048 .041l-7.45 7.379a1 1 0 0 1 -1.313 .082l-.094 -.082l-7.493 -7.422a6 6 0 0 1 3.176 -10.215z" /></svg>',i.Bookmarks='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="white" class="icon icon-tabler icons-tabler-filled icon-tabler-bookmark"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 2a5 5 0 0 1 5 5v14a1 1 0 0 1 -1.555 .832l-5.445 -3.63l-5.444 3.63a1 1 0 0 1 -1.55 -.72l-.006 -.112v-14a5 5 0 0 1 5 -5h4z" /></svg>',i.OfflineLibraries='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-device-mobile"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 5a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2v-14z" /><path d="M11 4h2" /><path d="M12 17v.01" /></svg>',i.Bookshelves='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-books"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 4m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z" /><path d="M9 4m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z" /><path d="M5 8h4" /><path d="M9 16h4" /><path d="M13.803 4.56l2.184 -.53c.562 -.135 1.133 .19 1.282 .732l3.695 13.418a1.02 1.02 0 0 1 -.634 1.219l-.133 .041l-2.184 .53c-.562 .135 -1.133 -.19 -1.282 -.732l-3.695 -13.418a1.02 1.02 0 0 1 .634 -1.219l.133 -.041z" /><path d="M14 9l4 -1" /><path d="M16 16l3.923 -.98" /></svg>',i))(ey||{});const qA={class:"stats"},UA={class:"stats-chart"},KA={key:1,class:"stats-overlay"},JA={key:0,class:"stats-loading"},ZA=Jd(ia({__name:"Charts",setup(i){const e=Yt(!1),t=Yt(!1),n=Yt([]),r=no(()=>{const f=[];return n.value.forEach(p=>{f.push({label:p.title,value:p.link})}),f}),s=Yt(null),o=Yt(),a=Yt(),l=Jb(),c=Zb(),h=vc();Js(async()=>{n.value=await l.get(),s.value=h.local.get("statistics_current_book",r.value[0].value)}),_i(s,async f=>{if(!n.value||!f)return;h.local.set("statistics_current_book",f),e.value=!0,await new Promise(y=>setTimeout(y,150));const p=await c.stats(f);t.value=!(p&&p.length>1);const{seriesData:m,annotations:b}=p&&p.length>1?d(p):{seriesData:[],annotations:{}};o.value=[{name:"Aufrufe",data:m}],a.value={chart:{type:"line",height:350},annotations:b,stroke:{curve:"smooth"},xaxis:{type:"category",categories:o.value[0].data.map(y=>y.x)},yaxis:{forceNiceScale:!0},title:{text:"Aufrufe"},dataLabels:{enabled:!1},grid:{padding:{right:30,left:20}},tooltip:{y:{formatter:function(y,{series:w,seriesIndex:C,dataPointIndex:T,w:S}){var I;return`${((I=S.config.series[C].data[T].meta)==null?void 0:I.totalViews)??"0"} (+${y})`}}}},await new Promise(y=>setTimeout(y,150)),e.value=!1});function u(f){return new Date(f).toLocaleDateString("de-DE",{day:"2-digit",month:"long"})}function d(f){const p=[],m={xaxis:[],points:[]};for(let b=1;b<f.length;b++){const y=f[b],w=f[b-1],C=y.views-w.views,T=new Date(`${y.date}T${y.time}`).getTime();p.push({x:u(T),y:C,meta:{totalViews:y.views}});const S=y.chapters-w.chapters;S!==0&&m.xaxis.push({x:u(T),strokeDashArray:0,borderColor:"#9333ea",label:{borderColor:"#9333ea",style:{color:"#fff",background:"#9333ea"},text:`${S>0?"+":""}${S} Kapitel`}});const E=["reviews","recommendations","favorites","bookmarks","offlineLibraries","bookshelves"];let M=0;E.forEach(I=>{if(y[I]===w[I])return;const P=I[0].toUpperCase()+I.slice(1);m.points.push({x:u(T),y:C,marker:{size:10,offsetY:25*M,fillColor:ef[P],strokeColor:ef[P],cssClass:`apexcharts-icon-${I}`},image:{path:`data:image/svg+xml;base64,${btoa(ey[P])}`,width:16,height:16,offsetY:25*M}}),M++})}return{seriesData:p,annotations:m}}return(f,p)=>(Ot(),jt("div",qA,[Lt(WA,{tabs:r.value,modelValue:s.value,"onUpdate:modelValue":p[0]||(p[0]=m=>s.value=m)},null,8,["tabs","modelValue"]),It("div",UA,[a.value&&o.value?(Ot(),da(vn(xc),{key:0,type:"line",height:"350",options:a.value,series:o.value},null,8,["options","series"])):cn("",!0),!e.value&&t.value?(Ot(),jt("div",KA,p[1]||(p[1]=[It("p",null,"Noch keine Daten verfügbar",-1)]))):cn("",!0),Lt(zS,{name:"fade"},{default:am(()=>[e.value?(Ot(),jt("div",JA,[Lt(vn(vC),{class:"loading-circle"})])):cn("",!0)]),_:1})])]))}}),[["__scopeId","data-v-76c63681"]]);function fn(i){this.content=i}fn.prototype={constructor:fn,find:function(i){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===i)return e;return-1},get:function(i){var e=this.find(i);return e==-1?void 0:this.content[e+1]},update:function(i,e,t){var n=t&&t!=i?this.remove(t):this,r=n.find(i),s=n.content.slice();return r==-1?s.push(t||i,e):(s[r+1]=e,t&&(s[r]=t)),new fn(s)},remove:function(i){var e=this.find(i);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new fn(t)},addToStart:function(i,e){return new fn([i,e].concat(this.remove(i).content))},addToEnd:function(i,e){var t=this.remove(i).content.slice();return t.push(i,e),new fn(t)},addBefore:function(i,e,t){var n=this.remove(e),r=n.content.slice(),s=n.find(i);return r.splice(s==-1?r.length:s,0,e,t),new fn(r)},forEach:function(i){for(var e=0;e<this.content.length;e+=2)i(this.content[e],this.content[e+1])},prepend:function(i){return i=fn.from(i),i.size?new fn(i.content.concat(this.subtract(i).content)):this},append:function(i){return i=fn.from(i),i.size?new fn(this.subtract(i).content.concat(i.content)):this},subtract:function(i){var e=this;i=fn.from(i);for(var t=0;t<i.content.length;t+=2)e=e.remove(i.content[t]);return e},toObject:function(){var i={};return this.forEach(function(e,t){i[e]=t}),i},get size(){return this.content.length>>1}},fn.from=function(i){if(i instanceof fn)return i;var e=[];if(i)for(var t in i)e.push(t,i[t]);return new fn(e)};function ty(i,e,t){for(let n=0;;n++){if(n==i.childCount||n==e.childCount)return i.childCount==e.childCount?null:t;let r=i.child(n),s=e.child(n);if(r==s){t+=r.nodeSize;continue}if(!r.sameMarkup(s))return t;if(r.isText&&r.text!=s.text){for(let o=0;r.text[o]==s.text[o];o++)t++;return t}if(r.content.size||s.content.size){let o=ty(r.content,s.content,t+1);if(o!=null)return o}t+=r.nodeSize}}function ny(i,e,t,n){for(let r=i.childCount,s=e.childCount;;){if(r==0||s==0)return r==s?null:{a:t,b:n};let o=i.child(--r),a=e.child(--s),l=o.nodeSize;if(o==a){t-=l,n-=l;continue}if(!o.sameMarkup(a))return{a:t,b:n};if(o.isText&&o.text!=a.text){let c=0,h=Math.min(o.text.length,a.text.length);for(;c<h&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,t--,n--;return{a:t,b:n}}if(o.content.size||a.content.size){let c=ny(o.content,a.content,t-1,n-1);if(c)return c}t-=l,n-=l}}class he{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,t,n,r=0,s){for(let o=0,a=0;a<t;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&n(l,r+a,s||null,o)!==!1&&l.content.size){let h=a+1;l.nodesBetween(Math.max(0,e-h),Math.min(l.content.size,t-h),n,r+h)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,r){let s="",o=!0;return this.nodesBetween(e,t,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,t-l):a.isLeaf?r?typeof r=="function"?r(a):r:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&n&&(o?o=!1:s+=n),s+=c},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,r=this.content.slice(),s=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),s=1);s<e.content.length;s++)r.push(e.content[s]);return new he(r,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let n=[],r=0;if(t>e)for(let s=0,o=0;o<t;s++){let a=this.content[s],l=o+a.nodeSize;l>e&&((o<e||l>t)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,t-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,t-o-1))),n.push(a),r+=a.nodeSize),o=l}return new he(n,r)}cutByIndex(e,t){return e==t?he.empty:e==0&&t==this.content.length?this:new he(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let r=this.content.slice(),s=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new he(r,s)}addToStart(e){return new he([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new he(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let r=this.content[t];e(r,n,t),n+=r.nodeSize}}findDiffStart(e,t=0){return ty(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return ny(this,e,t,n)}findIndex(e,t=-1){if(e==0)return wc(0,e);if(e==this.size)return wc(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let s=this.child(n),o=r+s.nodeSize;if(o>=e)return o==e||t>0?wc(n+1,o):wc(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return he.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new he(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return he.empty;let t,n=0;for(let r=0;r<e.length;r++){let s=e[r];n+=s.nodeSize,r&&s.isText&&e[r-1].sameMarkup(s)?(t||(t=e.slice(0,r)),t[t.length-1]=s.withText(t[t.length-1].text+s.text)):t&&t.push(s)}return new he(t||e,n)}static from(e){if(!e)return he.empty;if(e instanceof he)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new he([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}he.empty=new he([],0);const tf={index:0,offset:0};function wc(i,e){return tf.index=i,tf.offset=e,tf}function kc(i,e){if(i===e)return!0;if(!(i&&typeof i=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(i);if(Array.isArray(e)!=t)return!1;if(t){if(i.length!=e.length)return!1;for(let n=0;n<i.length;n++)if(!kc(i[n],e[n]))return!1}else{for(let n in i)if(!(n in e)||!kc(i[n],e[n]))return!1;for(let n in e)if(!(n in i))return!1}return!0}let At=class pg{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let r=0;r<e.length;r++){let s=e[r];if(this.eq(s))return e;if(this.type.excludes(s.type))t||(t=e.slice(0,r));else{if(s.type.excludes(this.type))return e;!n&&s.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(s)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&kc(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);let r=n.create(t.attrs);return n.checkAttrs(r.attrs),r}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return pg.none;if(e instanceof pg)return[e];let t=e.slice();return t.sort((n,r)=>n.type.rank-r.type.rank),t}};At.none=[];class Sc extends Error{}class Le{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=ry(this.content,e+this.openStart,t);return n&&new Le(n,this.openStart,this.openEnd)}removeBetween(e,t){return new Le(iy(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return Le.empty;let n=t.openStart||0,r=t.openEnd||0;if(typeof n!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Le(he.fromJSON(e,t.content),n,r)}static maxOpen(e,t=!0){let n=0,r=0;for(let s=e.firstChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.firstChild)n++;for(let s=e.lastChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.lastChild)r++;return new Le(e,n,r)}}Le.empty=new Le(he.empty,0,0);function iy(i,e,t){let{index:n,offset:r}=i.findIndex(e),s=i.maybeChild(n),{index:o,offset:a}=i.findIndex(t);if(r==e||s.isText){if(a!=t&&!i.child(o).isText)throw new RangeError("Removing non-flat range");return i.cut(0,e).append(i.cut(t))}if(n!=o)throw new RangeError("Removing non-flat range");return i.replaceChild(n,s.copy(iy(s.content,e-r-1,t-r-1)))}function ry(i,e,t,n){let{index:r,offset:s}=i.findIndex(e),o=i.maybeChild(r);if(s==e||o.isText)return i.cut(0,e).append(t).append(i.cut(e));let a=ry(o.content,e-s-1,t);return a&&i.replaceChild(r,o.copy(a))}function QA(i,e,t){if(t.openStart>i.depth)throw new Sc("Inserted content deeper than insertion position");if(i.depth-t.openStart!=e.depth-t.openEnd)throw new Sc("Inconsistent open depths");return sy(i,e,t,0)}function sy(i,e,t,n){let r=i.index(n),s=i.node(n);if(r==e.index(n)&&n<i.depth-t.openStart){let o=sy(i,e,t,n+1);return s.copy(s.content.replaceChild(r,o))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&i.depth==n&&e.depth==n){let o=i.parent,a=o.content;return Ss(o,a.cut(0,i.parentOffset).append(t.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=eM(t,i);return Ss(s,ay(i,o,a,e,n))}else return Ss(s,Cc(i,e,n))}function oy(i,e){if(!e.type.compatibleContent(i.type))throw new Sc("Cannot join "+e.type.name+" onto "+i.type.name)}function nf(i,e,t){let n=i.node(t);return oy(n,e.node(t)),n}function ks(i,e){let t=e.length-1;t>=0&&i.isText&&i.sameMarkup(e[t])?e[t]=i.withText(e[t].text+i.text):e.push(i)}function _a(i,e,t,n){let r=(e||i).node(t),s=0,o=e?e.index(t):r.childCount;i&&(s=i.index(t),i.depth>t?s++:i.textOffset&&(ks(i.nodeAfter,n),s++));for(let a=s;a<o;a++)ks(r.child(a),n);e&&e.depth==t&&e.textOffset&&ks(e.nodeBefore,n)}function Ss(i,e){return i.type.checkContent(e),i.copy(e)}function ay(i,e,t,n,r){let s=i.depth>r&&nf(i,e,r+1),o=n.depth>r&&nf(t,n,r+1),a=[];return _a(null,i,r,a),s&&o&&e.index(r)==t.index(r)?(oy(s,o),ks(Ss(s,ay(i,e,t,n,r+1)),a)):(s&&ks(Ss(s,Cc(i,e,r+1)),a),_a(e,t,r,a),o&&ks(Ss(o,Cc(t,n,r+1)),a)),_a(n,null,r,a),new he(a)}function Cc(i,e,t){let n=[];if(_a(null,i,t,n),i.depth>t){let r=nf(i,e,t+1);ks(Ss(r,Cc(i,e,t+1)),n)}return _a(e,null,t,n),new he(n)}function eM(i,e){let t=e.depth-i.openStart,r=e.node(t).copy(i.content);for(let s=t-1;s>=0;s--)r=e.node(s).copy(he.from(r));return{start:r.resolveNoCache(i.openStart+t),end:r.resolveNoCache(r.content.size-i.openEnd-t)}}class Na{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[t*3],r=t==0?0:this.path[t*3-1]+1;for(let s=0;s<e;s++)r+=n.child(s).nodeSize;return r}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return At.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){let a=n;n=r,r=a}let s=n.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!r||!s[o].isInSet(r.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,r=e.parent.maybeChild(e.index());for(var s=0;s<n.length;s++)n[s].type.spec.inclusive===!1&&(!r||!n[s].isInSet(r.marks))&&(n=n[s--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new Ac(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],r=0,s=t;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(s),c=s-l;if(n.push(o,a,r+l),!c||(o=o.child(a),o.isText))break;s=c-1,r+=l+1}return new Na(t,n,s)}static resolveCached(e,t){let n=ly.get(e);if(n)for(let s=0;s<n.elts.length;s++){let o=n.elts[s];if(o.pos==t)return o}else ly.set(e,n=new tM);let r=n.elts[n.i]=Na.resolve(e,t);return n.i=(n.i+1)%nM,r}}class tM{constructor(){this.elts=[],this.i=0}}const nM=12,ly=new WeakMap;class Ac{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const iM=Object.create(null);let Er=class gg{constructor(e,t,n,r=At.none){this.type=e,this.attrs=t,this.marks=r,this.content=n||he.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,r=0){this.content.nodesBetween(e,t,n,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,r){return this.content.textBetween(e,t,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&kc(this.attrs,t||e.defaultAttrs||iM)&&At.sameSet(this.marks,n||At.none)}copy(e=null){return e==this.content?this:new gg(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new gg(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return Le.empty;let r=this.resolve(e),s=this.resolve(t),o=n?0:r.sharedDepth(t),a=r.start(o),c=r.node(o).content.cut(r.pos-a,s.pos-a);return new Le(c,r.depth-o,s.depth-o)}replace(e,t,n){return QA(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:r}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(r==e||t.isText)return t;e-=r+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let r=this.content.child(t-1);return{node:r,index:t-1,offset:n-r.nodeSize}}resolve(e){return Na.resolveCached(this,e)}resolveNoCache(e){return Na.resolve(this,e)}rangeHasMark(e,t,n){let r=!1;return t>e&&this.nodesBetween(e,t,s=>(n.isInSet(s.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),cy(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=he.empty,r=0,s=n.childCount){let o=this.contentMatchAt(e).matchFragment(n,r,s),a=o&&o.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(let l=r;l<s;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;let s=this.contentMatchAt(e).matchType(n),o=s&&s.matchFragment(this.content,t);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=At.none;for(let t=0;t<this.marks.length;t++){let n=this.marks[t];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!At.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let r=he.fromJSON(e,t.content),s=e.nodeType(t.type).create(t.attrs,r,n);return s.type.checkAttrs(s.attrs),s}};Er.prototype.text=void 0;class Mc extends Er{constructor(e,t,n,r){if(super(e,t,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):cy(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Mc(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Mc(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function cy(i,e){for(let t=i.length-1;t>=0;t--)e=i[t].type.name+"("+e+")";return e}class Cs{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new rM(e,t);if(n.next==null)return Cs.empty;let r=hy(n);n.next&&n.err("Unexpected trailing text");let s=uM(hM(r));return dM(s,n),s}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let r=this;for(let s=t;r&&s<n;s++)r=r.matchType(e.child(s).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let r=[this];function s(o,a){let l=o.matchFragment(e,n);if(l&&(!t||l.validEnd))return he.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:h,next:u}=o.next[c];if(!(h.isText||h.hasRequiredAttrs())&&r.indexOf(u)==-1){r.push(u);let d=s(u,a.concat(h));if(d)return d}}return null}return s(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),s=r.match;if(s.matchType(e)){let o=[];for(let a=r;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in t)&&(!r.type||l.validEnd)&&(n.push({match:a.contentMatch,type:a,via:r}),t[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(n){e.push(n);for(let r=0;r<n.next.length;r++)e.indexOf(n.next[r].next)==-1&&t(n.next[r].next)}return t(this),e.map((n,r)=>{let s=r+(n.validEnd?"*":" ")+" ";for(let o=0;o<n.next.length;o++)s+=(o?", ":"")+n.next[o].type.name+"->"+e.indexOf(n.next[o].next);return s}).join(`
  `)}}Cs.empty=new Cs(!0);class rM{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function hy(i){let e=[];do e.push(sM(i));while(i.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function sM(i){let e=[];do e.push(oM(i));while(i.next&&i.next!=")"&&i.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function oM(i){let e=cM(i);for(;;)if(i.eat("+"))e={type:"plus",expr:e};else if(i.eat("*"))e={type:"star",expr:e};else if(i.eat("?"))e={type:"opt",expr:e};else if(i.eat("{"))e=aM(i,e);else break;return e}function uy(i){/\D/.test(i.next)&&i.err("Expected number, got '"+i.next+"'");let e=Number(i.next);return i.pos++,e}function aM(i,e){let t=uy(i),n=t;return i.eat(",")&&(i.next!="}"?n=uy(i):n=-1),i.eat("}")||i.err("Unclosed braced range"),{type:"range",min:t,max:n,expr:e}}function lM(i,e){let t=i.nodeTypes,n=t[e];if(n)return[n];let r=[];for(let s in t){let o=t[s];o.isInGroup(e)&&r.push(o)}return r.length==0&&i.err("No node type or group '"+e+"' found"),r}function cM(i){if(i.eat("(")){let e=hy(i);return i.eat(")")||i.err("Missing closing paren"),e}else if(/\W/.test(i.next))i.err("Unexpected token '"+i.next+"'");else{let e=lM(i,i.next).map(t=>(i.inline==null?i.inline=t.isInline:i.inline!=t.isInline&&i.err("Mixing inline and block content"),{type:"name",value:t}));return i.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function hM(i){let e=[[]];return r(s(i,0),t()),e;function t(){return e.push([])-1}function n(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function r(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(s(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=s(o.exprs[l],a);if(l==o.exprs.length-1)return c;r(c,a=t())}else if(o.type=="star"){let l=t();return n(a,l),r(s(o.expr,l),l),[n(l)]}else if(o.type=="plus"){let l=t();return r(s(o.expr,a),l),r(s(o.expr,l),l),[n(l)]}else{if(o.type=="opt")return[n(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let h=t();r(s(o.expr,l),h),l=h}if(o.max==-1)r(s(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let h=t();n(l,h),r(s(o.expr,l),h),l=h}return[n(l)]}else{if(o.type=="name")return[n(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function dy(i,e){return e-i}function fy(i,e){let t=[];return n(e),t.sort(dy);function n(r){let s=i[r];if(s.length==1&&!s[0].term)return n(s[0].to);t.push(r);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&t.indexOf(l)==-1&&n(l)}}}function uM(i){let e=Object.create(null);return t(fy(i,0));function t(n){let r=[];n.forEach(o=>{i[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let h=0;h<r.length;h++)r[h][0]==a&&(c=r[h][1]);fy(i,l).forEach(h=>{c||r.push([a,c=[]]),c.indexOf(h)==-1&&c.push(h)})})});let s=e[n.join(",")]=new Cs(n.indexOf(i.length-1)>-1);for(let o=0;o<r.length;o++){let a=r[o][1].sort(dy);s.next.push({type:r[o][0],next:e[a.join(",")]||t(a)})}return s}}function dM(i,e){for(let t=0,n=[i];t<n.length;t++){let r=n[t],s=!r.validEnd,o=[];for(let a=0;a<r.next.length;a++){let{type:l,next:c}=r.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),n.indexOf(c)==-1&&n.push(c)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function py(i){let e=Object.create(null);for(let t in i){let n=i[t];if(!n.hasDefault)return null;e[t]=n.default}return e}function gy(i,e){let t=Object.create(null);for(let n in i){let r=e&&e[n];if(r===void 0){let s=i[n];if(s.hasDefault)r=s.default;else throw new RangeError("No value supplied for attribute "+n)}t[n]=r}return t}function my(i,e,t,n){for(let r in e)if(!(r in i))throw new RangeError(`Unsupported attribute ${r} for ${t} of type ${r}`);for(let r in i){let s=i[r];s.validate&&s.validate(e[r])}}function xy(i,e){let t=Object.create(null);if(e)for(let n in e)t[n]=new pM(i,n,e[n]);return t}let by=class qw{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=xy(e,n.attrs),this.defaultAttrs=py(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Cs.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:gy(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Er(this,this.computeAttrs(e),he.from(t),At.setFrom(n))}createChecked(e=null,t,n){return t=he.from(t),this.checkContent(t),new Er(this,this.computeAttrs(e),t,At.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),t=he.from(t),t.size){let o=this.contentMatch.fillBefore(t);if(!o)return null;t=o.append(t)}let r=this.contentMatch.matchFragment(t),s=r&&r.fillBefore(he.empty,!0);return s?new Er(this,e,t.append(s),At.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){my(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:At.none:e}static compile(e,t){let n=Object.create(null);e.forEach((s,o)=>n[s]=new qw(s,t,o));let r=t.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let s in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function fM(i,e,t){let n=t.split("|");return r=>{let s=r===null?"null":typeof r;if(n.indexOf(s)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${i}, got ${s}`)}}class pM{constructor(e,t,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?fM(e,t,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class Tc{constructor(e,t,n,r){this.name=e,this.rank=t,this.schema=n,this.spec=r,this.attrs=xy(e,r.attrs),this.excluded=null;let s=py(this.attrs);this.instance=s?new At(this,s):null}create(e=null){return!e&&this.instance?this.instance:new At(this,gy(this.attrs,e))}static compile(e,t){let n=Object.create(null),r=0;return e.forEach((s,o)=>n[s]=new Tc(s,r++,t,o)),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){my(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class yy{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let r in e)t[r]=e[r];t.nodes=fn.from(e.nodes),t.marks=fn.from(e.marks||{}),this.nodes=by.compile(this.spec.nodes,this),this.marks=Tc.compile(this.spec.marks,this);let n=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let s=this.nodes[r],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=n[o]||(n[o]=Cs.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?vy(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let r in this.marks){let s=this.marks[r],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:vy(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,r){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof by){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,n,r)}text(e,t){let n=this.nodes.text;return new Mc(n,n.defaultAttrs,e,At.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Er.fromJSON(this,e)}markFromJSON(e){return At.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function vy(i,e){let t=[];for(let n=0;n<e.length;n++){let r=e[n],s=i.marks[r],o=s;if(s)t.push(s);else for(let a in i.marks){let l=i.marks[a];(r=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(r)>-1)&&t.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return t}function gM(i){return i.tag!=null}function mM(i){return i.style!=null}let za=class mg{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let n=this.matchedStyles=[];t.forEach(r=>{if(gM(r))this.tags.push(r);else if(mM(r)){let s=/[^=]*/.exec(r.style)[0];n.indexOf(s)<0&&n.push(s),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let s=e.nodes[r.node];return s.contentMatch.matchType(s)})}parse(e,t={}){let n=new Cy(this,t,!1);return n.addAll(e,At.none,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new Cy(this,t,!0);return n.addAll(e,At.none,t.from,t.to),Le.maxOpen(n.finish())}matchTag(e,t,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let s=this.tags[r];if(yM(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||t.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,t,n,r){for(let s=r?this.styles.indexOf(r)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!n.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=t))){if(o.getAttrs){let l=o.getAttrs(t);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let t=[];function n(r){let s=r.priority==null?50:r.priority,o=0;for(;o<t.length;o++){let a=t[o];if((a.priority==null?50:a.priority)<s)break}t.splice(o,0,r)}for(let r in e.marks){let s=e.marks[r].spec.parseDOM;s&&s.forEach(o=>{n(o=Ay(o)),o.mark||o.ignore||o.clearMark||(o.mark=r)})}for(let r in e.nodes){let s=e.nodes[r].spec.parseDOM;s&&s.forEach(o=>{n(o=Ay(o)),o.node||o.ignore||o.mark||(o.node=r)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new mg(e,mg.schemaRules(e)))}};const wy={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},xM={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},ky={ol:!0,ul:!0},Fa=1,rf=2,Ec=4;function Sy(i,e,t){return e!=null?(e?Fa:0)|(e==="full"?rf:0):i&&i.whitespace=="pre"?Fa|rf:t&-5}class Oc{constructor(e,t,n,r,s,o){this.type=e,this.attrs=t,this.marks=n,this.solid=r,this.options=o,this.content=[],this.activeMarks=At.none,this.match=s||(o&Ec?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(he.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let n=this.type.contentMatch,r;return(r=n.findWrapping(e.type))?(this.match=n,r):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Fa)){let n=this.content[this.content.length-1],r;if(n&&n.isText&&(r=/[ \t\r\n\u000c]+$/.exec(n.text))){let s=n;n.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-r[0].length))}}let t=he.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(he.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!wy.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Cy{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let r=t.topNode,s,o=Sy(null,t.preserveWhitespace,0)|(n?Ec:0);r?s=new Oc(r.type,r.attrs,At.none,!0,t.topMatch||r.type.contentMatch,o):n?s=new Oc(null,null,At.none,!0,null,o):s=new Oc(e.schema.topNodeType,null,At.none,!0,null,o),this.nodes=[s],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let n=e.nodeValue,r=this.top,s=r.options&rf?"full":this.localPreserveWS||(r.options&Fa)>0;if(s==="full"||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(s)s!=="full"?n=n.replace(/\r?\n|\r/g," "):n=n.replace(/\r\n?/g,`
  `);else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let o=r.content[r.content.length-1],a=e.previousSibling;(!o||a&&a.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),t),this.findInText(e)}else this.findInside(e)}addElement(e,t,n){let r=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;ky.hasOwnProperty(o)&&this.parser.normalizeLists&&bM(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,n));e:if(l?l.ignore:xM.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,t);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,h=this.needsBlock;if(wy.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),c=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let u=l&&l.skip?t:this.readStyles(e,t);u&&this.addAll(e,u),c&&this.sync(s),this.needsBlock=h}else{let c=this.readStyles(e,t);c&&this.addElementByRule(e,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=r}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
  `),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t)}readStyles(e,t){let n=e.style;if(n&&n.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let s=this.parser.matchedStyles[r],o=n.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?t=t.filter(c=>!l.clearMark(c)):t=t.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return t}addElementByRule(e,t,n,r){let s,o;if(t.node)if(o=this.parser.schema.nodes[t.node],o.isLeaf)this.insertNode(o.create(t.attrs),n)||this.leafFallback(e,n);else{let l=this.enter(o,t.attrs||null,n,t.preserveWhitespace);l&&(s=!0,n=l)}else{let l=this.parser.schema.marks[t.mark];n=n.concat(l.create(t.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,n,r);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,n));else{let l=e;typeof t.contentElement=="string"?l=e.querySelector(t.contentElement):typeof t.contentElement=="function"?l=t.contentElement(e):t.contentElement&&(l=t.contentElement),this.findAround(e,l,!0),this.addAll(l,n),this.findAround(e,l,!1)}s&&this.sync(a)&&this.open--}addAll(e,t,n,r){let s=n||0;for(let o=n?e.childNodes[n]:e.firstChild,a=r==null?null:e.childNodes[r];o!=a;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,t);this.findAtPoint(e,s)}findPlace(e,t){let n,r;for(let s=this.open;s>=0;s--){let o=this.nodes[s],a=o.findWrapping(e);if(a&&(!n||n.length>a.length)&&(n=a,r=o,!a.length)||o.solid)break}if(!n)return null;this.sync(r);for(let s=0;s<n.length;s++)t=this.enterInner(n[s],null,t,!1);return t}insertNode(e,t){if(e.isInline&&this.needsBlock&&!this.top.type){let r=this.textblockFromContext();r&&(t=this.enterInner(r,null,t))}let n=this.findPlace(e,t);if(n){this.closeExtra();let r=this.top;r.match&&(r.match=r.match.matchType(e.type));let s=At.none;for(let o of n.concat(e.marks))(r.type?r.type.allowsMarkType(o.type):My(o.type,e.type))&&(s=o.addToSet(s));return r.content.push(e.mark(s)),!0}return!1}enter(e,t,n,r){let s=this.findPlace(e.create(t),n);return s&&(s=this.enterInner(e,t,n,!0,r)),s}enterInner(e,t,n,r=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=Sy(e,s,o.options);o.options&Ec&&o.content.length==0&&(a|=Ec);let l=At.none;return n=n.filter(c=>(o.type?o.type.allowsMarkType(c.type):My(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Oc(e,t,l,r,null,a)),this.open++,n}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=Fa)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let r=n.length-1;r>=0;r--)e+=n[r].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,r=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),s=-(n?n.depth+1:0)+(r?0:1),o=(a,l)=>{for(;a>=0;a--){let c=t[a];if(c==""){if(a==t.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let h=l>0||l==0&&r?this.nodes[l].type:n&&l>=s?n.node(l-s).type:null;if(!h||h.name!=c&&!h.isInGroup(c))return!1;l--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let n=this.parser.schema.nodes[t];if(n.isTextblock&&n.defaultAttrs)return n}}}function bM(i){for(let e=i.firstChild,t=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&ky.hasOwnProperty(n)&&t?(t.appendChild(e),e=t):n=="li"?t=e:n&&(t=null)}}function yM(i,e){return(i.matches||i.msMatchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector).call(i,e)}function Ay(i){let e={};for(let t in i)e[t]=i[t];return e}function My(i,e){let t=e.schema.nodes;for(let n in t){let r=t[n];if(!r.allowsMarkType(i))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:h}=a.edge(l);if(c==e||s.indexOf(h)<0&&o(h))return!0}};if(o(r.contentMatch))return!0}}class As{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=sf(t).createDocumentFragment());let r=n,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)r=s.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],h=this.serializeMark(c,o.isInline,t);h&&(s.push([c,r]),r.appendChild(h.dom),r=h.contentDOM||h.dom)}}r.appendChild(this.serializeNodeInner(o,t))}),n}serializeNodeInner(e,t){let{dom:n,contentDOM:r}=Ic(sf(t),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let r=e.marks.length-1;r>=0;r--){let s=this.serializeMark(e.marks[r],e.isInline,t);s&&((s.contentDOM||s.dom).appendChild(n),n=s.dom)}return n}serializeMark(e,t,n={}){let r=this.marks[e.type.name];return r&&Ic(sf(n),r(e,t),null,e.attrs)}static renderSpec(e,t,n=null,r){return Ic(e,t,n,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new As(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=Ty(e.nodes);return t.text||(t.text=n=>n.text),t}static marksFromSchema(e){return Ty(e.marks)}}function Ty(i){let e={};for(let t in i){let n=i[t].spec.toDOM;n&&(e[t]=n)}return e}function sf(i){return i.document||window.document}const Ey=new WeakMap;function vM(i){let e=Ey.get(i);return e===void 0&&Ey.set(i,e=wM(i)),e}function wM(i){let e=null;function t(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let r=0;r<n.length;r++)t(n[r]);else for(let r in n)t(n[r])}return t(i),e}function Ic(i,e,t,n){if(typeof e=="string")return{dom:i.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let r=e[0],s;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(s=vM(n))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=r.indexOf(" ");o>0&&(t=r.slice(0,o),r=r.slice(o+1));let a,l=t?i.createElementNS(t,r):i.createElement(r),c=e[1],h=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){h=2;for(let u in c)if(c[u]!=null){let d=u.indexOf(" ");d>0?l.setAttributeNS(u.slice(0,d),u.slice(d+1),c[u]):l.setAttribute(u,c[u])}}for(let u=h;u<e.length;u++){let d=e[u];if(d===0){if(u<e.length-1||u>h)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:f,contentDOM:p}=Ic(i,d,t,n);if(l.appendChild(f),p){if(a)throw new RangeError("Multiple content holes");a=p}}}return{dom:l,contentDOM:a}}const Oy=65535,Iy=Math.pow(2,16);function kM(i,e){return i+e*Iy}function Py(i){return i&Oy}function SM(i){return(i-(i&Oy))/Iy}const Ly=1,Ry=2,Pc=4,Dy=8;class of{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(this.delInfo&Dy)>0}get deletedBefore(){return(this.delInfo&(Ly|Pc))>0}get deletedAfter(){return(this.delInfo&(Ry|Pc))>0}get deletedAcross(){return(this.delInfo&Pc)>0}}class Zn{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&Zn.empty)return Zn.empty}recover(e){let t=0,n=Py(e);if(!this.inverted)for(let r=0;r<n;r++)t+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[n*3]+t+SM(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let r=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+s],h=this.ranges[a+o],u=l+c;if(e<=u){let d=c?e==l?-1:e==u?1:t:t,f=l+r+(d<0?0:h);if(n)return f;let p=e==(t<0?l:u)?null:kM(a/3,e-l),m=e==l?Ry:e==u?Ly:Pc;return(t<0?e!=l:e!=u)&&(m|=Dy),new of(f,m,p)}r+=h-c}return n?e+r:new of(e+r,0,null)}touches(e,t){let n=0,r=Py(t),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?n:0);if(l>e)break;let c=this.ranges[a+s],h=l+c;if(e<=h&&a==r*3)return!0;n+=this.ranges[a+o]-c}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,s=0;r<this.ranges.length;r+=3){let o=this.ranges[r],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),c=this.ranges[r+t],h=this.ranges[r+n];e(a,a+c,l,l+h),s+=h-c}}invert(){return new Zn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Zn.empty:new Zn(e<0?[0,-e,0]:[0,0,e])}}Zn.empty=new Zn([]);class Ba{constructor(e,t,n=0,r=e?e.length:0){this.mirror=t,this.from=n,this.to=r,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new Ba(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,n=this._maps.length;t<e._maps.length;t++){let r=e.getMirror(t);this.appendMap(e._maps[t],r!=null&&r<t?n+r:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this._maps.length+e._maps.length;t>=0;t--){let r=e.getMirror(t);this.appendMap(e._maps[t].invert(),r!=null&&r>t?n-r-1:void 0)}}invert(){let e=new Ba;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let r=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],a=o.mapResult(e,t);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this._maps[l].recover(a.recover);continue}}r|=a.delInfo,e=a.pos}return n?e:new of(e,r,null)}}const af=Object.create(null);class wn{getMap(){return Zn.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=af[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in af)throw new RangeError("Duplicate use of step JSON ID "+e);return af[e]=t,t.prototype.jsonID=e,t}}class qt{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new qt(e,null)}static fail(e){return new qt(null,e)}static fromReplace(e,t,n,r){try{return qt.ok(e.replace(t,n,r))}catch(s){if(s instanceof Sc)return qt.fail(s.message);throw s}}}function lf(i,e,t){let n=[];for(let r=0;r<i.childCount;r++){let s=i.child(r);s.content.size&&(s=s.copy(lf(s.content,e,s))),s.isInline&&(s=e(s,t,r)),n.push(s)}return he.fromArray(n)}class Or extends wn{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),r=n.node(n.sharedDepth(this.to)),s=new Le(lf(t.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),r),t.openStart,t.openEnd);return qt.fromReplace(e,this.from,this.to,s)}invert(){return new Fi(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Or(t.pos,n.pos,this.mark)}merge(e){return e instanceof Or&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Or(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Or(t.from,t.to,e.markFromJSON(t.mark))}}wn.jsonID("addMark",Or);class Fi extends wn{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new Le(lf(t.content,r=>r.mark(this.mark.removeFromSet(r.marks)),e),t.openStart,t.openEnd);return qt.fromReplace(e,this.from,this.to,n)}invert(){return new Or(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Fi(t.pos,n.pos,this.mark)}merge(e){return e instanceof Fi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Fi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Fi(t.from,t.to,e.markFromJSON(t.mark))}}wn.jsonID("removeMark",Fi);class Ir extends wn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return qt.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return qt.fromReplace(e,this.pos,this.pos+1,new Le(he.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let n=this.mark.addToSet(t.marks);if(n.length==t.marks.length){for(let r=0;r<t.marks.length;r++)if(!t.marks[r].isInSet(n))return new Ir(this.pos,t.marks[r]);return new Ir(this.pos,this.mark)}}return new bo(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Ir(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ir(t.pos,e.markFromJSON(t.mark))}}wn.jsonID("addNodeMark",Ir);class bo extends wn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return qt.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return qt.fromReplace(e,this.pos,this.pos+1,new Le(he.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Ir(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new bo(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new bo(t.pos,e.markFromJSON(t.mark))}}wn.jsonID("removeNodeMark",bo);class en extends wn{constructor(e,t,n,r=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=r}apply(e){return this.structure&&cf(e,this.from,this.to)?qt.fail("Structure replace would overwrite content"):qt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Zn([this.from,this.to-this.from,this.slice.size])}invert(e){return new en(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new en(t.pos,Math.max(t.pos,n.pos),this.slice)}merge(e){if(!(e instanceof en)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?Le.empty:new Le(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new en(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?Le.empty:new Le(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new en(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new en(t.from,t.to,Le.fromJSON(e,t.slice),!!t.structure)}}wn.jsonID("replace",en);class tn extends wn{constructor(e,t,n,r,s,o,a=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=r,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(cf(e,this.from,this.gapFrom)||cf(e,this.gapTo,this.to)))return qt.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return qt.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?qt.fromReplace(e,this.from,this.to,n):qt.fail("Content does not fit in gap")}getMap(){return new Zn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new tn(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),r=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||r<t.pos||s>n.pos?null:new tn(t.pos,n.pos,r,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new tn(t.from,t.to,t.gapFrom,t.gapTo,Le.fromJSON(e,t.slice),t.insert,!!t.structure)}}wn.jsonID("replaceAround",tn);function cf(i,e,t){let n=i.resolve(e),r=t-e,s=n.depth;for(;r>0&&s>0&&n.indexAfter(s)==n.node(s).childCount;)s--,r--;if(r>0){let o=n.node(s).maybeChild(n.indexAfter(s));for(;r>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,r--}}return!1}function CM(i,e,t,n){let r=[],s=[],o,a;i.doc.nodesBetween(e,t,(l,c,h)=>{if(!l.isInline)return;let u=l.marks;if(!n.isInSet(u)&&h.type.allowsMarkType(n.type)){let d=Math.max(c,e),f=Math.min(c+l.nodeSize,t),p=n.addToSet(u);for(let m=0;m<u.length;m++)u[m].isInSet(p)||(o&&o.to==d&&o.mark.eq(u[m])?o.to=f:r.push(o=new Fi(d,f,u[m])));a&&a.to==d?a.to=f:s.push(a=new Or(d,f,n))}}),r.forEach(l=>i.step(l)),s.forEach(l=>i.step(l))}function AM(i,e,t,n){let r=[],s=0;i.doc.nodesBetween(e,t,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(n instanceof Tc){let c=o.marks,h;for(;h=n.isInSet(c);)(l||(l=[])).push(h),c=h.removeFromSet(c)}else n?n.isInSet(o.marks)&&(l=[n]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,t);for(let h=0;h<l.length;h++){let u=l[h],d;for(let f=0;f<r.length;f++){let p=r[f];p.step==s-1&&u.eq(r[f].style)&&(d=p)}d?(d.to=c,d.step=s):r.push({style:u,from:Math.max(a,e),to:c,step:s})}}}),r.forEach(o=>i.step(new Fi(o.from,o.to,o.style)))}function hf(i,e,t,n=t.contentMatch,r=!0){let s=i.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<s.childCount;l++){let c=s.child(l),h=a+c.nodeSize,u=n.matchType(c.type);if(!u)o.push(new en(a,h,Le.empty));else{n=u;for(let d=0;d<c.marks.length;d++)t.allowsMarkType(c.marks[d].type)||i.step(new Fi(a,h,c.marks[d]));if(r&&c.isText&&t.whitespace!="pre"){let d,f=/\r?\n|\r/g,p;for(;d=f.exec(c.text);)p||(p=new Le(he.from(t.schema.text(" ",t.allowedMarks(c.marks))),0,0)),o.push(new en(a+d.index,a+d.index+d[0].length,p))}}a=h}if(!n.validEnd){let l=n.fillBefore(he.empty,!0);i.replace(a,a,new Le(l,0,0))}for(let l=o.length-1;l>=0;l--)i.step(o[l])}function MM(i,e,t){return(e==0||i.canReplace(e,i.childCount))&&(t==i.childCount||i.canReplace(0,t))}function yo(i){let t=i.parent.content.cutByIndex(i.startIndex,i.endIndex);for(let n=i.depth;;--n){let r=i.$from.node(n),s=i.$from.index(n),o=i.$to.indexAfter(n);if(n<i.depth&&r.canReplace(s,o,t))return n;if(n==0||r.type.spec.isolating||!MM(r,s,o))break}return null}function TM(i,e,t){let{$from:n,$to:r,depth:s}=e,o=n.before(s+1),a=r.after(s+1),l=o,c=a,h=he.empty,u=0;for(let p=s,m=!1;p>t;p--)m||n.index(p)>0?(m=!0,h=he.from(n.node(p).copy(h)),u++):l--;let d=he.empty,f=0;for(let p=s,m=!1;p>t;p--)m||r.after(p+1)<r.end(p)?(m=!0,d=he.from(r.node(p).copy(d)),f++):c++;i.step(new tn(l,c,o,a,new Le(h.append(d),u,f),h.size-u,!0))}function uf(i,e,t=null,n=i){let r=EM(i,e),s=r&&OM(n,e);return s?r.map(_y).concat({type:e,attrs:t}).concat(s.map(_y)):null}function _y(i){return{type:i,attrs:null}}function EM(i,e){let{parent:t,startIndex:n,endIndex:r}=i,s=t.contentMatchAt(n).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return t.canReplaceWith(n,r,o)?s:null}function OM(i,e){let{parent:t,startIndex:n,endIndex:r}=i,s=t.child(n),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=n;l&&c<r;c++)l=l.matchType(t.child(c).type);return!l||!l.validEnd?null:o}function IM(i,e,t){let n=he.empty;for(let o=t.length-1;o>=0;o--){if(n.size){let a=t[o].type.contentMatch.matchFragment(n);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=he.from(t[o].type.create(t[o].attrs,n))}let r=e.start,s=e.end;i.step(new tn(r,s,r,s,new Le(n,0,0),t.length,!0))}function PM(i,e,t,n,r){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=i.steps.length;i.doc.nodesBetween(e,t,(o,a)=>{let l=typeof r=="function"?r(o):r;if(o.isTextblock&&!o.hasMarkup(n,l)&&LM(i.doc,i.mapping.slice(s).map(a),n)){let c=null;if(n.schema.linebreakReplacement){let f=n.whitespace=="pre",p=!!n.contentMatch.matchType(n.schema.linebreakReplacement);f&&!p?c=!1:!f&&p&&(c=!0)}c===!1&&zy(i,o,a,s),hf(i,i.mapping.slice(s).map(a,1),n,void 0,c===null);let h=i.mapping.slice(s),u=h.map(a,1),d=h.map(a+o.nodeSize,1);return i.step(new tn(u,d,u+1,d-1,new Le(he.from(n.create(l,null,o.marks)),0,0),1,!0)),c===!0&&Ny(i,o,a,s),!1}})}function Ny(i,e,t,n){e.forEach((r,s)=>{if(r.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(r.text);){let l=i.mapping.slice(n).map(t+1+s+o.index);i.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function zy(i,e,t,n){e.forEach((r,s)=>{if(r.type==r.type.schema.linebreakReplacement){let o=i.mapping.slice(n).map(t+1+s);i.replaceWith(o,o+1,e.type.schema.text(`
  `))}})}function LM(i,e,t){let n=i.resolve(e),r=n.index();return n.parent.canReplaceWith(r,r+1,t)}function RM(i,e,t,n,r){let s=i.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");t||(t=s.type);let o=t.create(n,null,r||s.marks);if(s.isLeaf)return i.replaceWith(e,e+s.nodeSize,o);if(!t.validContent(s.content))throw new RangeError("Invalid content for node type "+t.name);i.step(new tn(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Le(he.from(o),0,0),1,!0))}function or(i,e,t=1,n){let r=i.resolve(e),s=r.depth-t,o=n&&n[n.length-1]||r.parent;if(s<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!o.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let c=r.depth-1,h=t-2;c>s;c--,h--){let u=r.node(c),d=r.index(c);if(u.type.spec.isolating)return!1;let f=u.content.cutByIndex(d,u.childCount),p=n&&n[h+1];p&&(f=f.replaceChild(0,p.type.create(p.attrs)));let m=n&&n[h]||u;if(!u.canReplace(d+1,u.childCount)||!m.type.validContent(f))return!1}let a=r.indexAfter(s),l=n&&n[0];return r.node(s).canReplaceWith(a,a,l?l.type:r.node(s+1).type)}function DM(i,e,t=1,n){let r=i.doc.resolve(e),s=he.empty,o=he.empty;for(let a=r.depth,l=r.depth-t,c=t-1;a>l;a--,c--){s=he.from(r.node(a).copy(s));let h=n&&n[c];o=he.from(h?h.type.create(h.attrs,o):r.node(a).copy(o))}i.step(new en(e,e,new Le(s.append(o),t,t),!0))}function Pr(i,e){let t=i.resolve(e),n=t.index();return Fy(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(n,n+1)}function _M(i,e){e.content.size||i.type.compatibleContent(e.type);let t=i.contentMatchAt(i.childCount),{linebreakReplacement:n}=i.type.schema;for(let r=0;r<e.childCount;r++){let s=e.child(r),o=s.type==n?i.type.schema.nodes.text:s.type;if(t=t.matchType(o),!t||!i.type.allowsMarks(s.marks))return!1}return t.validEnd}function Fy(i,e){return!!(i&&e&&!i.isLeaf&&_M(i,e))}function Lc(i,e,t=-1){let n=i.resolve(e);for(let r=n.depth;;r--){let s,o,a=n.index(r);if(r==n.depth?(s=n.nodeBefore,o=n.nodeAfter):t>0?(s=n.node(r+1),a++,o=n.node(r).maybeChild(a)):(s=n.node(r).maybeChild(a-1),o=n.node(r+1)),s&&!s.isTextblock&&Fy(s,o)&&n.node(r).canReplace(a,a+1))return e;if(r==0)break;e=t<0?n.before(r):n.after(r)}}function NM(i,e,t){let n=null,{linebreakReplacement:r}=i.doc.type.schema,s=i.doc.resolve(e-t),o=s.node().type;if(r&&o.inlineContent){let h=o.whitespace=="pre",u=!!o.contentMatch.matchType(r);h&&!u?n=!1:!h&&u&&(n=!0)}let a=i.steps.length;if(n===!1){let h=i.doc.resolve(e+t);zy(i,h.node(),h.before(),a)}o.inlineContent&&hf(i,e+t-1,o,s.node().contentMatchAt(s.index()),n==null);let l=i.mapping.slice(a),c=l.map(e-t);if(i.step(new en(c,l.map(e+t,-1),Le.empty,!0)),n===!0){let h=i.doc.resolve(c);Ny(i,h.node(),h.before(),i.steps.length)}return i}function zM(i,e,t){let n=i.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),t))return e;if(n.parentOffset==0)for(let r=n.depth-1;r>=0;r--){let s=n.index(r);if(n.node(r).canReplaceWith(s,s,t))return n.before(r+1);if(s>0)return null}if(n.parentOffset==n.parent.content.size)for(let r=n.depth-1;r>=0;r--){let s=n.indexAfter(r);if(n.node(r).canReplaceWith(s,s,t))return n.after(r+1);if(s<n.node(r).childCount)return null}return null}function By(i,e,t){let n=i.resolve(e);if(!t.content.size)return e;let r=t.content;for(let s=0;s<t.openStart;s++)r=r.firstChild.content;for(let s=1;s<=(t.openStart==0&&t.size?2:1);s++)for(let o=n.depth;o>=0;o--){let a=o==n.depth?0:n.pos<=(n.start(o+1)+n.end(o+1))/2?-1:1,l=n.index(o)+(a>0?1:0),c=n.node(o),h=!1;if(s==1)h=c.canReplace(l,l,r);else{let u=c.contentMatchAt(l).findWrapping(r.firstChild.type);h=u&&c.canReplaceWith(l,l,u[0])}if(h)return a==0?n.pos:a<0?n.before(o+1):n.after(o+1)}return null}function Rc(i,e,t=e,n=Le.empty){if(e==t&&!n.size)return null;let r=i.resolve(e),s=i.resolve(t);return Hy(r,s,n)?new en(e,t,n):new FM(r,s,n).fit()}function Hy(i,e,t){return!t.openStart&&!t.openEnd&&i.start()==e.start()&&i.parent.canReplace(i.index(),e.index(),t.content)}class FM{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=he.empty;for(let r=0;r<=e.depth;r++){let s=e.node(r);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=he.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,r=this.close(e<0?this.$to:n.doc.resolve(e));if(!r)return null;let s=this.placed,o=n.depth,a=r.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new Le(s,o,a);return e>-1?new tn(n.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||n.pos!=this.$to.pos?new en(n.pos,r.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<e;n++){let s=t.firstChild;if(t.childCount>1&&(r=0),s.type.spec.isolating&&r<=n){e=n;break}t=s.content}for(let t=1;t<=2;t++)for(let n=t==1?e:this.unplaced.openStart;n>=0;n--){let r,s=null;n?(s=df(this.unplaced.content,n-1).firstChild,r=s.content):r=this.unplaced.content;let o=r.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],h,u=null;if(t==1&&(o?c.matchType(o.type)||(u=c.fillBefore(he.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:n,frontierDepth:a,parent:s,inject:u};if(t==2&&o&&(h=c.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:a,parent:s,wrap:h};if(s&&c.matchType(s.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=df(e,t);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new Le(e,t+1,Math.max(n,r.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=df(e,t);if(r.childCount<=1&&t>0){let s=e.size-t<=t+r.size;this.unplaced=new Le(Ha(e,t-1,1),t-1,s?t-1:n)}else this.unplaced=new Le(Ha(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:r,wrap:s}){for(;this.depth>t;)this.closeFrontierNode();if(s)for(let m=0;m<s.length;m++)this.openFrontierNode(s[m]);let o=this.unplaced,a=n?n.content:o.content,l=o.openStart-e,c=0,h=[],{match:u,type:d}=this.frontier[t];if(r){for(let m=0;m<r.childCount;m++)h.push(r.child(m));u=u.matchFragment(r)}let f=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let m=a.child(c),b=u.matchType(m.type);if(!b)break;c++,(c>1||l==0||m.content.size)&&(u=b,h.push(Xy(m.mark(d.allowedMarks(m.marks)),c==1?l:0,c==a.childCount?f:-1)))}let p=c==a.childCount;p||(f=-1),this.placed=Xa(this.placed,t,he.from(h)),this.frontier[t].match=u,p&&f<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,b=a;m<f;m++){let y=b.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),b=y.content}this.unplaced=p?e==0?Le.empty:new Le(Ha(o.content,e-1,1),e-1,f<0?o.openEnd:e-1):new Le(Ha(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!ff(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:r}=this.frontier[t],s=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=ff(e,t,r,n,s);if(o){for(let a=t-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],h=ff(e,a,c,l,!0);if(!h||h.childCount)continue e}return{depth:t,fit:o,move:s?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Xa(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let r=e.node(n),s=r.type.contentMatch.fillBefore(r.content,!0,e.index(n));this.openFrontierNode(r.type,r.attrs,s)}return e}openFrontierNode(e,t=null,n){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=Xa(this.placed,this.depth,he.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(he.empty,!0);t.childCount&&(this.placed=Xa(this.placed,this.frontier.length,t))}}function Ha(i,e,t){return e==0?i.cutByIndex(t,i.childCount):i.replaceChild(0,i.firstChild.copy(Ha(i.firstChild.content,e-1,t)))}function Xa(i,e,t){return e==0?i.append(t):i.replaceChild(i.childCount-1,i.lastChild.copy(Xa(i.lastChild.content,e-1,t)))}function df(i,e){for(let t=0;t<e;t++)i=i.firstChild.content;return i}function Xy(i,e,t){if(e<=0)return i;let n=i.content;return e>1&&(n=n.replaceChild(0,Xy(n.firstChild,e-1,n.childCount==1?t-1:0))),e>0&&(n=i.type.contentMatch.fillBefore(n).append(n),t<=0&&(n=n.append(i.type.contentMatch.matchFragment(n).fillBefore(he.empty,!0)))),i.copy(n)}function ff(i,e,t,n,r){let s=i.node(e),o=r?i.indexAfter(e):i.index(e);if(o==s.childCount&&!t.compatibleContent(s.type))return null;let a=n.fillBefore(s.content,!0,o);return a&&!BM(t,s.content,o)?a:null}function BM(i,e,t){for(let n=t;n<e.childCount;n++)if(!i.allowsMarks(e.child(n).marks))return!0;return!1}function HM(i){return i.spec.defining||i.spec.definingForContent}function XM(i,e,t,n){if(!n.size)return i.deleteRange(e,t);let r=i.doc.resolve(e),s=i.doc.resolve(t);if(Hy(r,s,n))return i.step(new en(e,t,n));let o=Yy(r,i.doc.resolve(t));o[o.length-1]==0&&o.pop();let a=-(r.depth+1);o.unshift(a);for(let d=r.depth,f=r.pos-1;d>0;d--,f--){let p=r.node(d).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;o.indexOf(d)>-1?a=d:r.before(d)==f&&o.splice(1,0,-d)}let l=o.indexOf(a),c=[],h=n.openStart;for(let d=n.content,f=0;;f++){let p=d.firstChild;if(c.push(p),f==n.openStart)break;d=p.content}for(let d=h-1;d>=0;d--){let f=c[d],p=HM(f.type);if(p&&!f.sameMarkup(r.node(Math.abs(a)-1)))h=d;else if(p||!f.type.isTextblock)break}for(let d=n.openStart;d>=0;d--){let f=(d+h+1)%(n.openStart+1),p=c[f];if(p)for(let m=0;m<o.length;m++){let b=o[(m+l)%o.length],y=!0;b<0&&(y=!1,b=-b);let w=r.node(b-1),C=r.index(b-1);if(w.canReplaceWith(C,C,p.type,p.marks))return i.replace(r.before(b),y?s.after(b):t,new Le(Wy(n.content,0,n.openStart,f),f,n.openEnd))}}let u=i.steps.length;for(let d=o.length-1;d>=0&&(i.replace(e,t,n),!(i.steps.length>u));d--){let f=o[d];f<0||(e=r.before(f),t=s.after(f))}}function Wy(i,e,t,n,r){if(e<t){let s=i.firstChild;i=i.replaceChild(0,s.copy(Wy(s.content,e+1,t,n,s)))}if(e>n){let s=r.contentMatchAt(0),o=s.fillBefore(i).append(i);i=o.append(s.matchFragment(o).fillBefore(he.empty,!0))}return i}function WM(i,e,t,n){if(!n.isInline&&e==t&&i.doc.resolve(e).parent.content.size){let r=zM(i.doc,e,n.type);r!=null&&(e=t=r)}i.replaceRange(e,t,new Le(he.from(n),0,0))}function YM(i,e,t){let n=i.doc.resolve(e),r=i.doc.resolve(t),s=Yy(n,r);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||n.node(a).type.contentMatch.validEnd)return i.delete(n.start(a),r.end(a));if(a>0&&(l||n.node(a-1).canReplace(n.index(a-1),r.indexAfter(a-1))))return i.delete(n.before(a),r.after(a))}for(let o=1;o<=n.depth&&o<=r.depth;o++)if(e-n.start(o)==n.depth-o&&t>n.end(o)&&r.end(o)-t!=r.depth-o&&n.start(o-1)==r.start(o-1)&&n.node(o-1).canReplace(n.index(o-1),r.index(o-1)))return i.delete(n.before(o),t);i.delete(e,t)}function Yy(i,e){let t=[],n=Math.min(i.depth,e.depth);for(let r=n;r>=0;r--){let s=i.start(r);if(s<i.pos-(i.depth-r)||e.end(r)>e.pos+(e.depth-r)||i.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(s==e.start(r)||r==i.depth&&r==e.depth&&i.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==s-1)&&t.push(r)}return t}class vo extends wn{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return qt.fail("No node at attribute step's position");let n=Object.create(null);for(let s in t.attrs)n[s]=t.attrs[s];n[this.attr]=this.value;let r=t.type.create(n,null,t.marks);return qt.fromReplace(e,this.pos,this.pos+1,new Le(he.from(r),0,t.isLeaf?0:1))}getMap(){return Zn.empty}invert(e){return new vo(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new vo(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new vo(t.pos,t.attr,t.value)}}wn.jsonID("attr",vo);class Wa extends wn{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let r in e.attrs)t[r]=e.attrs[r];t[this.attr]=this.value;let n=e.type.create(t,e.content,e.marks);return qt.ok(n)}getMap(){return Zn.empty}invert(e){return new Wa(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Wa(t.attr,t.value)}}wn.jsonID("docAttr",Wa);let wo=class extends Error{};wo=function i(e){let t=Error.call(this,e);return t.__proto__=i.prototype,t},wo.prototype=Object.create(Error.prototype),wo.prototype.constructor=wo,wo.prototype.name="TransformError";class jy{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Ba}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new wo(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=Le.empty){let r=Rc(this.doc,e,t,n);return r&&this.step(r),this}replaceWith(e,t,n){return this.replace(e,t,new Le(he.from(n),0,0))}delete(e,t){return this.replace(e,t,Le.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return XM(this,e,t,n),this}replaceRangeWith(e,t,n){return WM(this,e,t,n),this}deleteRange(e,t){return YM(this,e,t),this}lift(e,t){return TM(this,e,t),this}join(e,t=1){return NM(this,e,t),this}wrap(e,t){return IM(this,e,t),this}setBlockType(e,t=e,n,r=null){return PM(this,e,t,n,r),this}setNodeMarkup(e,t,n=null,r){return RM(this,e,t,n,r),this}setNodeAttribute(e,t,n){return this.step(new vo(e,t,n)),this}setDocAttribute(e,t){return this.step(new Wa(e,t)),this}addNodeMark(e,t){return this.step(new Ir(e,t)),this}removeNodeMark(e,t){if(!(t instanceof At)){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t=t.isInSet(n.marks),!t)return this}return this.step(new bo(e,t)),this}split(e,t=1,n){return DM(this,e,t,n),this}addMark(e,t,n){return CM(this,e,t,n),this}removeMark(e,t,n){return AM(this,e,t,n),this}clearIncompatible(e,t,n){return hf(this,e,t,n),this}}const pf=Object.create(null);class it{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new jM(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=Le.empty){let n=t.content.lastChild,r=null;for(let a=0;a<t.openEnd;a++)r=n,n=n.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],h=e.mapping.slice(s);e.replaceRange(h.map(l.pos),h.map(c.pos),a?Le.empty:t),a==0&&Gy(e,s,(n?n.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,r=this.ranges;for(let s=0;s<r.length;s++){let{$from:o,$to:a}=r[s],l=e.mapping.slice(n),c=l.map(o.pos),h=l.map(a.pos);s?e.deleteRange(c,h):(e.replaceRangeWith(c,h,t),Gy(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let r=e.parent.inlineContent?new Ve(e):ko(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(let s=e.depth-1;s>=0;s--){let o=t<0?ko(e.node(0),e.node(s),e.before(s+1),e.index(s),t,n):ko(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,t,n);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new Qn(e.node(0))}static atStart(e){return ko(e,e,0,0,1)||new Qn(e)}static atEnd(e){return ko(e,e,e.content.size,e.childCount,-1)||new Qn(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=pf[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in pf)throw new RangeError("Duplicate use of selection JSON ID "+e);return pf[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Ve.between(this.$anchor,this.$head).getBookmark()}}it.prototype.visible=!0;class jM{constructor(e,t){this.$from=e,this.$to=t}}let Vy=!1;function $y(i){!Vy&&!i.parent.inlineContent&&(Vy=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+i.parent.type.name+")"))}class Ve extends it{constructor(e,t=e){$y(e),$y(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return it.near(n);let r=e.resolve(t.map(this.anchor));return new Ve(r.parent.inlineContent?r:n,n)}replace(e,t=Le.empty){if(super.replace(e,t),t==Le.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof Ve&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Dc(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ve(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}static between(e,t,n){let r=e.pos-t.pos;if((!n||r)&&(n=r>=0?1:-1),!t.parent.inlineContent){let s=it.findFrom(t,n,!0)||it.findFrom(t,-n,!0);if(s)t=s.$head;else return it.near(t,n)}return e.parent.inlineContent||(r==0?e=t:(e=(it.findFrom(e,-n,!0)||it.findFrom(e,n,!0)).$anchor,e.pos<t.pos!=r<0&&(e=t))),new Ve(e,t)}}it.jsonID("text",Ve);class Dc{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Dc(e.map(this.anchor),e.map(this.head))}resolve(e){return Ve.between(e.resolve(this.anchor),e.resolve(this.head))}}class Xe extends it{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:r}=t.mapResult(this.anchor),s=e.resolve(r);return n?it.near(s):new Xe(s)}content(){return new Le(he.from(this.node),0,0)}eq(e){return e instanceof Xe&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new gf(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Xe(e.resolve(t.anchor))}static create(e,t){return new Xe(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Xe.prototype.visible=!1,it.jsonID("node",Xe);class gf{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new Dc(n,n):new gf(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&Xe.isSelectable(n)?new Xe(t):it.near(t)}}class Qn extends it{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=Le.empty){if(t==Le.empty){e.delete(0,e.doc.content.size);let n=it.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new Qn(e)}map(e){return new Qn(e)}eq(e){return e instanceof Qn}getBookmark(){return VM}}it.jsonID("all",Qn);const VM={map(){return this},resolve(i){return new Qn(i)}};function ko(i,e,t,n,r,s=!1){if(e.inlineContent)return Ve.create(i,t);for(let o=n-(r>0?0:1);r>0?o<e.childCount:o>=0;o+=r){let a=e.child(o);if(a.isAtom){if(!s&&Xe.isSelectable(a))return Xe.create(i,t-(r<0?a.nodeSize:0))}else{let l=ko(i,a,t+r,r<0?a.childCount:0,r,s);if(l)return l}t+=a.nodeSize*r}return null}function Gy(i,e,t){let n=i.steps.length-1;if(n<e)return;let r=i.steps[n];if(!(r instanceof en||r instanceof tn))return;let s=i.mapping.maps[n],o;s.forEach((a,l,c,h)=>{o==null&&(o=h)}),i.setSelection(it.near(i.doc.resolve(o),t))}const qy=1,Uy=2,Ky=4;class $M extends jy{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|qy)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&qy)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Uy,this}ensureMarks(e){return At.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Uy)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||At.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let r=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(n==null&&(n=t),n=n??t,!e)return this.deleteRange(t,n);let s=this.storedMarks;if(!s){let o=this.doc.resolve(t);s=n==t?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,s)),this.selection.empty||this.setSelection(it.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Ky,this}get scrolledIntoView(){return(this.updated&Ky)>0}}function Jy(i,e){return!e||!i?i:i.bind(e)}class Ya{constructor(e,t,n){this.name=e,this.init=Jy(t.init,n),this.apply=Jy(t.apply,n)}}const GM=[new Ya("doc",{init(i){return i.doc||i.schema.topNodeType.createAndFill()},apply(i){return i.doc}}),new Ya("selection",{init(i,e){return i.selection||it.atStart(e.doc)},apply(i){return i.selection}}),new Ya("storedMarks",{init(i){return i.storedMarks||null},apply(i,e,t,n){return n.selection.$cursor?i.storedMarks:null}}),new Ya("scrollToSelection",{init(){return 0},apply(i,e){return i.scrolledIntoView?e+1:e}})];class mf{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=GM.slice(),t&&t.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new Ya(n.key,n.spec.state,n))})}}class So{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),r=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=r?r[o].n:0,c=r?r[o].state:this,h=l<t.length&&a.spec.appendTransaction.call(a,l?t.slice(l):t,c,n);if(h&&n.filterTransaction(h,o)){if(h.setMeta("appendedTransaction",e),!r){r=[];for(let u=0;u<this.config.plugins.length;u++)r.push(u<o?{state:n,n:t.length}:{state:this,n:0})}t.push(h),n=n.applyInner(h),s=!0}r&&(r[o]={state:n,n:t.length})}}if(!s)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new So(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let s=n[r];t[s.name]=s.apply(e,this[s.name],this,t)}return t}get tr(){return new $M(this)}static create(e){let t=new mf(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new So(t);for(let r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n}reconfigure(e){let t=new mf(this.schema,e.plugins),n=t.fields,r=new So(t);for(let s=0;s<n.length;s++){let o=n[s].name;r[o]=this.hasOwnProperty(o)?this[o]:n[s].init(e,r)}return r}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[n],s=r.spec.state;s&&s.toJSON&&(t[n]=s.toJSON.call(r,this[r.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new mf(e.schema,e.plugins),s=new So(r);return r.fields.forEach(o=>{if(o.name=="doc")s.doc=Er.fromJSON(e.schema,t.doc);else if(o.name=="selection")s.selection=it.fromJSON(s.doc,t.selection);else if(o.name=="storedMarks")t.storedMarks&&(s.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let a in n){let l=n[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(t,a)){s[o.name]=c.fromJSON.call(l,e,t[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function Zy(i,e,t){for(let n in i){let r=i[n];r instanceof Function?r=r.bind(e):n=="handleDOMEvents"&&(r=Zy(r,e,{})),t[n]=r}return t}class pn{constructor(e){this.spec=e,this.props={},e.props&&Zy(e.props,this,this.props),this.key=e.key?e.key.key:Qy("plugin")}getState(e){return e[this.key]}}const xf=Object.create(null);function Qy(i){return i in xf?i+"$"+ ++xf[i]:(xf[i]=0,i+"$")}class ei{constructor(e="key"){this.key=Qy(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const gn=function(i){for(var e=0;;e++)if(i=i.previousSibling,!i)return e},Co=function(i){let e=i.assignedSlot||i.parentNode;return e&&e.nodeType==11?e.host:e};let bf=null;const ar=function(i,e,t){let n=bf||(bf=document.createRange());return n.setEnd(i,t??i.nodeValue.length),n.setStart(i,e||0),n},qM=function(){bf=null},Ms=function(i,e,t,n){return t&&(ev(i,e,t,n,-1)||ev(i,e,t,n,1))},UM=/^(img|br|input|textarea|hr)$/i;function ev(i,e,t,n,r){for(;;){if(i==t&&e==n)return!0;if(e==(r<0?0:hi(i))){let s=i.parentNode;if(!s||s.nodeType!=1||ja(i)||UM.test(i.nodeName)||i.contentEditable=="false")return!1;e=gn(i)+(r<0?0:1),i=s}else if(i.nodeType==1){if(i=i.childNodes[e+(r<0?-1:0)],i.contentEditable=="false")return!1;e=r<0?hi(i):0}else return!1}}function hi(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function KM(i,e){for(;;){if(i.nodeType==3&&e)return i;if(i.nodeType==1&&e>0){if(i.contentEditable=="false")return null;i=i.childNodes[e-1],e=hi(i)}else if(i.parentNode&&!ja(i))e=gn(i),i=i.parentNode;else return null}}function JM(i,e){for(;;){if(i.nodeType==3&&e<i.nodeValue.length)return i;if(i.nodeType==1&&e<i.childNodes.length){if(i.contentEditable=="false")return null;i=i.childNodes[e],e=0}else if(i.parentNode&&!ja(i))e=gn(i)+1,i=i.parentNode;else return null}}function ZM(i,e,t){for(let n=e==0,r=e==hi(i);n||r;){if(i==t)return!0;let s=gn(i);if(i=i.parentNode,!i)return!1;n=n&&s==0,r=r&&s==hi(i)}}function ja(i){let e;for(let t=i;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==i||e.contentDOM==i)}const _c=function(i){return i.focusNode&&Ms(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)};function Ts(i,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=i,t.key=t.code=e,t}function QM(i){let e=i.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function eT(i,e,t){if(i.caretPositionFromPoint)try{let n=i.caretPositionFromPoint(e,t);if(n)return{node:n.offsetNode,offset:Math.min(hi(n.offsetNode),n.offset)}}catch{}if(i.caretRangeFromPoint){let n=i.caretRangeFromPoint(e,t);if(n)return{node:n.startContainer,offset:Math.min(hi(n.startContainer),n.startOffset)}}}const Bi=typeof navigator<"u"?navigator:null,tv=typeof document<"u"?document:null,Lr=Bi&&Bi.userAgent||"",yf=/Edge\/(\d+)/.exec(Lr),nv=/MSIE \d/.exec(Lr),vf=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Lr),jn=!!(nv||vf||yf),Rr=nv?document.documentMode:vf?+vf[1]:yf?+yf[1]:0,Mi=!jn&&/gecko\/(\d+)/i.test(Lr);Mi&&+(/Firefox\/(\d+)/.exec(Lr)||[0,0])[1];const wf=!jn&&/Chrome\/(\d+)/.exec(Lr),kn=!!wf,iv=wf?+wf[1]:0,zn=!jn&&!!Bi&&/Apple Computer/.test(Bi.vendor),Ao=zn&&(/Mobile\/\w+/.test(Lr)||!!Bi&&Bi.maxTouchPoints>2),ui=Ao||(Bi?/Mac/.test(Bi.platform):!1),tT=Bi?/Win/.test(Bi.platform):!1,lr=/Android \d/.test(Lr),Va=!!tv&&"webkitFontSmoothing"in tv.documentElement.style,nT=Va?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function iT(i){let e=i.defaultView&&i.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:i.documentElement.clientWidth,top:0,bottom:i.documentElement.clientHeight}}function cr(i,e){return typeof i=="number"?i:i[e]}function rT(i){let e=i.getBoundingClientRect(),t=e.width/i.offsetWidth||1,n=e.height/i.offsetHeight||1;return{left:e.left,right:e.left+i.clientWidth*t,top:e.top,bottom:e.top+i.clientHeight*n}}function rv(i,e,t){let n=i.someProp("scrollThreshold")||0,r=i.someProp("scrollMargin")||5,s=i.dom.ownerDocument;for(let o=t||i.dom;o;){if(o.nodeType!=1){o=Co(o);continue}let a=o,l=a==s.body,c=l?iT(s):rT(a),h=0,u=0;if(e.top<c.top+cr(n,"top")?u=-(c.top-e.top+cr(r,"top")):e.bottom>c.bottom-cr(n,"bottom")&&(u=e.bottom-e.top>c.bottom-c.top?e.top+cr(r,"top")-c.top:e.bottom-c.bottom+cr(r,"bottom")),e.left<c.left+cr(n,"left")?h=-(c.left-e.left+cr(r,"left")):e.right>c.right-cr(n,"right")&&(h=e.right-c.right+cr(r,"right")),h||u)if(l)s.defaultView.scrollBy(h,u);else{let f=a.scrollLeft,p=a.scrollTop;u&&(a.scrollTop+=u),h&&(a.scrollLeft+=h);let m=a.scrollLeft-f,b=a.scrollTop-p;e={left:e.left-m,top:e.top-b,right:e.right-m,bottom:e.bottom-b}}let d=l?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(d))break;o=d=="absolute"?o.offsetParent:Co(o)}}function sT(i){let e=i.dom.getBoundingClientRect(),t=Math.max(0,e.top),n,r;for(let s=(e.left+e.right)/2,o=t+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=i.root.elementFromPoint(s,o);if(!a||a==i.dom||!i.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=t-20){n=a,r=l.top;break}}return{refDOM:n,refTop:r,stack:sv(i.dom)}}function sv(i){let e=[],t=i.ownerDocument;for(let n=i;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),i!=t);n=Co(n));return e}function oT({refDOM:i,refTop:e,stack:t}){let n=i?i.getBoundingClientRect().top:0;ov(t,n==0?0:n-e)}function ov(i,e){for(let t=0;t<i.length;t++){let{dom:n,top:r,left:s}=i[t];n.scrollTop!=r+e&&(n.scrollTop=r+e),n.scrollLeft!=s&&(n.scrollLeft=s)}}let Mo=null;function aT(i){if(i.setActive)return i.setActive();if(Mo)return i.focus(Mo);let e=sv(i);i.focus(Mo==null?{get preventScroll(){return Mo={preventScroll:!0},!0}}:void 0),Mo||(Mo=!1,ov(e,0))}function av(i,e){let t,n=2e8,r,s=0,o=e.top,a=e.top,l,c;for(let h=i.firstChild,u=0;h;h=h.nextSibling,u++){let d;if(h.nodeType==1)d=h.getClientRects();else if(h.nodeType==3)d=ar(h).getClientRects();else continue;for(let f=0;f<d.length;f++){let p=d[f];if(p.top<=o&&p.bottom>=a){o=Math.max(p.bottom,o),a=Math.min(p.top,a);let m=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(m<n){t=h,n=m,r=m&&t.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,h.nodeType==1&&m&&(s=u+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!l&&p.left<=e.left&&p.right>=e.left&&(l=h,c={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!t&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(s=u+1)}}return!t&&l&&(t=l,r=c,n=0),t&&t.nodeType==3?lT(t,r):!t||n&&t.nodeType==1?{node:i,offset:s}:av(t,r)}function lT(i,e){let t=i.nodeValue.length,n=document.createRange();for(let r=0;r<t;r++){n.setEnd(i,r+1),n.setStart(i,r);let s=Dr(n,1);if(s.top!=s.bottom&&kf(e,s))return{node:i,offset:r+(e.left>=(s.left+s.right)/2?1:0)}}return{node:i,offset:0}}function kf(i,e){return i.left>=e.left-1&&i.left<=e.right+1&&i.top>=e.top-1&&i.top<=e.bottom+1}function cT(i,e){let t=i.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<i.getBoundingClientRect().left?t:i}function hT(i,e,t){let{node:n,offset:r}=av(e,t),s=-1;if(n.nodeType==1&&!n.firstChild){let o=n.getBoundingClientRect();s=o.left!=o.right&&t.left>(o.left+o.right)/2?1:-1}return i.docView.posFromDOM(n,r,s)}function uT(i,e,t,n){let r=-1;for(let s=e,o=!1;s!=i.dom;){let a=i.docView.nearestDesc(s,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&(!o&&l.left>n.left||l.top>n.top?r=a.posBefore:(!o&&l.right<n.left||l.bottom<n.top)&&(r=a.posAfter),o=!0),!a.contentDOM&&r<0&&!a.node.isText))return(a.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;s=a.dom.parentNode}return r>-1?r:i.docView.posFromDOM(e,t,-1)}function lv(i,e,t){let n=i.childNodes.length;if(n&&t.top<t.bottom)for(let r=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-t.top)/(t.bottom-t.top))-2)),s=r;;){let o=i.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(kf(e,c))return lv(o,e,c)}}if((s=(s+1)%n)==r)break}return i}function dT(i,e){let t=i.dom.ownerDocument,n,r=0,s=eT(t,e.left,e.top);s&&({node:n,offset:r}=s);let o=(i.root.elementFromPoint?i.root:t).elementFromPoint(e.left,e.top),a;if(!o||!i.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=i.dom.getBoundingClientRect();if(!kf(e,c)||(o=lv(i.dom,e,c),!o))return null}if(zn)for(let c=o;n&&c;c=Co(c))c.draggable&&(n=void 0);if(o=cT(o,e),n){if(Mi&&n.nodeType==1&&(r=Math.min(r,n.childNodes.length),r<n.childNodes.length)){let h=n.childNodes[r],u;h.nodeName=="IMG"&&(u=h.getBoundingClientRect()).right<=e.left&&u.bottom>e.top&&r++}let c;Va&&r&&n.nodeType==1&&(c=n.childNodes[r-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&r--,n==i.dom&&r==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?a=i.state.doc.content.size:(r==0||n.nodeType!=1||n.childNodes[r-1].nodeName!="BR")&&(a=uT(i,n,r,e))}a==null&&(a=hT(i,o,e));let l=i.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function cv(i){return i.top<i.bottom||i.left<i.right}function Dr(i,e){let t=i.getClientRects();if(t.length){let n=t[e<0?0:t.length-1];if(cv(n))return n}return Array.prototype.find.call(t,cv)||i.getBoundingClientRect()}const fT=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function hv(i,e,t){let{node:n,offset:r,atom:s}=i.docView.domFromPos(e,t<0?-1:1),o=Va||Mi;if(n.nodeType==3)if(o&&(fT.test(n.nodeValue)||(t<0?!r:r==n.nodeValue.length))){let l=Dr(ar(n,r,r),t);if(Mi&&r&&/\s/.test(n.nodeValue[r-1])&&r<n.nodeValue.length){let c=Dr(ar(n,r-1,r-1),-1);if(c.top==l.top){let h=Dr(ar(n,r,r+1),-1);if(h.top!=l.top)return $a(h,h.left<c.left)}}return l}else{let l=r,c=r,h=t<0?1:-1;return t<0&&!r?(c++,h=-1):t>=0&&r==n.nodeValue.length?(l--,h=1):t<0?l--:c++,$a(Dr(ar(n,l,c),h),h<0)}if(!i.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&r&&(t<0||r==hi(n))){let l=n.childNodes[r-1];if(l.nodeType==1)return Sf(l.getBoundingClientRect(),!1)}if(s==null&&r<hi(n)){let l=n.childNodes[r];if(l.nodeType==1)return Sf(l.getBoundingClientRect(),!0)}return Sf(n.getBoundingClientRect(),t>=0)}if(s==null&&r&&(t<0||r==hi(n))){let l=n.childNodes[r-1],c=l.nodeType==3?ar(l,hi(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return $a(Dr(c,1),!1)}if(s==null&&r<hi(n)){let l=n.childNodes[r];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?ar(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return $a(Dr(c,-1),!0)}return $a(Dr(n.nodeType==3?ar(n):n,-t),t>=0)}function $a(i,e){if(i.width==0)return i;let t=e?i.left:i.right;return{top:i.top,bottom:i.bottom,left:t,right:t}}function Sf(i,e){if(i.height==0)return i;let t=e?i.top:i.bottom;return{top:t,bottom:t,left:i.left,right:i.right}}function uv(i,e,t){let n=i.state,r=i.root.activeElement;n!=e&&i.updateState(e),r!=i.dom&&i.focus();try{return t()}finally{n!=e&&i.updateState(n),r!=i.dom&&r&&r.focus()}}function pT(i,e,t){let n=e.selection,r=t=="up"?n.$from:n.$to;return uv(i,e,()=>{let{node:s}=i.docView.domFromPos(r.pos,t=="up"?-1:1);for(;;){let a=i.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=hv(i,r.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=ar(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let h=l[c];if(h.bottom>h.top+1&&(t=="up"?o.top-h.top>(h.bottom-o.top)*2:h.bottom-o.bottom>(o.bottom-h.top)*2))return!1}}return!0})}const gT=/[\u0590-\u08ac]/;function mT(i,e,t){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let r=n.parentOffset,s=!r,o=r==n.parent.content.size,a=i.domSelection();return a?!gT.test(n.parent.textContent)||!a.modify?t=="left"||t=="backward"?s:o:uv(i,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:h,anchorOffset:u}=i.domSelectionRange(),d=a.caretBidiLevel;a.modify("move",t,"character");let f=n.depth?i.docView.domAfterPos(n.before()):i.dom,{focusNode:p,focusOffset:m}=i.domSelectionRange(),b=p&&!f.contains(p.nodeType==1?p:p.parentNode)||l==p&&c==m;try{a.collapse(h,u),l&&(l!=h||c!=u)&&a.extend&&a.extend(l,c)}catch{}return d!=null&&(a.caretBidiLevel=d),b}):n.pos==n.start()||n.pos==n.end()}let dv=null,fv=null,pv=!1;function xT(i,e,t){return dv==e&&fv==t?pv:(dv=e,fv=t,pv=t=="up"||t=="down"?pT(i,e,t):mT(i,e,t))}const di=0,gv=1,Es=2,Hi=3;class Ga{constructor(e,t,n,r){this.parent=e,this.children=t,this.dom=n,this.contentDOM=r,this.dirty=di,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let r=this.children[t];if(r==e)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let s,o;if(e==this.contentDOM)s=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let r;if(e==this.dom&&this.contentDOM)r=t>gn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let s=e;;s=s.parentNode){if(s==this.dom){r=!1;break}if(s.previousSibling)break}if(r==null&&t==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){r=!0;break}if(s.nextSibling)break}}return r??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,r=e;r;r=r.parentNode){let s=this.getDesc(r),o;if(s&&(!t||s.node))if(n&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))n=!1;else return s}}getDesc(e){let t=e.pmViewDesc;for(let n=t;n;n=n.parent)if(n==this)return t}posFromDOM(e,t,n){for(let r=e;r;r=r.parentNode){let s=this.getDesc(r);if(s)return s.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let r=this.children[t],s=n+r.size;if(n==e&&s!=n){for(;!r.border&&r.children.length;)for(let o=0;o<r.children.length;o++){let a=r.children[o];if(a.size){r=a;break}}return r}if(e<s)return r.descAt(e-n-r.border);n=s}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,r=0;for(let s=0;n<this.children.length;n++){let o=this.children[n],a=s+o.size;if(a>e||o instanceof bv){r=e-s;break}s=a}if(r)return this.children[n].domFromPos(r-this.children[n].border,t);for(let s;n&&!(s=this.children[n-1]).size&&s instanceof mv&&s.side>=0;n--);if(t<=0){let s,o=!0;for(;s=n?this.children[n-1]:null,!(!s||s.dom.parentNode==this.contentDOM);n--,o=!1);return s&&t&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,t):{node:this.contentDOM,offset:s?gn(s.dom)+1:0}}else{let s,o=!0;for(;s=n<this.children.length?this.children[n]:null,!(!s||s.dom.parentNode==this.contentDOM);n++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,t):{node:this.contentDOM,offset:s?gn(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,s=-1;for(let o=n,a=0;;a++){let l=this.children[a],c=o+l.size;if(r==-1&&e<=c){let h=o+l.border;if(e>=h&&t<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,t,h);e=o;for(let u=a;u>0;u--){let d=this.children[u-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){r=gn(d.dom)+1;break}e-=d.size}r==-1&&(r=0)}if(r>-1&&(c>t||a==this.children.length-1)){t=c;for(let h=a+1;h<this.children.length;h++){let u=this.children[h];if(u.size&&u.dom.parentNode==this.contentDOM&&!u.emptyChildAt(-1)){s=gn(u.dom);break}t+=u.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(t.nodeType!=1||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,r=!1){let s=Math.min(e,t),o=Math.max(e,t);for(let f=0,p=0;f<this.children.length;f++){let m=this.children[f],b=p+m.size;if(s>p&&o<b)return m.setSelection(e-p-m.border,t-p-m.border,n,r);p=b}let a=this.domFromPos(e,e?-1:1),l=t==e?a:this.domFromPos(t,t?-1:1),c=n.root.getSelection(),h=n.domSelectionRange(),u=!1;if((Mi||zn)&&e==t){let{node:f,offset:p}=a;if(f.nodeType==3){if(u=!!(p&&f.nodeValue[p-1]==`
  `),u&&p==f.nodeValue.length)for(let m=f,b;m;m=m.parentNode){if(b=m.nextSibling){b.nodeName=="BR"&&(a=l={node:b.parentNode,offset:gn(b)+1});break}let y=m.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{let m=f.childNodes[p-1];u=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(Mi&&h.focusNode&&h.focusNode!=l.node&&h.focusNode.nodeType==1){let f=h.focusNode.childNodes[h.focusOffset];f&&f.contentEditable=="false"&&(r=!0)}if(!(r||u&&zn)&&Ms(a.node,a.offset,h.anchorNode,h.anchorOffset)&&Ms(l.node,l.offset,h.focusNode,h.focusOffset))return;let d=!1;if((c.extend||e==t)&&!u){c.collapse(a.node,a.offset);try{e!=t&&c.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(e>t){let p=a;a=l,l=p}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,r=0;r<this.children.length;r++){let s=this.children[r],o=n+s.size;if(n==o?e<=o&&t>=n:e<o&&t>n){let a=n+s.border,l=o-s.border;if(e>=a&&t<=l){this.dirty=e==n||t==o?Es:gv,e==a&&t==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Hi:s.markDirty(e-a,t-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Es:Hi}n=o}this.dirty=Es}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=e==1?Es:gv;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class mv extends Ga{constructor(e,t,n,r){let s,o=t.type.toDOM;if(typeof o=="function"&&(o=o(n,()=>{if(!s)return r;if(s.parent)return s.parent.posBeforeChild(s)})),!t.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,s=this}matchesWidget(e){return this.dirty==di&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class bT extends Ga{constructor(e,t,n,r){super(e,[],t,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Os extends Ga{constructor(e,t,n,r,s){super(e,[],n,r),this.mark=t,this.spec=s}static create(e,t,n,r){let s=r.nodeViews[t.type.name],o=s&&s(t,r,n);return(!o||!o.dom)&&(o=As.renderSpec(document,t.type.spec.toDOM(t,n),null,t.attrs)),new Os(e,t,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Hi||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Hi&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=di){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=di}}slice(e,t,n){let r=Os.create(this.parent,this.mark,!0,n),s=this.children,o=this.size;t<o&&(s=Af(s,t,o,n)),e>0&&(s=Af(s,0,e,n));for(let a=0;a<s.length;a++)s[a].parent=r;return r.children=s,r}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class _r extends Ga{constructor(e,t,n,r,s,o,a,l,c){super(e,[],s,o),this.node=t,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=a}static create(e,t,n,r,s,o){let a=s.nodeViews[t.type.name],l,c=a&&a(t,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},n,r),h=c&&c.dom,u=c&&c.contentDOM;if(t.isText){if(!h)h=document.createTextNode(t.text);else if(h.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else h||({dom:h,contentDOM:u}=As.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!u&&!t.isText&&h.nodeName!="BR"&&(h.hasAttribute("contenteditable")||(h.contentEditable="false"),t.type.spec.draggable&&(h.draggable=!0));let d=h;return h=wv(h,n,t),c?l=new yT(e,t,n,r,h,u||null,d,c,s,o+1):t.isText?new Nc(e,t,n,r,h,d,s):new _r(e,t,n,r,h,u||null,d,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>he.empty)}return e}matchesNode(e,t,n){return this.dirty==di&&e.eq(this.node)&&zc(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,r=t,s=e.composing?this.localCompositionInfo(e,t):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new wT(this,o&&o.node,e);CT(this.node,this.innerDeco,(c,h,u)=>{c.spec.marks?l.syncToMarks(c.spec.marks,n,e):c.type.side>=0&&!u&&l.syncToMarks(h==this.node.childCount?At.none:this.node.child(h).marks,n,e),l.placeWidget(c,e,r)},(c,h,u,d)=>{l.syncToMarks(c.marks,n,e);let f;l.findNodeMatch(c,h,u,d)||a&&e.state.selection.from>r&&e.state.selection.to<r+c.nodeSize&&(f=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,h,u,f,e)||l.updateNextNode(c,h,u,e,d,r)||l.addNode(c,h,u,e,r),r+=c.nodeSize}),l.syncToMarks([],n,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Es)&&(o&&this.protectLocalComposition(e,o),yv(this.contentDOM,this.children,e),Ao&&AT(this.dom))}localCompositionInfo(e,t){let{from:n,to:r}=e.state.selection;if(!(e.state.selection instanceof Ve)||n<t||r>t+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=MT(this.node.content,o,n-t,r-t);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:r}){if(this.getDesc(t))return;let s=t;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new bT(this,s,t,r);e.input.compositionNodes.push(o),this.children=Af(this.children,n,n+r.length,e,o)}update(e,t,n,r){return this.dirty==Hi||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,n,r),!0)}updateInner(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=di}updateOuterDeco(e){if(zc(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=vv(this.dom,this.nodeDOM,Cf(this.outerDeco,this.node,t),Cf(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function xv(i,e,t,n,r){wv(n,e,i);let s=new _r(void 0,i,e,t,n,n,n,r,0);return s.contentDOM&&s.updateChildren(r,0),s}class Nc extends _r{constructor(e,t,n,r,s,o,a){super(e,t,n,r,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,r){return this.dirty==Hi||this.dirty!=di&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=di||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=di,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,n){let r=this.node.cut(e,t),s=document.createTextNode(r.text);return new Nc(this.parent,r,this.outerDeco,this.innerDeco,s,s,n)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Hi)}get domAtom(){return!1}isText(e){return this.node.text==e}}class bv extends Ga{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==di&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class yT extends _r{constructor(e,t,n,r,s,o,a,l,c,h){super(e,t,n,r,s,o,a,c,h),this.spec=l}update(e,t,n,r){if(this.dirty==Hi)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,t,n);return s&&this.updateInner(e,t,n,r),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,r){this.spec.setSelection?this.spec.setSelection(e,t,n.root):super.setSelection(e,t,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function yv(i,e,t){let n=i.firstChild,r=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==i){for(;a!=n;)n=kv(n),r=!0;n=n.nextSibling}else r=!0,i.insertBefore(a,n);if(o instanceof Os){let l=n?n.previousSibling:i.lastChild;yv(o.contentDOM,o.children,t),n=l?l.nextSibling:i.firstChild}}for(;n;)n=kv(n),r=!0;r&&t.trackWrites==i&&(t.trackWrites=null)}const qa=function(i){i&&(this.nodeName=i)};qa.prototype=Object.create(null);const Is=[new qa];function Cf(i,e,t){if(i.length==0)return Is;let n=t?Is[0]:new qa,r=[n];for(let s=0;s<i.length;s++){let o=i[s].type.attrs;if(o){o.nodeName&&r.push(n=new qa(o.nodeName));for(let a in o){let l=o[a];l!=null&&(t&&r.length==1&&r.push(n=new qa(e.isInline?"span":"div")),a=="class"?n.class=(n.class?n.class+" ":"")+l:a=="style"?n.style=(n.style?n.style+";":"")+l:a!="nodeName"&&(n[a]=l))}}}return r}function vv(i,e,t,n){if(t==Is&&n==Is)return e;let r=e;for(let s=0;s<n.length;s++){let o=n[s],a=t[s];if(s){let l;a&&a.nodeName==o.nodeName&&r!=i&&(l=r.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(r),a=Is[0]),r=l}vT(r,a||Is[0],o)}return r}function vT(i,e,t){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in t)&&i.removeAttribute(n);for(let n in t)n!="class"&&n!="style"&&n!="nodeName"&&t[n]!=e[n]&&i.setAttribute(n,t[n]);if(e.class!=t.class){let n=e.class?e.class.split(" ").filter(Boolean):[],r=t.class?t.class.split(" ").filter(Boolean):[];for(let s=0;s<n.length;s++)r.indexOf(n[s])==-1&&i.classList.remove(n[s]);for(let s=0;s<r.length;s++)n.indexOf(r[s])==-1&&i.classList.add(r[s]);i.classList.length==0&&i.removeAttribute("class")}if(e.style!=t.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=n.exec(e.style);)i.style.removeProperty(r[1])}t.style&&(i.style.cssText+=t.style)}}function wv(i,e,t){return vv(i,i,Is,Cf(e,t,i.nodeType!=1))}function zc(i,e){if(i.length!=e.length)return!1;for(let t=0;t<i.length;t++)if(!i[t].type.eq(e[t].type))return!1;return!0}function kv(i){let e=i.nextSibling;return i.parentNode.removeChild(i),e}class wT{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=kT(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let r=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;r<o&&(r==s-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&e[r].type.spec.spanning!==!1;)r++;for(;r<s;)this.destroyRest(),this.top.dirty=di,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[s])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Os.create(this.top,e[s],t,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,t,n,r){let s=-1,o;if(r>=this.preMatch.index&&(o=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,n))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,t,n)&&!this.preMatch.matched.has(c)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,t,n,r,s){let o=this.top.children[r];return o.dirty==Hi&&o.dom==o.contentDOM&&(o.dirty=Es),o.update(e,t,n,s)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==n)return r}return-1}e=t}}updateNextNode(e,t,n,r,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof _r){let c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;let h=l.dom,u,d=this.isLocked(h)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Hi&&zc(t,l.outerDeco));if(!d&&l.update(e,t,n,r))return this.destroyBetween(this.index,a),l.dom!=h&&(this.changed=!0),this.index++,!0;if(!d&&(u=this.recreateWrapper(l,e,t,n,r,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=u,u.contentDOM&&(u.dirty=Es,u.updateChildren(r,o+1),u.dirty=di),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,n,r,s,o){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!zc(n,e.outerDeco)||!r.eq(e.innerDeco))return null;let a=_r.create(this.top,t,n,r,s,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,t,n,r,s){let o=_r.create(this.top,e,t,n,r,s);o.contentDOM&&o.updateChildren(r,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,t,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(e)&&(e==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let s=new mv(this.top,e,t,n);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Os;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Nc)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((zn||kn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let r=new bv(this.top,[],n,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function kT(i,e){let t=e,n=t.children.length,r=i.childCount,s=new Map,o=[];e:for(;r>0;){let a;for(;;)if(n){let c=t.children[n-1];if(c instanceof Os)t=c,n=c.children.length;else{a=c,n--;break}}else{if(t==e)break e;n=t.parent.children.indexOf(t),t=t.parent}let l=a.node;if(l){if(l!=i.child(r-1))break;--r,s.set(a,r),o.push(a)}}return{index:r,matched:s,matches:o.reverse()}}function ST(i,e){return i.type.side-e.type.side}function CT(i,e,t,n){let r=e.locals(i),s=0;if(r.length==0){for(let c=0;c<i.childCount;c++){let h=i.child(c);n(h,r,e.forChild(s,h),c),s+=h.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let h,u;for(;o<r.length&&r[o].to==s;){let b=r[o++];b.widget&&(h?(u||(u=[h])).push(b):h=b)}if(h)if(u){u.sort(ST);for(let b=0;b<u.length;b++)t(u[b],c,!!l)}else t(h,c,!!l);let d,f;if(l)f=-1,d=l,l=null;else if(c<i.childCount)f=c,d=i.child(c++);else break;for(let b=0;b<a.length;b++)a[b].to<=s&&a.splice(b--,1);for(;o<r.length&&r[o].from<=s&&r[o].to>s;)a.push(r[o++]);let p=s+d.nodeSize;if(d.isText){let b=p;o<r.length&&r[o].from<b&&(b=r[o].from);for(let y=0;y<a.length;y++)a[y].to<b&&(b=a[y].to);b<p&&(l=d.cut(b-s),d=d.cut(0,b-s),p=b,f=-1)}else for(;o<r.length&&r[o].to<p;)o++;let m=d.isInline&&!d.isLeaf?a.filter(b=>!b.inline):a.slice();n(d,m,e.forChild(s,d),f),s=p}}function AT(i){if(i.nodeName=="UL"||i.nodeName=="OL"){let e=i.style.cssText;i.style.cssText=e+"; list-style: square !important",window.getComputedStyle(i).listStyle,i.style.cssText=e}}function MT(i,e,t,n){for(let r=0,s=0;r<i.childCount&&s<=n;){let o=i.child(r++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;r<i.childCount;){let c=i.child(r++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=t){if(s>=n&&l.slice(n-e.length-a,n-a)==e)return n-e.length;let c=a<n?l.lastIndexOf(e,n-a-1):-1;if(c>=0&&c+e.length+a>=t)return a+c;if(t==n&&l.length>=n+e.length-a&&l.slice(n-a,n-a+e.length)==e)return n}}return-1}function Af(i,e,t,n,r){let s=[];for(let o=0,a=0;o<i.length;o++){let l=i[o],c=a,h=a+=l.size;c>=t||h<=e?s.push(l):(c<e&&s.push(l.slice(0,e-c,n)),r&&(s.push(r),r=void 0),h>t&&s.push(l.slice(t-c,l.size,n)))}return s}function Mf(i,e=null){let t=i.domSelectionRange(),n=i.state.doc;if(!t.focusNode)return null;let r=i.docView.nearestDesc(t.focusNode),s=r&&r.size==0,o=i.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(o<0)return null;let a=n.resolve(o),l,c;if(_c(t)){for(l=o;r&&!r.node;)r=r.parent;let u=r.node;if(r&&u.isAtom&&Xe.isSelectable(u)&&r.parent&&!(u.isInline&&ZM(t.focusNode,t.focusOffset,r.dom))){let d=r.posBefore;c=new Xe(o==d?a:n.resolve(d))}}else{if(t instanceof i.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let u=o,d=o;for(let f=0;f<t.rangeCount;f++){let p=t.getRangeAt(f);u=Math.min(u,i.docView.posFromDOM(p.startContainer,p.startOffset,1)),d=Math.max(d,i.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(u<0)return null;[l,o]=d==i.state.selection.anchor?[d,u]:[u,d],a=n.resolve(o)}else l=i.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(l<0)return null}let h=n.resolve(l);if(!c){let u=e=="pointer"||i.state.selection.head<a.pos&&!s?1:-1;c=Ef(i,h,a,u)}return c}function Sv(i){return i.editable?i.hasFocus():Iv(i)&&document.activeElement&&document.activeElement.contains(i.dom)}function hr(i,e=!1){let t=i.state.selection;if(Tv(i,t),!!Sv(i)){if(!e&&i.input.mouseDown&&i.input.mouseDown.allowDefault&&kn){let n=i.domSelectionRange(),r=i.domObserver.currentSelection;if(n.anchorNode&&r.anchorNode&&Ms(n.anchorNode,n.anchorOffset,r.anchorNode,r.anchorOffset)){i.input.mouseDown.delayedSelectionSync=!0,i.domObserver.setCurSelection();return}}if(i.domObserver.disconnectSelection(),i.cursorWrapper)ET(i);else{let{anchor:n,head:r}=t,s,o;Cv&&!(t instanceof Ve)&&(t.$from.parent.inlineContent||(s=Av(i,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(o=Av(i,t.to))),i.docView.setSelection(n,r,i,e),Cv&&(s&&Mv(s),o&&Mv(o)),t.visible?i.dom.classList.remove("ProseMirror-hideselection"):(i.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&TT(i))}i.domObserver.setCurSelection(),i.domObserver.connectSelection()}}const Cv=zn||kn&&iv<63;function Av(i,e){let{node:t,offset:n}=i.docView.domFromPos(e,0),r=n<t.childNodes.length?t.childNodes[n]:null,s=n?t.childNodes[n-1]:null;if(zn&&r&&r.contentEditable=="false")return Tf(r);if((!r||r.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(r)return Tf(r);if(s)return Tf(s)}}function Tf(i){return i.contentEditable="true",zn&&i.draggable&&(i.draggable=!1,i.wasDraggable=!0),i}function Mv(i){i.contentEditable="false",i.wasDraggable&&(i.draggable=!0,i.wasDraggable=null)}function TT(i){let e=i.dom.ownerDocument;e.removeEventListener("selectionchange",i.input.hideSelectionGuard);let t=i.domSelectionRange(),n=t.anchorNode,r=t.anchorOffset;e.addEventListener("selectionchange",i.input.hideSelectionGuard=()=>{(t.anchorNode!=n||t.anchorOffset!=r)&&(e.removeEventListener("selectionchange",i.input.hideSelectionGuard),setTimeout(()=>{(!Sv(i)||i.state.selection.visible)&&i.dom.classList.remove("ProseMirror-hideselection")},20))})}function ET(i){let e=i.domSelection(),t=document.createRange();if(!e)return;let n=i.cursorWrapper.dom,r=n.nodeName=="IMG";r?t.setStart(n.parentNode,gn(n)+1):t.setStart(n,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!r&&!i.state.selection.visible&&jn&&Rr<=11&&(n.disabled=!0,n.disabled=!1)}function Tv(i,e){if(e instanceof Xe){let t=i.docView.descAt(e.from);t!=i.lastSelectedViewDesc&&(Ev(i),t&&t.selectNode(),i.lastSelectedViewDesc=t)}else Ev(i)}function Ev(i){i.lastSelectedViewDesc&&(i.lastSelectedViewDesc.parent&&i.lastSelectedViewDesc.deselectNode(),i.lastSelectedViewDesc=void 0)}function Ef(i,e,t,n){return i.someProp("createSelectionBetween",r=>r(i,e,t))||Ve.between(e,t,n)}function Ov(i){return i.editable&&!i.hasFocus()?!1:Iv(i)}function Iv(i){let e=i.domSelectionRange();if(!e.anchorNode)return!1;try{return i.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(i.editable||i.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function OT(i){let e=i.docView.domFromPos(i.state.selection.anchor,0),t=i.domSelectionRange();return Ms(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Of(i,e){let{$anchor:t,$head:n}=i.selection,r=e>0?t.max(n):t.min(n),s=r.parent.inlineContent?r.depth?i.doc.resolve(e>0?r.after():r.before()):null:r;return s&&it.findFrom(s,e)}function Nr(i,e){return i.dispatch(i.state.tr.setSelection(e).scrollIntoView()),!0}function Pv(i,e,t){let n=i.state.selection;if(n instanceof Ve)if(t.indexOf("s")>-1){let{$head:r}=n,s=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=i.state.doc.resolve(r.pos+s.nodeSize*(e<0?-1:1));return Nr(i,new Ve(n.$anchor,o))}else if(n.empty){if(i.endOfTextblock(e>0?"forward":"backward")){let r=Of(i.state,e);return r&&r instanceof Xe?Nr(i,r):!1}else if(!(ui&&t.indexOf("m")>-1)){let r=n.$head,s=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?r.pos-s.nodeSize:r.pos;return s.isAtom||(o=i.docView.descAt(a))&&!o.contentDOM?Xe.isSelectable(s)?Nr(i,new Xe(e<0?i.state.doc.resolve(r.pos-s.nodeSize):r)):Va?Nr(i,new Ve(i.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(n instanceof Xe&&n.node.isInline)return Nr(i,new Ve(e>0?n.$to:n.$from));{let r=Of(i.state,e);return r?Nr(i,r):!1}}}function Fc(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function Ua(i,e){let t=i.pmViewDesc;return t&&t.size==0&&(e<0||i.nextSibling||i.nodeName!="BR")}function To(i,e){return e<0?IT(i):PT(i)}function IT(i){let e=i.domSelectionRange(),t=e.focusNode,n=e.focusOffset;if(!t)return;let r,s,o=!1;for(Mi&&t.nodeType==1&&n<Fc(t)&&Ua(t.childNodes[n],-1)&&(o=!0);;)if(n>0){if(t.nodeType!=1)break;{let a=t.childNodes[n-1];if(Ua(a,-1))r=t,s=--n;else if(a.nodeType==3)t=a,n=t.nodeValue.length;else break}}else{if(Lv(t))break;{let a=t.previousSibling;for(;a&&Ua(a,-1);)r=t.parentNode,s=gn(a),a=a.previousSibling;if(a)t=a,n=Fc(t);else{if(t=t.parentNode,t==i.dom)break;n=0}}}o?If(i,t,n):r&&If(i,r,s)}function PT(i){let e=i.domSelectionRange(),t=e.focusNode,n=e.focusOffset;if(!t)return;let r=Fc(t),s,o;for(;;)if(n<r){if(t.nodeType!=1)break;let a=t.childNodes[n];if(Ua(a,1))s=t,o=++n;else break}else{if(Lv(t))break;{let a=t.nextSibling;for(;a&&Ua(a,1);)s=a.parentNode,o=gn(a)+1,a=a.nextSibling;if(a)t=a,n=0,r=Fc(t);else{if(t=t.parentNode,t==i.dom)break;n=r=0}}}s&&If(i,s,o)}function Lv(i){let e=i.pmViewDesc;return e&&e.node&&e.node.isBlock}function LT(i,e){for(;i&&e==i.childNodes.length&&!ja(i);)e=gn(i)+1,i=i.parentNode;for(;i&&e<i.childNodes.length;){let t=i.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;i=t,e=0}}function RT(i,e){for(;i&&!e&&!ja(i);)e=gn(i),i=i.parentNode;for(;i&&e;){let t=i.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;i=t,e=i.childNodes.length}}function If(i,e,t){if(e.nodeType!=3){let s,o;(o=LT(e,t))?(e=o,t=0):(s=RT(e,t))&&(e=s,t=s.nodeValue.length)}let n=i.domSelection();if(!n)return;if(_c(n)){let s=document.createRange();s.setEnd(e,t),s.setStart(e,t),n.removeAllRanges(),n.addRange(s)}else n.extend&&n.extend(e,t);i.domObserver.setCurSelection();let{state:r}=i;setTimeout(()=>{i.state==r&&hr(i)},50)}function Rv(i,e){let t=i.state.doc.resolve(e);if(!(kn||tT)&&t.parent.inlineContent){let r=i.coordsAtPos(e);if(e>t.start()){let s=i.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(s.left-r.left)>1)return s.left<r.left?"ltr":"rtl"}if(e<t.end()){let s=i.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(s.left-r.left)>1)return s.left>r.left?"ltr":"rtl"}}return getComputedStyle(i.dom).direction=="rtl"?"rtl":"ltr"}function Dv(i,e,t){let n=i.state.selection;if(n instanceof Ve&&!n.empty||t.indexOf("s")>-1||ui&&t.indexOf("m")>-1)return!1;let{$from:r,$to:s}=n;if(!r.parent.inlineContent||i.endOfTextblock(e<0?"up":"down")){let o=Of(i.state,e);if(o&&o instanceof Xe)return Nr(i,o)}if(!r.parent.inlineContent){let o=e<0?r:s,a=n instanceof Qn?it.near(o,e):it.findFrom(o,e);return a?Nr(i,a):!1}return!1}function _v(i,e){if(!(i.state.selection instanceof Ve))return!0;let{$head:t,$anchor:n,empty:r}=i.state.selection;if(!t.sameParent(n))return!0;if(!r)return!1;if(i.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(s&&!s.isText){let o=i.state.tr;return e<0?o.delete(t.pos-s.nodeSize,t.pos):o.delete(t.pos,t.pos+s.nodeSize),i.dispatch(o),!0}return!1}function Nv(i,e,t){i.domObserver.stop(),e.contentEditable=t,i.domObserver.start()}function DT(i){if(!zn||i.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=i.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;Nv(i,n,"true"),setTimeout(()=>Nv(i,n,"false"),20)}return!1}function _T(i){let e="";return i.ctrlKey&&(e+="c"),i.metaKey&&(e+="m"),i.altKey&&(e+="a"),i.shiftKey&&(e+="s"),e}function NT(i,e){let t=e.keyCode,n=_T(e);if(t==8||ui&&t==72&&n=="c")return _v(i,-1)||To(i,-1);if(t==46&&!e.shiftKey||ui&&t==68&&n=="c")return _v(i,1)||To(i,1);if(t==13||t==27)return!0;if(t==37||ui&&t==66&&n=="c"){let r=t==37?Rv(i,i.state.selection.from)=="ltr"?-1:1:-1;return Pv(i,r,n)||To(i,r)}else if(t==39||ui&&t==70&&n=="c"){let r=t==39?Rv(i,i.state.selection.from)=="ltr"?1:-1:1;return Pv(i,r,n)||To(i,r)}else{if(t==38||ui&&t==80&&n=="c")return Dv(i,-1,n)||To(i,-1);if(t==40||ui&&t==78&&n=="c")return DT(i)||Dv(i,1,n)||To(i,1);if(n==(ui?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function Pf(i,e){i.someProp("transformCopied",f=>{e=f(e,i)});let t=[],{content:n,openStart:r,openEnd:s}=e;for(;r>1&&s>1&&n.childCount==1&&n.firstChild.childCount==1;){r--,s--;let f=n.firstChild;t.push(f.type.name,f.attrs!=f.type.defaultAttrs?f.attrs:null),n=f.content}let o=i.someProp("clipboardSerializer")||As.fromSchema(i.state.schema),a=jv(),l=a.createElement("div");l.appendChild(o.serializeFragment(n,{document:a}));let c=l.firstChild,h,u=0;for(;c&&c.nodeType==1&&(h=Wv[c.nodeName.toLowerCase()]);){for(let f=h.length-1;f>=0;f--){let p=a.createElement(h[f]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),u++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${r} ${s}${u?` -${u}`:""} ${JSON.stringify(t)}`);let d=i.someProp("clipboardTextSerializer",f=>f(e,i))||e.content.textBetween(0,e.content.size,`
  
  `);return{dom:l,text:d,slice:e}}function zv(i,e,t,n,r){let s=r.parent.type.spec.code,o,a;if(!t&&!e)return null;let l=e&&(n||s||!t);if(l){if(i.someProp("transformPastedText",d=>{e=d(e,s||n,i)}),s)return e?new Le(he.from(i.state.schema.text(e.replace(/\r\n?/g,`
  `))),0,0):Le.empty;let u=i.someProp("clipboardTextParser",d=>d(e,r,n,i));if(u)a=u;else{let d=r.marks(),{schema:f}=i.state,p=As.fromSchema(f);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let b=o.appendChild(document.createElement("p"));m&&b.appendChild(p.serializeNode(f.text(m,d)))})}}else i.someProp("transformPastedHTML",u=>{t=u(t,i)}),o=HT(t),Va&&XT(o);let c=o&&o.querySelector("[data-pm-slice]"),h=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(h&&h[3])for(let u=+h[3];u>0;u--){let d=o.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;o=d}if(a||(a=(i.someProp("clipboardParser")||i.someProp("domParser")||za.fromSchema(i.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||h),context:r,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!zT.test(d.parentNode.nodeName)?{ignore:!0}:null}})),h)a=WT(Xv(a,+h[1],+h[2]),h[4]);else if(a=Le.maxOpen(FT(a.content,r),!0),a.openStart||a.openEnd){let u=0,d=0;for(let f=a.content.firstChild;u<a.openStart&&!f.type.spec.isolating;u++,f=f.firstChild);for(let f=a.content.lastChild;d<a.openEnd&&!f.type.spec.isolating;d++,f=f.lastChild);a=Xv(a,u,d)}return i.someProp("transformPasted",u=>{a=u(a,i)}),a}const zT=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function FT(i,e){if(i.childCount<2)return i;for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.index(t)),s,o=[];if(i.forEach(a=>{if(!o)return;let l=r.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&s.length&&Bv(l,s,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=Hv(o[o.length-1],s.length));let h=Fv(a,l);o.push(h),r=r.matchType(h.type),s=l}}),o)return he.from(o)}return i}function Fv(i,e,t=0){for(let n=e.length-1;n>=t;n--)i=e[n].create(null,he.from(i));return i}function Bv(i,e,t,n,r){if(r<i.length&&r<e.length&&i[r]==e[r]){let s=Bv(i,e,t,n.lastChild,r+1);if(s)return n.copy(n.content.replaceChild(n.childCount-1,s));if(n.contentMatchAt(n.childCount).matchType(r==i.length-1?t.type:i[r+1]))return n.copy(n.content.append(he.from(Fv(t,i,r+1))))}}function Hv(i,e){if(e==0)return i;let t=i.content.replaceChild(i.childCount-1,Hv(i.lastChild,e-1)),n=i.contentMatchAt(i.childCount).fillBefore(he.empty,!0);return i.copy(t.append(n))}function Lf(i,e,t,n,r,s){let o=e<0?i.firstChild:i.lastChild,a=o.content;return i.childCount>1&&(s=0),r<n-1&&(a=Lf(a,e,t,n,r+1,s)),r>=t&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=r).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(he.empty,!0))),i.replaceChild(e<0?0:i.childCount-1,o.copy(a))}function Xv(i,e,t){return e<i.openStart&&(i=new Le(Lf(i.content,-1,e,i.openStart,0,i.openEnd),e,i.openEnd)),t<i.openEnd&&(i=new Le(Lf(i.content,1,t,i.openEnd,0,0),i.openStart,t)),i}const Wv={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Yv=null;function jv(){return Yv||(Yv=document.implementation.createHTMLDocument("title"))}let Rf=null;function BT(i){let e=window.trustedTypes;return e?(Rf||(Rf=e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),Rf.createHTML(i)):i}function HT(i){let e=/^(\s*<meta [^>]*>)*/.exec(i);e&&(i=i.slice(e[0].length));let t=jv().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(i),r;if((r=n&&Wv[n[1].toLowerCase()])&&(i=r.map(s=>"<"+s+">").join("")+i+r.map(s=>"</"+s+">").reverse().join("")),t.innerHTML=BT(i),r)for(let s=0;s<r.length;s++)t=t.querySelector(r[s])||t;return t}function XT(i){let e=i.querySelectorAll(kn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let n=e[t];n.childNodes.length==1&&n.textContent==" "&&n.parentNode&&n.parentNode.replaceChild(i.ownerDocument.createTextNode(" "),n)}}function WT(i,e){if(!i.size)return i;let t=i.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return i}let{content:r,openStart:s,openEnd:o}=i;for(let a=n.length-2;a>=0;a-=2){let l=t.nodes[n[a]];if(!l||l.hasRequiredAttrs())break;r=he.from(l.create(n[a+1],r)),s++,o++}return new Le(r,s,o)}const Fn={},Bn={},YT={touchstart:!0,touchmove:!0};class jT{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function VT(i){for(let e in Fn){let t=Fn[e];i.dom.addEventListener(e,i.input.eventHandlers[e]=n=>{GT(i,n)&&!_f(i,n)&&(i.editable||!(n.type in Bn))&&t(i,n)},YT[e]?{passive:!0}:void 0)}zn&&i.dom.addEventListener("input",()=>null),Df(i)}function zr(i,e){i.input.lastSelectionOrigin=e,i.input.lastSelectionTime=Date.now()}function $T(i){i.domObserver.stop();for(let e in i.input.eventHandlers)i.dom.removeEventListener(e,i.input.eventHandlers[e]);clearTimeout(i.input.composingTimeout),clearTimeout(i.input.lastIOSEnterFallbackTimeout)}function Df(i){i.someProp("handleDOMEvents",e=>{for(let t in e)i.input.eventHandlers[t]||i.dom.addEventListener(t,i.input.eventHandlers[t]=n=>_f(i,n))})}function _f(i,e){return i.someProp("handleDOMEvents",t=>{let n=t[e.type];return n?n(i,e)||e.defaultPrevented:!1})}function GT(i,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=i.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function qT(i,e){!_f(i,e)&&Fn[e.type]&&(i.editable||!(e.type in Bn))&&Fn[e.type](i,e)}Bn.keydown=(i,e)=>{let t=e;if(i.input.shiftKey=t.keyCode==16||t.shiftKey,!$v(i,t)&&(i.input.lastKeyCode=t.keyCode,i.input.lastKeyCodeTime=Date.now(),!(lr&&kn&&t.keyCode==13)))if(t.keyCode!=229&&i.domObserver.forceFlush(),Ao&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let n=Date.now();i.input.lastIOSEnter=n,i.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{i.input.lastIOSEnter==n&&(i.someProp("handleKeyDown",r=>r(i,Ts(13,"Enter"))),i.input.lastIOSEnter=0)},200)}else i.someProp("handleKeyDown",n=>n(i,t))||NT(i,t)?t.preventDefault():zr(i,"key")},Bn.keyup=(i,e)=>{e.keyCode==16&&(i.input.shiftKey=!1)},Bn.keypress=(i,e)=>{let t=e;if($v(i,t)||!t.charCode||t.ctrlKey&&!t.altKey||ui&&t.metaKey)return;if(i.someProp("handleKeyPress",r=>r(i,t))){t.preventDefault();return}let n=i.state.selection;if(!(n instanceof Ve)||!n.$from.sameParent(n.$to)){let r=String.fromCharCode(t.charCode);!/[\r\n]/.test(r)&&!i.someProp("handleTextInput",s=>s(i,n.$from.pos,n.$to.pos,r))&&i.dispatch(i.state.tr.insertText(r).scrollIntoView()),t.preventDefault()}};function Bc(i){return{left:i.clientX,top:i.clientY}}function UT(i,e){let t=e.x-i.clientX,n=e.y-i.clientY;return t*t+n*n<100}function Nf(i,e,t,n,r){if(n==-1)return!1;let s=i.state.doc.resolve(n);for(let o=s.depth+1;o>0;o--)if(i.someProp(e,a=>o>s.depth?a(i,t,s.nodeAfter,s.before(o),r,!0):a(i,t,s.node(o),s.before(o),r,!1)))return!0;return!1}function Eo(i,e,t){if(i.focused||i.focus(),i.state.selection.eq(e))return;let n=i.state.tr.setSelection(e);n.setMeta("pointer",!0),i.dispatch(n)}function KT(i,e){if(e==-1)return!1;let t=i.state.doc.resolve(e),n=t.nodeAfter;return n&&n.isAtom&&Xe.isSelectable(n)?(Eo(i,new Xe(t)),!0):!1}function JT(i,e){if(e==-1)return!1;let t=i.state.selection,n,r;t instanceof Xe&&(n=t.node);let s=i.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(Xe.isSelectable(a)){n&&t.$from.depth>0&&o>=t.$from.depth&&s.before(t.$from.depth+1)==t.$from.pos?r=s.before(t.$from.depth):r=s.before(o);break}}return r!=null?(Eo(i,Xe.create(i.state.doc,r)),!0):!1}function ZT(i,e,t,n,r){return Nf(i,"handleClickOn",e,t,n)||i.someProp("handleClick",s=>s(i,e,n))||(r?JT(i,t):KT(i,t))}function QT(i,e,t,n){return Nf(i,"handleDoubleClickOn",e,t,n)||i.someProp("handleDoubleClick",r=>r(i,e,n))}function eE(i,e,t,n){return Nf(i,"handleTripleClickOn",e,t,n)||i.someProp("handleTripleClick",r=>r(i,e,n))||tE(i,t,n)}function tE(i,e,t){if(t.button!=0)return!1;let n=i.state.doc;if(e==-1)return n.inlineContent?(Eo(i,Ve.create(n,0,n.content.size)),!0):!1;let r=n.resolve(e);for(let s=r.depth+1;s>0;s--){let o=s>r.depth?r.nodeAfter:r.node(s),a=r.before(s);if(o.inlineContent)Eo(i,Ve.create(n,a+1,a+1+o.content.size));else if(Xe.isSelectable(o))Eo(i,Xe.create(n,a));else continue;return!0}}function zf(i){return Hc(i)}const Vv=ui?"metaKey":"ctrlKey";Fn.mousedown=(i,e)=>{let t=e;i.input.shiftKey=t.shiftKey;let n=zf(i),r=Date.now(),s="singleClick";r-i.input.lastClick.time<500&&UT(t,i.input.lastClick)&&!t[Vv]&&(i.input.lastClick.type=="singleClick"?s="doubleClick":i.input.lastClick.type=="doubleClick"&&(s="tripleClick")),i.input.lastClick={time:r,x:t.clientX,y:t.clientY,type:s};let o=i.posAtCoords(Bc(t));o&&(s=="singleClick"?(i.input.mouseDown&&i.input.mouseDown.done(),i.input.mouseDown=new nE(i,o,t,!!n)):(s=="doubleClick"?QT:eE)(i,o.pos,o.inside,t)?t.preventDefault():zr(i,"pointer"))};class nE{constructor(e,t,n,r){this.view=e,this.pos=t,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[Vv],this.allowDefault=n.shiftKey;let s,o;if(t.inside>-1)s=e.state.doc.nodeAt(t.inside),o=t.inside;else{let h=e.state.doc.resolve(t.pos);s=h.parent,o=h.depth?h.before():0}const a=r?null:n.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(n.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof Xe&&c.from<=o&&c.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Mi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),zr(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>hr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Bc(e))),this.updateAllowDefault(e),this.allowDefault||!t?zr(this.view,"pointer"):ZT(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||zn&&this.mightDrag&&!this.mightDrag.node.isAtom||kn&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Eo(this.view,it.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):zr(this.view,"pointer")}move(e){this.updateAllowDefault(e),zr(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Fn.touchstart=i=>{i.input.lastTouch=Date.now(),zf(i),zr(i,"pointer")},Fn.touchmove=i=>{i.input.lastTouch=Date.now(),zr(i,"pointer")},Fn.contextmenu=i=>zf(i);function $v(i,e){return i.composing?!0:zn&&Math.abs(e.timeStamp-i.input.compositionEndedAt)<500?(i.input.compositionEndedAt=-2e8,!0):!1}const iE=lr?5e3:-1;Bn.compositionstart=Bn.compositionupdate=i=>{if(!i.composing){i.domObserver.flush();let{state:e}=i,t=e.selection.$to;if(e.selection instanceof Ve&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))i.markCursor=i.state.storedMarks||t.marks(),Hc(i,!0),i.markCursor=null;else if(Hc(i,!e.selection.empty),Mi&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let n=i.domSelectionRange();for(let r=n.focusNode,s=n.focusOffset;r&&r.nodeType==1&&s!=0;){let o=s<0?r.lastChild:r.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=i.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else r=o,s=-1}}i.input.composing=!0}Gv(i,iE)},Bn.compositionend=(i,e)=>{i.composing&&(i.input.composing=!1,i.input.compositionEndedAt=e.timeStamp,i.input.compositionPendingChanges=i.domObserver.pendingRecords().length?i.input.compositionID:0,i.input.compositionNode=null,i.input.compositionPendingChanges&&Promise.resolve().then(()=>i.domObserver.flush()),i.input.compositionID++,Gv(i,20))};function Gv(i,e){clearTimeout(i.input.composingTimeout),e>-1&&(i.input.composingTimeout=setTimeout(()=>Hc(i),e))}function qv(i){for(i.composing&&(i.input.composing=!1,i.input.compositionEndedAt=sE());i.input.compositionNodes.length>0;)i.input.compositionNodes.pop().markParentsDirty()}function rE(i){let e=i.domSelectionRange();if(!e.focusNode)return null;let t=KM(e.focusNode,e.focusOffset),n=JM(e.focusNode,e.focusOffset);if(t&&n&&t!=n){let r=n.pmViewDesc,s=i.domObserver.lastChangedTextNode;if(t==s||n==s)return s;if(!r||!r.isText(n.nodeValue))return n;if(i.input.compositionNode==n){let o=t.pmViewDesc;if(!(!o||!o.isText(t.nodeValue)))return n}}return t||n}function sE(){let i=document.createEvent("Event");return i.initEvent("event",!0,!0),i.timeStamp}function Hc(i,e=!1){if(!(lr&&i.domObserver.flushingSoon>=0)){if(i.domObserver.forceFlush(),qv(i),e||i.docView&&i.docView.dirty){let t=Mf(i);return t&&!t.eq(i.state.selection)?i.dispatch(i.state.tr.setSelection(t)):(i.markCursor||e)&&!i.state.selection.empty?i.dispatch(i.state.tr.deleteSelection()):i.updateState(i.state),!0}return!1}}function oE(i,e){if(!i.dom.parentNode)return;let t=i.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),r=document.createRange();r.selectNodeContents(e),i.dom.blur(),n.removeAllRanges(),n.addRange(r),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),i.focus()},50)}const Ka=jn&&Rr<15||Ao&&nT<604;Fn.copy=Bn.cut=(i,e)=>{let t=e,n=i.state.selection,r=t.type=="cut";if(n.empty)return;let s=Ka?null:t.clipboardData,o=n.content(),{dom:a,text:l}=Pf(i,o);s?(t.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):oE(i,a),r&&i.dispatch(i.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function aE(i){return i.openStart==0&&i.openEnd==0&&i.content.childCount==1?i.content.firstChild:null}function lE(i,e){if(!i.dom.parentNode)return;let t=i.input.shiftKey||i.state.selection.$from.parent.type.spec.code,n=i.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let r=i.input.shiftKey&&i.input.lastKeyCode!=45;setTimeout(()=>{i.focus(),n.parentNode&&n.parentNode.removeChild(n),t?Ja(i,n.value,null,r,e):Ja(i,n.textContent,n.innerHTML,r,e)},50)}function Ja(i,e,t,n,r){let s=zv(i,e,t,n,i.state.selection.$from);if(i.someProp("handlePaste",l=>l(i,r,s||Le.empty)))return!0;if(!s)return!1;let o=aE(s),a=o?i.state.tr.replaceSelectionWith(o,n):i.state.tr.replaceSelection(s);return i.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Uv(i){let e=i.getData("text/plain")||i.getData("Text");if(e)return e;let t=i.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}Bn.paste=(i,e)=>{let t=e;if(i.composing&&!lr)return;let n=Ka?null:t.clipboardData,r=i.input.shiftKey&&i.input.lastKeyCode!=45;n&&Ja(i,Uv(n),n.getData("text/html"),r,t)?t.preventDefault():lE(i,t)};class Kv{constructor(e,t,n){this.slice=e,this.move=t,this.node=n}}const cE=ui?"altKey":"ctrlKey";function Jv(i,e){let t=i.someProp("dragCopies",n=>!n(e));return t??!e[cE]}Fn.dragstart=(i,e)=>{let t=e,n=i.input.mouseDown;if(n&&n.done(),!t.dataTransfer)return;let r=i.state.selection,s=r.empty?null:i.posAtCoords(Bc(t)),o;if(!(s&&s.pos>=r.from&&s.pos<=(r instanceof Xe?r.to-1:r.to))){if(n&&n.mightDrag)o=Xe.create(i.state.doc,n.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let u=i.docView.nearestDesc(t.target,!0);u&&u.node.type.spec.draggable&&u!=i.docView&&(o=Xe.create(i.state.doc,u.posBefore))}}let a=(o||i.state.selection).content(),{dom:l,text:c,slice:h}=Pf(i,a);(!t.dataTransfer.files.length||!kn||iv>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(Ka?"Text":"text/html",l.innerHTML),t.dataTransfer.effectAllowed="copyMove",Ka||t.dataTransfer.setData("text/plain",c),i.dragging=new Kv(h,Jv(i,t),o)},Fn.dragend=i=>{let e=i.dragging;window.setTimeout(()=>{i.dragging==e&&(i.dragging=null)},50)},Bn.dragover=Bn.dragenter=(i,e)=>e.preventDefault(),Bn.drop=(i,e)=>{let t=e,n=i.dragging;if(i.dragging=null,!t.dataTransfer)return;let r=i.posAtCoords(Bc(t));if(!r)return;let s=i.state.doc.resolve(r.pos),o=n&&n.slice;o?i.someProp("transformPasted",p=>{o=p(o,i)}):o=zv(i,Uv(t.dataTransfer),Ka?null:t.dataTransfer.getData("text/html"),!1,s);let a=!!(n&&Jv(i,t));if(i.someProp("handleDrop",p=>p(i,t,o||Le.empty,a))){t.preventDefault();return}if(!o)return;t.preventDefault();let l=o?By(i.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let c=i.state.tr;if(a){let{node:p}=n;p?p.replace(c):c.deleteSelection()}let h=c.mapping.map(l),u=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,d=c.doc;if(u?c.replaceRangeWith(h,h,o.content.firstChild):c.replaceRange(h,h,o),c.doc.eq(d))return;let f=c.doc.resolve(h);if(u&&Xe.isSelectable(o.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new Xe(f));else{let p=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((m,b,y,w)=>p=w),c.setSelection(Ef(i,f,c.doc.resolve(p)))}i.focus(),i.dispatch(c.setMeta("uiEvent","drop"))},Fn.focus=i=>{i.input.lastFocus=Date.now(),i.focused||(i.domObserver.stop(),i.dom.classList.add("ProseMirror-focused"),i.domObserver.start(),i.focused=!0,setTimeout(()=>{i.docView&&i.hasFocus()&&!i.domObserver.currentSelection.eq(i.domSelectionRange())&&hr(i)},20))},Fn.blur=(i,e)=>{let t=e;i.focused&&(i.domObserver.stop(),i.dom.classList.remove("ProseMirror-focused"),i.domObserver.start(),t.relatedTarget&&i.dom.contains(t.relatedTarget)&&i.domObserver.currentSelection.clear(),i.focused=!1)},Fn.beforeinput=(i,e)=>{if(kn&&lr&&e.inputType=="deleteContentBackward"){i.domObserver.flushSoon();let{domChangeCount:n}=i.input;setTimeout(()=>{if(i.input.domChangeCount!=n||(i.dom.blur(),i.focus(),i.someProp("handleKeyDown",s=>s(i,Ts(8,"Backspace")))))return;let{$cursor:r}=i.state.selection;r&&r.pos>0&&i.dispatch(i.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let i in Bn)Fn[i]=Bn[i];function Za(i,e){if(i==e)return!0;for(let t in i)if(i[t]!==e[t])return!1;for(let t in e)if(!(t in i))return!1;return!0}class Xc{constructor(e,t){this.toDOM=e,this.spec=t||Ps,this.side=this.spec.side||0}map(e,t,n,r){let{pos:s,deleted:o}=e.mapResult(t.from+r,this.side<0?-1:1);return o?null:new fi(s-n,s-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Xc&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Za(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Fr{constructor(e,t){this.attrs=e,this.spec=t||Ps}map(e,t,n,r){let s=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,o=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return s>=o?null:new fi(s,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Fr&&Za(this.attrs,e.attrs)&&Za(this.spec,e.spec)}static is(e){return e.type instanceof Fr}destroy(){}}class Ff{constructor(e,t){this.attrs=e,this.spec=t||Ps}map(e,t,n,r){let s=e.mapResult(t.from+r,1);if(s.deleted)return null;let o=e.mapResult(t.to+r,-1);return o.deleted||o.pos<=s.pos?null:new fi(s.pos-n,o.pos-n,this)}valid(e,t){let{index:n,offset:r}=e.content.findIndex(t.from),s;return r==t.from&&!(s=e.child(n)).isText&&r+s.nodeSize==t.to}eq(e){return this==e||e instanceof Ff&&Za(this.attrs,e.attrs)&&Za(this.spec,e.spec)}destroy(){}}class fi{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new fi(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new fi(e,e,new Xc(t,n))}static inline(e,t,n,r){return new fi(e,t,new Fr(n,r))}static node(e,t,n,r){return new fi(e,t,new Ff(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Fr}get widget(){return this.type instanceof Xc}}const Oo=[],Ps={};class Kt{constructor(e,t){this.local=e.length?e:Oo,this.children=t.length?t:Oo}static create(e,t){return t.length?Wc(t,e,0,Ps):Sn}find(e,t,n){let r=[];return this.findInner(e??0,t??1e9,r,0,n),r}findInner(e,t,n,r,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=t&&a.to>=e&&(!s||s(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,t-a,n,r+a,s)}}map(e,t,n){return this==Sn||e.maps.length==0?this:this.mapInner(e,t,0,0,n||Ps)}mapInner(e,t,n,r,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,n,r);l&&l.type.valid(t,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?hE(this.children,o||[],e,t,n,r,s):o?new Kt(o.sort(Ls),Oo):Sn}add(e,t){return t.length?this==Sn?Kt.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let r,s=0;e.forEach((a,l)=>{let c=l+n,h;if(h=Qv(t,a,c)){for(r||(r=this.children.slice());s<r.length&&r[s]<l;)s+=3;r[s]==l?r[s+2]=r[s+2].addInner(a,h,c+1):r.splice(s,0,l,l+a.nodeSize,Wc(h,a,c+1,Ps)),s+=3}});let o=Zv(s?e0(t):t,-n);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new Kt(o.length?this.local.concat(o).sort(Ls):this.local,r||this.children)}remove(e){return e.length==0||this==Sn?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,r=this.local;for(let s=0;s<n.length;s+=3){let o,a=n[s]+t,l=n[s+1]+t;for(let h=0,u;h<e.length;h++)(u=e[h])&&u.from>a&&u.to<l&&(e[h]=null,(o||(o=[])).push(u));if(!o)continue;n==this.children&&(n=this.children.slice());let c=n[s+2].removeInner(o,a+1);c!=Sn?n[s+2]=c:(n.splice(s,3),s-=3)}if(r.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<r.length;a++)r[a].eq(o,t)&&(r==this.local&&(r=this.local.slice()),r.splice(a--,1))}return n==this.children&&r==this.local?this:r.length||n.length?new Kt(r,n):Sn}forChild(e,t){if(this==Sn)return this;if(t.isLeaf)return Kt.empty;let n,r;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(n=this.children[a+2]);break}let s=e+1,o=s+t.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof Fr){let c=Math.max(s,l.from)-s,h=Math.min(o,l.to)-s;c<h&&(r||(r=[])).push(l.copy(c,h))}}if(r){let a=new Kt(r.sort(Ls),Oo);return n?new Br([a,n]):a}return n||Sn}eq(e){if(this==e)return!0;if(!(e instanceof Kt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Bf(this.localsInner(e))}localsInner(e){if(this==Sn)return Oo;if(e.inlineContent||!this.local.some(Fr.is))return this.local;let t=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof Fr||t.push(this.local[n]);return t}forEachSet(e){e(this)}}Kt.empty=new Kt([],[]),Kt.removeOverlap=Bf;const Sn=Kt.empty;class Br{constructor(e){this.members=e}map(e,t){const n=this.members.map(r=>r.map(e,t,Ps));return Br.from(n)}forChild(e,t){if(t.isLeaf)return Kt.empty;let n=[];for(let r=0;r<this.members.length;r++){let s=this.members[r].forChild(e,t);s!=Sn&&(s instanceof Br?n=n.concat(s.members):n.push(s))}return Br.from(n)}eq(e){if(!(e instanceof Br)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let r=0;r<this.members.length;r++){let s=this.members[r].localsInner(e);if(s.length)if(!t)t=s;else{n&&(t=t.slice(),n=!1);for(let o=0;o<s.length;o++)t.push(s[o])}}return t?Bf(n?t:t.sort(Ls)):Oo}static from(e){switch(e.length){case 0:return Sn;case 1:return e[0];default:return new Br(e.every(t=>t instanceof Kt)?e:e.reduce((t,n)=>t.concat(n instanceof Kt?n:n.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function hE(i,e,t,n,r,s,o){let a=i.slice();for(let c=0,h=s;c<t.maps.length;c++){let u=0;t.maps[c].forEach((d,f,p,m)=>{let b=m-p-(f-d);for(let y=0;y<a.length;y+=3){let w=a[y+1];if(w<0||d>w+h-u)continue;let C=a[y]+h-u;f>=C?a[y+1]=d<=C?-2:-1:d>=h&&b&&(a[y]+=b,a[y+1]+=b)}u+=b}),h=t.maps[c].map(h,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let h=t.map(i[c]+s),u=h-r;if(u<0||u>=n.content.size){l=!0;continue}let d=t.map(i[c+1]+s,-1),f=d-r,{index:p,offset:m}=n.content.findIndex(u),b=n.maybeChild(p);if(b&&m==u&&m+b.nodeSize==f){let y=a[c+2].mapInner(t,b,h+1,i[c]+s+1,o);y!=Sn?(a[c]=u,a[c+1]=f,a[c+2]=y):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=uE(a,i,e,t,r,s,o),h=Wc(c,n,0,o);e=h.local;for(let u=0;u<a.length;u+=3)a[u+1]<0&&(a.splice(u,3),u-=3);for(let u=0,d=0;u<h.children.length;u+=3){let f=h.children[u];for(;d<a.length&&a[d]<f;)d+=3;a.splice(d,0,h.children[u],h.children[u+1],h.children[u+2])}}return new Kt(e.sort(Ls),a)}function Zv(i,e){if(!e||!i.length)return i;let t=[];for(let n=0;n<i.length;n++){let r=i[n];t.push(new fi(r.from+e,r.to+e,r.type))}return t}function uE(i,e,t,n,r,s,o){function a(l,c){for(let h=0;h<l.local.length;h++){let u=l.local[h].map(n,r,c);u?t.push(u):o.onRemove&&o.onRemove(l.local[h].spec)}for(let h=0;h<l.children.length;h+=3)a(l.children[h+2],l.children[h]+c+1)}for(let l=0;l<i.length;l+=3)i[l+1]==-1&&a(i[l+2],e[l]+s+1);return t}function Qv(i,e,t){if(e.isLeaf)return null;let n=t+e.nodeSize,r=null;for(let s=0,o;s<i.length;s++)(o=i[s])&&o.from>t&&o.to<n&&((r||(r=[])).push(o),i[s]=null);return r}function e0(i){let e=[];for(let t=0;t<i.length;t++)i[t]!=null&&e.push(i[t]);return e}function Wc(i,e,t,n){let r=[],s=!1;e.forEach((a,l)=>{let c=Qv(i,a,l+t);if(c){s=!0;let h=Wc(c,a,t+l+1,n);h!=Sn&&r.push(l,l+a.nodeSize,h)}});let o=Zv(s?e0(i):i,-t).sort(Ls);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(n.onRemove&&n.onRemove(o[a].spec),o.splice(a--,1));return o.length||r.length?new Kt(o,r):Sn}function Ls(i,e){return i.from-e.from||i.to-e.to}function Bf(i){let e=i;for(let t=0;t<e.length-1;t++){let n=e[t];if(n.from!=n.to)for(let r=t+1;r<e.length;r++){let s=e[r];if(s.from==n.from){s.to!=n.to&&(e==i&&(e=i.slice()),e[r]=s.copy(s.from,n.to),t0(e,r+1,s.copy(n.to,s.to)));continue}else{s.from<n.to&&(e==i&&(e=i.slice()),e[t]=n.copy(n.from,s.from),t0(e,r,n.copy(s.from,n.to)));break}}}return e}function t0(i,e,t){for(;e<i.length&&Ls(t,i[e])>0;)e++;i.splice(e,0,t)}function Hf(i){let e=[];return i.someProp("decorations",t=>{let n=t(i.state);n&&n!=Sn&&e.push(n)}),i.cursorWrapper&&e.push(Kt.create(i.state.doc,[i.cursorWrapper.deco])),Br.from(e)}const dE={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},fE=jn&&Rr<=11;class pE{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class gE{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new pE,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let r=0;r<n.length;r++)this.queue.push(n[r]);jn&&Rr<=11&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),fE&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,dE)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Ov(this.view)){if(this.suppressingSelectionUpdates)return hr(this.view);if(jn&&Rr<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Ms(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,n;for(let s=e.focusNode;s;s=Co(s))t.add(s);for(let s=e.anchorNode;s;s=Co(s))if(t.has(s)){n=s;break}let r=n&&this.view.docView.nearestDesc(n);if(r&&r.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let n=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&Ov(e)&&!this.ignoreSelectionChange(n),s=-1,o=-1,a=!1,l=[];if(e.editable)for(let h=0;h<t.length;h++){let u=this.registerMutation(t[h],l);u&&(s=s<0?u.from:Math.min(u.from,s),o=o<0?u.to:Math.max(u.to,o),u.typeOver&&(a=!0))}if(Mi&&l.length){let h=l.filter(u=>u.nodeName=="BR");if(h.length==2){let[u,d]=h;u.parentNode&&u.parentNode.parentNode==d.parentNode?d.remove():u.remove()}else{let{focusNode:u}=this.currentSelection;for(let d of h){let f=d.parentNode;f&&f.nodeName=="LI"&&(!u||bE(e,u)!=f)&&d.remove()}}}let c=null;s<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&_c(n)&&(c=Mf(e))&&c.eq(it.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,hr(e),this.currentSelection.set(n),e.scrollToSelection()):(s>-1||r)&&(s>-1&&(e.docView.markDirty(s,o),mE(e)),this.handleDOMChange(s,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||hr(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let h=0;h<e.addedNodes.length;h++){let u=e.addedNodes[h];t.push(u),u.nodeType==3&&(this.lastChangedTextNode=u)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let r=e.previousSibling,s=e.nextSibling;if(jn&&Rr<=11&&e.addedNodes.length)for(let h=0;h<e.addedNodes.length;h++){let{previousSibling:u,nextSibling:d}=e.addedNodes[h];(!u||Array.prototype.indexOf.call(e.addedNodes,u)<0)&&(r=u),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(s=d)}let o=r&&r.parentNode==e.target?gn(r)+1:0,a=n.localPosFromDOM(e.target,o,-1),l=s&&s.parentNode==e.target?gn(s):e.target.childNodes.length,c=n.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let n0=new WeakMap,i0=!1;function mE(i){if(!n0.has(i)&&(n0.set(i,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(i.dom).whiteSpace)!==-1)){if(i.requiresGeckoHackNode=Mi,i0)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),i0=!0}}function r0(i,e){let t=e.startContainer,n=e.startOffset,r=e.endContainer,s=e.endOffset,o=i.domAtPos(i.state.selection.anchor);return Ms(o.node,o.offset,r,s)&&([t,n,r,s]=[r,s,t,n]),{anchorNode:t,anchorOffset:n,focusNode:r,focusOffset:s}}function xE(i,e){if(e.getComposedRanges){let r=e.getComposedRanges(i.root)[0];if(r)return r0(i,r)}let t;function n(r){r.preventDefault(),r.stopImmediatePropagation(),t=r.getTargetRanges()[0]}return i.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),i.dom.removeEventListener("beforeinput",n,!0),t?r0(i,t):null}function bE(i,e){for(let t=e.parentNode;t&&t!=i.dom;t=t.parentNode){let n=i.docView.nearestDesc(t,!0);if(n&&n.node.isBlock)return t}return null}function yE(i,e,t){let{node:n,fromOffset:r,toOffset:s,from:o,to:a}=i.docView.parseRange(e,t),l=i.domSelectionRange(),c,h=l.anchorNode;if(h&&i.dom.contains(h.nodeType==1?h:h.parentNode)&&(c=[{node:h,offset:l.anchorOffset}],_c(l)||c.push({node:l.focusNode,offset:l.focusOffset})),kn&&i.input.lastKeyCode===8)for(let b=s;b>r;b--){let y=n.childNodes[b-1],w=y.pmViewDesc;if(y.nodeName=="BR"&&!w){s=b;break}if(!w||w.size)break}let u=i.state.doc,d=i.someProp("domParser")||za.fromSchema(i.state.schema),f=u.resolve(o),p=null,m=d.parse(n,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:r,to:s,preserveWhitespace:f.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:vE,context:f});if(c&&c[0].pos!=null){let b=c[0].pos,y=c[1]&&c[1].pos;y==null&&(y=b),p={anchor:b+o,head:y+o}}return{doc:m,sel:p,from:o,to:a}}function vE(i){let e=i.pmViewDesc;if(e)return e.parseRule();if(i.nodeName=="BR"&&i.parentNode){if(zn&&/^(ul|ol)$/i.test(i.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(i.parentNode.lastChild==i||zn&&/^(tr|table)$/i.test(i.parentNode.nodeName))return{ignore:!0}}else if(i.nodeName=="IMG"&&i.getAttribute("mark-placeholder"))return{ignore:!0};return null}const wE=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function kE(i,e,t,n,r){let s=i.input.compositionPendingChanges||(i.composing?i.input.compositionID:0);if(i.input.compositionPendingChanges=0,e<0){let P=i.input.lastSelectionTime>Date.now()-50?i.input.lastSelectionOrigin:null,N=Mf(i,P);if(N&&!i.state.selection.eq(N)){if(kn&&lr&&i.input.lastKeyCode===13&&Date.now()-100<i.input.lastKeyCodeTime&&i.someProp("handleKeyDown",_=>_(i,Ts(13,"Enter"))))return;let D=i.state.tr.setSelection(N);P=="pointer"?D.setMeta("pointer",!0):P=="key"&&D.scrollIntoView(),s&&D.setMeta("composition",s),i.dispatch(D)}return}let o=i.state.doc.resolve(e),a=o.sharedDepth(t);e=o.before(a+1),t=i.state.doc.resolve(t).after(a+1);let l=i.state.selection,c=yE(i,e,t),h=i.state.doc,u=h.slice(c.from,c.to),d,f;i.input.lastKeyCode===8&&Date.now()-100<i.input.lastKeyCodeTime?(d=i.state.selection.to,f="end"):(d=i.state.selection.from,f="start"),i.input.lastKeyCode=null;let p=AE(u.content,c.doc.content,c.from,d,f);if(p&&i.input.domChangeCount++,(Ao&&i.input.lastIOSEnter>Date.now()-225||lr)&&r.some(P=>P.nodeType==1&&!wE.test(P.nodeName))&&(!p||p.endA>=p.endB)&&i.someProp("handleKeyDown",P=>P(i,Ts(13,"Enter")))){i.input.lastIOSEnter=0;return}if(!p)if(n&&l instanceof Ve&&!l.empty&&l.$head.sameParent(l.$anchor)&&!i.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))p={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let P=s0(i,i.state.doc,c.sel);if(P&&!P.eq(i.state.selection)){let N=i.state.tr.setSelection(P);s&&N.setMeta("composition",s),i.dispatch(N)}}return}i.state.selection.from<i.state.selection.to&&p.start==p.endB&&i.state.selection instanceof Ve&&(p.start>i.state.selection.from&&p.start<=i.state.selection.from+2&&i.state.selection.from>=c.from?p.start=i.state.selection.from:p.endA<i.state.selection.to&&p.endA>=i.state.selection.to-2&&i.state.selection.to<=c.to&&(p.endB+=i.state.selection.to-p.endA,p.endA=i.state.selection.to)),jn&&Rr<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>c.from&&c.doc.textBetween(p.start-c.from-1,p.start-c.from+1)=="  "&&(p.start--,p.endA--,p.endB--);let m=c.doc.resolveNoCache(p.start-c.from),b=c.doc.resolveNoCache(p.endB-c.from),y=h.resolve(p.start),w=m.sameParent(b)&&m.parent.inlineContent&&y.end()>=p.endA,C;if((Ao&&i.input.lastIOSEnter>Date.now()-225&&(!w||r.some(P=>P.nodeName=="DIV"||P.nodeName=="P"))||!w&&m.pos<c.doc.content.size&&(!m.sameParent(b)||!m.parent.inlineContent)&&(C=it.findFrom(c.doc.resolve(m.pos+1),1,!0))&&C.head>m.pos)&&i.someProp("handleKeyDown",P=>P(i,Ts(13,"Enter")))){i.input.lastIOSEnter=0;return}if(i.state.selection.anchor>p.start&&CE(h,p.start,p.endA,m,b)&&i.someProp("handleKeyDown",P=>P(i,Ts(8,"Backspace")))){lr&&kn&&i.domObserver.suppressSelectionUpdates();return}kn&&p.endB==p.start&&(i.input.lastChromeDelete=Date.now()),lr&&!w&&m.start()!=b.start()&&b.parentOffset==0&&m.depth==b.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==p.endA&&(p.endB-=2,b=c.doc.resolveNoCache(p.endB-c.from),setTimeout(()=>{i.someProp("handleKeyDown",function(P){return P(i,Ts(13,"Enter"))})},20));let T=p.start,S=p.endA,E,M,I;if(w){if(m.pos==b.pos)jn&&Rr<=11&&m.parentOffset==0&&(i.domObserver.suppressSelectionUpdates(),setTimeout(()=>hr(i),20)),E=i.state.tr.delete(T,S),M=h.resolve(p.start).marksAcross(h.resolve(p.endA));else if(p.endA==p.endB&&(I=SE(m.parent.content.cut(m.parentOffset,b.parentOffset),y.parent.content.cut(y.parentOffset,p.endA-y.start()))))E=i.state.tr,I.type=="add"?E.addMark(T,S,I.mark):E.removeMark(T,S,I.mark);else if(m.parent.child(m.index()).isText&&m.index()==b.index()-(b.textOffset?0:1)){let P=m.parent.textBetween(m.parentOffset,b.parentOffset);if(i.someProp("handleTextInput",N=>N(i,T,S,P)))return;E=i.state.tr.insertText(P,T,S)}}if(E||(E=i.state.tr.replace(T,S,c.doc.slice(p.start-c.from,p.endB-c.from))),c.sel){let P=s0(i,E.doc,c.sel);P&&!(kn&&i.composing&&P.empty&&(p.start!=p.endB||i.input.lastChromeDelete<Date.now()-100)&&(P.head==T||P.head==E.mapping.map(S)-1)||jn&&P.empty&&P.head==T)&&E.setSelection(P)}M&&E.ensureMarks(M),s&&E.setMeta("composition",s),i.dispatch(E.scrollIntoView())}function s0(i,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:Ef(i,e.resolve(t.anchor),e.resolve(t.head))}function SE(i,e){let t=i.firstChild.marks,n=e.firstChild.marks,r=t,s=n,o,a,l;for(let h=0;h<n.length;h++)r=n[h].removeFromSet(r);for(let h=0;h<t.length;h++)s=t[h].removeFromSet(s);if(r.length==1&&s.length==0)a=r[0],o="add",l=h=>h.mark(a.addToSet(h.marks));else if(r.length==0&&s.length==1)a=s[0],o="remove",l=h=>h.mark(a.removeFromSet(h.marks));else return null;let c=[];for(let h=0;h<e.childCount;h++)c.push(l(e.child(h)));if(he.from(c).eq(i))return{mark:a,type:o}}function CE(i,e,t,n,r){if(t-e<=r.pos-n.pos||Xf(n,!0,!1)<r.pos)return!1;let s=i.resolve(e);if(!n.parent.isTextblock){let a=s.nodeAfter;return a!=null&&t==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=i.resolve(Xf(s,!0,!0));return!o.parent.isTextblock||o.pos>t||Xf(o,!0,!1)<t?!1:n.parent.content.cut(n.parentOffset).eq(o.parent.content)}function Xf(i,e,t){let n=i.depth,r=e?i.end():i.pos;for(;n>0&&(e||i.indexAfter(n)==i.node(n).childCount);)n--,r++,e=!1;if(t){let s=i.node(n).maybeChild(i.indexAfter(n));for(;s&&!s.isLeaf;)s=s.firstChild,r++}return r}function AE(i,e,t,n,r){let s=i.findDiffStart(e,t);if(s==null)return null;let{a:o,b:a}=i.findDiffEnd(e,t+i.size,t+e.size);if(r=="end"){let l=Math.max(0,s-Math.min(o,a));n-=o+l-s}if(o<s&&i.size<e.size){let l=n<=s&&n>=o?s-n:0;s-=l,s&&s<e.size&&o0(e.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=n<=s&&n>=a?s-n:0;s-=l,s&&s<i.size&&o0(i.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function o0(i){if(i.length!=2)return!1;let e=i.charCodeAt(0),t=i.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class ME{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new jT,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(u0),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=c0(this),l0(this),this.nodeViews=h0(this),this.docView=xv(this.state.doc,a0(this),Hf(this),this.dom,this),this.domObserver=new gE(this,(n,r,s,o)=>kE(this,n,r,s,o)),this.domObserver.start(),VT(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Df(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(u0),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let n in this._props)t[n]=this._props[n];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var n;let r=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(qv(this),o=!0),this.state=e;let a=r.plugins!=e.plugins||this._props.plugins!=t.plugins;if(a||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let f=h0(this);EE(f,this.nodeViews)&&(this.nodeViews=f,s=!0)}(a||t.handleDOMEvents!=this._props.handleDOMEvents)&&Df(this),this.editable=c0(this),l0(this);let l=Hf(this),c=a0(this),h=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",u=s||!this.docView.matchesNode(e.doc,c,l);(u||!e.selection.eq(r.selection))&&(o=!0);let d=h=="preserve"&&o&&this.dom.style.overflowAnchor==null&&sT(this);if(o){this.domObserver.stop();let f=u&&(jn||kn)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&TE(r.selection,e.selection);if(u){let p=kn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=rE(this)),(s||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=xv(e.doc,c,l,this.dom,this)),p&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&OT(this))?hr(this,f):(Tv(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((n=this.dragging)===null||n===void 0)&&n.node&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),h=="reset"?this.dom.scrollTop=0:h=="to selection"?this.scrollToSelection():d&&oT(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof Xe){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&rv(this,t.getBoundingClientRect(),e)}else rv(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let n=this.directPlugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let n=this.state.plugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}}updateDraggedNode(e,t){let n=e.node,r=-1;if(this.state.doc.nodeAt(n.from)==n.node)r=n.from;else{let s=n.from+(this.state.doc.content.size-t.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==n.node&&(r=s)}this.dragging=new Kv(e.slice,e.move,r<0?void 0:Xe.create(this.state.doc,r))}someProp(e,t){let n=this._props&&this._props[e],r;if(n!=null&&(r=t?t(n):n))return r;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(r=t?t(a):a))return r}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(r=t?t(a):a))return r}}hasFocus(){if(jn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&aT(this.dom),hr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return dT(this,e)}coordsAtPos(e,t=1){return hv(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let r=this.docView.posFromDOM(e,t,n);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,t){return xT(this,t||this.state,e)}pasteHTML(e,t){return Ja(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return Ja(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return Pf(this,e)}destroy(){this.docView&&($T(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Hf(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,qM())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return qT(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?zn&&this.root.nodeType===11&&QM(this.dom.ownerDocument)==this.dom&&xE(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function a0(i){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(i.editable),i.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(i.state)),t)for(let n in t)n=="class"?e.class+=" "+t[n]:n=="style"?e.style=(e.style?e.style+";":"")+t[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(t[n]))}),e.translate||(e.translate="no"),[fi.node(0,i.state.doc.content.size,e)]}function l0(i){if(i.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),i.cursorWrapper={dom:e,deco:fi.widget(i.state.selection.from,e,{raw:!0,marks:i.markCursor})}}else i.cursorWrapper=null}function c0(i){return!i.someProp("editable",e=>e(i.state)===!1)}function TE(i,e){let t=Math.min(i.$anchor.sharedDepth(i.head),e.$anchor.sharedDepth(e.head));return i.$anchor.start(t)!=e.$anchor.start(t)}function h0(i){let e=Object.create(null);function t(n){for(let r in n)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=n[r])}return i.someProp("nodeViews",t),i.someProp("markViews",t),e}function EE(i,e){let t=0,n=0;for(let r in i){if(i[r]!=e[r])return!0;t++}for(let r in e)n++;return t!=n}function u0(i){if(i.spec.state||i.spec.filterTransaction||i.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}for(var Hr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Yc={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},OE=typeof navigator<"u"&&/Mac/.test(navigator.platform),IE=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),mn=0;mn<10;mn++)Hr[48+mn]=Hr[96+mn]=String(mn);for(var mn=1;mn<=24;mn++)Hr[mn+111]="F"+mn;for(var mn=65;mn<=90;mn++)Hr[mn]=String.fromCharCode(mn+32),Yc[mn]=String.fromCharCode(mn);for(var Wf in Hr)Yc.hasOwnProperty(Wf)||(Yc[Wf]=Hr[Wf]);function PE(i){var e=OE&&i.metaKey&&i.shiftKey&&!i.ctrlKey&&!i.altKey||IE&&i.shiftKey&&i.key&&i.key.length==1||i.key=="Unidentified",t=!e&&i.key||(i.shiftKey?Yc:Hr)[i.keyCode]||i.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const LE=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function RE(i){let e=i.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let n,r,s,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))LE?o=!0:r=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(t="Alt-"+t),r&&(t="Ctrl-"+t),o&&(t="Meta-"+t),s&&(t="Shift-"+t),t}function DE(i){let e=Object.create(null);for(let t in i)e[RE(t)]=i[t];return e}function Yf(i,e,t=!0){return e.altKey&&(i="Alt-"+i),e.ctrlKey&&(i="Ctrl-"+i),e.metaKey&&(i="Meta-"+i),t&&e.shiftKey&&(i="Shift-"+i),i}function _E(i){return new pn({props:{handleKeyDown:d0(i)}})}function d0(i){let e=DE(i);return function(t,n){let r=PE(n),s,o=e[Yf(r,n)];if(o&&o(t.state,t.dispatch,t))return!0;if(r.length==1&&r!=" "){if(n.shiftKey){let a=e[Yf(r,n,!1)];if(a&&a(t.state,t.dispatch,t))return!0}if((n.shiftKey||n.altKey||n.metaKey||r.charCodeAt(0)>127)&&(s=Hr[n.keyCode])&&s!=r){let a=e[Yf(s,n)];if(a&&a(t.state,t.dispatch,t))return!0}}return!1}}const jf=(i,e)=>i.selection.empty?!1:(e&&e(i.tr.deleteSelection().scrollIntoView()),!0);function f0(i,e){let{$cursor:t}=i.selection;return!t||(e?!e.endOfTextblock("backward",i):t.parentOffset>0)?null:t}const p0=(i,e,t)=>{let n=f0(i,t);if(!n)return!1;let r=Vf(n);if(!r){let o=n.blockRange(),a=o&&yo(o);return a==null?!1:(e&&e(i.tr.lift(o,a).scrollIntoView()),!0)}let s=r.nodeBefore;if(S0(i,r,e,-1))return!0;if(n.parent.content.size==0&&(Io(s,"end")||Xe.isSelectable(s)))for(let o=n.depth;;o--){let a=Rc(i.doc,n.before(o),n.after(o),Le.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=i.tr.step(a);l.setSelection(Io(s,"end")?it.findFrom(l.doc.resolve(l.mapping.map(r.pos,-1)),-1):Xe.create(l.doc,r.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||n.node(o-1).childCount>1)break}return s.isAtom&&r.depth==n.depth-1?(e&&e(i.tr.delete(r.pos-s.nodeSize,r.pos).scrollIntoView()),!0):!1},NE=(i,e,t)=>{let n=f0(i,t);if(!n)return!1;let r=Vf(n);return r?g0(i,r,e):!1},zE=(i,e,t)=>{let n=x0(i,t);if(!n)return!1;let r=$f(n);return r?g0(i,r,e):!1};function g0(i,e,t){let n=e.nodeBefore,r=n,s=e.pos-1;for(;!r.isTextblock;s--){if(r.type.spec.isolating)return!1;let h=r.lastChild;if(!h)return!1;r=h}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let h=a.firstChild;if(!h)return!1;a=h}let c=Rc(i.doc,s,l,Le.empty);if(!c||c.from!=s||c instanceof en&&c.slice.size>=l-s)return!1;if(t){let h=i.tr.step(c);h.setSelection(Ve.create(h.doc,s)),t(h.scrollIntoView())}return!0}function Io(i,e,t=!1){for(let n=i;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(t&&n.childCount!=1)return!1}return!1}const m0=(i,e,t)=>{let{$head:n,empty:r}=i.selection,s=n;if(!r)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("backward",i):n.parentOffset>0)return!1;s=Vf(n)}let o=s&&s.nodeBefore;return!o||!Xe.isSelectable(o)?!1:(e&&e(i.tr.setSelection(Xe.create(i.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function Vf(i){if(!i.parent.type.spec.isolating)for(let e=i.depth-1;e>=0;e--){if(i.index(e)>0)return i.doc.resolve(i.before(e+1));if(i.node(e).type.spec.isolating)break}return null}function x0(i,e){let{$cursor:t}=i.selection;return!t||(e?!e.endOfTextblock("forward",i):t.parentOffset<t.parent.content.size)?null:t}const b0=(i,e,t)=>{let n=x0(i,t);if(!n)return!1;let r=$f(n);if(!r)return!1;let s=r.nodeAfter;if(S0(i,r,e,1))return!0;if(n.parent.content.size==0&&(Io(s,"start")||Xe.isSelectable(s))){let o=Rc(i.doc,n.before(),n.after(),Le.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=i.tr.step(o);a.setSelection(Io(s,"start")?it.findFrom(a.doc.resolve(a.mapping.map(r.pos)),1):Xe.create(a.doc,a.mapping.map(r.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&r.depth==n.depth-1?(e&&e(i.tr.delete(r.pos,r.pos+s.nodeSize).scrollIntoView()),!0):!1},y0=(i,e,t)=>{let{$head:n,empty:r}=i.selection,s=n;if(!r)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("forward",i):n.parentOffset<n.parent.content.size)return!1;s=$f(n)}let o=s&&s.nodeAfter;return!o||!Xe.isSelectable(o)?!1:(e&&e(i.tr.setSelection(Xe.create(i.doc,s.pos)).scrollIntoView()),!0)};function $f(i){if(!i.parent.type.spec.isolating)for(let e=i.depth-1;e>=0;e--){let t=i.node(e);if(i.index(e)+1<t.childCount)return i.doc.resolve(i.after(e+1));if(t.type.spec.isolating)break}return null}const FE=(i,e)=>{let t=i.selection,n=t instanceof Xe,r;if(n){if(t.node.isTextblock||!Pr(i.doc,t.from))return!1;r=t.from}else if(r=Lc(i.doc,t.from,-1),r==null)return!1;if(e){let s=i.tr.join(r);n&&s.setSelection(Xe.create(s.doc,r-i.doc.resolve(r).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},BE=(i,e)=>{let t=i.selection,n;if(t instanceof Xe){if(t.node.isTextblock||!Pr(i.doc,t.to))return!1;n=t.to}else if(n=Lc(i.doc,t.to,1),n==null)return!1;return e&&e(i.tr.join(n).scrollIntoView()),!0},HE=(i,e)=>{let{$from:t,$to:n}=i.selection,r=t.blockRange(n),s=r&&yo(r);return s==null?!1:(e&&e(i.tr.lift(r,s).scrollIntoView()),!0)},v0=(i,e)=>{let{$head:t,$anchor:n}=i.selection;return!t.parent.type.spec.code||!t.sameParent(n)?!1:(e&&e(i.tr.insertText(`
  `).scrollIntoView()),!0)};function Gf(i){for(let e=0;e<i.edgeCount;e++){let{type:t}=i.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const XE=(i,e)=>{let{$head:t,$anchor:n}=i.selection;if(!t.parent.type.spec.code||!t.sameParent(n))return!1;let r=t.node(-1),s=t.indexAfter(-1),o=Gf(r.contentMatchAt(s));if(!o||!r.canReplaceWith(s,s,o))return!1;if(e){let a=t.after(),l=i.tr.replaceWith(a,a,o.createAndFill());l.setSelection(it.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},w0=(i,e)=>{let t=i.selection,{$from:n,$to:r}=t;if(t instanceof Qn||n.parent.inlineContent||r.parent.inlineContent)return!1;let s=Gf(r.parent.contentMatchAt(r.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!n.parentOffset&&r.index()<r.parent.childCount?n:r).pos,a=i.tr.insert(o,s.createAndFill());a.setSelection(Ve.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},k0=(i,e)=>{let{$cursor:t}=i.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let s=t.before();if(or(i.doc,s))return e&&e(i.tr.split(s).scrollIntoView()),!0}let n=t.blockRange(),r=n&&yo(n);return r==null?!1:(e&&e(i.tr.lift(n,r).scrollIntoView()),!0)};function WE(i){return(e,t)=>{let{$from:n,$to:r}=e.selection;if(e.selection instanceof Xe&&e.selection.node.isBlock)return!n.parentOffset||!or(e.doc,n.pos)?!1:(t&&t(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let s=[],o,a,l=!1,c=!1;for(let f=n.depth;;f--)if(n.node(f).isBlock){l=n.end(f)==n.pos+(n.depth-f),c=n.start(f)==n.pos-(n.depth-f),a=Gf(n.node(f-1).contentMatchAt(n.indexAfter(f-1))),s.unshift(l&&a?{type:a}:null),o=f;break}else{if(f==1)return!1;s.unshift(null)}let h=e.tr;(e.selection instanceof Ve||e.selection instanceof Qn)&&h.deleteSelection();let u=h.mapping.map(n.pos),d=or(h.doc,u,s.length,s);if(d||(s[0]=a?{type:a}:null,d=or(h.doc,u,s.length,s)),!d)return!1;if(h.split(u,s.length,s),!l&&c&&n.node(o).type!=a){let f=h.mapping.map(n.before(o)),p=h.doc.resolve(f);a&&n.node(o-1).canReplaceWith(p.index(),p.index()+1,a)&&h.setNodeMarkup(h.mapping.map(n.before(o)),a)}return t&&t(h.scrollIntoView()),!0}}const YE=WE(),jE=(i,e)=>{let{$from:t,to:n}=i.selection,r,s=t.sharedDepth(n);return s==0?!1:(r=t.before(s),e&&e(i.tr.setSelection(Xe.create(i.doc,r))),!0)};function VE(i,e,t){let n=e.nodeBefore,r=e.nodeAfter,s=e.index();return!n||!r||!n.type.compatibleContent(r.type)?!1:!n.content.size&&e.parent.canReplace(s-1,s)?(t&&t(i.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(r.isTextblock||Pr(i.doc,e.pos))?!1:(t&&t(i.tr.join(e.pos).scrollIntoView()),!0)}function S0(i,e,t,n){let r=e.nodeBefore,s=e.nodeAfter,o,a,l=r.type.spec.isolating||s.type.spec.isolating;if(!l&&VE(i,e,t))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(a=r.contentMatchAt(r.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(t){let f=e.pos+s.nodeSize,p=he.empty;for(let y=o.length-1;y>=0;y--)p=he.from(o[y].create(null,p));p=he.from(r.copy(p));let m=i.tr.step(new tn(e.pos-1,f,e.pos,f,new Le(p,1,0),o.length,!0)),b=m.doc.resolve(f+2*o.length);b.nodeAfter&&b.nodeAfter.type==r.type&&Pr(m.doc,b.pos)&&m.join(b.pos),t(m.scrollIntoView())}return!0}let h=s.type.spec.isolating||n>0&&l?null:it.findFrom(e,1),u=h&&h.$from.blockRange(h.$to),d=u&&yo(u);if(d!=null&&d>=e.depth)return t&&t(i.tr.lift(u,d).scrollIntoView()),!0;if(c&&Io(s,"start",!0)&&Io(r,"end")){let f=r,p=[];for(;p.push(f),!f.isTextblock;)f=f.lastChild;let m=s,b=1;for(;!m.isTextblock;m=m.firstChild)b++;if(f.canReplace(f.childCount,f.childCount,m.content)){if(t){let y=he.empty;for(let C=p.length-1;C>=0;C--)y=he.from(p[C].copy(y));let w=i.tr.step(new tn(e.pos-p.length,e.pos+s.nodeSize,e.pos+b,e.pos+s.nodeSize-b,new Le(y,p.length,0),0,!0));t(w.scrollIntoView())}return!0}}return!1}function C0(i){return function(e,t){let n=e.selection,r=i<0?n.$from:n.$to,s=r.depth;for(;r.node(s).isInline;){if(!s)return!1;s--}return r.node(s).isTextblock?(t&&t(e.tr.setSelection(Ve.create(e.doc,i<0?r.start(s):r.end(s)))),!0):!1}}const $E=C0(-1),GE=C0(1);function qE(i,e=null){return function(t,n){let{$from:r,$to:s}=t.selection,o=r.blockRange(s),a=o&&uf(o,i,e);return a?(n&&n(t.tr.wrap(o,a).scrollIntoView()),!0):!1}}function A0(i,e=null){return function(t,n){let r=!1;for(let s=0;s<t.selection.ranges.length&&!r;s++){let{$from:{pos:o},$to:{pos:a}}=t.selection.ranges[s];t.doc.nodesBetween(o,a,(l,c)=>{if(r)return!1;if(!(!l.isTextblock||l.hasMarkup(i,e)))if(l.type==i)r=!0;else{let h=t.doc.resolve(c),u=h.index();r=h.parent.canReplaceWith(u,u+1,i)}})}if(!r)return!1;if(n){let s=t.tr;for(let o=0;o<t.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=t.selection.ranges[o];s.setBlockType(a,l,i,e)}n(s.scrollIntoView())}return!0}}function qf(...i){return function(e,t,n){for(let r=0;r<i.length;r++)if(i[r](e,t,n))return!0;return!1}}qf(jf,p0,m0),qf(jf,b0,y0),qf(v0,w0,k0,YE),typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function UE(i,e=null){return function(t,n){let{$from:r,$to:s}=t.selection,o=r.blockRange(s);if(!o)return!1;let a=n?t.tr:null;return KE(a,o,i,e)?(n&&n(a.scrollIntoView()),!0):!1}}function KE(i,e,t,n=null){let r=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=o.resolve(e.start-2);s=new Ac(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new Ac(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),r=!0}let a=uf(s,t,n,e);return a?(i&&JE(i,e,a,r,t),!0):!1}function JE(i,e,t,n,r){let s=he.empty;for(let h=t.length-1;h>=0;h--)s=he.from(t[h].type.create(t[h].attrs,s));i.step(new tn(e.start-(n?2:0),e.end,e.start,e.end,new Le(s,0,0),t.length,!0));let o=0;for(let h=0;h<t.length;h++)t[h].type==r&&(o=h+1);let a=t.length-o,l=e.start+t.length-(n?2:0),c=e.parent;for(let h=e.startIndex,u=e.endIndex,d=!0;h<u;h++,d=!1)!d&&or(i.doc,l,a)&&(i.split(l,a),l+=2*a),l+=c.child(h).nodeSize;return i}function ZE(i){return function(e,t){let{$from:n,$to:r}=e.selection,s=n.blockRange(r,o=>o.childCount>0&&o.firstChild.type==i);return s?t?n.node(s.depth-1).type==i?QE(e,t,i,s):eO(e,t,s):!0:!1}}function QE(i,e,t,n){let r=i.tr,s=n.end,o=n.$to.end(n.depth);s<o&&(r.step(new tn(s-1,o,s,o,new Le(he.from(t.create(null,n.parent.copy())),1,0),1,!0)),n=new Ac(r.doc.resolve(n.$from.pos),r.doc.resolve(o),n.depth));const a=yo(n);if(a==null)return!1;r.lift(n,a);let l=r.doc.resolve(r.mapping.map(s,-1)-1);return Pr(r.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&r.join(l.pos),e(r.scrollIntoView()),!0}function eO(i,e,t){let n=i.tr,r=t.parent;for(let f=t.end,p=t.endIndex-1,m=t.startIndex;p>m;p--)f-=r.child(p).nodeSize,n.delete(f-1,f+1);let s=n.doc.resolve(t.start),o=s.nodeAfter;if(n.mapping.map(t.end)!=t.start+s.nodeAfter.nodeSize)return!1;let a=t.startIndex==0,l=t.endIndex==r.childCount,c=s.node(-1),h=s.index(-1);if(!c.canReplace(h+(a?0:1),h+1,o.content.append(l?he.empty:he.from(r))))return!1;let u=s.pos,d=u+o.nodeSize;return n.step(new tn(u-(a?1:0),d+(l?1:0),u+1,d-1,new Le((a?he.empty:he.from(r.copy(he.empty))).append(l?he.empty:he.from(r.copy(he.empty))),a?0:1,l?0:1),a?0:1)),e(n.scrollIntoView()),!0}function tO(i){return function(e,t){let{$from:n,$to:r}=e.selection,s=n.blockRange(r,c=>c.childCount>0&&c.firstChild.type==i);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=i)return!1;if(t){let c=l.lastChild&&l.lastChild.type==a.type,h=he.from(c?i.create():null),u=new Le(he.from(i.create(null,he.from(a.type.create(null,h)))),c?3:1,0),d=s.start,f=s.end;t(e.tr.step(new tn(d-(c?3:1),f,d,f,u,1,!0)).scrollIntoView())}return!0}}function jc(i){const{state:e,transaction:t}=i;let{selection:n}=t,{doc:r}=t,{storedMarks:s}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return n},get doc(){return r},get tr(){return n=t.selection,r=t.doc,s=t.storedMarks,t}}}class Vc{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:s}=n,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...h)=>{const u=l(...h)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(s),u}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:s}=this,{view:o}=r,a=[],l=!!e,c=e||s.tr,h=()=>(!l&&t&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(c),a.every(d=>d===!0)),u={...Object.fromEntries(Object.entries(n).map(([d,f])=>[d,(...m)=>{const b=this.buildProps(c,t),y=f(...m)(b);return a.push(y),u}])),run:h};return u}createCan(e){const{rawCommands:t,state:n}=this,r=!1,s=e||n.tr,o=this.buildProps(s,r);return{...Object.fromEntries(Object.entries(t).map(([l,c])=>[l,(...h)=>c(...h)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,r)}}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:s}=this,{view:o}=r,a={tr:e,editor:r,view:o,state:jc({state:s,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...h)=>c(...h)(a)]))}};return a}}class nO{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach(r=>r.apply(this,t)),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(r=>r!==t):delete this.callbacks[e]),this}once(e,t){const n=(...r)=>{this.off(e,n),t.apply(this,r)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}}function _e(i,e,t){return i.config[e]===void 0&&i.parent?_e(i.parent,e,t):typeof i.config[e]=="function"?i.config[e].bind({...t,parent:i.parent?_e(i.parent,e,t):null}):i.config[e]}function $c(i){const e=i.filter(r=>r.type==="extension"),t=i.filter(r=>r.type==="node"),n=i.filter(r=>r.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:n}}function M0(i){const e=[],{nodeExtensions:t,markExtensions:n}=$c(i),r=[...t,...n],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return i.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:r},l=_e(o,"addGlobalAttributes",a);if(!l)return;l().forEach(h=>{h.types.forEach(u=>{Object.entries(h.attributes).forEach(([d,f])=>{e.push({type:u,name:d,attribute:{...s,...f}})})})})}),r.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=_e(o,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([h,u])=>{const d={...s,...u};typeof(d==null?void 0:d.default)=="function"&&(d.default=d.default()),d!=null&&d.isRequired&&(d==null?void 0:d.default)===void 0&&delete d.default,e.push({type:o.name,name:h,attribute:d})})}),e}function nn(i,e){if(typeof i=="string"){if(!e.nodes[i])throw Error(`There is no node type named '${i}'. Maybe you forgot to add the extension?`);return e.nodes[i]}return i}function rn(...i){return i.filter(e=>!!e).reduce((e,t)=>{const n={...e};return Object.entries(t).forEach(([r,s])=>{if(!n[r]){n[r]=s;return}if(r==="class"){const a=s?String(s).split(" "):[],l=n[r]?n[r].split(" "):[],c=a.filter(h=>!l.includes(h));n[r]=[...l,...c].join(" ")}else if(r==="style"){const a=s?s.split(";").map(h=>h.trim()).filter(Boolean):[],l=n[r]?n[r].split(";").map(h=>h.trim()).filter(Boolean):[],c=new Map;l.forEach(h=>{const[u,d]=h.split(":").map(f=>f.trim());c.set(u,d)}),a.forEach(h=>{const[u,d]=h.split(":").map(f=>f.trim());c.set(u,d)}),n[r]=Array.from(c.entries()).map(([h,u])=>`${h}: ${u}`).join("; ")}else n[r]=s}),n},{})}function Uf(i,e){return e.filter(t=>t.type===i.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(i.attrs)||{}:{[t.name]:i.attrs[t.name]}).reduce((t,n)=>rn(t,n),{})}function T0(i){return typeof i=="function"}function ot(i,e=void 0,...t){return T0(i)?e?i.bind(e)(...t):i(...t):i}function iO(i={}){return Object.keys(i).length===0&&i.constructor===Object}function rO(i){return typeof i!="string"?i:i.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(i):i==="true"?!0:i==="false"?!1:i}function E0(i,e){return"style"in i?i:{...i,getAttrs:t=>{const n=i.getAttrs?i.getAttrs(t):i.attrs;if(n===!1)return!1;const r=e.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(t):rO(t.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...n,...r}}}}function O0(i){return Object.fromEntries(Object.entries(i).filter(([e,t])=>e==="attrs"&&iO(t)?!1:t!=null))}function sO(i,e){var t;const n=M0(i),{nodeExtensions:r,markExtensions:s}=$c(i),o=(t=r.find(c=>_e(c,"topNode")))===null||t===void 0?void 0:t.name,a=Object.fromEntries(r.map(c=>{const h=n.filter(y=>y.type===c.name),u={name:c.name,options:c.options,storage:c.storage,editor:e},d=i.reduce((y,w)=>{const C=_e(w,"extendNodeSchema",u);return{...y,...C?C(c):{}}},{}),f=O0({...d,content:ot(_e(c,"content",u)),marks:ot(_e(c,"marks",u)),group:ot(_e(c,"group",u)),inline:ot(_e(c,"inline",u)),atom:ot(_e(c,"atom",u)),selectable:ot(_e(c,"selectable",u)),draggable:ot(_e(c,"draggable",u)),code:ot(_e(c,"code",u)),whitespace:ot(_e(c,"whitespace",u)),linebreakReplacement:ot(_e(c,"linebreakReplacement",u)),defining:ot(_e(c,"defining",u)),isolating:ot(_e(c,"isolating",u)),attrs:Object.fromEntries(h.map(y=>{var w;return[y.name,{default:(w=y==null?void 0:y.attribute)===null||w===void 0?void 0:w.default}]}))}),p=ot(_e(c,"parseHTML",u));p&&(f.parseDOM=p.map(y=>E0(y,h)));const m=_e(c,"renderHTML",u);m&&(f.toDOM=y=>m({node:y,HTMLAttributes:Uf(y,h)}));const b=_e(c,"renderText",u);return b&&(f.toText=b),[c.name,f]})),l=Object.fromEntries(s.map(c=>{const h=n.filter(b=>b.type===c.name),u={name:c.name,options:c.options,storage:c.storage,editor:e},d=i.reduce((b,y)=>{const w=_e(y,"extendMarkSchema",u);return{...b,...w?w(c):{}}},{}),f=O0({...d,inclusive:ot(_e(c,"inclusive",u)),excludes:ot(_e(c,"excludes",u)),group:ot(_e(c,"group",u)),spanning:ot(_e(c,"spanning",u)),code:ot(_e(c,"code",u)),attrs:Object.fromEntries(h.map(b=>{var y;return[b.name,{default:(y=b==null?void 0:b.attribute)===null||y===void 0?void 0:y.default}]}))}),p=ot(_e(c,"parseHTML",u));p&&(f.parseDOM=p.map(b=>E0(b,h)));const m=_e(c,"renderHTML",u);return m&&(f.toDOM=b=>m({mark:b,HTMLAttributes:Uf(b,h)})),[c.name,f]}));return new yy({topNode:o,nodes:a,marks:l})}function Kf(i,e){return e.nodes[i]||e.marks[i]||null}function I0(i,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===i.name):e}function Jf(i,e){const t=As.fromSchema(e).serializeFragment(i),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(t),r.innerHTML}const oO=(i,e=500)=>{let t="";const n=i.parentOffset;return i.parent.nodesBetween(Math.max(0,n-e),n,(r,s,o,a)=>{var l,c;const h=((c=(l=r.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:r,pos:s,parent:o,index:a}))||r.textContent||"%leaf%";t+=r.isAtom&&!r.isText?h:h.slice(0,Math.max(0,n-s))}),t};function Zf(i){return Object.prototype.toString.call(i)==="[object RegExp]"}class Gc{constructor(e){this.find=e.find,this.handler=e.handler}}const aO=(i,e)=>{if(Zf(e))return e.exec(i);const t=e(i);if(!t)return null;const n=[t.text];return n.index=t.index,n.input=i,n.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(t.replaceWith)),n};function qc(i){var e;const{editor:t,from:n,to:r,text:s,rules:o,plugin:a}=i,{view:l}=t;if(l.composing)return!1;const c=l.state.doc.resolve(n);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(d=>d.type.spec.code))return!1;let h=!1;const u=oO(c)+s;return o.forEach(d=>{if(h)return;const f=aO(u,d.find);if(!f)return;const p=l.state.tr,m=jc({state:l.state,transaction:p}),b={from:n-(f[0].length-s.length),to:r},{commands:y,chain:w,can:C}=new Vc({editor:t,state:m});d.handler({state:m,range:b,match:f,commands:y,chain:w,can:C})===null||!p.steps.length||(p.setMeta(a,{transform:p,from:n,to:r,text:s}),l.dispatch(p),h=!0)}),h}function lO(i){const{editor:e,rules:t}=i,n=new pn({state:{init(){return null},apply(r,s,o){const a=r.getMeta(n);if(a)return a;const l=r.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:h}=l;typeof h=="string"?h=h:h=Jf(he.from(h),o.schema);const{from:u}=l,d=u+h.length;qc({editor:e,from:u,to:d,text:h,rules:t,plugin:n})}),r.selectionSet||r.docChanged?null:s}},props:{handleTextInput(r,s,o,a){return qc({editor:e,from:s,to:o,text:a,rules:t,plugin:n})},handleDOMEvents:{compositionend:r=>(setTimeout(()=>{const{$cursor:s}=r.state.selection;s&&qc({editor:e,from:s.pos,to:s.pos,text:"",rules:t,plugin:n})}),!1)},handleKeyDown(r,s){if(s.key!=="Enter")return!1;const{$cursor:o}=r.state.selection;return o?qc({editor:e,from:o.pos,to:o.pos,text:`
  `,rules:t,plugin:n}):!1}},isInputRules:!0});return n}function cO(i){return Object.prototype.toString.call(i).slice(8,-1)}function Uc(i){return cO(i)!=="Object"?!1:i.constructor===Object&&Object.getPrototypeOf(i)===Object.prototype}function Kc(i,e){const t={...i};return Uc(i)&&Uc(e)&&Object.keys(e).forEach(n=>{Uc(e[n])&&Uc(i[n])?t[n]=Kc(i[n],e[n]):t[n]=e[n]}),t}class Xi{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ot(_e(this,"addOptions",{name:this.name}))),this.storage=ot(_e(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Xi(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Kc(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Xi(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=ot(_e(t,"addOptions",{name:t.name})),t.storage=ot(_e(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:n}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const o=r.marks();if(!!!o.find(c=>(c==null?void 0:c.type.name)===t.name))return!1;const l=o.find(c=>(c==null?void 0:c.type.name)===t.name);return l&&n.removeStoredMark(l),n.insertText(" ",r.pos),e.view.dispatch(n),!0}return!1}}function hO(i){return typeof i=="number"}class uO{constructor(e){this.find=e.find,this.handler=e.handler}}const dO=(i,e,t)=>{if(Zf(e))return[...i.matchAll(e)];const n=e(i,t);return n?n.map(r=>{const s=[r.text];return s.index=r.index,s.input=i,s.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(r.replaceWith)),s}):[]};function fO(i){const{editor:e,state:t,from:n,to:r,rule:s,pasteEvent:o,dropEvent:a}=i,{commands:l,chain:c,can:h}=new Vc({editor:e,state:t}),u=[];return t.doc.nodesBetween(n,r,(f,p)=>{if(!f.isTextblock||f.type.spec.code)return;const m=Math.max(n,p),b=Math.min(r,p+f.content.size),y=f.textBetween(m-p,b-p,void 0,"￼");dO(y,s.find,o).forEach(C=>{if(C.index===void 0)return;const T=m+C.index+1,S=T+C[0].length,E={from:t.tr.mapping.map(T),to:t.tr.mapping.map(S)},M=s.handler({state:t,range:E,match:C,commands:l,chain:c,can:h,pasteEvent:o,dropEvent:a});u.push(M)})}),u.every(f=>f!==null)}let Jc=null;const pO=i=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",i),t};function gO(i){const{editor:e,rules:t}=i;let n=null,r=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:h,from:u,to:d,rule:f,pasteEvt:p})=>{const m=h.tr,b=jc({state:h,transaction:m});if(!(!fO({editor:e,state:b,from:Math.max(u-1,0),to:d.b-1,rule:f,pasteEvent:p,dropEvent:a})||!m.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,m}};return t.map(h=>new pn({view(u){const d=p=>{var m;n=!((m=u.dom.parentElement)===null||m===void 0)&&m.contains(p.target)?u.dom.parentElement:null,n&&(Jc=e)},f=()=>{Jc&&(Jc=null)};return window.addEventListener("dragstart",d),window.addEventListener("dragend",f),{destroy(){window.removeEventListener("dragstart",d),window.removeEventListener("dragend",f)}}},props:{handleDOMEvents:{drop:(u,d)=>{if(s=n===u.dom.parentElement,a=d,!s){const f=Jc;f&&setTimeout(()=>{const p=f.state.selection;p&&f.commands.deleteRange({from:p.from,to:p.to})},10)}return!1},paste:(u,d)=>{var f;const p=(f=d.clipboardData)===null||f===void 0?void 0:f.getData("text/html");return o=d,r=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(u,d,f)=>{const p=u[0],m=p.getMeta("uiEvent")==="paste"&&!r,b=p.getMeta("uiEvent")==="drop"&&!s,y=p.getMeta("applyPasteRules"),w=!!y;if(!m&&!b&&!w)return;if(w){let{text:S}=y;typeof S=="string"?S=S:S=Jf(he.from(S),f.schema);const{from:E}=y,M=E+S.length,I=pO(S);return l({rule:h,state:f,from:E,to:{b:M},pasteEvt:I})}const C=d.doc.content.findDiffStart(f.doc.content),T=d.doc.content.findDiffEnd(f.doc.content);if(!(!hO(C)||!T||C===T.b))return l({rule:h,state:f,from:C,to:T,pasteEvt:o})}}))}function mO(i){const e=i.filter((t,n)=>i.indexOf(t)!==n);return Array.from(new Set(e))}class Po{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=Po.resolve(e),this.schema=sO(this.extensions,t),this.setupExtensions()}static resolve(e){const t=Po.sort(Po.flatten(e)),n=mO(t.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const n={name:t.name,options:t.options,storage:t.storage},r=_e(t,"addExtensions",n);return r?[t,...this.flatten(r())]:t}).flat(10)}static sort(e){return e.sort((n,r)=>{const s=_e(n,"priority")||100,o=_e(r,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const n={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Kf(t.name,this.schema)},r=_e(t,"addCommands",n);return r?{...e,...r()}:e},{})}get plugins(){const{editor:e}=this,t=Po.sort([...this.extensions].reverse()),n=[],r=[],s=t.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:Kf(o.name,this.schema)},l=[],c=_e(o,"addKeyboardShortcuts",a);let h={};if(o.type==="mark"&&_e(o,"exitable",a)&&(h.ArrowRight=()=>Xi.handleExit({editor:e,mark:o})),c){const m=Object.fromEntries(Object.entries(c()).map(([b,y])=>[b,()=>y({editor:e})]));h={...h,...m}}const u=_E(h);l.push(u);const d=_e(o,"addInputRules",a);I0(o,e.options.enableInputRules)&&d&&n.push(...d());const f=_e(o,"addPasteRules",a);I0(o,e.options.enablePasteRules)&&f&&r.push(...f());const p=_e(o,"addProseMirrorPlugins",a);if(p){const m=p();l.push(...m)}return l}).flat();return[lO({editor:e,rules:n}),...gO({editor:e,rules:r}),...s]}get attributes(){return M0(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=$c(this.extensions);return Object.fromEntries(t.filter(n=>!!_e(n,"addNodeView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),s={name:n.name,options:n.options,storage:n.storage,editor:e,type:nn(n.name,this.schema)},o=_e(n,"addNodeView",s);if(!o)return[];const a=(l,c,h,u,d)=>{const f=Uf(l,r);return o()({node:l,view:c,getPos:h,decorations:u,innerDecorations:d,editor:e,extension:n,HTMLAttributes:f})};return[n.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const n={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Kf(e.name,this.schema)};e.type==="mark"&&(!((t=ot(_e(e,"keepOnSplit",n)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const r=_e(e,"onBeforeCreate",n),s=_e(e,"onCreate",n),o=_e(e,"onUpdate",n),a=_e(e,"onSelectionUpdate",n),l=_e(e,"onTransaction",n),c=_e(e,"onFocus",n),h=_e(e,"onBlur",n),u=_e(e,"onDestroy",n);r&&this.editor.on("beforeCreate",r),s&&this.editor.on("create",s),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),h&&this.editor.on("blur",h),u&&this.editor.on("destroy",u)})}}class Cn{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ot(_e(this,"addOptions",{name:this.name}))),this.storage=ot(_e(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Cn(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Kc(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Cn({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=ot(_e(t,"addOptions",{name:t.name})),t.storage=ot(_e(t,"addStorage",{name:t.name,options:t.options})),t}}function P0(i,e,t){const{from:n,to:r}=e,{blockSeparator:s=`
  
  `,textSerializers:o={}}=t||{};let a="";return i.nodesBetween(n,r,(l,c,h,u)=>{var d;l.isBlock&&c>n&&(a+=s);const f=o==null?void 0:o[l.type.name];if(f)return h&&(a+=f({node:l,pos:c,parent:h,index:u,range:e})),!1;l.isText&&(a+=(d=l==null?void 0:l.text)===null||d===void 0?void 0:d.slice(Math.max(n,c)-c,r-c))}),a}function L0(i){return Object.fromEntries(Object.entries(i.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const xO=Cn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new pn({key:new ei("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:i}=this,{state:e,schema:t}=i,{doc:n,selection:r}=e,{ranges:s}=r,o=Math.min(...s.map(h=>h.$from.pos)),a=Math.max(...s.map(h=>h.$to.pos)),l=L0(t);return P0(n,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),bO=()=>({editor:i,view:e})=>(requestAnimationFrame(()=>{var t;i.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),yO=(i=!1)=>({commands:e})=>e.setContent("",i),vO=()=>({state:i,tr:e,dispatch:t})=>{const{selection:n}=e,{ranges:r}=n;return t&&r.forEach(({$from:s,$to:o})=>{i.doc.nodesBetween(s.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:h}=e,u=c.resolve(h.map(l)),d=c.resolve(h.map(l+a.nodeSize)),f=u.blockRange(d);if(!f)return;const p=yo(f);if(a.type.isTextblock){const{defaultType:m}=u.parent.contentMatchAt(u.index());e.setNodeMarkup(f.start,m)}(p||p===0)&&e.lift(f,p)})}),!0},wO=i=>e=>i(e),kO=()=>({state:i,dispatch:e})=>w0(i,e),SO=(i,e)=>({editor:t,tr:n})=>{const{state:r}=t,s=r.doc.slice(i.from,i.to);n.deleteRange(i.from,i.to);const o=n.mapping.map(e);return n.insert(o,s.content),n.setSelection(new Ve(n.doc.resolve(o-1))),!0},CO=()=>({tr:i,dispatch:e})=>{const{selection:t}=i,n=t.$anchor.node();if(n.content.size>0)return!1;const r=i.selection.$anchor;for(let s=r.depth;s>0;s-=1)if(r.node(s).type===n.type){if(e){const a=r.before(s),l=r.after(s);i.delete(a,l).scrollIntoView()}return!0}return!1},AO=i=>({tr:e,state:t,dispatch:n})=>{const r=nn(i,t.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===r){if(n){const l=s.before(o),c=s.after(o);e.delete(l,c).scrollIntoView()}return!0}return!1},MO=i=>({tr:e,dispatch:t})=>{const{from:n,to:r}=i;return t&&e.delete(n,r),!0},TO=()=>({state:i,dispatch:e})=>jf(i,e),EO=()=>({commands:i})=>i.keyboardShortcut("Enter"),OO=()=>({state:i,dispatch:e})=>XE(i,e);function Zc(i,e,t={strict:!0}){const n=Object.keys(e);return n.length?n.every(r=>t.strict?e[r]===i[r]:Zf(e[r])?e[r].test(i[r]):e[r]===i[r]):!0}function R0(i,e,t={}){return i.find(n=>n.type===e&&Zc(Object.fromEntries(Object.keys(t).map(r=>[r,n.attrs[r]])),t))}function D0(i,e,t={}){return!!R0(i,e,t)}function Qf(i,e,t){var n;if(!i||!e)return;let r=i.parent.childAfter(i.parentOffset);if((!r.node||!r.node.marks.some(h=>h.type===e))&&(r=i.parent.childBefore(i.parentOffset)),!r.node||!r.node.marks.some(h=>h.type===e)||(t=t||((n=r.node.marks[0])===null||n===void 0?void 0:n.attrs),!R0([...r.node.marks],e,t)))return;let o=r.index,a=i.start()+r.offset,l=o+1,c=a+r.node.nodeSize;for(;o>0&&D0([...i.parent.child(o-1).marks],e,t);)o-=1,a-=i.parent.child(o).nodeSize;for(;l<i.parent.childCount&&D0([...i.parent.child(l).marks],e,t);)c+=i.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function Xr(i,e){if(typeof i=="string"){if(!e.marks[i])throw Error(`There is no mark type named '${i}'. Maybe you forgot to add the extension?`);return e.marks[i]}return i}const IO=(i,e={})=>({tr:t,state:n,dispatch:r})=>{const s=Xr(i,n.schema),{doc:o,selection:a}=t,{$from:l,from:c,to:h}=a;if(r){const u=Qf(l,s,e);if(u&&u.from<=c&&u.to>=h){const d=Ve.create(o,u.from,u.to);t.setSelection(d)}}return!0},PO=i=>e=>{const t=typeof i=="function"?i(e):i;for(let n=0;n<t.length;n+=1)if(t[n](e))return!0;return!1};function _0(i){return i instanceof Ve}function Rs(i=0,e=0,t=0){return Math.min(Math.max(i,e),t)}function N0(i,e=null){if(!e)return null;const t=it.atStart(i),n=it.atEnd(i);if(e==="start"||e===!0)return t;if(e==="end")return n;const r=t.from,s=n.to;return e==="all"?Ve.create(i,Rs(0,r,s),Rs(i.content.size,r,s)):Ve.create(i,Rs(e,r,s),Rs(e,r,s))}function LO(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function ep(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const RO=(i=null,e={})=>({editor:t,view:n,tr:r,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{(ep()||LO())&&n.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(n.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(n.hasFocus()&&i===null||i===!1)return!0;if(s&&i===null&&!_0(t.state.selection))return o(),!0;const a=N0(r.doc,i)||t.state.selection,l=t.state.selection.eq(a);return s&&(l||r.setSelection(a),l&&r.storedMarks&&r.setStoredMarks(r.storedMarks),o()),!0},DO=(i,e)=>t=>i.every((n,r)=>e(n,{...t,index:r})),_O=(i,e)=>({tr:t,commands:n})=>n.insertContentAt({from:t.selection.from,to:t.selection.to},i,e),z0=i=>{const e=i.childNodes;for(let t=e.length-1;t>=0;t-=1){const n=e[t];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?i.removeChild(n):n.nodeType===1&&z0(n)}return i};function Qc(i){const e=`<body>${i}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return z0(t)}function eh(i,e,t){if(i instanceof Er||i instanceof he)return i;t={slice:!0,parseOptions:{},...t};const n=typeof i=="object"&&i!==null,r=typeof i=="string";if(n)try{if(Array.isArray(i)&&i.length>0)return he.fromArray(i.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(i);return t.errorOnInvalidContent&&o.check(),o}catch(s){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",i,"Error:",s),eh("",e,t)}if(r){if(t.errorOnInvalidContent){let o=!1,a="";const l=new yy({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(t.slice?za.fromSchema(l).parseSlice(Qc(i),t.parseOptions):za.fromSchema(l).parse(Qc(i),t.parseOptions),t.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=za.fromSchema(e);return t.slice?s.parseSlice(Qc(i),t.parseOptions).content:s.parse(Qc(i),t.parseOptions)}return eh("",e,t)}function NO(i,e,t){const n=i.steps.length-1;if(n<e)return;const r=i.steps[n];if(!(r instanceof en||r instanceof tn))return;const s=i.mapping.maps[n];let o=0;s.forEach((a,l,c,h)=>{o===0&&(o=h)}),i.setSelection(it.near(i.doc.resolve(o),t))}const zO=i=>!("type"in i),FO=(i,e,t)=>({tr:n,dispatch:r,editor:s})=>{var o;if(r){t={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let a;try{a=eh(e,s.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions},errorOnInvalidContent:(o=t.errorOnInvalidContent)!==null&&o!==void 0?o:s.options.enableContentCheck})}catch(p){return s.emit("contentError",{editor:s,error:p,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}}),!1}let{from:l,to:c}=typeof i=="number"?{from:i,to:i}:{from:i.from,to:i.to},h=!0,u=!0;if((zO(a)?a:[a]).forEach(p=>{p.check(),h=h?p.isText&&p.marks.length===0:!1,u=u?p.isBlock:!1}),l===c&&u){const{parent:p}=n.doc.resolve(l);p.isTextblock&&!p.type.spec.code&&!p.childCount&&(l-=1,c+=1)}let f;if(h){if(Array.isArray(e))f=e.map(p=>p.text||"").join("");else if(e instanceof he){let p="";e.forEach(m=>{m.text&&(p+=m.text)}),f=p}else typeof e=="object"&&e&&e.text?f=e.text:f=e;n.insertText(f,l,c)}else f=a,n.replaceWith(l,c,f);t.updateSelection&&NO(n,n.steps.length-1,-1),t.applyInputRules&&n.setMeta("applyInputRules",{from:l,text:f}),t.applyPasteRules&&n.setMeta("applyPasteRules",{from:l,text:f})}return!0},BO=()=>({state:i,dispatch:e})=>FE(i,e),HO=()=>({state:i,dispatch:e})=>BE(i,e),XO=()=>({state:i,dispatch:e})=>p0(i,e),WO=()=>({state:i,dispatch:e})=>b0(i,e),YO=()=>({state:i,dispatch:e,tr:t})=>{try{const n=Lc(i.doc,i.selection.$from.pos,-1);return n==null?!1:(t.join(n,2),e&&e(t),!0)}catch{return!1}},jO=()=>({state:i,dispatch:e,tr:t})=>{try{const n=Lc(i.doc,i.selection.$from.pos,1);return n==null?!1:(t.join(n,2),e&&e(t),!0)}catch{return!1}},VO=()=>({state:i,dispatch:e})=>NE(i,e),$O=()=>({state:i,dispatch:e})=>zE(i,e);function F0(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function GO(i){const e=i.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let n,r,s,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))ep()||F0()?o=!0:r=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return n&&(t=`Alt-${t}`),r&&(t=`Ctrl-${t}`),o&&(t=`Meta-${t}`),s&&(t=`Shift-${t}`),t}const qO=i=>({editor:e,view:t,tr:n,dispatch:r})=>{const s=GO(i).split(/-(?!$)/),o=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{t.someProp("handleKeyDown",c=>c(t,a))});return l==null||l.steps.forEach(c=>{const h=c.map(n.mapping);h&&r&&n.maybeStep(h)}),!0};function Qa(i,e,t={}){const{from:n,to:r,empty:s}=i.selection,o=e?nn(e,i.schema):null,a=[];i.doc.nodesBetween(n,r,(u,d)=>{if(u.isText)return;const f=Math.max(n,d),p=Math.min(r,d+u.nodeSize);a.push({node:u,from:f,to:p})});const l=r-n,c=a.filter(u=>o?o.name===u.node.type.name:!0).filter(u=>Zc(u.node.attrs,t,{strict:!1}));return s?!!c.length:c.reduce((u,d)=>u+d.to-d.from,0)>=l}const UO=(i,e={})=>({state:t,dispatch:n})=>{const r=nn(i,t.schema);return Qa(t,r,e)?HE(t,n):!1},KO=()=>({state:i,dispatch:e})=>k0(i,e),JO=i=>({state:e,dispatch:t})=>{const n=nn(i,e.schema);return ZE(n)(e,t)},ZO=()=>({state:i,dispatch:e})=>v0(i,e);function th(i,e){return e.nodes[i]?"node":e.marks[i]?"mark":null}function B0(i,e){const t=typeof e=="string"?[e]:e;return Object.keys(i).reduce((n,r)=>(t.includes(r)||(n[r]=i[r]),n),{})}const QO=(i,e)=>({tr:t,state:n,dispatch:r})=>{let s=null,o=null;const a=th(typeof i=="string"?i:i.name,n.schema);return a?(a==="node"&&(s=nn(i,n.schema)),a==="mark"&&(o=Xr(i,n.schema)),r&&t.selection.ranges.forEach(l=>{n.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,h)=>{s&&s===c.type&&t.setNodeMarkup(h,void 0,B0(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(u=>{o===u.type&&t.addMark(h,h+c.nodeSize,o.create(B0(u.attrs,e)))})})}),!0):!1},eI=()=>({tr:i,dispatch:e})=>(e&&i.scrollIntoView(),!0),tI=()=>({tr:i,dispatch:e})=>{if(e){const t=new Qn(i.doc);i.setSelection(t)}return!0},nI=()=>({state:i,dispatch:e})=>m0(i,e),iI=()=>({state:i,dispatch:e})=>y0(i,e),rI=()=>({state:i,dispatch:e})=>jE(i,e),sI=()=>({state:i,dispatch:e})=>GE(i,e),oI=()=>({state:i,dispatch:e})=>$E(i,e);function tp(i,e,t={},n={}){return eh(i,e,{slice:!1,parseOptions:t,errorOnInvalidContent:n.errorOnInvalidContent})}const aI=(i,e=!1,t={},n={})=>({editor:r,tr:s,dispatch:o,commands:a})=>{var l,c;const{doc:h}=s;if(t.preserveWhitespace!=="full"){const u=tp(i,r.schema,t,{errorOnInvalidContent:(l=n.errorOnInvalidContent)!==null&&l!==void 0?l:r.options.enableContentCheck});return o&&s.replaceWith(0,h.content.size,u).setMeta("preventUpdate",!e),!0}return o&&s.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:h.content.size},i,{parseOptions:t,errorOnInvalidContent:(c=n.errorOnInvalidContent)!==null&&c!==void 0?c:r.options.enableContentCheck})};function H0(i,e){const t=Xr(e,i.schema),{from:n,to:r,empty:s}=i.selection,o=[];s?(i.storedMarks&&o.push(...i.storedMarks),o.push(...i.selection.$head.marks())):i.doc.nodesBetween(n,r,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===t.name);return a?{...a.attrs}:{}}function lI(i,e){const t=new jy(i);return e.forEach(n=>{n.steps.forEach(r=>{t.step(r)})}),t}function cI(i){for(let e=0;e<i.edgeCount;e+=1){const{type:t}=i.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function hI(i,e,t){const n=[];return i.nodesBetween(e.from,e.to,(r,s)=>{t(r)&&n.push({node:r,pos:s})}),n}function uI(i,e){for(let t=i.depth;t>0;t-=1){const n=i.node(t);if(e(n))return{pos:t>0?i.before(t):0,start:i.start(t),depth:t,node:n}}}function np(i){return e=>uI(e.$from,i)}function dI(i,e){const t={from:0,to:i.content.size};return P0(i,t,e)}function fI(i,e){const t=nn(e,i.schema),{from:n,to:r}=i.selection,s=[];i.doc.nodesBetween(n,r,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===t.name);return o?{...o.attrs}:{}}function X0(i,e){const t=th(typeof e=="string"?e:e.name,i.schema);return t==="node"?fI(i,e):t==="mark"?H0(i,e):{}}function pI(i,e=JSON.stringify){const t={};return i.filter(n=>{const r=e(n);return Object.prototype.hasOwnProperty.call(t,r)?!1:t[r]=!0})}function gI(i){const e=pI(i);return e.length===1?e:e.filter((t,n)=>!e.filter((s,o)=>o!==n).some(s=>t.oldRange.from>=s.oldRange.from&&t.oldRange.to<=s.oldRange.to&&t.newRange.from>=s.newRange.from&&t.newRange.to<=s.newRange.to))}function mI(i){const{mapping:e,steps:t}=i,n=[];return e.maps.forEach((r,s)=>{const o=[];if(r.ranges.length)r.forEach((a,l)=>{o.push({from:a,to:l})});else{const{from:a,to:l}=t[s];if(a===void 0||l===void 0)return;o.push({from:a,to:l})}o.forEach(({from:a,to:l})=>{const c=e.slice(s).map(a,-1),h=e.slice(s).map(l),u=e.invert().map(c,-1),d=e.invert().map(h);n.push({oldRange:{from:u,to:d},newRange:{from:c,to:h}})})}),gI(n)}function ip(i,e,t){const n=[];return i===e?t.resolve(i).marks().forEach(r=>{const s=t.resolve(i),o=Qf(s,r.type);o&&n.push({mark:r,...o})}):t.nodesBetween(i,e,(r,s)=>{!r||(r==null?void 0:r.nodeSize)===void 0||n.push(...r.marks.map(o=>({from:s,to:s+r.nodeSize,mark:o})))}),n}function nh(i,e,t){return Object.fromEntries(Object.entries(t).filter(([n])=>{const r=i.find(s=>s.type===e&&s.name===n);return r?r.attribute.keepOnSplit:!1}))}function rp(i,e,t={}){const{empty:n,ranges:r}=i.selection,s=e?Xr(e,i.schema):null;if(n)return!!(i.storedMarks||i.selection.$from.marks()).filter(u=>s?s.name===u.type.name:!0).find(u=>Zc(u.attrs,t,{strict:!1}));let o=0;const a=[];if(r.forEach(({$from:u,$to:d})=>{const f=u.pos,p=d.pos;i.doc.nodesBetween(f,p,(m,b)=>{if(!m.isText&&!m.marks.length)return;const y=Math.max(f,b),w=Math.min(p,b+m.nodeSize),C=w-y;o+=C,a.push(...m.marks.map(T=>({mark:T,from:y,to:w})))})}),o===0)return!1;const l=a.filter(u=>s?s.name===u.mark.type.name:!0).filter(u=>Zc(u.mark.attrs,t,{strict:!1})).reduce((u,d)=>u+d.to-d.from,0),c=a.filter(u=>s?u.mark.type!==s&&u.mark.type.excludes(s):!0).reduce((u,d)=>u+d.to-d.from,0);return(l>0?l+c:l)>=o}function xI(i,e,t={}){if(!e)return Qa(i,null,t)||rp(i,null,t);const n=th(e,i.schema);return n==="node"?Qa(i,e,t):n==="mark"?rp(i,e,t):!1}function W0(i,e){const{nodeExtensions:t}=$c(e),n=t.find(o=>o.name===i);if(!n)return!1;const r={name:n.name,options:n.options,storage:n.storage},s=ot(_e(n,"group",r));return typeof s!="string"?!1:s.split(" ").includes("list")}function sp(i,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var n;if(t){if(i.type.name==="hardBreak")return!0;if(i.isText)return/^\s*$/m.test((n=i.text)!==null&&n!==void 0?n:"")}if(i.isText)return!i.text;if(i.isAtom||i.isLeaf)return!1;if(i.content.childCount===0)return!0;if(e){let r=!0;return i.content.forEach(s=>{r!==!1&&(sp(s,{ignoreWhitespace:t,checkChildren:e})||(r=!1))}),r}return!1}function bI(i){return i instanceof Xe}function yI(i,e,t){var n;const{selection:r}=e;let s=null;if(_0(r)&&(s=r.$cursor),s){const a=(n=i.storedMarks)!==null&&n!==void 0?n:s.marks();return!!t.isInSet(a)||!a.some(l=>l.type.excludes(t))}const{ranges:o}=r;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?i.doc.inlineContent&&i.doc.type.allowsMarkType(t):!1;return i.doc.nodesBetween(a.pos,l.pos,(h,u,d)=>{if(c)return!1;if(h.isInline){const f=!d||d.type.allowsMarkType(t),p=!!t.isInSet(h.marks)||!h.marks.some(m=>m.type.excludes(t));c=f&&p}return!c}),c})}const vI=(i,e={})=>({tr:t,state:n,dispatch:r})=>{const{selection:s}=t,{empty:o,ranges:a}=s,l=Xr(i,n.schema);if(r)if(o){const c=H0(n,l);t.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const h=c.$from.pos,u=c.$to.pos;n.doc.nodesBetween(h,u,(d,f)=>{const p=Math.max(f,h),m=Math.min(f+d.nodeSize,u);d.marks.find(y=>y.type===l)?d.marks.forEach(y=>{l===y.type&&t.addMark(p,m,l.create({...y.attrs,...e}))}):t.addMark(p,m,l.create(e))})});return yI(n,t,l)},wI=(i,e)=>({tr:t})=>(t.setMeta(i,e),!0),kI=(i,e={})=>({state:t,dispatch:n,chain:r})=>{const s=nn(i,t.schema);let o;return t.selection.$anchor.sameParent(t.selection.$head)&&(o=t.selection.$anchor.parent.attrs),s.isTextblock?r().command(({commands:a})=>A0(s,{...o,...e})(t)?!0:a.clearNodes()).command(({state:a})=>A0(s,{...o,...e})(a,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},SI=i=>({tr:e,dispatch:t})=>{if(t){const{doc:n}=e,r=Rs(i,0,n.content.size),s=Xe.create(n,r);e.setSelection(s)}return!0},CI=i=>({tr:e,dispatch:t})=>{if(t){const{doc:n}=e,{from:r,to:s}=typeof i=="number"?{from:i,to:i}:i,o=Ve.atStart(n).from,a=Ve.atEnd(n).to,l=Rs(r,o,a),c=Rs(s,o,a),h=Ve.create(n,l,c);e.setSelection(h)}return!0},AI=i=>({state:e,dispatch:t})=>{const n=nn(i,e.schema);return tO(n)(e,t)};function Y0(i,e){const t=i.storedMarks||i.selection.$to.parentOffset&&i.selection.$from.marks();if(t){const n=t.filter(r=>e==null?void 0:e.includes(r.type.name));i.tr.ensureMarks(n)}}const MI=({keepMarks:i=!0}={})=>({tr:e,state:t,dispatch:n,editor:r})=>{const{selection:s,doc:o}=e,{$from:a,$to:l}=s,c=r.extensionManager.attributes,h=nh(c,a.node().type.name,a.node().attrs);if(s instanceof Xe&&s.node.isBlock)return!a.parentOffset||!or(o,a.pos)?!1:(n&&(i&&Y0(t,r.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const u=l.parentOffset===l.parent.content.size,d=a.depth===0?void 0:cI(a.node(-1).contentMatchAt(a.indexAfter(-1)));let f=u&&d?[{type:d,attrs:h}]:void 0,p=or(e.doc,e.mapping.map(a.pos),1,f);if(!f&&!p&&or(e.doc,e.mapping.map(a.pos),1,d?[{type:d}]:void 0)&&(p=!0,f=d?[{type:d,attrs:h}]:void 0),n){if(p&&(s instanceof Ve&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,f),d&&!u&&!a.parentOffset&&a.parent.type!==d)){const m=e.mapping.map(a.before()),b=e.doc.resolve(m);a.node(-1).canReplaceWith(b.index(),b.index()+1,d)&&e.setNodeMarkup(e.mapping.map(a.before()),d)}i&&Y0(t,r.extensionManager.splittableMarks),e.scrollIntoView()}return p},TI=(i,e={})=>({tr:t,state:n,dispatch:r,editor:s})=>{var o;const a=nn(i,n.schema),{$from:l,$to:c}=n.selection,h=n.selection.node;if(h&&h.isBlock||l.depth<2||!l.sameParent(c))return!1;const u=l.node(-1);if(u.type!==a)return!1;const d=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(r){let y=he.empty;const w=l.index(-1)?1:l.index(-2)?2:3;for(let I=l.depth-w;I>=l.depth-3;I-=1)y=he.from(l.node(I).copy(y));const C=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,T={...nh(d,l.node().type.name,l.node().attrs),...e},S=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(T))||void 0;y=y.append(he.from(a.createAndFill(null,S)||void 0));const E=l.before(l.depth-(w-1));t.replace(E,l.after(-C),new Le(y,4-w,0));let M=-1;t.doc.nodesBetween(E,t.doc.content.size,(I,P)=>{if(M>-1)return!1;I.isTextblock&&I.content.size===0&&(M=P+1)}),M>-1&&t.setSelection(Ve.near(t.doc.resolve(M))),t.scrollIntoView()}return!0}const f=c.pos===l.end()?u.contentMatchAt(0).defaultType:null,p={...nh(d,u.type.name,u.attrs),...e},m={...nh(d,l.node().type.name,l.node().attrs),...e};t.delete(l.pos,c.pos);const b=f?[{type:a,attrs:p},{type:f,attrs:m}]:[{type:a,attrs:p}];if(!or(t.doc,l.pos,2))return!1;if(r){const{selection:y,storedMarks:w}=n,{splittableMarks:C}=s.extensionManager,T=w||y.$to.parentOffset&&y.$from.marks();if(t.split(l.pos,2,b).scrollIntoView(),!T||!r)return!0;const S=T.filter(E=>C.includes(E.type.name));t.ensureMarks(S)}return!0},op=(i,e)=>{const t=np(o=>o.type===e)(i.selection);if(!t)return!0;const n=i.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(n===void 0)return!0;const r=i.doc.nodeAt(n);return t.node.type===(r==null?void 0:r.type)&&Pr(i.doc,t.pos)&&i.join(t.pos),!0},ap=(i,e)=>{const t=np(o=>o.type===e)(i.selection);if(!t)return!0;const n=i.doc.resolve(t.start).after(t.depth);if(n===void 0)return!0;const r=i.doc.nodeAt(n);return t.node.type===(r==null?void 0:r.type)&&Pr(i.doc,n)&&i.join(n),!0};var EI=Object.freeze({__proto__:null,blur:bO,clearContent:yO,clearNodes:vO,command:wO,createParagraphNear:kO,cut:SO,deleteCurrentNode:CO,deleteNode:AO,deleteRange:MO,deleteSelection:TO,enter:EO,exitCode:OO,extendMarkRange:IO,first:PO,focus:RO,forEach:DO,insertContent:_O,insertContentAt:FO,joinBackward:XO,joinDown:HO,joinForward:WO,joinItemBackward:YO,joinItemForward:jO,joinTextblockBackward:VO,joinTextblockForward:$O,joinUp:BO,keyboardShortcut:qO,lift:UO,liftEmptyBlock:KO,liftListItem:JO,newlineInCode:ZO,resetAttributes:QO,scrollIntoView:eI,selectAll:tI,selectNodeBackward:nI,selectNodeForward:iI,selectParentNode:rI,selectTextblockEnd:sI,selectTextblockStart:oI,setContent:aI,setMark:vI,setMeta:wI,setNode:kI,setNodeSelection:SI,setTextSelection:CI,sinkListItem:AI,splitBlock:MI,splitListItem:TI,toggleList:(i,e,t,n={})=>({editor:r,tr:s,state:o,dispatch:a,chain:l,commands:c,can:h})=>{const{extensions:u,splittableMarks:d}=r.extensionManager,f=nn(i,o.schema),p=nn(e,o.schema),{selection:m,storedMarks:b}=o,{$from:y,$to:w}=m,C=y.blockRange(w),T=b||m.$to.parentOffset&&m.$from.marks();if(!C)return!1;const S=np(E=>W0(E.type.name,u))(m);if(C.depth>=1&&S&&C.depth-S.depth<=1){if(S.node.type===f)return c.liftListItem(p);if(W0(S.node.type.name,u)&&f.validContent(S.node.content)&&a)return l().command(()=>(s.setNodeMarkup(S.pos,f),!0)).command(()=>op(s,f)).command(()=>ap(s,f)).run()}return!t||!T||!a?l().command(()=>h().wrapInList(f,n)?!0:c.clearNodes()).wrapInList(f,n).command(()=>op(s,f)).command(()=>ap(s,f)).run():l().command(()=>{const E=h().wrapInList(f,n),M=T.filter(I=>d.includes(I.type.name));return s.ensureMarks(M),E?!0:c.clearNodes()}).wrapInList(f,n).command(()=>op(s,f)).command(()=>ap(s,f)).run()},toggleMark:(i,e={},t={})=>({state:n,commands:r})=>{const{extendEmptyMarkRange:s=!1}=t,o=Xr(i,n.schema);return rp(n,o,e)?r.unsetMark(o,{extendEmptyMarkRange:s}):r.setMark(o,e)},toggleNode:(i,e,t={})=>({state:n,commands:r})=>{const s=nn(i,n.schema),o=nn(e,n.schema),a=Qa(n,s,t);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),a?r.setNode(o,l):r.setNode(s,{...l,...t})},toggleWrap:(i,e={})=>({state:t,commands:n})=>{const r=nn(i,t.schema);return Qa(t,r,e)?n.lift(r):n.wrapIn(r,e)},undoInputRule:()=>({state:i,dispatch:e})=>{const t=i.plugins;for(let n=0;n<t.length;n+=1){const r=t[n];let s;if(r.spec.isInputRules&&(s=r.getState(i))){if(e){const o=i.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,i.schema.text(s.text,l))}else o.delete(s.from,s.to)}return!0}}return!1},unsetAllMarks:()=>({tr:i,dispatch:e})=>{const{selection:t}=i,{empty:n,ranges:r}=t;return n||e&&r.forEach(s=>{i.removeMark(s.$from.pos,s.$to.pos)}),!0},unsetMark:(i,e={})=>({tr:t,state:n,dispatch:r})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=t,l=Xr(i,n.schema),{$from:c,empty:h,ranges:u}=a;if(!r)return!0;if(h&&o){let{from:d,to:f}=a;const p=(s=c.marks().find(b=>b.type===l))===null||s===void 0?void 0:s.attrs,m=Qf(c,l,p);m&&(d=m.from,f=m.to),t.removeMark(d,f,l)}else u.forEach(d=>{t.removeMark(d.$from.pos,d.$to.pos,l)});return t.removeStoredMark(l),!0},updateAttributes:(i,e={})=>({tr:t,state:n,dispatch:r})=>{let s=null,o=null;const a=th(typeof i=="string"?i:i.name,n.schema);return a?(a==="node"&&(s=nn(i,n.schema)),a==="mark"&&(o=Xr(i,n.schema)),r&&t.selection.ranges.forEach(l=>{const c=l.$from.pos,h=l.$to.pos;let u,d,f,p;t.selection.empty?n.doc.nodesBetween(c,h,(m,b)=>{s&&s===m.type&&(f=Math.max(b,c),p=Math.min(b+m.nodeSize,h),u=b,d=m)}):n.doc.nodesBetween(c,h,(m,b)=>{b<c&&s&&s===m.type&&(f=Math.max(b,c),p=Math.min(b+m.nodeSize,h),u=b,d=m),b>=c&&b<=h&&(s&&s===m.type&&t.setNodeMarkup(b,void 0,{...m.attrs,...e}),o&&m.marks.length&&m.marks.forEach(y=>{if(o===y.type){const w=Math.max(b,c),C=Math.min(b+m.nodeSize,h);t.addMark(w,C,o.create({...y.attrs,...e}))}}))}),d&&(u!==void 0&&t.setNodeMarkup(u,void 0,{...d.attrs,...e}),o&&d.marks.length&&d.marks.forEach(m=>{o===m.type&&t.addMark(f,p,o.create({...m.attrs,...e}))}))}),!0):!1},wrapIn:(i,e={})=>({state:t,dispatch:n})=>{const r=nn(i,t.schema);return qE(r,e)(t,n)},wrapInList:(i,e={})=>({state:t,dispatch:n})=>{const r=nn(i,t.schema);return UE(r,e)(t,n)}});const OI=Cn.create({name:"commands",addCommands(){return{...EI}}}),II=Cn.create({name:"drop",addProseMirrorPlugins(){return[new pn({key:new ei("tiptapDrop"),props:{handleDrop:(i,e,t,n)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:n})}}})]}}),PI=Cn.create({name:"editable",addProseMirrorPlugins(){return[new pn({key:new ei("editable"),props:{editable:()=>this.editor.options.editable}})]}}),LI=new ei("focusEvents"),RI=Cn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:i}=this;return[new pn({key:LI,props:{handleDOMEvents:{focus:(e,t)=>{i.isFocused=!0;const n=i.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,t)=>{i.isFocused=!1;const n=i.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),DI=Cn.create({name:"keymap",addKeyboardShortcuts(){const i=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:h,$anchor:u}=l,{pos:d,parent:f}=u,p=u.parent.isTextblock&&d>0?a.doc.resolve(d-1):u,m=p.parent.type.spec.isolating,b=u.pos-u.parentOffset,y=m&&p.parent.childCount===1?b===u.pos:it.atStart(c).from===d;return!h||!f.type.isTextblock||f.textContent.length||!y||y&&u.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:i,"Mod-Backspace":i,"Shift-Backspace":i,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},r={...n},s={...n,"Ctrl-h":i,"Alt-Backspace":i,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return ep()||F0()?s:r},addProseMirrorPlugins(){return[new pn({key:new ei("clearDocument"),appendTransaction:(i,e,t)=>{if(i.some(m=>m.getMeta("composition")))return;const n=i.some(m=>m.docChanged)&&!e.doc.eq(t.doc),r=i.some(m=>m.getMeta("preventClearDocument"));if(!n||r)return;const{empty:s,from:o,to:a}=e.selection,l=it.atStart(e.doc).from,c=it.atEnd(e.doc).to;if(s||!(o===l&&a===c)||!sp(t.doc))return;const d=t.tr,f=jc({state:t,transaction:d}),{commands:p}=new Vc({editor:this.editor,state:f});if(p.clearNodes(),!!d.steps.length)return d}})]}}),_I=Cn.create({name:"paste",addProseMirrorPlugins(){return[new pn({key:new ei("tiptapPaste"),props:{handlePaste:(i,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),NI=Cn.create({name:"tabindex",addProseMirrorPlugins(){return[new pn({key:new ei("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Ds{get name(){return this.node.type.name}constructor(e,t,n=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=t,this.currentNode=r}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:t,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Ds(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Ds(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Ds(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,n)=>{const r=t.isBlock&&!t.isTextblock,s=t.isAtom&&!t.isText,o=this.pos+n+(s?0:1),a=this.resolvedPos.doc.resolve(o);if(!r&&a.depth<=this.depth)return;const l=new Ds(a,this.editor,r,r?t:null);r&&(l.actualDepth=this.depth+1),e.push(new Ds(a,this.editor,r,r?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let n=null,r=this.parent;for(;r&&!n;){if(r.node.type.name===e)if(Object.keys(t).length>0){const s=r.node.attrs,o=Object.keys(t);for(let a=0;a<o.length;a+=1){const l=o[a];if(s[l]!==t[l])break}}else n=r;r=r.parent}return n}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},n=!1){let r=[];if(!this.children||this.children.length===0)return r;const s=Object.keys(t);return this.children.forEach(o=>{n&&r.length>0||(o.node.type.name===e&&s.every(l=>t[l]===o.node.attrs[l])&&r.push(o),!(n&&r.length>0)&&(r=r.concat(o.querySelectorAll(e,t,n))))}),r}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const zI=`.ProseMirror {
    position: relative;
  }
  
  .ProseMirror {
    word-wrap: break-word;
    white-space: pre-wrap;
    white-space: break-spaces;
    -webkit-font-variant-ligatures: none;
    font-variant-ligatures: none;
    font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
  }
  
  .ProseMirror [contenteditable="false"] {
    white-space: normal;
  }
  
  .ProseMirror [contenteditable="false"] [contenteditable="true"] {
    white-space: pre-wrap;
  }
  
  .ProseMirror pre {
    white-space: pre-wrap;
  }
  
  img.ProseMirror-separator {
    display: inline !important;
    border: none !important;
    margin: 0 !important;
    width: 0 !important;
    height: 0 !important;
  }
  
  .ProseMirror-gapcursor {
    display: none;
    pointer-events: none;
    position: absolute;
    margin: 0;
  }
  
  .ProseMirror-gapcursor:after {
    content: "";
    display: block;
    position: absolute;
    top: -2px;
    width: 20px;
    border-top: 1px solid black;
    animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
  }
  
  @keyframes ProseMirror-cursor-blink {
    to {
      visibility: hidden;
    }
  }
  
  .ProseMirror-hideselection *::selection {
    background: transparent;
  }
  
  .ProseMirror-hideselection *::-moz-selection {
    background: transparent;
  }
  
  .ProseMirror-hideselection * {
    caret-color: transparent;
  }
  
  .ProseMirror-focused .ProseMirror-gapcursor {
    display: block;
  }
  
  .tippy-box[data-animation=fade][data-state=hidden] {
    opacity: 0
  }`;function FI(i,e,t){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute("data-tiptap-style",""),r.innerHTML=i,document.getElementsByTagName("head")[0].appendChild(r),r}let BI=class extends nO{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:n,moved:r})=>this.options.onDrop(t,n,r)),this.on("paste",({event:t,slice:n})=>this.options.onPaste(t,n)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=FI(zI,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const n=T0(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;n=t.filter(a=>!a.key.startsWith(o))}),t.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var e,t;const r=[...this.options.enableCoreExtensions?[PI,xO.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),OI,RI,DI,NI,II,_I].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new Po(r,this)}createCommandManager(){this.commandManager=new Vc({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=tp(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),t=tp(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const n=N0(t,this.options.autofocus);this.view=new ME(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:So.create({doc:t,selection:n||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const t=this.state.apply(e),n=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const r=e.getMeta("focus"),s=e.getMeta("blur");r&&this.emit("focus",{editor:this,event:r.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return X0(this.state,e)}isActive(e,t){const n=typeof e=="string"?e:null,r=typeof e=="string"?t:e;return xI(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Jf(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`
  
  `,textSerializers:n={}}=e||{};return dI(this.state.doc,{blockSeparator:t,textSerializers:{...L0(this.schema),...n}})}get isEmpty(){return sp(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var n;return((n=this.$doc)===null||n===void 0?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return((n=this.$doc)===null||n===void 0?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Ds(t,this)}get $doc(){return this.$pos(0)}};function Lo(i){return new Gc({find:i.find,handler:({state:e,range:t,match:n})=>{const r=ot(i.getAttributes,void 0,n);if(r===!1||r===null)return null;const{tr:s}=e,o=n[n.length-1],a=n[0];if(o){const l=a.search(/\S/),c=t.from+a.indexOf(o),h=c+o.length;if(ip(t.from,t.to,e.doc).filter(f=>f.mark.type.excluded.find(m=>m===i.type&&m!==f.mark.type)).filter(f=>f.to>c).length)return null;h<t.to&&s.delete(h,t.to),c>t.from&&s.delete(t.from+l,c);const d=t.from+l+o.length;s.addMark(t.from+l,d,i.type.create(r||{})),s.removeStoredMark(i.type)}}})}function HI(i){return new Gc({find:i.find,handler:({state:e,range:t,match:n})=>{const r=ot(i.getAttributes,void 0,n)||{},{tr:s}=e,o=t.from;let a=t.to;const l=i.type.create(r);if(n[1]){const c=n[0].lastIndexOf(n[1]);let h=o+c;h>a?h=a:a=h+n[1].length;const u=n[0][n[0].length-1];s.insertText(u,o+n[0].length-1),s.replaceWith(h,a,l)}else if(n[0]){const c=i.type.isInline?o:o-1;s.insert(c,i.type.create(r)).delete(s.mapping.map(o),s.mapping.map(a))}s.scrollIntoView()}})}function lp(i){return new Gc({find:i.find,handler:({state:e,range:t,match:n})=>{const r=e.doc.resolve(t.from),s=ot(i.getAttributes,void 0,n)||{};if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),i.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,i.type,s)}})}function el(i){return new Gc({find:i.find,handler:({state:e,range:t,match:n,chain:r})=>{const s=ot(i.getAttributes,void 0,n)||{},o=e.tr.delete(t.from,t.to),l=o.doc.resolve(t.from).blockRange(),c=l&&uf(l,i.type,s);if(!c)return null;if(o.wrap(l,c),i.keepMarks&&i.editor){const{selection:u,storedMarks:d}=e,{splittableMarks:f}=i.editor.extensionManager,p=d||u.$to.parentOffset&&u.$from.marks();if(p){const m=p.filter(b=>f.includes(b.type.name));o.ensureMarks(m)}}if(i.keepAttributes){const u=i.type.name==="bulletList"||i.type.name==="orderedList"?"listItem":"taskList";r().updateAttributes(u,s).run()}const h=o.doc.resolve(t.from-1).nodeBefore;h&&h.type===i.type&&Pr(o.doc,t.from-1)&&(!i.joinPredicate||i.joinPredicate(n,h))&&o.join(t.from-1)}})}let Ti=class xg{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ot(_e(this,"addOptions",{name:this.name}))),this.storage=ot(_e(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new xg(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Kc(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new xg(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=ot(_e(t,"addOptions",{name:t.name})),t.storage=ot(_e(t,"addStorage",{name:t.name,options:t.options})),t}};function _s(i){return new uO({find:i.find,handler:({state:e,range:t,match:n,pasteEvent:r})=>{const s=ot(i.getAttributes,void 0,n,r);if(s===!1||s===null)return null;const{tr:o}=e,a=n[n.length-1],l=n[0];let c=t.to;if(a){const h=l.search(/\S/),u=t.from+l.indexOf(a),d=u+a.length;if(ip(t.from,t.to,e.doc).filter(p=>p.mark.type.excluded.find(b=>b===i.type&&b!==p.mark.type)).filter(p=>p.to>u).length)return null;d<t.to&&o.delete(d,t.to),u>t.from&&o.delete(t.from+h,u),c=t.from+h+a.length,o.addMark(t.from+h,c,i.type.create(s||{})),o.removeStoredMark(i.type)}}})}function j0(i){return Gg((e,t)=>({get(){return e(),i},set(n){i=n,requestAnimationFrame(()=>{requestAnimationFrame(()=>{t()})})}}))}let XI=class extends BI{constructor(e={}){return super(e),this.contentComponent=null,this.appContext=null,this.reactiveState=j0(this.view.state),this.reactiveExtensionStorage=j0(this.extensionStorage),this.on("beforeTransaction",({nextState:t})=>{this.reactiveState.value=t,this.reactiveExtensionStorage.value=this.extensionStorage}),Vg(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(e,t){const n=super.registerPlugin(e,t);return this.reactiveState&&(this.reactiveState.value=n),n}unregisterPlugin(e){const t=super.unregisterPlugin(e);return this.reactiveState&&t&&(this.reactiveState.value=t),t}};const WI=ia({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(i){const e=Yt(),t=pa();return sS(()=>{const n=i.editor;n&&n.options.element&&e.value&&Ks(()=>{if(!e.value||!n.options.element.firstChild)return;const r=vn(e.value);e.value.append(...n.options.element.childNodes),n.contentComponent=t.ctx._,t&&(n.appContext={...t.appContext,provides:t.provides}),n.setOptions({element:r}),n.createNodeViews()})}),oa(()=>{const n=i.editor;n&&(n.contentComponent=null,n.appContext=null)}),{rootEl:e}},render(){return io("div",{ref:i=>{this.rootEl=i}})}}),YI=/^\s*>\s$/,jI=Ti.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:i}){return["blockquote",rn(this.options.HTMLAttributes,i),0]},addCommands(){return{setBlockquote:()=>({commands:i})=>i.wrapIn(this.name),toggleBlockquote:()=>({commands:i})=>i.toggleWrap(this.name),unsetBlockquote:()=>({commands:i})=>i.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[el({find:YI,type:this.type})]}}),VI=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,$I=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,GI=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,qI=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,UI=Xi.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:i=>i.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:i=>i.type.name===this.name},{style:"font-weight",getAttrs:i=>/^(bold(er)?|[5-9]\d{2,})$/.test(i)&&null}]},renderHTML({HTMLAttributes:i}){return["strong",rn(this.options.HTMLAttributes,i),0]},addCommands(){return{setBold:()=>({commands:i})=>i.setMark(this.name),toggleBold:()=>({commands:i})=>i.toggleMark(this.name),unsetBold:()=>({commands:i})=>i.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Lo({find:VI,type:this.type}),Lo({find:GI,type:this.type})]},addPasteRules(){return[_s({find:$I,type:this.type}),_s({find:qI,type:this.type})]}}),KI="listItem",V0="textStyle",$0=/^\s*([-+*])\s$/,JI=Ti.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:i}){return["ul",rn(this.options.HTMLAttributes,i),0]},addCommands(){return{toggleBulletList:()=>({commands:i,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(KI,this.editor.getAttributes(V0)).run():i.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let i=el({find:$0,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(i=el({find:$0,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(V0),editor:this.editor})),[i]}}),ZI=/(^|[^`])`([^`]+)`(?!`)/,QI=/(^|[^`])`([^`]+)`(?!`)/g,e2=Xi.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:i}){return["code",rn(this.options.HTMLAttributes,i),0]},addCommands(){return{setCode:()=>({commands:i})=>i.setMark(this.name),toggleCode:()=>({commands:i})=>i.toggleMark(this.name),unsetCode:()=>({commands:i})=>i.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Lo({find:ZI,type:this.type})]},addPasteRules(){return[_s({find:QI,type:this.type})]}}),t2=/^```([a-z]+)?[\s\n]$/,n2=/^~~~([a-z]+)?[\s\n]$/,i2=Ti.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:i=>{var e;const{languageClassPrefix:t}=this.options,s=[...((e=i.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(t)).map(o=>o.replace(t,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:i,HTMLAttributes:e}){return["pre",rn(this.options.HTMLAttributes,e),["code",{class:i.attrs.language?this.options.languageClassPrefix+i.attrs.language:null},0]]},addCommands(){return{setCodeBlock:i=>({commands:e})=>e.setNode(this.name,i),toggleCodeBlock:i=>({commands:e})=>e.toggleNode(this.name,"paragraph",i)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:i,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!i||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:i})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=i,{selection:t}=e,{$from:n,empty:r}=t;if(!r||n.parent.type!==this.type)return!1;const s=n.parentOffset===n.parent.nodeSize-2,o=n.parent.textContent.endsWith(`
  
  `);return!s||!o?!1:i.chain().command(({tr:a})=>(a.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:i})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=i,{selection:t,doc:n}=e,{$from:r,empty:s}=t;if(!s||r.parent.type!==this.type||!(r.parentOffset===r.parent.nodeSize-2))return!1;const a=r.after();return a===void 0?!1:n.nodeAt(a)?i.commands.command(({tr:c})=>(c.setSelection(it.near(n.resolve(a))),!0)):i.commands.exitCode()}}},addInputRules(){return[lp({find:t2,type:this.type,getAttributes:i=>({language:i[1]})}),lp({find:n2,type:this.type,getAttributes:i=>({language:i[1]})})]},addProseMirrorPlugins(){return[new pn({key:new ei("codeBlockVSCodeHandler"),props:{handlePaste:(i,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),r=n?JSON.parse(n):void 0,s=r==null?void 0:r.mode;if(!t||!s)return!1;const{tr:o,schema:a}=i.state,l=a.text(t.replace(/\r\n?/g,`
  `));return o.replaceSelectionWith(this.type.create({language:s},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(Ve.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),i.dispatch(o),!0}}})]}}),r2=Ti.create({name:"doc",topNode:!0,content:"block+"});function s2(i={}){return new pn({view(e){return new o2(e,i)}})}class o2{constructor(e,t){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=t.width)!==null&&n!==void 0?n:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let s=o=>{this[r](o)};return e.dom.addEventListener(r,s),{name:r,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,n;if(t){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let c=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(c){let h=c.getBoundingClientRect(),u=a?h.bottom:h.top;a&&l&&(u=(u+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),n={left:h.left,right:h.right,top:u-this.width/2,bottom:u+this.width/2}}}}if(!n){let a=this.editorView.coordsAtPos(this.cursorPos);n={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let r=this.editorView.dom.offsetParent;this.element||(this.element=r.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let s,o;if(!r||r==document.body&&getComputedStyle(r).position=="static")s=-pageXOffset,o=-pageYOffset;else{let a=r.getBoundingClientRect();s=a.left-r.scrollLeft,o=a.top-r.scrollTop}this.element.style.left=n.left-s+"px",this.element.style.top=n.top-o+"px",this.element.style.width=n.right-n.left+"px",this.element.style.height=n.bottom-n.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),r=n&&n.type.spec.disableDropCursor,s=typeof r=="function"?r(this.editorView,t,e):r;if(t&&!s){let o=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=By(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const a2=Cn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[s2(this.options)]}});class Ht extends it{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return Ht.valid(n)?new Ht(n):it.near(n)}content(){return Le.empty}eq(e){return e instanceof Ht&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Ht(e.resolve(t.pos))}getBookmark(){return new cp(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!l2(e)||!c2(e))return!1;let n=t.type.spec.allowGapCursor;if(n!=null)return n;let r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,t,n=!1){e:for(;;){if(!n&&Ht.valid(e))return e;let r=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(t>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(t>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;r+=t;let l=e.doc.resolve(r);if(Ht.valid(l))return l}for(;;){let o=t>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!Xe.isSelectable(s)){e=e.doc.resolve(r+s.nodeSize*t),n=!1;continue e}break}s=o,r+=t;let a=e.doc.resolve(r);if(Ht.valid(a))return a}return null}}}Ht.prototype.visible=!1,Ht.findFrom=Ht.findGapCursorFrom,it.jsonID("gapcursor",Ht);class cp{constructor(e){this.pos=e}map(e){return new cp(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return Ht.valid(t)?new Ht(t):it.near(t)}}function l2(i){for(let e=i.depth;e>=0;e--){let t=i.index(e),n=i.node(e);if(t==0){if(n.type.spec.isolating)return!0;continue}for(let r=n.child(t-1);;r=r.lastChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function c2(i){for(let e=i.depth;e>=0;e--){let t=i.indexAfter(e),n=i.node(e);if(t==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let r=n.child(t);;r=r.firstChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function h2(){return new pn({props:{decorations:p2,createSelectionBetween(i,e,t){return e.pos==t.pos&&Ht.valid(t)?new Ht(t):null},handleClick:d2,handleKeyDown:u2,handleDOMEvents:{beforeinput:f2}}})}const u2=d0({ArrowLeft:ih("horiz",-1),ArrowRight:ih("horiz",1),ArrowUp:ih("vert",-1),ArrowDown:ih("vert",1)});function ih(i,e){const t=i=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,r,s){let o=n.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof Ve){if(!s.endOfTextblock(t)||a.depth==0)return!1;l=!1,a=n.doc.resolve(e>0?a.after():a.before())}let c=Ht.findGapCursorFrom(a,e,l);return c?(r&&r(n.tr.setSelection(new Ht(c))),!0):!1}}function d2(i,e,t){if(!i||!i.editable)return!1;let n=i.state.doc.resolve(e);if(!Ht.valid(n))return!1;let r=i.posAtCoords({left:t.clientX,top:t.clientY});return r&&r.inside>-1&&Xe.isSelectable(i.state.doc.nodeAt(r.inside))?!1:(i.dispatch(i.state.tr.setSelection(new Ht(n))),!0)}function f2(i,e){if(e.inputType!="insertCompositionText"||!(i.state.selection instanceof Ht))return!1;let{$from:t}=i.state.selection,n=t.parent.contentMatchAt(t.index()).findWrapping(i.state.schema.nodes.text);if(!n)return!1;let r=he.empty;for(let o=n.length-1;o>=0;o--)r=he.from(n[o].createAndFill(null,r));let s=i.state.tr.replace(t.pos,t.pos,new Le(r,0,0));return s.setSelection(Ve.near(s.doc.resolve(t.pos+1))),i.dispatch(s),!1}function p2(i){if(!(i.selection instanceof Ht))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Kt.create(i.doc,[fi.widget(i.selection.head,e,{key:"gapcursor"})])}const g2=Cn.create({name:"gapCursor",addProseMirrorPlugins(){return[h2()]},extendNodeSchema(i){var e;const t={name:i.name,options:i.options,storage:i.storage};return{allowGapCursor:(e=ot(_e(i,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),m2=Ti.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:i}){return["br",rn(this.options.HTMLAttributes,i)]},renderText(){return`
  `},addCommands(){return{setHardBreak:()=>({commands:i,chain:e,state:t,editor:n})=>i.first([()=>i.exitCode(),()=>i.command(()=>{const{selection:r,storedMarks:s}=t;if(r.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=n.extensionManager,l=s||r.$to.parentOffset&&r.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:h})=>{if(h&&l&&o){const u=l.filter(d=>a.includes(d.type.name));c.ensureMarks(u)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),x2=Ti.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(i=>({tag:`h${i}`,attrs:{level:i}}))},renderHTML({node:i,HTMLAttributes:e}){return[`h${this.options.levels.includes(i.attrs.level)?i.attrs.level:this.options.levels[0]}`,rn(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:i=>({commands:e})=>this.options.levels.includes(i.level)?e.setNode(this.name,i):!1,toggleHeading:i=>({commands:e})=>this.options.levels.includes(i.level)?e.toggleNode(this.name,"paragraph",i):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((i,e)=>({...i,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(i=>lp({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${i}})\\s$`),type:this.type,getAttributes:{level:i}}))}});var rh=200,sn=function(){};sn.prototype.append=function(e){return e.length?(e=sn.from(e),!this.length&&e||e.length<rh&&this.leafAppend(e)||this.length<rh&&e.leafPrepend(this)||this.appendInner(e)):this},sn.prototype.prepend=function(e){return e.length?sn.from(e).append(this):this},sn.prototype.appendInner=function(e){return new b2(this,e)},sn.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?sn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},sn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},sn.prototype.forEach=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},sn.prototype.map=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length);var r=[];return this.forEach(function(s,o){return r.push(e(s,o))},t,n),r},sn.from=function(e){return e instanceof sn?e:e&&e.length?new G0(e):sn.empty};var G0=function(i){function e(n){i.call(this),this.values=n}i&&(e.__proto__=i),e.prototype=Object.create(i&&i.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(r,s){return r==0&&s==this.length?this:new e(this.values.slice(r,s))},e.prototype.getInner=function(r){return this.values[r]},e.prototype.forEachInner=function(r,s,o,a){for(var l=s;l<o;l++)if(r(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,o,a){for(var l=s-1;l>=o;l--)if(r(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(r){if(this.length+r.length<=rh)return new e(this.values.concat(r.flatten()))},e.prototype.leafPrepend=function(r){if(this.length+r.length<=rh)return new e(r.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(sn);sn.empty=new G0([]);var b2=function(i){function e(t,n){i.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return i&&(e.__proto__=i),e.prototype=Object.create(i&&i.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,r,s,o){var a=this.left.length;if(r<a&&this.left.forEachInner(n,r,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(n,Math.max(r-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(n,r,s,o){var a=this.left.length;if(r>a&&this.right.forEachInvertedInner(n,r-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(n,Math.min(r,a),s,o)===!1)return!1},e.prototype.sliceInner=function(n,r){if(n==0&&r==this.length)return this;var s=this.left.length;return r<=s?this.left.slice(n,r):n>=s?this.right.slice(n-s,r-s):this.left.slice(n,s).append(this.right.slice(0,r-s))},e.prototype.leafAppend=function(n){var r=this.right.leafAppend(n);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(n){var r=this.left.leafPrepend(n);if(r)return new e(r,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(sn);const y2=500;class Ei{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let r,s;t&&(r=this.remapping(n,this.items.length),s=r.maps.length);let o=e.tr,a,l,c=[],h=[];return this.items.forEach((u,d)=>{if(!u.step){r||(r=this.remapping(n,d+1),s=r.maps.length),s--,h.push(u);return}if(r){h.push(new Wi(u.map));let f=u.step.map(r.slice(s)),p;f&&o.maybeStep(f).doc&&(p=o.mapping.maps[o.mapping.maps.length-1],c.push(new Wi(p,void 0,void 0,c.length+h.length))),s--,p&&r.appendMap(p,s)}else o.maybeStep(u.step);if(u.selection)return a=r?u.selection.map(r.slice(s)):u.selection,l=new Ei(this.items.slice(0,n).append(h.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,t,n,r){let s=[],o=this.eventCount,a=this.items,l=!r&&a.length?a.get(a.length-1):null;for(let h=0;h<e.steps.length;h++){let u=e.steps[h].invert(e.docs[h]),d=new Wi(e.mapping.maps[h],u,t),f;(f=l&&l.merge(d))&&(d=f,h?s.pop():a=a.slice(0,a.length-1)),s.push(d),t&&(o++,t=void 0),r||(l=d)}let c=o-n.depth;return c>w2&&(a=v2(a,c),o-=c),new Ei(a.append(s),o)}remapping(e,t){let n=new Ba;return this.items.forEach((r,s)=>{let o=r.mirrorOffset!=null&&s-r.mirrorOffset>=e?n.maps.length-r.mirrorOffset:void 0;n.appendMap(r.map,o)},e,t),n}addMaps(e){return this.eventCount==0?this:new Ei(this.items.append(e.map(t=>new Wi(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-t),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(d=>{d.selection&&a--},r);let l=t;this.items.forEach(d=>{let f=s.getMirror(--l);if(f==null)return;o=Math.min(o,f);let p=s.maps[f];if(d.step){let m=e.steps[f].invert(e.docs[f]),b=d.selection&&d.selection.map(s.slice(l+1,f));b&&a++,n.push(new Wi(p,m,b))}else n.push(new Wi(p))},r);let c=[];for(let d=t;d<o;d++)c.push(new Wi(s.maps[d]));let h=this.items.slice(0,r).append(c).append(n),u=new Ei(h,a);return u.emptyItemCount()>y2&&(u=u.compress(this.items.length-n.length)),u}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,r=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)r.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(t.slice(n)),c=l&&l.getMap();if(n--,c&&t.appendMap(c,n),l){let h=o.selection&&o.selection.map(t.slice(n));h&&s++;let u=new Wi(c.invert(),l,h),d,f=r.length-1;(d=r.length&&r[f].merge(u))?r[f]=d:r.push(u)}}else o.map&&n--},this.items.length,0),new Ei(sn.from(r.reverse()),s)}}Ei.empty=new Ei(sn.empty,0);function v2(i,e){let t;return i.forEach((n,r)=>{if(n.selection&&e--==0)return t=r,!1}),i.slice(t)}class Wi{constructor(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Wi(t.getMap().invert(),t,this.selection)}}}class Wr{constructor(e,t,n,r,s){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r,this.prevComposition=s}}const w2=20;function k2(i,e,t,n){let r=t.getMeta(Ns),s;if(r)return r.historyState;t.getMeta(A2)&&(i=new Wr(i.done,i.undone,null,0,-1));let o=t.getMeta("appendedTransaction");if(t.steps.length==0)return i;if(o&&o.getMeta(Ns))return o.getMeta(Ns).redo?new Wr(i.done.addTransform(t,void 0,n,sh(e)),i.undone,q0(t.mapping.maps),i.prevTime,i.prevComposition):new Wr(i.done,i.undone.addTransform(t,void 0,n,sh(e)),null,i.prevTime,i.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=t.getMeta("composition"),l=i.prevTime==0||!o&&i.prevComposition!=a&&(i.prevTime<(t.time||0)-n.newGroupDelay||!S2(t,i.prevRanges)),c=o?hp(i.prevRanges,t.mapping):q0(t.mapping.maps);return new Wr(i.done.addTransform(t,l?e.selection.getBookmark():void 0,n,sh(e)),Ei.empty,c,t.time,a??i.prevComposition)}else return(s=t.getMeta("rebased"))?new Wr(i.done.rebased(t,s),i.undone.rebased(t,s),hp(i.prevRanges,t.mapping),i.prevTime,i.prevComposition):new Wr(i.done.addMaps(t.mapping.maps),i.undone.addMaps(t.mapping.maps),hp(i.prevRanges,t.mapping),i.prevTime,i.prevComposition)}function S2(i,e){if(!e)return!1;if(!i.docChanged)return!0;let t=!1;return i.mapping.maps[0].forEach((n,r)=>{for(let s=0;s<e.length;s+=2)n<=e[s+1]&&r>=e[s]&&(t=!0)}),t}function q0(i){let e=[];for(let t=i.length-1;t>=0&&e.length==0;t--)i[t].forEach((n,r,s,o)=>e.push(s,o));return e}function hp(i,e){if(!i)return null;let t=[];for(let n=0;n<i.length;n+=2){let r=e.map(i[n],1),s=e.map(i[n+1],-1);r<=s&&t.push(r,s)}return t}function C2(i,e,t){let n=sh(e),r=Ns.get(e).spec.config,s=(t?i.undone:i.done).popEvent(e,n);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(t?i.done:i.undone).addTransform(s.transform,e.selection.getBookmark(),r,n),l=new Wr(t?a:s.remaining,t?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(Ns,{redo:t,historyState:l})}let up=!1,U0=null;function sh(i){let e=i.plugins;if(U0!=e){up=!1,U0=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){up=!0;break}}return up}const Ns=new ei("history"),A2=new ei("closeHistory");function M2(i={}){return i={depth:i.depth||100,newGroupDelay:i.newGroupDelay||500},new pn({key:Ns,state:{init(){return new Wr(Ei.empty,Ei.empty,null,0,-1)},apply(e,t,n){return k2(t,n,e,i)}},config:i,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,r=n=="historyUndo"?J0:n=="historyRedo"?Z0:null;return r?(t.preventDefault(),r(e.state,e.dispatch)):!1}}}})}function K0(i,e){return(t,n)=>{let r=Ns.getState(t);if(!r||(i?r.undone:r.done).eventCount==0)return!1;if(n){let s=C2(r,t,i);s&&n(e?s.scrollIntoView():s)}return!0}}const J0=K0(!1,!0),Z0=K0(!0,!0),T2=Cn.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:i,dispatch:e})=>J0(i,e),redo:()=>({state:i,dispatch:e})=>Z0(i,e)}},addProseMirrorPlugins(){return[M2(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),E2=Ti.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:i}){return["hr",rn(this.options.HTMLAttributes,i)]},addCommands(){return{setHorizontalRule:()=>({chain:i,state:e})=>{const{selection:t}=e,{$from:n,$to:r}=t,s=i();return n.parentOffset===0?s.insertContentAt({from:Math.max(n.pos-1,0),to:r.pos},{type:this.name}):bI(t)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:o,dispatch:a})=>{var l;if(a){const{$to:c}=o.selection,h=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(Ve.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(Xe.create(o.doc,c.pos)):o.setSelection(Ve.create(o.doc,c.pos));else{const u=(l=c.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();u&&(o.insert(h,u),o.setSelection(Ve.create(o.doc,h+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[HI({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),O2=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,I2=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,P2=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,L2=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,R2=Xi.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:i=>i.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:i=>i.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:i}){return["em",rn(this.options.HTMLAttributes,i),0]},addCommands(){return{setItalic:()=>({commands:i})=>i.setMark(this.name),toggleItalic:()=>({commands:i})=>i.toggleMark(this.name),unsetItalic:()=>({commands:i})=>i.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Lo({find:O2,type:this.type}),Lo({find:P2,type:this.type})]},addPasteRules(){return[_s({find:I2,type:this.type}),_s({find:L2,type:this.type})]}}),D2=Ti.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:i}){return["li",rn(this.options.HTMLAttributes,i),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),_2="listItem",Q0="textStyle",ew=/^(\d+)\.\s$/,N2=Ti.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:i=>i.hasAttribute("start")?parseInt(i.getAttribute("start")||"",10):1},type:{default:null,parseHTML:i=>i.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:i}){const{start:e,...t}=i;return e===1?["ol",rn(this.options.HTMLAttributes,t),0]:["ol",rn(this.options.HTMLAttributes,i),0]},addCommands(){return{toggleOrderedList:()=>({commands:i,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(_2,this.editor.getAttributes(Q0)).run():i.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let i=el({find:ew,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(i=el({find:ew,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Q0)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[i]}}),z2=Ti.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:i}){return["p",rn(this.options.HTMLAttributes,i),0]},addCommands(){return{setParagraph:()=>({commands:i})=>i.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),F2=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,B2=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,H2=Xi.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:i=>i.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:i}){return["s",rn(this.options.HTMLAttributes,i),0]},addCommands(){return{setStrike:()=>({commands:i})=>i.setMark(this.name),toggleStrike:()=>({commands:i})=>i.toggleMark(this.name),unsetStrike:()=>({commands:i})=>i.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Lo({find:F2,type:this.type})]},addPasteRules(){return[_s({find:B2,type:this.type})]}}),X2=Ti.create({name:"text",group:"inline"}),W2=Cn.create({name:"starterKit",addExtensions(){const i=[];return this.options.bold!==!1&&i.push(UI.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(jI.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(JI.configure(this.options.bulletList)),this.options.code!==!1&&i.push(e2.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(i2.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(r2.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(a2.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(g2.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(m2.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(x2.configure(this.options.heading)),this.options.history!==!1&&i.push(T2.configure(this.options.history)),this.options.horizontalRule!==!1&&i.push(E2.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(R2.configure(this.options.italic)),this.options.listItem!==!1&&i.push(D2.configure(this.options.listItem)),this.options.orderedList!==!1&&i.push(N2.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(z2.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(H2.configure(this.options.strike)),this.options.text!==!1&&i.push(X2.configure(this.options.text)),i}}),Y2="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",j2="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",Ro=(i,e)=>{for(const t in e)i[t]=e[t];return i},dp="numeric",fp="ascii",pp="alpha",tl="asciinumeric",nl="alphanumeric",gp="domain",tw="emoji",V2="scheme",$2="slashscheme",mp="whitespace";function G2(i,e){return i in e||(e[i]=[]),e[i]}function zs(i,e,t){e[dp]&&(e[tl]=!0,e[nl]=!0),e[fp]&&(e[tl]=!0,e[pp]=!0),e[tl]&&(e[nl]=!0),e[pp]&&(e[nl]=!0),e[nl]&&(e[gp]=!0),e[tw]&&(e[gp]=!0);for(const n in e){const r=G2(n,t);r.indexOf(i)<0&&r.push(i)}}function q2(i,e){const t={};for(const n in e)e[n].indexOf(i)>=0&&(t[n]=!0);return t}function Vn(i=null){this.j={},this.jr=[],this.jd=null,this.t=i}Vn.groups={},Vn.prototype={accepts(){return!!this.t},go(i){const e=this,t=e.j[i];if(t)return t;for(let n=0;n<e.jr.length;n++){const r=e.jr[n][0],s=e.jr[n][1];if(s&&r.test(i))return s}return e.jd},has(i,e=!1){return e?i in this.j:!!this.go(i)},ta(i,e,t,n){for(let r=0;r<i.length;r++)this.tt(i[r],e,t,n)},tr(i,e,t,n){n=n||Vn.groups;let r;return e&&e.j?r=e:(r=new Vn(e),t&&n&&zs(e,t,n)),this.jr.push([i,r]),r},ts(i,e,t,n){let r=this;const s=i.length;if(!s)return r;for(let o=0;o<s-1;o++)r=r.tt(i[o]);return r.tt(i[s-1],e,t,n)},tt(i,e,t,n){n=n||Vn.groups;const r=this;if(e&&e.j)return r.j[i]=e,e;const s=e;let o,a=r.go(i);if(a?(o=new Vn,Ro(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new Vn,s){if(n)if(o.t&&typeof o.t=="string"){const l=Ro(q2(o.t,n),t);zs(s,l,n)}else t&&zs(s,t,n);o.t=s}return r.j[i]=o,o}};const rt=(i,e,t,n,r)=>i.ta(e,t,n,r),Xt=(i,e,t,n,r)=>i.tr(e,t,n,r),nw=(i,e,t,n,r)=>i.ts(e,t,n,r),pe=(i,e,t,n,r)=>i.tt(e,t,n,r),ur="WORD",xp="UWORD",iw="ASCIINUMERICAL",rw="ALPHANUMERICAL",il="LOCALHOST",bp="TLD",yp="UTLD",oh="SCHEME",Do="SLASH_SCHEME",vp="NUM",wp="WS",kp="NL",rl="OPENBRACE",sl="CLOSEBRACE",ah="OPENBRACKET",lh="CLOSEBRACKET",ch="OPENPAREN",hh="CLOSEPAREN",uh="OPENANGLEBRACKET",dh="CLOSEANGLEBRACKET",fh="FULLWIDTHLEFTPAREN",ph="FULLWIDTHRIGHTPAREN",gh="LEFTCORNERBRACKET",mh="RIGHTCORNERBRACKET",xh="LEFTWHITECORNERBRACKET",bh="RIGHTWHITECORNERBRACKET",yh="FULLWIDTHLESSTHAN",vh="FULLWIDTHGREATERTHAN",wh="AMPERSAND",Sp="APOSTROPHE",kh="ASTERISK",Yr="AT",Sh="BACKSLASH",Ch="BACKTICK",Ah="CARET",jr="COLON",Cp="COMMA",Mh="DOLLAR",Yi="DOT",Th="EQUALS",Ap="EXCLAMATION",pi="HYPHEN",ol="PERCENT",Eh="PIPE",Oh="PLUS",Ih="POUND",al="QUERY",Mp="QUOTE",sw="FULLWIDTHMIDDLEDOT",Tp="SEMI",ji="SLASH",ll="TILDE",Ph="UNDERSCORE",ow="EMOJI",Lh="SYM";var aw=Object.freeze({__proto__:null,WORD:ur,UWORD:xp,ASCIINUMERICAL:iw,ALPHANUMERICAL:rw,LOCALHOST:il,TLD:bp,UTLD:yp,SCHEME:oh,SLASH_SCHEME:Do,NUM:vp,WS:wp,NL:kp,OPENBRACE:rl,CLOSEBRACE:sl,OPENBRACKET:ah,CLOSEBRACKET:lh,OPENPAREN:ch,CLOSEPAREN:hh,OPENANGLEBRACKET:uh,CLOSEANGLEBRACKET:dh,FULLWIDTHLEFTPAREN:fh,FULLWIDTHRIGHTPAREN:ph,LEFTCORNERBRACKET:gh,RIGHTCORNERBRACKET:mh,LEFTWHITECORNERBRACKET:xh,RIGHTWHITECORNERBRACKET:bh,FULLWIDTHLESSTHAN:yh,FULLWIDTHGREATERTHAN:vh,AMPERSAND:wh,APOSTROPHE:Sp,ASTERISK:kh,AT:Yr,BACKSLASH:Sh,BACKTICK:Ch,CARET:Ah,COLON:jr,COMMA:Cp,DOLLAR:Mh,DOT:Yi,EQUALS:Th,EXCLAMATION:Ap,HYPHEN:pi,PERCENT:ol,PIPE:Eh,PLUS:Oh,POUND:Ih,QUERY:al,QUOTE:Mp,FULLWIDTHMIDDLEDOT:sw,SEMI:Tp,SLASH:ji,TILDE:ll,UNDERSCORE:Ph,EMOJI:ow,SYM:Lh});const dr=/[a-z]/,cl=new RegExp("\\p{L}","u"),Ep=new RegExp("\\p{Emoji}","u"),fr=/\d/,Op=/\s/,lw="\r",Ip=`
  `,U2="️",K2="‍",Pp="￼";let Rh=null,Dh=null;function J2(i=[]){const e={};Vn.groups=e;const t=new Vn;Rh==null&&(Rh=hw(Y2)),Dh==null&&(Dh=hw(j2)),pe(t,"'",Sp),pe(t,"{",rl),pe(t,"}",sl),pe(t,"[",ah),pe(t,"]",lh),pe(t,"(",ch),pe(t,")",hh),pe(t,"<",uh),pe(t,">",dh),pe(t,"（",fh),pe(t,"）",ph),pe(t,"「",gh),pe(t,"」",mh),pe(t,"『",xh),pe(t,"』",bh),pe(t,"＜",yh),pe(t,"＞",vh),pe(t,"&",wh),pe(t,"*",kh),pe(t,"@",Yr),pe(t,"`",Ch),pe(t,"^",Ah),pe(t,":",jr),pe(t,",",Cp),pe(t,"$",Mh),pe(t,".",Yi),pe(t,"=",Th),pe(t,"!",Ap),pe(t,"-",pi),pe(t,"%",ol),pe(t,"|",Eh),pe(t,"+",Oh),pe(t,"#",Ih),pe(t,"?",al),pe(t,'"',Mp),pe(t,"/",ji),pe(t,";",Tp),pe(t,"~",ll),pe(t,"_",Ph),pe(t,"\\",Sh),pe(t,"・",sw);const n=Xt(t,fr,vp,{[dp]:!0});Xt(n,fr,n);const r=Xt(n,dr,iw,{[tl]:!0}),s=Xt(n,cl,rw,{[nl]:!0}),o=Xt(t,dr,ur,{[fp]:!0});Xt(o,fr,r),Xt(o,dr,o),Xt(r,fr,r),Xt(r,dr,r);const a=Xt(t,cl,xp,{[pp]:!0});Xt(a,dr),Xt(a,fr,s),Xt(a,cl,a),Xt(s,fr,s),Xt(s,dr),Xt(s,cl,s);const l=pe(t,Ip,kp,{[mp]:!0}),c=pe(t,lw,wp,{[mp]:!0}),h=Xt(t,Op,wp,{[mp]:!0});pe(t,Pp,h),pe(c,Ip,l),pe(c,Pp,h),Xt(c,Op,h),pe(h,lw),pe(h,Ip),Xt(h,Op,h),pe(h,Pp,h);const u=Xt(t,Ep,ow,{[tw]:!0});pe(u,"#"),Xt(u,Ep,u),pe(u,U2,u);const d=pe(u,K2);pe(d,"#"),Xt(d,Ep,u);const f=[[dr,o],[fr,r]],p=[[dr,null],[cl,a],[fr,s]];for(let m=0;m<Rh.length;m++)Vr(t,Rh[m],bp,ur,f);for(let m=0;m<Dh.length;m++)Vr(t,Dh[m],yp,xp,p);zs(bp,{tld:!0,ascii:!0},e),zs(yp,{utld:!0,alpha:!0},e),Vr(t,"file",oh,ur,f),Vr(t,"mailto",oh,ur,f),Vr(t,"http",Do,ur,f),Vr(t,"https",Do,ur,f),Vr(t,"ftp",Do,ur,f),Vr(t,"ftps",Do,ur,f),zs(oh,{scheme:!0,ascii:!0},e),zs(Do,{slashscheme:!0,ascii:!0},e),i=i.sort((m,b)=>m[0]>b[0]?1:-1);for(let m=0;m<i.length;m++){const b=i[m][0],w=i[m][1]?{[V2]:!0}:{[$2]:!0};b.indexOf("-")>=0?w[gp]=!0:dr.test(b)?fr.test(b)?w[tl]=!0:w[fp]=!0:w[dp]=!0,nw(t,b,b,w)}return nw(t,"localhost",il,{ascii:!0}),t.jd=new Vn(Lh),{start:t,tokens:Ro({groups:e},aw)}}function cw(i,e){const t=Z2(e.replace(/[A-Z]/g,a=>a.toLowerCase())),n=t.length,r=[];let s=0,o=0;for(;o<n;){let a=i,l=null,c=0,h=null,u=-1,d=-1;for(;o<n&&(l=a.go(t[o]));)a=l,a.accepts()?(u=0,d=0,h=a):u>=0&&(u+=t[o].length,d++),c+=t[o].length,s+=t[o].length,o++;s-=u,o-=d,c-=u,r.push({t:h.t,v:e.slice(s-c,s),s:s-c,e:s})}return r}function Z2(i){const e=[],t=i.length;let n=0;for(;n<t;){let r=i.charCodeAt(n),s,o=r<55296||r>56319||n+1===t||(s=i.charCodeAt(n+1))<56320||s>57343?i[n]:i.slice(n,n+2);e.push(o),n+=o.length}return e}function Vr(i,e,t,n,r){let s;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];i.j[l]?s=i.j[l]:(s=new Vn(n),s.jr=r.slice(),i.j[l]=s),i=s}return s=new Vn(t),s.jr=r.slice(),i.j[e[o-1]]=s,s}function hw(i){const e=[],t=[];let n=0,r="0123456789";for(;n<i.length;){let s=0;for(;r.indexOf(i[n+s])>=0;)s++;if(s>0){e.push(t.join(""));for(let o=parseInt(i.substring(n,n+s),10);o>0;o--)t.pop();n+=s}else t.push(i[n]),n++}return e}const hl={defaultProtocol:"http",events:null,format:uw,formatHref:uw,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Lp(i,e=null){let t=Ro({},hl);i&&(t=Ro(t,i instanceof Lp?i.o:i));const n=t.ignoreTags,r=[];for(let s=0;s<n.length;s++)r.push(n[s].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=r}Lp.prototype={o:hl,ignoreTags:[],defaultRender(i){return i},check(i){return this.get("validate",i.toString(),i)},get(i,e,t){const n=e!=null;let r=this.o[i];return r&&(typeof r=="object"?(r=t.t in r?r[t.t]:hl[i],typeof r=="function"&&n&&(r=r(e,t))):typeof r=="function"&&n&&(r=r(e,t.t,t)),r)},getObj(i,e,t){let n=this.o[i];return typeof n=="function"&&e!=null&&(n=n(e,t.t,t)),n},render(i){const e=i.render(this);return(this.get("render",null,i)||this.defaultRender)(e,i.t,i)}};function uw(i){return i}function dw(i,e){this.t="token",this.v=i,this.tk=e}dw.prototype={isLink:!1,toString(){return this.v},toHref(i){return this.toString()},toFormattedString(i){const e=this.toString(),t=i.get("truncate",e,this),n=i.get("format",e,this);return t&&n.length>t?n.substring(0,t)+"…":n},toFormattedHref(i){return i.get("formatHref",this.toHref(i.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(i=hl.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(i),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(i){return{type:this.t,value:this.toFormattedString(i),isLink:this.isLink,href:this.toFormattedHref(i),start:this.startIndex(),end:this.endIndex()}},validate(i){return i.get("validate",this.toString(),this)},render(i){const e=this,t=this.toHref(i.get("defaultProtocol")),n=i.get("formatHref",t,this),r=i.get("tagName",t,e),s=this.toFormattedString(i),o={},a=i.get("className",t,e),l=i.get("target",t,e),c=i.get("rel",t,e),h=i.getObj("attributes",t,e),u=i.getObj("events",t,e);return o.href=n,a&&(o.class=a),l&&(o.target=l),c&&(o.rel=c),h&&Ro(o,h),{tagName:r,attributes:o,content:s,eventListeners:u}}};function _h(i,e){class t extends dw{constructor(r,s){super(r,s),this.t=i}}for(const n in e)t.prototype[n]=e[n];return t.t=i,t}const fw=_h("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),pw=_h("text"),Q2=_h("nl"),Nh=_h("url",{isLink:!0,toHref(i=hl.defaultProtocol){return this.hasProtocol()?this.v:`${i}://${this.v}`},hasProtocol(){const i=this.tk;return i.length>=2&&i[0].t!==il&&i[1].t===jr}}),gi=i=>new Vn(i);function eP({groups:i}){const e=i.domain.concat([wh,kh,Yr,Sh,Ch,Ah,Mh,Th,pi,vp,ol,Eh,Oh,Ih,ji,Lh,ll,Ph]),t=[jr,Cp,Yi,Ap,ol,al,Mp,Tp,uh,dh,rl,sl,lh,ah,ch,hh,fh,ph,gh,mh,xh,bh,yh,vh],n=[wh,Sp,kh,Sh,Ch,Ah,Mh,Th,pi,rl,sl,ol,Eh,Oh,Ih,al,ji,Lh,ll,Ph],r=gi(),s=pe(r,ll);rt(s,n,s),rt(s,i.domain,s);const o=gi(),a=gi(),l=gi();rt(r,i.domain,o),rt(r,i.scheme,a),rt(r,i.slashscheme,l),rt(o,n,s),rt(o,i.domain,o);const c=pe(o,Yr);pe(s,Yr,c),pe(a,Yr,c),pe(l,Yr,c);const h=pe(s,Yi);rt(h,n,s),rt(h,i.domain,s);const u=gi();rt(c,i.domain,u),rt(u,i.domain,u);const d=pe(u,Yi);rt(d,i.domain,u);const f=gi(fw);rt(d,i.tld,f),rt(d,i.utld,f),pe(c,il,f);const p=pe(u,pi);pe(p,pi,p),rt(p,i.domain,u),rt(f,i.domain,u),pe(f,Yi,d),pe(f,pi,p);const m=pe(f,jr);rt(m,i.numeric,fw);const b=pe(o,pi),y=pe(o,Yi);pe(b,pi,b),rt(b,i.domain,o),rt(y,n,s),rt(y,i.domain,o);const w=gi(Nh);rt(y,i.tld,w),rt(y,i.utld,w),rt(w,i.domain,o),rt(w,n,s),pe(w,Yi,y),pe(w,pi,b),pe(w,Yr,c);const C=pe(w,jr),T=gi(Nh);rt(C,i.numeric,T);const S=gi(Nh),E=gi();rt(S,e,S),rt(S,t,E),rt(E,e,S),rt(E,t,E),pe(w,ji,S),pe(T,ji,S);const M=pe(a,jr),I=pe(l,jr),P=pe(I,ji),N=pe(P,ji);rt(a,i.domain,o),pe(a,Yi,y),pe(a,pi,b),rt(l,i.domain,o),pe(l,Yi,y),pe(l,pi,b),rt(M,i.domain,S),pe(M,ji,S),pe(M,al,S),rt(N,i.domain,S),rt(N,e,S),pe(N,ji,S);const D=[[rl,sl],[ah,lh],[ch,hh],[uh,dh],[fh,ph],[gh,mh],[xh,bh],[yh,vh]];for(let _=0;_<D.length;_++){const[$,U]=D[_],re=pe(S,$);pe(E,$,re),pe(re,U,S);const ne=gi(Nh);rt(re,e,ne);const ie=gi();rt(re,t),rt(ne,e,ne),rt(ne,t,ie),rt(ie,e,ne),rt(ie,t,ie),pe(ne,U,S),pe(ie,U,S)}return pe(r,il,w),pe(r,kp,Q2),{start:r,tokens:aw}}function tP(i,e,t){let n=t.length,r=0,s=[],o=[];for(;r<n;){let a=i,l=null,c=null,h=0,u=null,d=-1;for(;r<n&&!(l=a.go(t[r].t));)o.push(t[r++]);for(;r<n&&(c=l||a.go(t[r].t));)l=null,a=c,a.accepts()?(d=0,u=a):d>=0&&d++,r++,h++;if(d<0)r-=h,r<n&&(o.push(t[r]),r++);else{o.length>0&&(s.push(Rp(pw,e,o)),o=[]),r-=d,h-=d;const f=u.t,p=t.slice(r-h,r);s.push(Rp(f,e,p))}}return o.length>0&&s.push(Rp(pw,e,o)),s}function Rp(i,e,t){const n=t[0].s,r=t[t.length-1].e,s=e.slice(n,r);return new i(s,t)}const nP=typeof console<"u"&&console&&console.warn||(()=>{}),iP="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Rt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function rP(){return Vn.groups={},Rt.scanner=null,Rt.parser=null,Rt.tokenQueue=[],Rt.pluginQueue=[],Rt.customSchemes=[],Rt.initialized=!1,Rt}function gw(i,e=!1){if(Rt.initialized&&nP(`linkifyjs: already initialized - will not register custom scheme "${i}" ${iP}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(i))throw new Error(`linkifyjs: incorrect scheme format.
  1. Must only contain digits, lowercase ASCII letters or "-"
  2. Cannot start or end with "-"
  3. "-" cannot repeat`);Rt.customSchemes.push([i,e])}function sP(){Rt.scanner=J2(Rt.customSchemes);for(let i=0;i<Rt.tokenQueue.length;i++)Rt.tokenQueue[i][1]({scanner:Rt.scanner});Rt.parser=eP(Rt.scanner.tokens);for(let i=0;i<Rt.pluginQueue.length;i++)Rt.pluginQueue[i][1]({scanner:Rt.scanner,parser:Rt.parser});return Rt.initialized=!0,Rt}function Dp(i){return Rt.initialized||sP(),tP(Rt.parser.start,i,cw(Rt.scanner.start,i))}Dp.scan=cw;function mw(i,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const n=new Lp(t),r=Dp(i),s=[];for(let o=0;o<r.length;o++){const a=r[o];a.isLink&&(!e||a.t===e)&&n.check(a)&&s.push(a.toFormattedObject(n))}return s}function oP(i){return i.length===1?i[0].isLink:i.length===3&&i[1].isLink?["()","[]"].includes(i[0].value+i[2].value):!1}function aP(i){return new pn({key:new ei("autolink"),appendTransaction:(e,t,n)=>{const r=e.some(c=>c.docChanged)&&!t.doc.eq(n.doc),s=e.some(c=>c.getMeta("preventAutolink"));if(!r||s)return;const{tr:o}=n,a=lI(t.doc,[...e]);if(mI(a).forEach(({newRange:c})=>{const h=hI(n.doc,c,f=>f.isTextblock);let u,d;if(h.length>1?(u=h[0],d=n.doc.textBetween(u.pos,u.pos+u.node.nodeSize,void 0," ")):h.length&&n.doc.textBetween(c.from,c.to," "," ").endsWith(" ")&&(u=h[0],d=n.doc.textBetween(u.pos,c.to,void 0," ")),u&&d){const f=d.split(" ").filter(y=>y!=="");if(f.length<=0)return!1;const p=f[f.length-1],m=u.pos+d.lastIndexOf(p);if(!p)return!1;const b=Dp(p).map(y=>y.toObject(i.defaultProtocol));if(!oP(b))return!1;b.filter(y=>y.isLink).map(y=>({...y,from:m+y.start+1,to:m+y.end+1})).filter(y=>n.schema.marks.code?!n.doc.rangeHasMark(y.from,y.to,n.schema.marks.code):!0).filter(y=>i.validate(y.value)).filter(y=>i.shouldAutoLink(y.value)).forEach(y=>{ip(y.from,y.to,n.doc).some(w=>w.mark.type===i.type)||o.addMark(y.from,y.to,i.type.create({href:y.href}))})}}),!!o.steps.length)return o}})}function lP(i){return new pn({key:new ei("handleClickLink"),props:{handleClick:(e,t,n)=>{var r,s;if(n.button!==0||!e.editable)return!1;let o=n.target;const a=[];for(;o.nodeName!=="DIV";)a.push(o),o=o.parentNode;if(!a.find(d=>d.nodeName==="A"))return!1;const l=X0(e.state,i.type.name),c=n.target,h=(r=c==null?void 0:c.href)!==null&&r!==void 0?r:l.href,u=(s=c==null?void 0:c.target)!==null&&s!==void 0?s:l.target;return c&&h?(window.open(h,u),!0):!1}}})}function cP(i){return new pn({key:new ei("handlePasteLink"),props:{handlePaste:(e,t,n)=>{const{state:r}=e,{selection:s}=r,{empty:o}=s;if(o)return!1;let a="";n.content.forEach(c=>{a+=c.textContent});const l=mw(a,{defaultProtocol:i.defaultProtocol}).find(c=>c.isLink&&c.value===a);return!a||!l?!1:i.editor.commands.setMark(i.type,{href:l.href})}}})}const hP=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function Fs(i,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(n=>{const r=typeof n=="string"?n:n.scheme;r&&t.push(r)}),!i||i.replace(hP,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const uP=Xi.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(i=>{if(typeof i=="string"){gw(i);return}gw(i.scheme,i.optionalSlashes)})},onDestroy(){rP()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(i,e)=>!!Fs(i,e.protocols),validate:i=>!!i,shouldAutoLink:i=>!!i}},addAttributes(){return{href:{default:null,parseHTML(i){return i.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:i=>{const e=i.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!Fs(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:i}){return this.options.isAllowedUri(i.href,{defaultValidate:e=>!!Fs(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",rn(this.options.HTMLAttributes,i),0]:["a",rn(this.options.HTMLAttributes,{...i,href:""}),0]},addCommands(){return{setLink:i=>({chain:e})=>{const{href:t}=i;return this.options.isAllowedUri(t,{defaultValidate:n=>!!Fs(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,i).setMeta("preventAutolink",!0).run():!1},toggleLink:i=>({chain:e})=>{const{href:t}=i;return this.options.isAllowedUri(t,{defaultValidate:n=>!!Fs(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,i,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:i})=>i().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[_s({find:i=>{const e=[];if(i){const{protocols:t,defaultProtocol:n}=this.options,r=mw(i).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:o=>!!Fs(o,t),protocols:t,defaultProtocol:n}));r.length&&r.forEach(s=>e.push({text:s.value,data:{href:s.href},index:s.start}))}return e},type:this.type,getAttributes:i=>{var e;return{href:(e=i.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const i=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&i.push(aP({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:n=>this.options.isAllowedUri(n,{defaultValidate:r=>!!Fs(r,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&i.push(lP({type:this.type})),this.options.linkOnPaste&&i.push(cP({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),i}}),dP=Cn.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:i=>{const e=i.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:i=>i.textAlign?{style:`text-align: ${i.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:i=>({commands:e})=>this.options.alignments.includes(i)?this.options.types.map(t=>e.updateAttributes(t,{textAlign:i})).every(t=>t):!1,unsetTextAlign:()=>({commands:i})=>this.options.types.map(e=>i.resetAttributes(e,"textAlign")).every(e=>e)}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),fP=Xi.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:i=>i.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:i}){return["u",rn(this.options.HTMLAttributes,i),0]},addCommands(){return{setUnderline:()=>({commands:i})=>i.setMark(this.name),toggleUnderline:()=>({commands:i})=>i.toggleMark(this.name),unsetUnderline:()=>({commands:i})=>i.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function pP(i){const e=[],t=o=>{const a=[],l=/\[style type="(bold|italic|underlined|linethrough)"\](.*?)\[\/style\]|\[link href="(.*?)"\](.*?)\[\/link\]/gs;let c,h=0;for(;(c=l.exec(o))!==null;){if(c.index>h&&a.push(...n(o.slice(h,c.index))),c[1]){const u=c[1],d=c[2],f=[];u==="bold"&&f.push({type:"bold"}),u==="italic"&&f.push({type:"italic"}),u==="underlined"&&f.push({type:"underline"}),u==="linethrough"&&f.push({type:"strike"}),a.push(...n(d,f))}else if(c[3]){const u=c[3],d=c[4];a.push(...n(d,[{type:"link",attrs:{href:u}}]))}h=l.lastIndex}return h<o.length&&a.push(...n(o.slice(h))),a},n=(o,a=[])=>{const l=o.split(`
  `),c=[];return l.forEach((h,u)=>{h.length>0&&c.push({type:"text",text:h,...a.length>0?{marks:a}:{}}),u<l.length-1&&c.push({type:"hardBreak"})}),c},r=/\[align type="(left|center|right)"\](.*?)\[\/align\]/gs;return i.split(/\n{2,}/).forEach(o=>{let a,l=0;for(;(a=r.exec(o))!==null;){if(a.index>l){const u=o.slice(l,a.index).trim();u&&e.push({type:"paragraph",content:t(u)})}const c=a[1],h=a[2].trim();e.push({type:"paragraph",attrs:{textAlign:c},content:t(h)}),l=r.lastIndex}if(l<o.length){const c=o.slice(l).trim();c&&e.push({type:"paragraph",content:t(c)})}}),{type:"doc",content:e}}function gP(i){const e=n=>{if(n.type==="text"){let r=n.text||"";return n.marks&&n.marks.forEach(s=>{var o;s.type==="bold"?r=`[style type="bold"]${r}[/style]`:s.type==="italic"?r=`[style type="italic"]${r}[/style]`:s.type==="underline"?r=`[style type="underlined"]${r}[/style]`:s.type==="strike"?r=`[style type="linethrough"]${r}[/style]`:s.type==="link"&&((o=s.attrs)!=null&&o.href)&&(r=`[link href="${s.attrs.href}"]${r}[/link]`)}),r}return""},t=n=>{var r,s;if(n.type==="paragraph"){let o="";return(r=n.attrs)!=null&&r.textAlign&&(o+=`[align type="${n.attrs.textAlign}"]`),n.content&&n.content.forEach(a=>{o+=e(a)}),(s=n.attrs)!=null&&s.textAlign&&(o+="[/align]"),o}return""};return i.map(n=>t(n)).join(`
  
  `)}const mP={class:"flex flex-col gap-2"},xP={class:"editor-screen"},bP={class:"toolbar"},yP=["disabled"],vP=["disabled"],wP=["disabled"],kP=["disabled"],SP=["disabled"],CP=["disabled"],AP=["disabled"],MP=["disabled"],TP=["disabled"],EP={class:"editor-footer"},OP={class:"flex gap-1"},IP={class:"flex gap-1"},PP={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center"},LP={class:"bg-white p-4 rounded shadow max-w-sm w-full space-y-2"},RP={class:"flex justify-end gap-2"},DP=Jd(ia({__name:"Editor",setup(i,{expose:e}){const t=Yt(),n=Yt(),r=Yt(null),s=Yt("edit"),o=Yt(!1),a=Yt(""),l=Yt(""),c=no(()=>{var m;return new Intl.NumberFormat("de-DE").format(((m=r.value)==null?void 0:m.getText().length)??0)}),h=no(()=>{var y;const b=(((y=r.value)==null?void 0:y.getText())??"").replace(/[^\p{L}\p{N}'-]+/gu," ").trim();return new Intl.NumberFormat("de-DE").format(b.split(/\s+/).filter(w=>w.length>0).length)});Js(()=>{r.value=new XI({extensions:[W2,fP,uP.configure({openOnClick:!1}),dP.configure({types:["heading","paragraph"],alignments:["left","center","right"]})],content:"",onUpdate:d,onBlur:d})});async function u(m){t.value=m,await Ks(),r.value&&(r.value.commands.setContent(pP(m.value)),n.value&&n.value.append(m))}function d(){!t.value||!r.value||(t.value.value=gP(r.value.getJSON().content||[]))}function f(){if(!r.value)return;const{state:m,view:b}=r.value,{selection:y}=m,{from:w,to:C,empty:T}=y;if(a.value="",l.value="",r.value.isActive("link")){let S=!1;m.doc.nodesBetween(w,C,(E,M,I,P)=>{const N=E.marks.find(D=>D.type.name==="link");if(!N)return!0;if(a.value=N.attrs.href||"",l.value=E.text||"",T&&E.isText){const D=M,_=M+E.nodeSize,$=m.tr.setSelection(Ve.create(m.doc,D,_));b.dispatch($),b.focus()}return S=!0,!1}),!S&&!T&&(l.value=m.doc.textBetween(w,C).trim())}else T||(l.value=m.doc.textBetween(w,C).trim());o.value=!0}function p(){r.value&&(r.value.chain().focus().insertContent(`<a href="${a.value}">${l.value}</a>`).run(),o.value=!1)}return e({setTextarea:u}),(m,b)=>(Ot(),jt("div",mP,[It("div",xP,[It("div",bP,[r.value?(Ot(),jt("button",{key:0,type:"button",onClick:b[0]||(b[0]=y=>r.value.chain().focus().setTextAlign("left").run()),disabled:s.value=="code"||!r.value.can().chain().focus().setTextAlign("left").run(),class:In({"toolbar-button":!0,"is-active":r.value.isActive("left")})},[Lt(vn(fC),{class:"w-4 h-4"})],10,yP)):cn("",!0),r.value?(Ot(),jt("button",{key:1,type:"button",onClick:b[1]||(b[1]=y=>r.value.chain().focus().setTextAlign("center").run()),disabled:s.value=="code"||!r.value.can().chain().focus().setTextAlign("center").run(),class:In({"toolbar-button":!0,"is-active":r.value.isActive("center")})},[Lt(vn(dC),{class:"w-4 h-4"})],10,vP)):cn("",!0),r.value?(Ot(),jt("button",{key:2,type:"button",onClick:b[2]||(b[2]=y=>r.value.chain().focus().setTextAlign("right").run()),disabled:s.value=="code"||!r.value.can().chain().focus().setTextAlign("right").run(),class:In({"toolbar-button":!0,"is-active":r.value.isActive("right")})},[Lt(vn(pC),{class:"w-4 h-4"})],10,wP)):cn("",!0),b[12]||(b[12]=It("span",{class:"toolbar-separator"},null,-1)),r.value?(Ot(),jt("button",{key:3,type:"button",onClick:b[3]||(b[3]=y=>r.value.chain().focus().toggleBold().run()),disabled:s.value=="code"||!r.value.can().chain().focus().toggleBold().run(),class:In({"toolbar-button":!0,"is-active":r.value.isActive("bold")})},[Lt(vn(gC),{class:"w-4 h-4"})],10,kP)):cn("",!0),r.value?(Ot(),jt("button",{key:4,type:"button",onClick:b[4]||(b[4]=y=>r.value.chain().focus().toggleItalic().run()),disabled:s.value=="code"||!r.value.can().chain().focus().toggleItalic().run(),class:In({"toolbar-button":!0,"is-active":r.value.isActive("italic")})},[Lt(vn(xC),{class:"w-4 h-4"})],10,SP)):cn("",!0),r.value?(Ot(),jt("button",{key:5,type:"button",onClick:b[5]||(b[5]=y=>r.value.chain().focus().toggleUnderline().run()),disabled:s.value=="code"||!r.value.can().chain().focus().toggleUnderline().run(),class:In({"toolbar-button":!0,"is-active":r.value.isActive("underline")})},[Lt(vn(SC),{class:"w-4 h-4"})],10,CP)):cn("",!0),r.value?(Ot(),jt("button",{key:6,type:"button",onClick:b[6]||(b[6]=y=>r.value.chain().focus().toggleStrike().run()),disabled:s.value=="code"||!r.value.can().chain().focus().toggleStrike().run(),class:In({"toolbar-button":!0,"is-active":r.value.isActive("strike")})},[Lt(vn(kC),{class:"w-4 h-4"})],10,AP)):cn("",!0),b[13]||(b[13]=It("span",{class:"toolbar-separator"},null,-1)),r.value?(Ot(),jt("button",{key:7,type:"button",onClick:f,disabled:s.value=="code",class:In({"toolbar-button":!0,"is-active":r.value.isActive("link")})},[Lt(vn(yC),{class:"w-4 h-4"})],10,MP)):cn("",!0),r.value?(Ot(),jt("button",{key:8,type:"button",onClick:b[7]||(b[7]=y=>r.value.chain().focus().unsetLink().run()),disabled:s.value=="code"||!r.value.isActive("link"),class:In({"toolbar-button":!0})},[Lt(vn(bC),{class:"w-4 h-4"})],8,TP)):cn("",!0),b[14]||(b[14]=It("span",{class:"ml-auto"},null,-1)),r.value?(Ot(),jt("button",{key:9,type:"button",class:"toolbar-button",onClick:b[8]||(b[8]=y=>s.value=s.value=="edit"?"code":"edit")},[s.value=="code"?(Ot(),da(vn(wC),{key:0,class:"w-4 h-4"})):s.value=="edit"?(Ot(),da(vn(mC),{key:1,class:"w-4 h-4"})):cn("",!0)])):cn("",!0)]),It("div",{class:In(["editor-content",{"is-visible":s.value=="edit"}])},[r.value?(Ot(),da(vn(WI),{key:0,editor:r.value,class:"prose max-w-none"},null,8,["editor"])):cn("",!0)],2),It("div",{ref_key:"source",ref:n,class:In(["editor-source",{"is-visible":s.value=="code"}])},null,2),It("div",EP,[It("div",OP,[b[15]||(b[15]=It("strong",null,"Zeichen",-1)),fa(" "+Vo(c.value),1)]),It("div",IP,[b[16]||(b[16]=It("strong",null,"Wörter",-1)),fa(" "+Vo(h.value),1)])])]),o.value?(Ot(),jt("div",PP,[It("div",LP,[It("label",null,[b[17]||(b[17]=fa(" URL: ")),cm(It("input",{"onUpdate:modelValue":b[9]||(b[9]=y=>a.value=y),class:"border p-1 w-full"},null,512),[[Ix,a.value]])]),It("label",null,[b[18]||(b[18]=fa(" Link-Text: ")),cm(It("input",{"onUpdate:modelValue":b[10]||(b[10]=y=>l.value=y),class:"border p-1 w-full"},null,512),[[Ix,l.value]])]),It("div",RP,[It("button",{type:"button",onClick:p,class:"bg-blue-500 text-white px-3 py-1 rounded"},"Einfügen"),It("button",{type:"button",onClick:b[11]||(b[11]=y=>o.value=!1),class:"px-3 py-1"},"Abbrechen")])])])):cn("",!0)]))}}),[["__scopeId","data-v-f87f0848"]]);function _P(i){return i==="in Arbeit"?0:i==="fertiggestellt"?1:i==="pausiert"?2:i==="abgebrochen"?3:i==="ruhend"?4:null}function mi(i,e){return(e||document).querySelector(i)}function NP(){const i=document.querySelector(".container-storylist");if(!i)return;const e=Jb();Array.from(i.querySelectorAll("tbody tr")).map(async n=>{var f,p,m;let r=mi('[data-ff-sort-colname="status"]',n);if(!r||!(r=mi("span[title]",r)))return;let s=mi('[data-ff-sort-colname="title_catname_statusinfo"]',n);if(!s)return;let o=mi('[data-ff-sort-colname="chaptercount"]',n),a=o?o.nextElementSibling:null,l=mi('[data-ff-sort-colname="storylen"]',n),c=mi('[data-ff-sort-colname="createdate"]',n),h=mi('[data-ff-sort-colname="updatedate"]',n);const u=b=>{const y=new Date(b*1e3),w=y.getFullYear(),C=String(y.getMonth()+1).padStart(2,"0"),T=String(y.getDate()).padStart(2,"0");return`${w}-${C}-${T}`};let d={status:_P(r.title)||0,title:s.dataset.ffSortVal||"",link:((f=mi("a",s))==null?void 0:f.href)||"",category:((m=(p=mi("span",s))==null?void 0:p.getAttribute("aria-label"))==null?void 0:m.split("/"))||[],genres:a?a.innerText.split(`
  `).map(b=>b.trim()):[],chapters:o?parseInt(o.dataset.ffSortVal):1,words:l?parseInt(l.dataset.ffSortVal):1,created_at:c?u(parseInt(c.dataset.ffSortVal)):"",updated_at:h?u(parseInt(h.dataset.ffSortVal)):""};await e.upsert(d)}),vc().local.set("books_updated_at",Date.now())}function zP(){const i=document.querySelector(".container-storylist");if(!i)return;const e=Zb();Array.from(i.querySelectorAll("tbody tr")).map(async n=>{var y;let r=n.querySelector('[data-ff-sort-colname="title_catname_statusinfo"]');if(!r)return;let s=(r.dataset.ffSortVal||"").trim();if(!s)return;let o=((y=r.querySelector("a"))==null?void 0:y.href)||null;if(!o)return;let a=n.querySelector('[data-ff-sort-colname="chaptercount"]'),l=n.querySelector('[data-ff-sort-colname="storylen"]'),c=n.querySelector('[data-ff-sort-colname="reviewcount"]'),h=n.querySelector('[data-ff-sort-colname="recommendationcount"]'),u=n.querySelector('[data-ff-sort-colname="hits"]'),d=n.querySelector('[data-ff-sort-colname="favcount"]'),f=n.querySelector('[data-ff-sort-colname="storybookmarkcount"]'),p=n.querySelector('[data-ff-sort-colname="offlinelibrarycount"]'),m=n.querySelector('[data-ff-sort-colname="bookshelfcount"]'),b={chapters:a?parseInt(a.dataset.ffSortVal):1,words:l?parseInt(l.dataset.ffSortVal):1,reviews:c?parseInt(c.dataset.ffSortVal):0,recommendations:h?parseInt(h.dataset.ffSortVal):0,views:u?parseInt(u.dataset.ffSortVal):0,favorites:d?parseInt(d.dataset.ffSortVal):0,bookmarks:f?parseInt(f.dataset.ffSortVal):0,offlineLibraries:p?parseInt(p.dataset.ffSortVal):0,bookshelves:m?parseInt(m.dataset.ffSortVal):0};await e.store(s,o,b)}),vc().local.set("statistics_updated_at",Date.now())}async function FP(){if(window.location.hash==="#fafix:updater")return!1;const i=vc();let e=i.local.get("books_updated_at",null),t=!(e&&Date.now()-e<6*60*60*1e3),n=i.local.get("statistics_updated_at",null),r=!(n&&Date.now()-n<6*60*60*1e3);if(!t&&!r)return!1;const s=document.createElement("div");s.style.inset="0",s.style.zIndex="100",s.style.position="fixed",s.style.background="rgb(0 0 0 / .25)",s.style.backdropFilter="blur(5px)",s.innerHTML=`
          <div style="width:100%;height:100%;display:flex;justify-content:center;align-items:center">
              <div style="font-size:22px;color:white;text-shadow:0 0 6px rgb(0 0 0 / .75)">Daten werden aktualisiert, bitte warten...</div>
          </div>
      `,document.body.append(s);let o=i.local.get("books_updated_at",null);await new Promise(l=>{const c=document.createElement("iframe");c.src="https://www.fanfiktion.de/?a=b#fafix:updater",c.width="600",c.height="400",document.body.appendChild(c);const h=()=>{i.local.get("books_updated_at",o)!==o?(c.remove(),l(!0)):setTimeout(h,250)};setTimeout(h,250)});let a=i.local.get("statistics_updated_at",null);return await new Promise(l=>{const c=document.createElement("iframe");c.src="https://www.fanfiktion.de/stats#fafix:updater",c.width="600",c.height="400",document.body.appendChild(c);const h=()=>{i.local.get("statistics_updated_at",a)!==a?(c.remove(),l(!0)):setTimeout(h,250)};setTimeout(h,250)}),s.remove(),!0}function _p(i){if(typeof i>"u")return new Promise(e=>_p(e.bind(null,null)));document.readyState==="loading"?document.addEventListener("DOMContentLoaded",i):i.call(document)}async function BP(){var e;if(!mi('[title="Mein Profil"]')){console.error("FAFIX: Du bist nicht angemeldet.");return}GM_addStyle(GM_getResourceText("customCSS"));let i=mi("#textarea-chapter");if(i&&i.parentElement){const t=document.createElement("div");i.parentElement.append(t),Lx(DP).mount(t).setTextarea(i)}if(!window.location.pathname.startsWith("/?a=b")&&!window.location.pathname.startsWith("/stats")&&await FP(),window.location.pathname.startsWith("/?a=b")||(await _p(),await NP()),window.location.pathname.startsWith("/stats")){await _p(),await zP();let t=mi("h2");if(t&&t.parentElement){const n=document.createElement("div");t.parentElement.insertBefore(n,((e=t.nextElementSibling)==null?void 0:e.nextElementSibling)||null),Lx(ZA).mount(n)}}window.location.hash==="#fafix:updater"&&window.close()}BP()})();
  