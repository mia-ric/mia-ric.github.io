// ==UserScript==
// @name         FaFiX - FanFiktion Extension
// @namespace    https://mia-ric.github.io
// @version      0.2.1
// @description  A FanFiktion-related TamperMonkey script.
// @author       MIA
// @resource     customCSS https://mia-ric.github.io/fafix.css
// @downloadURL  https://mia-ric.github.io/fafix.js
// @updateURL    https://mia-ric.github.io/fafix.js
// @match        https://www.fanfiktion.de/*
// @icon         data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==
// @grant        GM_getResourceText
// @grant        GM_addStyle
// ==/UserScript==
var oD=Object.defineProperty;var aD=(Ln,Qe,Ci)=>Qe in Ln?oD(Ln,Qe,{enumerable:!0,configurable:!0,writable:!0,value:Ci}):Ln[Qe]=Ci;var $h=(Ln,Qe,Ci)=>aD(Ln,typeof Qe!="symbol"?Qe+"":Qe,Ci);(function(){"use strict";/**
  * @vue/shared v3.5.13
  * (c) 2018-present Yuxi (Evan) You and Vue contributors
  * @license MIT
  **//*! #__NO_SIDE_EFFECTS__ */function Ln(i){const e=Object.create(null);for(const t of i.split(","))e[t]=1;return t=>t in e}const Qe=Object.freeze({}),Ci=Object.freeze([]),vn=()=>{},hk=()=>!1,aa=i=>i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&(i.charCodeAt(2)>122||i.charCodeAt(2)<97),Xl=i=>i.startsWith("onUpdate:"),Bt=Object.assign,Gh=(i,e)=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)},dk=Object.prototype.hasOwnProperty,yt=(i,e)=>dk.call(i,e),Fe=Array.isArray,ds=i=>la(i)==="[object Map]",Yl=i=>la(i)==="[object Set]",fm=i=>la(i)==="[object Date]",Ve=i=>typeof i=="function",Nt=i=>typeof i=="string",zi=i=>typeof i=="symbol",wt=i=>i!==null&&typeof i=="object",qh=i=>(wt(i)||Ve(i))&&Ve(i.then)&&Ve(i.catch),pm=Object.prototype.toString,la=i=>pm.call(i),Uh=i=>la(i).slice(8,-1),gm=i=>la(i)==="[object Object]",Kh=i=>Nt(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,ca=Ln(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fk=Ln("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),jl=i=>{const e=Object.create(null);return t=>e[t]||(e[t]=i(t))},pk=/-(\w)/g,ci=jl(i=>i.replace(pk,(e,t)=>t?t.toUpperCase():"")),gk=/\B([A-Z])/g,rr=jl(i=>i.replace(gk,"-$1").toLowerCase()),Vl=jl(i=>i.charAt(0).toUpperCase()+i.slice(1)),fs=jl(i=>i?`on${Vl(i)}`:""),Gn=(i,e)=>!Object.is(i,e),lo=(i,...e)=>{for(let t=0;t<i.length;t++)i[t](...e)},$l=(i,e,t,n=!1)=>{Object.defineProperty(i,e,{configurable:!0,enumerable:!1,writable:n,value:t})},Gl=i=>{const e=parseFloat(i);return isNaN(e)?i:e},mk=i=>{const e=Nt(i)?Number(i):NaN;return isNaN(e)?i:e};let mm;const ua=()=>mm||(mm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ql(i){if(Fe(i)){const e={};for(let t=0;t<i.length;t++){const n=i[t],r=Nt(n)?vk(n):ql(n);if(r)for(const s in r)e[s]=r[s]}return e}else if(Nt(i)||wt(i))return i}const xk=/;(?![^(]*\))/g,bk=/:([^]+)/,yk=/\/\*[^]*?\*\//g;function vk(i){const e={};return i.replace(yk,"").split(xk).forEach(t=>{if(t){const n=t.split(bk);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function wn(i){let e="";if(Nt(i))e=i;else if(Fe(i))for(let t=0;t<i.length;t++){const n=wn(i[t]);n&&(e+=n+" ")}else if(wt(i))for(const t in i)i[t]&&(e+=t+" ");return e.trim()}const wk="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",kk="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Sk="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",Ck=Ln(wk),Ak=Ln(kk),Mk=Ln(Sk),Tk=Ln("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function xm(i){return!!i||i===""}function Ek(i,e){if(i.length!==e.length)return!1;let t=!0;for(let n=0;t&&n<i.length;n++)t=Ul(i[n],e[n]);return t}function Ul(i,e){if(i===e)return!0;let t=fm(i),n=fm(e);if(t||n)return t&&n?i.getTime()===e.getTime():!1;if(t=zi(i),n=zi(e),t||n)return i===e;if(t=Fe(i),n=Fe(e),t||n)return t&&n?Ek(i,e):!1;if(t=wt(i),n=wt(e),t||n){if(!t||!n)return!1;const r=Object.keys(i).length,s=Object.keys(e).length;if(r!==s)return!1;for(const o in i){const a=i.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Ul(i[o],e[o]))return!1}}return String(i)===String(e)}function Ok(i,e){return i.findIndex(t=>Ul(t,e))}const bm=i=>!!(i&&i.__v_isRef===!0),Qn=i=>Nt(i)?i:i==null?"":Fe(i)||wt(i)&&(i.toString===pm||!Ve(i.toString))?bm(i)?Qn(i.value):JSON.stringify(i,ym,2):String(i),ym=(i,e)=>bm(e)?ym(i,e.value):ds(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[n,r],s)=>(t[Jh(n,s)+" =>"]=r,t),{})}:Yl(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>Jh(t))}:zi(e)?Jh(e):wt(e)&&!Fe(e)&&!gm(e)?String(e):e,Jh=(i,e="")=>{var t;return zi(i)?`Symbol(${(t=i.description)!=null?t:e})`:i};/**
  * @vue/reactivity v3.5.13
  * (c) 2018-present Yuxi (Evan) You and Vue contributors
  * @license MIT
  **/function ui(i,...e){console.warn(`[Vue warn] ${i}`,...e)}let Rn;class Ik{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Rn,!e&&Rn&&(this.index=(Rn.scopes||(Rn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=Rn;try{return Rn=this,e()}finally{Rn=t}}else ui("cannot run an inactive effect scope.")}on(){Rn=this}off(){Rn=this.parent}stop(e){if(this._active){this._active=!1;let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function vm(){return Rn}function Pk(i,e=!1){Rn?Rn.cleanups.push(i):e||ui("onScopeDispose() is called when there is no active effect scope to be associated with.")}let At;const Zh=new WeakSet;class wm{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Rn&&Rn.active&&Rn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Zh.has(this)&&(Zh.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Sm(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Em(this),Cm(this);const e=At,t=Ai;At=this,Ai=!0;try{return this.fn()}finally{At!==this&&ui("Active effect was not restored correctly - this is likely a Vue internal bug."),Am(this),At=e,Ai=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)nd(e);this.deps=this.depsTail=void 0,Em(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Zh.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){td(this)&&this.run()}get dirty(){return td(this)}}let km=0,ha,da;function Sm(i,e=!1){if(i.flags|=8,e){i.next=da,da=i;return}i.next=ha,ha=i}function Qh(){km++}function ed(){if(--km>0)return;if(da){let e=da;for(da=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let i;for(;ha;){let e=ha;for(ha=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){i||(i=n)}e=t}}if(i)throw i}function Cm(i){for(let e=i.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Am(i){let e,t=i.depsTail,n=t;for(;n;){const r=n.prevDep;n.version===-1?(n===t&&(t=r),nd(n),Lk(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}i.deps=e,i.depsTail=t}function td(i){for(let e=i.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Mm(e.dep.computed)||e.dep.version!==e.version))return!0;return!!i._dirty}function Mm(i){if(i.flags&4&&!(i.flags&16)||(i.flags&=-17,i.globalVersion===fa))return;i.globalVersion=fa;const e=i.dep;if(i.flags|=2,e.version>0&&!i.isSSR&&i.deps&&!td(i)){i.flags&=-3;return}const t=At,n=Ai;At=i,Ai=!0;try{Cm(i);const r=i.fn(i._value);(e.version===0||Gn(r,i._value))&&(i._value=r,e.version++)}catch(r){throw e.version++,r}finally{At=t,Ai=n,Am(i),i.flags&=-3}}function nd(i,e=!1){const{dep:t,prevSub:n,nextSub:r}=i;if(n&&(n.nextSub=r,i.prevSub=void 0),r&&(r.prevSub=n,i.nextSub=void 0),t.subsHead===i&&(t.subsHead=r),t.subs===i&&(t.subs=n,!n&&t.computed)){t.computed.flags&=-5;for(let s=t.computed.deps;s;s=s.nextDep)nd(s,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function Lk(i){const{prevDep:e,nextDep:t}=i;e&&(e.nextDep=t,i.prevDep=void 0),t&&(t.prevDep=e,i.nextDep=void 0)}let Ai=!0;const Tm=[];function sr(){Tm.push(Ai),Ai=!1}function or(){const i=Tm.pop();Ai=i===void 0?!0:i}function Em(i){const{cleanup:e}=i;if(i.cleanup=void 0,e){const t=At;At=void 0;try{e()}finally{At=t}}}let fa=0,Rk=class{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class Kl{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.subsHead=void 0}track(e){if(!At||!Ai||At===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==At)t=this.activeLink=new Rk(At,this),At.deps?(t.prevDep=At.depsTail,At.depsTail.nextDep=t,At.depsTail=t):At.deps=At.depsTail=t,Om(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const n=t.nextDep;n.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=n),t.prevDep=At.depsTail,t.nextDep=void 0,At.depsTail.nextDep=t,At.depsTail=t,At.deps===t&&(At.deps=n)}return At.onTrack&&At.onTrack(Bt({effect:At},e)),t}trigger(e){this.version++,fa++,this.notify(e)}notify(e){Qh();try{for(let t=this.subsHead;t;t=t.nextSub)t.sub.onTrigger&&!(t.sub.flags&8)&&t.sub.onTrigger(Bt({effect:t.sub},e));for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{ed()}}}function Om(i){if(i.dep.sc++,i.sub.flags&4){const e=i.dep.computed;if(e&&!i.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)Om(n)}const t=i.dep.subs;t!==i&&(i.prevSub=t,t&&(t.nextSub=i)),i.dep.subsHead===void 0&&(i.dep.subsHead=i),i.dep.subs=i}}const Jl=new WeakMap,ps=Symbol("Object iterate"),id=Symbol("Map keys iterate"),pa=Symbol("Array iterate");function tn(i,e,t){if(Ai&&At){let n=Jl.get(i);n||Jl.set(i,n=new Map);let r=n.get(t);r||(n.set(t,r=new Kl),r.map=n,r.key=t),r.track({target:i,type:e,key:t})}}function Bi(i,e,t,n,r,s){const o=Jl.get(i);if(!o){fa++;return}const a=l=>{l&&l.trigger({target:i,type:e,key:t,newValue:n,oldValue:r,oldTarget:s})};if(Qh(),e==="clear")o.forEach(a);else{const l=Fe(i),c=l&&Kh(t);if(l&&t==="length"){const u=Number(n);o.forEach((h,d)=>{(d==="length"||d===pa||!zi(d)&&d>=u)&&a(h)})}else switch((t!==void 0||o.has(void 0))&&a(o.get(t)),c&&a(o.get(pa)),e){case"add":l?c&&a(o.get("length")):(a(o.get(ps)),ds(i)&&a(o.get(id)));break;case"delete":l||(a(o.get(ps)),ds(i)&&a(o.get(id)));break;case"set":ds(i)&&a(o.get(ps));break}}ed()}function _k(i,e){const t=Jl.get(i);return t&&t.get(e)}function co(i){const e=et(i);return e===i?e:(tn(e,"iterate",pa),_n(i)?e:e.map(Sn))}function Zl(i){return tn(i=et(i),"iterate",pa),i}const Dk={__proto__:null,[Symbol.iterator](){return rd(this,Symbol.iterator,Sn)},concat(...i){return co(this).concat(...i.map(e=>Fe(e)?co(e):e))},entries(){return rd(this,"entries",i=>(i[1]=Sn(i[1]),i))},every(i,e){return ar(this,"every",i,e,void 0,arguments)},filter(i,e){return ar(this,"filter",i,e,t=>t.map(Sn),arguments)},find(i,e){return ar(this,"find",i,e,Sn,arguments)},findIndex(i,e){return ar(this,"findIndex",i,e,void 0,arguments)},findLast(i,e){return ar(this,"findLast",i,e,Sn,arguments)},findLastIndex(i,e){return ar(this,"findLastIndex",i,e,void 0,arguments)},forEach(i,e){return ar(this,"forEach",i,e,void 0,arguments)},includes(...i){return sd(this,"includes",i)},indexOf(...i){return sd(this,"indexOf",i)},join(i){return co(this).join(i)},lastIndexOf(...i){return sd(this,"lastIndexOf",i)},map(i,e){return ar(this,"map",i,e,void 0,arguments)},pop(){return ga(this,"pop")},push(...i){return ga(this,"push",i)},reduce(i,...e){return Im(this,"reduce",i,e)},reduceRight(i,...e){return Im(this,"reduceRight",i,e)},shift(){return ga(this,"shift")},some(i,e){return ar(this,"some",i,e,void 0,arguments)},splice(...i){return ga(this,"splice",i)},toReversed(){return co(this).toReversed()},toSorted(i){return co(this).toSorted(i)},toSpliced(...i){return co(this).toSpliced(...i)},unshift(...i){return ga(this,"unshift",i)},values(){return rd(this,"values",Sn)}};function rd(i,e,t){const n=Zl(i),r=n[e]();return n!==i&&!_n(i)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.value&&(s.value=t(s.value)),s}),r}const Nk=Array.prototype;function ar(i,e,t,n,r,s){const o=Zl(i),a=o!==i&&!_n(i),l=o[e];if(l!==Nk[e]){const h=l.apply(i,s);return a?Sn(h):h}let c=t;o!==i&&(a?c=function(h,d){return t.call(this,Sn(h),d,i)}:t.length>2&&(c=function(h,d){return t.call(this,h,d,i)}));const u=l.call(o,c,n);return a&&r?r(u):u}function Im(i,e,t,n){const r=Zl(i);let s=t;return r!==i&&(_n(i)?t.length>3&&(s=function(o,a,l){return t.call(this,o,a,l,i)}):s=function(o,a,l){return t.call(this,o,Sn(a),l,i)}),r[e](s,...n)}function sd(i,e,t){const n=et(i);tn(n,"iterate",pa);const r=n[e](...t);return(r===-1||r===!1)&&ma(t[0])?(t[0]=et(t[0]),n[e](...t)):r}function ga(i,e,t=[]){sr(),Qh();const n=et(i)[e].apply(i,t);return ed(),or(),n}const Fk=Ln("__proto__,__v_isRef,__isVue"),Pm=new Set(Object.getOwnPropertyNames(Symbol).filter(i=>i!=="arguments"&&i!=="caller").map(i=>Symbol[i]).filter(zi));function zk(i){zi(i)||(i=String(i));const e=et(this);return tn(e,"has",i),e.hasOwnProperty(i)}class Lm{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if(t==="__v_skip")return e.__v_skip;const r=this._isReadonly,s=this._isShallow;if(t==="__v_isReactive")return!r;if(t==="__v_isReadonly")return r;if(t==="__v_isShallow")return s;if(t==="__v_raw")return n===(r?s?Bm:zm:s?Fm:Nm).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=Fe(e);if(!r){let l;if(o&&(l=Dk[t]))return l;if(t==="hasOwnProperty")return zk}const a=Reflect.get(e,t,$t(e)?e:n);return(zi(t)?Pm.has(t):Fk(t))||(r||tn(e,"get",t),s)?a:$t(a)?o&&Kh(t)?a:a.value:wt(a)?r?Hm(a):ad(a):a}}class Rm extends Lm{constructor(e=!1){super(!1,e)}set(e,t,n,r){let s=e[t];if(!this._isShallow){const l=lr(s);if(!_n(n)&&!lr(n)&&(s=et(s),n=et(n)),!Fe(e)&&$t(s)&&!$t(n))return l?!1:(s.value=n,!0)}const o=Fe(e)&&Kh(t)?Number(t)<e.length:yt(e,t),a=Reflect.set(e,t,n,$t(e)?e:r);return e===et(r)&&(o?Gn(n,s)&&Bi(e,"set",t,n,s):Bi(e,"add",t,n)),a}deleteProperty(e,t){const n=yt(e,t),r=e[t],s=Reflect.deleteProperty(e,t);return s&&n&&Bi(e,"delete",t,void 0,r),s}has(e,t){const n=Reflect.has(e,t);return(!zi(t)||!Pm.has(t))&&tn(e,"has",t),n}ownKeys(e){return tn(e,"iterate",Fe(e)?"length":ps),Reflect.ownKeys(e)}}class _m extends Lm{constructor(e=!1){super(!0,e)}set(e,t){return ui(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0}deleteProperty(e,t){return ui(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}}const Bk=new Rm,Hk=new _m,Wk=new Rm(!0),Xk=new _m(!0),od=i=>i,Ql=i=>Reflect.getPrototypeOf(i);function Yk(i,e,t){return function(...n){const r=this.__v_raw,s=et(r),o=ds(s),a=i==="entries"||i===Symbol.iterator&&o,l=i==="keys"&&o,c=r[i](...n),u=t?od:e?ld:Sn;return!e&&tn(s,"iterate",l?id:ps),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function ec(i){return function(...e){{const t=e[0]?`on key "${e[0]}" `:"";ui(`${Vl(i)} operation ${t}failed: target is readonly.`,et(this))}return i==="delete"?!1:i==="clear"?void 0:this}}function jk(i,e){const t={get(r){const s=this.__v_raw,o=et(s),a=et(r);i||(Gn(r,a)&&tn(o,"get",r),tn(o,"get",a));const{has:l}=Ql(o),c=e?od:i?ld:Sn;if(l.call(o,r))return c(s.get(r));if(l.call(o,a))return c(s.get(a));s!==o&&s.get(r)},get size(){const r=this.__v_raw;return!i&&tn(et(r),"iterate",ps),Reflect.get(r,"size",r)},has(r){const s=this.__v_raw,o=et(s),a=et(r);return i||(Gn(r,a)&&tn(o,"has",r),tn(o,"has",a)),r===a?s.has(r):s.has(r)||s.has(a)},forEach(r,s){const o=this,a=o.__v_raw,l=et(a),c=e?od:i?ld:Sn;return!i&&tn(l,"iterate",ps),a.forEach((u,h)=>r.call(s,c(u),c(h),o))}};return Bt(t,i?{add:ec("add"),set:ec("set"),delete:ec("delete"),clear:ec("clear")}:{add(r){!e&&!_n(r)&&!lr(r)&&(r=et(r));const s=et(this);return Ql(s).has.call(s,r)||(s.add(r),Bi(s,"add",r,r)),this},set(r,s){!e&&!_n(s)&&!lr(s)&&(s=et(s));const o=et(this),{has:a,get:l}=Ql(o);let c=a.call(o,r);c?Dm(o,a,r):(r=et(r),c=a.call(o,r));const u=l.call(o,r);return o.set(r,s),c?Gn(s,u)&&Bi(o,"set",r,s,u):Bi(o,"add",r,s),this},delete(r){const s=et(this),{has:o,get:a}=Ql(s);let l=o.call(s,r);l?Dm(s,o,r):(r=et(r),l=o.call(s,r));const c=a?a.call(s,r):void 0,u=s.delete(r);return l&&Bi(s,"delete",r,void 0,c),u},clear(){const r=et(this),s=r.size!==0,o=ds(r)?new Map(r):new Set(r),a=r.clear();return s&&Bi(r,"clear",void 0,void 0,o),a}}),["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=Yk(r,i,e)}),t}function tc(i,e){const t=jk(i,e);return(n,r,s)=>r==="__v_isReactive"?!i:r==="__v_isReadonly"?i:r==="__v_raw"?n:Reflect.get(yt(t,r)&&r in n?t:n,r,s)}const Vk={get:tc(!1,!1)},$k={get:tc(!1,!0)},Gk={get:tc(!0,!1)},qk={get:tc(!0,!0)};function Dm(i,e,t){const n=et(t);if(n!==t&&e.call(i,n)){const r=Uh(i);ui(`Reactive ${r} contains both the raw and reactive versions of the same object${r==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const Nm=new WeakMap,Fm=new WeakMap,zm=new WeakMap,Bm=new WeakMap;function Uk(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Kk(i){return i.__v_skip||!Object.isExtensible(i)?0:Uk(Uh(i))}function ad(i){return lr(i)?i:nc(i,!1,Bk,Vk,Nm)}function Jk(i){return nc(i,!1,Wk,$k,Fm)}function Hm(i){return nc(i,!0,Hk,Gk,zm)}function kn(i){return nc(i,!0,Xk,qk,Bm)}function nc(i,e,t,n,r){if(!wt(i))return ui(`value cannot be made ${e?"readonly":"reactive"}: ${String(i)}`),i;if(i.__v_raw&&!(e&&i.__v_isReactive))return i;const s=r.get(i);if(s)return s;const o=Kk(i);if(o===0)return i;const a=new Proxy(i,o===2?n:t);return r.set(i,a),a}function gs(i){return lr(i)?gs(i.__v_raw):!!(i&&i.__v_isReactive)}function lr(i){return!!(i&&i.__v_isReadonly)}function _n(i){return!!(i&&i.__v_isShallow)}function ma(i){return i?!!i.__v_raw:!1}function et(i){const e=i&&i.__v_raw;return e?et(e):i}function Wm(i){return!yt(i,"__v_skip")&&Object.isExtensible(i)&&$l(i,"__v_skip",!0),i}const Sn=i=>wt(i)?ad(i):i,ld=i=>wt(i)?Hm(i):i;function $t(i){return i?i.__v_isRef===!0:!1}function qe(i){return Xm(i,!1)}function Zk(i){return Xm(i,!0)}function Xm(i,e){return $t(i)?i:new Qk(i,e)}class Qk{constructor(e,t){this.dep=new Kl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:et(e),this._value=t?e:Sn(e),this.__v_isShallow=t}get value(){return this.dep.track({target:this,type:"get",key:"value"}),this._value}set value(e){const t=this._rawValue,n=this.__v_isShallow||_n(e)||lr(e);e=n?e:et(e),Gn(e,t)&&(this._rawValue=e,this._value=n?e:Sn(e),this.dep.trigger({target:this,type:"set",key:"value",newValue:e,oldValue:t}))}}function Tt(i){return $t(i)?i.value:i}const eS={get:(i,e,t)=>e==="__v_raw"?i:Tt(Reflect.get(i,e,t)),set:(i,e,t,n)=>{const r=i[e];return $t(r)&&!$t(t)?(r.value=t,!0):Reflect.set(i,e,t,n)}};function Ym(i){return gs(i)?i:new Proxy(i,eS)}class tS{constructor(e){this.__v_isRef=!0,this._value=void 0;const t=this.dep=new Kl,{get:n,set:r}=e(t.track.bind(t),t.trigger.bind(t));this._get=n,this._set=r}get value(){return this._value=this._get()}set value(e){this._set(e)}}function jm(i){return new tS(i)}function nS(i){ma(i)||ui("toRefs() expects a reactive object but received a plain one.");const e=Fe(i)?new Array(i.length):{};for(const t in i)e[t]=rS(i,t);return e}class iS{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return _k(et(this._object),this._key)}}function rS(i,e,t){const n=i[e];return $t(n)?n:new iS(i,e,t)}class sS{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Kl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=fa-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&At!==this)return Sm(this,!0),!0}get value(){const e=this.dep.track({target:this,type:"get",key:"value"});return Mm(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter?this.setter(e):ui("Write operation failed: computed value is readonly")}}function oS(i,e,t=!1){let n,r;return Ve(i)?n=i:(n=i.get,r=i.set),new sS(n,r,t)}const ic={},rc=new WeakMap;let ms;function aS(i,e=!1,t=ms){if(t){let n=rc.get(t);n||rc.set(t,n=[]),n.push(i)}else e||ui("onWatcherCleanup() was called when there was no active watcher to associate with.")}function lS(i,e,t=Qe){const{immediate:n,deep:r,once:s,scheduler:o,augmentJob:a,call:l}=t,c=k=>{(t.onWarn||ui)("Invalid watch source: ",k,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},u=k=>r?k:_n(k)||r===!1||r===0?cr(k,1):cr(k);let h,d,f,p,m=!1,b=!1;if($t(i)?(d=()=>i.value,m=_n(i)):gs(i)?(d=()=>u(i),m=!0):Fe(i)?(b=!0,m=i.some(k=>gs(k)||_n(k)),d=()=>i.map(k=>{if($t(k))return k.value;if(gs(k))return u(k);if(Ve(k))return l?l(k,2):k();c(k)})):Ve(i)?e?d=l?()=>l(i,2):i:d=()=>{if(f){sr();try{f()}finally{or()}}const k=ms;ms=h;try{return l?l(i,3,[p]):i(p)}finally{ms=k}}:(d=vn,c(i)),e&&r){const k=d,E=r===!0?1/0:r;d=()=>cr(k(),E)}const y=vm(),w=()=>{h.stop(),y&&y.active&&Gh(y.effects,h)};if(s&&e){const k=e;e=(...E)=>{k(...E),w()}}let C=b?new Array(i.length).fill(ic):ic;const T=k=>{if(!(!(h.flags&1)||!h.dirty&&!k))if(e){const E=h.run();if(r||m||(b?E.some((M,O)=>Gn(M,C[O])):Gn(E,C))){f&&f();const M=ms;ms=h;try{const O=[E,C===ic?void 0:b&&C[0]===ic?[]:C,p];l?l(e,3,O):e(...O),C=E}finally{ms=M}}}else h.run()};return a&&a(T),h=new wm(d),h.scheduler=o?()=>o(T,!1):T,p=k=>aS(k,!1,h),f=h.onStop=()=>{const k=rc.get(h);if(k){if(l)l(k,4);else for(const E of k)E();rc.delete(h)}},h.onTrack=t.onTrack,h.onTrigger=t.onTrigger,e?n?T(!0):C=h.run():o?o(T.bind(null,!0),!0):h.run(),w.pause=h.pause.bind(h),w.resume=h.resume.bind(h),w.stop=w,w}function cr(i,e=1/0,t){if(e<=0||!wt(i)||i.__v_skip||(t=t||new Set,t.has(i)))return i;if(t.add(i),e--,$t(i))cr(i.value,e,t);else if(Fe(i))for(let n=0;n<i.length;n++)cr(i[n],e,t);else if(Yl(i)||ds(i))i.forEach(n=>{cr(n,e,t)});else if(gm(i)){for(const n in i)cr(i[n],e,t);for(const n of Object.getOwnPropertySymbols(i))Object.prototype.propertyIsEnumerable.call(i,n)&&cr(i[n],e,t)}return i}/**
  * @vue/runtime-core v3.5.13
  * (c) 2018-present Yuxi (Evan) You and Vue contributors
  * @license MIT
  **/const xs=[];function sc(i){xs.push(i)}function oc(){xs.pop()}let cd=!1;function pe(i,...e){if(cd)return;cd=!0,sr();const t=xs.length?xs[xs.length-1].component:null,n=t&&t.appContext.config.warnHandler,r=cS();if(n)uo(n,t,11,[i+e.map(s=>{var o,a;return(a=(o=s.toString)==null?void 0:o.call(s))!=null?a:JSON.stringify(s)}).join(""),t&&t.proxy,r.map(({vnode:s})=>`at <${Ic(t,s.type)}>`).join(`
  `),r]);else{const s=[`[Vue warn]: ${i}`,...e];r.length&&s.push(`
  `,...uS(r)),console.warn(...s)}or(),cd=!1}function cS(){let i=xs[xs.length-1];if(!i)return[];const e=[];for(;i;){const t=e[0];t&&t.vnode===i?t.recurseCount++:e.push({vnode:i,recurseCount:0});const n=i.component&&i.component.parent;i=n&&n.vnode}return e}function uS(i){const e=[];return i.forEach((t,n)=>{e.push(...n===0?[]:[`
  `],...hS(t))}),e}function hS({vnode:i,recurseCount:e}){const t=e>0?`... (${e} recursive calls)`:"",n=i.component?i.component.parent==null:!1,r=` at <${Ic(i.component,i.type,n)}`,s=">"+t;return i.props?[r,...dS(i.props),s]:[r+s]}function dS(i){const e=[],t=Object.keys(i);return t.slice(0,3).forEach(n=>{e.push(...Vm(n,i[n]))}),t.length>3&&e.push(" ..."),e}function Vm(i,e,t){return Nt(e)?(e=JSON.stringify(e),t?e:[`${i}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?t?e:[`${i}=${e}`]:$t(e)?(e=Vm(i,et(e.value),!0),t?e:[`${i}=Ref<`,e,">"]):Ve(e)?[`${i}=fn${e.name?`<${e.name}>`:""}`]:(e=et(e),t?e:[`${i}=`,e])}function fS(i,e){i!==void 0&&(typeof i!="number"?pe(`${e} is not a valid number - got ${JSON.stringify(i)}.`):isNaN(i)&&pe(`${e} is NaN - the duration expression might be incorrect.`))}const ud={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function uo(i,e,t,n){try{return n?i(...n):i()}catch(r){xa(r,e,t)}}function Mi(i,e,t,n){if(Ve(i)){const r=uo(i,e,t,n);return r&&qh(r)&&r.catch(s=>{xa(s,e,t)}),r}if(Fe(i)){const r=[];for(let s=0;s<i.length;s++)r.push(Mi(i[s],e,t,n));return r}else pe(`Invalid value type passed to callWithAsyncErrorHandling(): ${typeof i}`)}function xa(i,e,t,n=!0){const r=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Qe;if(e){let a=e.parent;const l=e.proxy,c=ud[t];for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](i,l,c)===!1)return}a=a.parent}if(s){sr(),uo(s,null,10,[i,l,c]),or();return}}pS(i,t,r,n,o)}function pS(i,e,t,n=!0,r=!1){{const s=ud[e];if(t&&sc(t),pe(`Unhandled error${s?` during execution of ${s}`:""}`),t&&oc(),n)throw i;console.error(i)}}const Dn=[];let Hi=-1;const ho=[];let Er=null,fo=0;const $m=Promise.resolve();let ac=null;const gS=100;function ur(i){const e=ac||$m;return i?e.then(this?i.bind(this):i):e}function mS(i){let e=Hi+1,t=Dn.length;for(;e<t;){const n=e+t>>>1,r=Dn[n],s=ba(r);s<i||s===i&&r.flags&2?e=n+1:t=n}return e}function lc(i){if(!(i.flags&1)){const e=ba(i),t=Dn[Dn.length-1];!t||!(i.flags&2)&&e>=ba(t)?Dn.push(i):Dn.splice(mS(e),0,i),i.flags|=1,Gm()}}function Gm(){ac||(ac=$m.then(Jm))}function qm(i){Fe(i)?ho.push(...i):Er&&i.id===-1?Er.splice(fo+1,0,i):i.flags&1||(ho.push(i),i.flags|=1),Gm()}function Um(i,e,t=Hi+1){for(e=e||new Map;t<Dn.length;t++){const n=Dn[t];if(n&&n.flags&2){if(i&&n.id!==i.uid||hd(e,n))continue;Dn.splice(t,1),t--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Km(i){if(ho.length){const e=[...new Set(ho)].sort((t,n)=>ba(t)-ba(n));if(ho.length=0,Er){Er.push(...e);return}for(Er=e,i=i||new Map,fo=0;fo<Er.length;fo++){const t=Er[fo];hd(i,t)||(t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2)}Er=null,fo=0}}const ba=i=>i.id==null?i.flags&2?-1:1/0:i.id;function Jm(i){i=i||new Map;const e=t=>hd(i,t);try{for(Hi=0;Hi<Dn.length;Hi++){const t=Dn[Hi];if(t&&!(t.flags&8)){if(e(t))continue;t.flags&4&&(t.flags&=-2),uo(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2)}}}finally{for(;Hi<Dn.length;Hi++){const t=Dn[Hi];t&&(t.flags&=-2)}Hi=-1,Dn.length=0,Km(i),ac=null,(Dn.length||ho.length)&&Jm(i)}}function hd(i,e){const t=i.get(e)||0;if(t>gS){const n=e.i,r=n&&ob(n.type);return xa(`Maximum recursive updates exceeded${r?` in component <${r}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`,null,10),!0}return i.set(e,t+1),!1}let Ti=!1;const cc=new Map;ua().__VUE_HMR_RUNTIME__={createRecord:dd(Zm),rerender:dd(yS),reload:dd(vS)};const bs=new Map;function xS(i){const e=i.type.__hmrId;let t=bs.get(e);t||(Zm(e,i.type),t=bs.get(e)),t.instances.add(i)}function bS(i){bs.get(i.type.__hmrId).instances.delete(i)}function Zm(i,e){return bs.has(i)?!1:(bs.set(i,{initialDef:uc(e),instances:new Set}),!0)}function uc(i){return ab(i)?i.__vccOpts:i}function yS(i,e){const t=bs.get(i);t&&(t.initialDef.render=e,[...t.instances].forEach(n=>{e&&(n.render=e,uc(n.type).render=e),n.renderCache=[],Ti=!0,n.update(),Ti=!1}))}function vS(i,e){const t=bs.get(i);if(!t)return;e=uc(e),Qm(t.initialDef,e);const n=[...t.instances];for(let r=0;r<n.length;r++){const s=n[r],o=uc(s.type);let a=cc.get(o);a||(o!==t.initialDef&&Qm(o,e),cc.set(o,a=new Set)),a.add(s),s.appContext.propsCache.delete(s.type),s.appContext.emitsCache.delete(s.type),s.appContext.optionsCache.delete(s.type),s.ceReload?(a.add(s),s.ceReload(e.styles),a.delete(s)):s.parent?lc(()=>{Ti=!0,s.parent.update(),Ti=!1,a.delete(s)}):s.appContext.reload?s.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required."),s.root.ce&&s!==s.root&&s.root.ce._removeChildStyle(o)}qm(()=>{cc.clear()})}function Qm(i,e){Bt(i,e);for(const t in i)t!=="__file"&&!(t in e)&&delete i[t]}function dd(i){return(e,t)=>{try{return i(e,t)}catch(n){console.error(n),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let Wi,ya=[],fd=!1;function va(i,...e){Wi?Wi.emit(i,...e):fd||ya.push({event:i,args:e})}function ex(i,e){var t,n;Wi=i,Wi?(Wi.enabled=!0,ya.forEach(({event:r,args:s})=>Wi.emit(r,...s)),ya=[]):typeof window<"u"&&window.HTMLElement&&!((n=(t=window.navigator)==null?void 0:t.userAgent)!=null&&n.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{ex(s,e)}),setTimeout(()=>{Wi||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,fd=!0,ya=[])},3e3)):(fd=!0,ya=[])}function wS(i,e){va("app:init",i,e,{Fragment:Bn,Text:Ma,Comment:Ut,Static:Mc})}function kS(i){va("app:unmount",i)}const SS=pd("component:added"),tx=pd("component:updated"),CS=pd("component:removed"),AS=i=>{Wi&&typeof Wi.cleanupBuffer=="function"&&!Wi.cleanupBuffer(i)&&CS(i)};/*! #__NO_SIDE_EFFECTS__ */function pd(i){return e=>{va(i,e.appContext.app,e.uid,e.parent?e.parent.uid:void 0,e)}}const MS=nx("perf:start"),TS=nx("perf:end");function nx(i){return(e,t,n)=>{va(i,e.appContext.app,e.uid,e,t,n)}}function ES(i,e,t){va("component:emit",i.appContext.app,i,e,t)}let Nn=null,ix=null;function hc(i){const e=Nn;return Nn=i,ix=i&&i.type.__scopeId||null,e}function dc(i,e=Nn,t){if(!e||i._n)return i;const n=(...r)=>{n._d&&Zx(-1);const s=hc(e);let o;try{o=i(...r)}finally{hc(s),n._d&&Zx(1)}return tx(e),o};return n._n=!0,n._c=!0,n._d=!0,n}function rx(i){fk(i)&&pe("Do not use built-in directive ids as custom directive id: "+i)}function gd(i,e){if(Nn===null)return pe("withDirectives can only be used inside render functions."),i;const t=Oc(Nn),n=i.dirs||(i.dirs=[]);for(let r=0;r<e.length;r++){let[s,o,a,l=Qe]=e[r];s&&(Ve(s)&&(s={mounted:s,updated:s}),s.deep&&cr(o),n.push({dir:s,instance:t,value:o,oldValue:void 0,arg:a,modifiers:l}))}return i}function ys(i,e,t,n){const r=i.dirs,s=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[n];l&&(sr(),Mi(l,t,8,[i.el,a,i,e]),or())}}const sx=Symbol("_vte"),ox=i=>i.__isTeleport,vs=i=>i&&(i.disabled||i.disabled===""),ax=i=>i&&(i.defer||i.defer===""),lx=i=>typeof SVGElement<"u"&&i instanceof SVGElement,cx=i=>typeof MathMLElement=="function"&&i instanceof MathMLElement,md=(i,e)=>{const t=i&&i.to;if(Nt(t))if(e){const n=e(t);return!n&&!vs(i)&&pe(`Failed to locate Teleport target with selector "${t}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),n}else return pe("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return!t&&!vs(i)&&pe(`Invalid Teleport target: ${t}`),t},ux={name:"Teleport",__isTeleport:!0,process(i,e,t,n,r,s,o,a,l,c){const{mc:u,pc:h,pbc:d,o:{insert:f,querySelector:p,createText:m,createComment:b}}=c,y=vs(e.props);let{shapeFlag:w,children:C,dynamicChildren:T}=e;if(Ti&&(l=!1,T=null),i==null){const k=e.el=b("teleport start"),E=e.anchor=b("teleport end");f(k,t,n),f(E,t,n);const M=(P,N)=>{w&16&&(r&&r.isCE&&(r.ce._teleportTarget=P),u(C,P,N,r,s,o,a,l))},O=()=>{const P=e.target=md(e.props,p),N=hx(P,e,m,f);P?(o!=="svg"&&lx(P)?o="svg":o!=="mathml"&&cx(P)&&(o="mathml"),y||(M(P,N),pc(e,!1))):y||pe("Invalid Teleport target on mount:",P,`(${typeof P})`)};y&&(M(t,E),pc(e,!0)),ax(e.props)?zn(()=>{O(),e.el.__isMounted=!0},s):O()}else{if(ax(e.props)&&!i.el.__isMounted){zn(()=>{ux.process(i,e,t,n,r,s,o,a,l,c),delete i.el.__isMounted},s);return}e.el=i.el,e.targetStart=i.targetStart;const k=e.anchor=i.anchor,E=e.target=i.target,M=e.targetAnchor=i.targetAnchor,O=vs(i.props),P=O?t:E,N=O?k:M;if(o==="svg"||lx(E)?o="svg":(o==="mathml"||cx(E))&&(o="mathml"),T?(d(i.dynamicChildren,T,P,r,s,o,a),kc(i,e,!0)):l||h(i,e,P,N,r,s,o,a,!1),y)O?e.props&&i.props&&e.props.to!==i.props.to&&(e.props.to=i.props.to):fc(e,t,k,c,1);else if((e.props&&e.props.to)!==(i.props&&i.props.to)){const R=e.target=md(e.props,p);R?fc(e,R,null,c,0):pe("Invalid Teleport target on update:",E,`(${typeof E})`)}else O&&fc(e,E,M,c,1);pc(e,y)}},remove(i,e,t,{um:n,o:{remove:r}},s){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:u,target:h,props:d}=i;if(h&&(r(c),r(u)),s&&r(l),o&16){const f=s||!vs(d);for(let p=0;p<a.length;p++){const m=a[p];n(m,e,t,f,!!m.dynamicChildren)}}},move:fc,hydrate:OS};function fc(i,e,t,{o:{insert:n},m:r},s=2){s===0&&n(i.targetAnchor,e,t);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=i,h=s===2;if(h&&n(o,e,t),(!h||vs(u))&&l&16)for(let d=0;d<c.length;d++)r(c[d],e,t,2);h&&n(a,e,t)}function OS(i,e,t,n,r,s,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:u}},h){const d=e.target=md(e.props,l);if(d){const f=vs(e.props),p=d._lpa||d.firstChild;if(e.shapeFlag&16)if(f)e.anchor=h(o(i),e,a(i),t,n,r,s),e.targetStart=p,e.targetAnchor=p&&o(p);else{e.anchor=o(i);let m=p;for(;m;){if(m&&m.nodeType===8){if(m.data==="teleport start anchor")e.targetStart=m;else if(m.data==="teleport anchor"){e.targetAnchor=m,d._lpa=e.targetAnchor&&o(e.targetAnchor);break}}m=o(m)}e.targetAnchor||hx(d,e,u,c),h(p&&o(p),e,d,t,n,r,s)}pc(e,f)}return e.anchor&&o(e.anchor)}const IS=ux;function pc(i,e){const t=i.ctx;if(t&&t.ut){let n,r;for(e?(n=i.el,r=i.anchor):(n=i.targetStart,r=i.targetAnchor);n&&n!==r;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}function hx(i,e,t,n){const r=e.targetStart=t(""),s=e.targetAnchor=t("");return r[sx]=s,i&&(n(r,i),n(s,i)),s}const Or=Symbol("_leaveCb"),gc=Symbol("_enterCb");function PS(){const i={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Pr(()=>{i.isMounted=!0}),po(()=>{i.isUnmounting=!0}),i}const hi=[Function,Array],dx={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:hi,onEnter:hi,onAfterEnter:hi,onEnterCancelled:hi,onBeforeLeave:hi,onLeave:hi,onAfterLeave:hi,onLeaveCancelled:hi,onBeforeAppear:hi,onAppear:hi,onAfterAppear:hi,onAppearCancelled:hi},fx=i=>{const e=i.subTree;return e.component?fx(e.component):e},LS={name:"BaseTransition",props:dx,setup(i,{slots:e}){const t=Ia(),n=PS();return()=>{const r=e.default&&xx(e.default(),!0);if(!r||!r.length)return;const s=px(r),o=et(i),{mode:a}=o;if(a&&a!=="in-out"&&a!=="out-in"&&a!=="default"&&pe(`invalid <transition> mode: ${a}`),n.isLeaving)return bd(s);const l=mx(s);if(!l)return bd(s);let c=xd(l,o,n,t,h=>c=h);l.type!==Ut&&wa(l,c);let u=t.subTree&&mx(t.subTree);if(u&&u.type!==Ut&&!Ss(l,u)&&fx(t).type!==Ut){let h=xd(u,o,n,t);if(wa(u,h),a==="out-in"&&l.type!==Ut)return n.isLeaving=!0,h.afterLeave=()=>{n.isLeaving=!1,t.job.flags&8||t.update(),delete h.afterLeave,u=void 0},bd(s);a==="in-out"&&l.type!==Ut?h.delayLeave=(d,f,p)=>{const m=gx(n,u);m[String(u.key)]=u,d[Or]=()=>{f(),d[Or]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{p(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return s}}};function px(i){let e=i[0];if(i.length>1){let t=!1;for(const n of i)if(n.type!==Ut){if(t){pe("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}e=n,t=!0}}return e}const RS=LS;function gx(i,e){const{leavingVNodes:t}=i;let n=t.get(e.type);return n||(n=Object.create(null),t.set(e.type,n)),n}function xd(i,e,t,n,r){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:d,onLeave:f,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:b,onAppear:y,onAfterAppear:w,onAppearCancelled:C}=e,T=String(i.key),k=gx(t,i),E=(P,N)=>{P&&Mi(P,n,9,N)},M=(P,N)=>{const R=N[1];E(P,N),Fe(P)?P.every(D=>D.length<=1)&&R():P.length<=1&&R()},O={mode:o,persisted:a,beforeEnter(P){let N=l;if(!t.isMounted)if(s)N=b||l;else return;P[Or]&&P[Or](!0);const R=k[T];R&&Ss(i,R)&&R.el[Or]&&R.el[Or](),E(N,[P])},enter(P){let N=c,R=u,D=h;if(!t.isMounted)if(s)N=y||c,R=w||u,D=C||h;else return;let V=!1;const q=P[gc]=re=>{V||(V=!0,re?E(D,[P]):E(R,[P]),O.delayedLeave&&O.delayedLeave(),P[gc]=void 0)};N?M(N,[P,q]):q()},leave(P,N){const R=String(i.key);if(P[gc]&&P[gc](!0),t.isUnmounting)return N();E(d,[P]);let D=!1;const V=P[Or]=q=>{D||(D=!0,N(),q?E(m,[P]):E(p,[P]),P[Or]=void 0,k[R]===i&&delete k[R])};k[R]=i,f?M(f,[P,V]):V()},clone(P){const N=xd(P,e,t,n,r);return r&&r(N),N}};return O}function bd(i){if(Sa(i))return i=Xi(i),i.children=null,i}function mx(i){if(!Sa(i))return ox(i.type)&&i.children?px(i.children):i;if(i.component)return i.component.subTree;const{shapeFlag:e,children:t}=i;if(t){if(e&16)return t[0];if(e&32&&Ve(t.default))return t.default()}}function wa(i,e){i.shapeFlag&6&&i.component?(i.transition=e,wa(i.component.subTree,e)):i.shapeFlag&128?(i.ssContent.transition=e.clone(i.ssContent),i.ssFallback.transition=e.clone(i.ssFallback)):i.transition=e}function xx(i,e=!1,t){let n=[],r=0;for(let s=0;s<i.length;s++){let o=i[s];const a=t==null?o.key:String(t)+String(o.key!=null?o.key:s);o.type===Bn?(o.patchFlag&128&&r++,n=n.concat(xx(o.children,e,a))):(e||o.type!==Ut)&&n.push(a!=null?Xi(o,{key:a}):o)}if(r>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function Ir(i,e){return Ve(i)?Bt({name:i.name},e,{setup:i}):i}function bx(i){i.ids=[i.ids[0]+i.ids[2]+++"-",0,0]}const _S=new WeakSet;function mc(i,e,t,n,r=!1){if(Fe(i)){i.forEach((p,m)=>mc(p,e&&(Fe(e)?e[m]:e),t,n,r));return}if(ka(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&mc(i,e,t,n.component.subTree);return}const s=n.shapeFlag&4?Oc(n.component):n.el,o=r?null:s,{i:a,r:l}=i;if(!a){pe("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const c=e&&e.r,u=a.refs===Qe?a.refs={}:a.refs,h=a.setupState,d=et(h),f=h===Qe?()=>!1:p=>(yt(d,p)&&!$t(d[p])&&pe(`Template ref "${p}" used on a non-ref value. It will not work in the production build.`),_S.has(d[p])?!1:yt(d,p));if(c!=null&&c!==l&&(Nt(c)?(u[c]=null,f(c)&&(h[c]=null)):$t(c)&&(c.value=null)),Ve(l))uo(l,a,12,[o,u]);else{const p=Nt(l),m=$t(l);if(p||m){const b=()=>{if(i.f){const y=p?f(l)?h[l]:u[l]:l.value;r?Fe(y)&&Gh(y,s):Fe(y)?y.includes(s)||y.push(s):p?(u[l]=[s],f(l)&&(h[l]=u[l])):(l.value=[s],i.k&&(u[i.k]=l.value))}else p?(u[l]=o,f(l)&&(h[l]=o)):m?(l.value=o,i.k&&(u[i.k]=o)):pe("Invalid template ref type:",l,`(${typeof l})`)};o?(b.id=-1,zn(b,t)):b()}else pe("Invalid template ref type:",l,`(${typeof l})`)}}ua().requestIdleCallback,ua().cancelIdleCallback;const ka=i=>!!i.type.__asyncLoader,Sa=i=>i.type.__isKeepAlive;function DS(i,e){yx(i,"a",e)}function NS(i,e){yx(i,"da",e)}function yx(i,e,t=nn){const n=i.__wdc||(i.__wdc=()=>{let r=t;for(;r;){if(r.isDeactivated)return;r=r.parent}return i()});if(xc(e,n,t),t){let r=t.parent;for(;r&&r.parent;)Sa(r.parent.vnode)&&FS(n,e,t,r),r=r.parent}}function FS(i,e,t,n){const r=xc(e,i,n,!0);wx(()=>{Gh(n[e],r)},t)}function xc(i,e,t=nn,n=!1){if(t){const r=t[i]||(t[i]=[]),s=e.__weh||(e.__weh=(...o)=>{sr();const a=Pa(t),l=Mi(e,t,i,o);return a(),or(),l});return n?r.unshift(s):r.push(s),s}else{const r=fs(ud[i].replace(/ hook$/,""));pe(`${r} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const hr=i=>(e,t=nn)=>{(!La||i==="sp")&&xc(i,(...n)=>e(...n),t)},vx=hr("bm"),Pr=hr("m"),zS=hr("bu"),BS=hr("u"),po=hr("bum"),wx=hr("um"),HS=hr("sp"),WS=hr("rtg"),XS=hr("rtc");function YS(i,e=nn){xc("ec",i,e)}const jS=Symbol.for("v-ndc");function kx(i,e,t,n){let r;const s=t,o=Fe(i);if(o||Nt(i)){const a=o&&gs(i);let l=!1;a&&(l=!_n(i),i=Zl(i)),r=new Array(i.length);for(let c=0,u=i.length;c<u;c++)r[c]=e(l?Sn(i[c]):i[c],c,void 0,s)}else if(typeof i=="number"){Number.isInteger(i)||pe(`The v-for range expect an integer value but got ${i}.`),r=new Array(i);for(let a=0;a<i;a++)r[a]=e(a+1,a,void 0,s)}else if(wt(i))if(i[Symbol.iterator])r=Array.from(i,(a,l)=>e(a,l,void 0,s));else{const a=Object.keys(i);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];r[l]=e(i[u],u,l,s)}}else r=[];return r}const yd=i=>i?ib(i)?Oc(i):yd(i.parent):null,ws=Bt(Object.create(null),{$:i=>i,$el:i=>i.vnode.el,$data:i=>i.data,$props:i=>kn(i.props),$attrs:i=>kn(i.attrs),$slots:i=>kn(i.slots),$refs:i=>kn(i.refs),$parent:i=>yd(i.parent),$root:i=>yd(i.root),$host:i=>i.ce,$emit:i=>i.emit,$options:i=>Mx(i),$forceUpdate:i=>i.f||(i.f=()=>{lc(i.update)}),$nextTick:i=>i.n||(i.n=ur.bind(i.proxy)),$watch:i=>MC.bind(i)}),vd=i=>i==="_"||i==="$",wd=(i,e)=>i!==Qe&&!i.__isScriptSetup&&yt(i,e),Sx={get({_:i},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:n,data:r,props:s,accessCache:o,type:a,appContext:l}=i;if(e==="__isVue")return!0;let c;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return n[e];case 2:return r[e];case 4:return t[e];case 3:return s[e]}else{if(wd(n,e))return o[e]=1,n[e];if(r!==Qe&&yt(r,e))return o[e]=2,r[e];if((c=i.propsOptions[0])&&yt(c,e))return o[e]=3,s[e];if(t!==Qe&&yt(t,e))return o[e]=4,t[e];kd&&(o[e]=0)}}const u=ws[e];let h,d;if(u)return e==="$attrs"?(tn(i.attrs,"get",""),Ac()):e==="$slots"&&tn(i,"get",e),u(i);if((h=a.__cssModules)&&(h=h[e]))return h;if(t!==Qe&&yt(t,e))return o[e]=4,t[e];if(d=l.config.globalProperties,yt(d,e))return d[e];Nn&&(!Nt(e)||e.indexOf("__v")!==0)&&(r!==Qe&&vd(e[0])&&yt(r,e)?pe(`Property ${JSON.stringify(e)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):i===Nn&&pe(`Property ${JSON.stringify(e)} was accessed during render but is not defined on instance.`))},set({_:i},e,t){const{data:n,setupState:r,ctx:s}=i;return wd(r,e)?(r[e]=t,!0):r.__isScriptSetup&&yt(r,e)?(pe(`Cannot mutate <script setup> binding "${e}" from Options API.`),!1):n!==Qe&&yt(n,e)?(n[e]=t,!0):yt(i.props,e)?(pe(`Attempting to mutate prop "${e}". Props are readonly.`),!1):e[0]==="$"&&e.slice(1)in i?(pe(`Attempting to mutate public property "${e}". Properties starting with $ are reserved and readonly.`),!1):(e in i.appContext.config.globalProperties?Object.defineProperty(s,e,{enumerable:!0,configurable:!0,value:t}):s[e]=t,!0)},has({_:{data:i,setupState:e,accessCache:t,ctx:n,appContext:r,propsOptions:s}},o){let a;return!!t[o]||i!==Qe&&yt(i,o)||wd(e,o)||(a=s[0])&&yt(a,o)||yt(n,o)||yt(ws,o)||yt(r.config.globalProperties,o)},defineProperty(i,e,t){return t.get!=null?i._.accessCache[e]=0:yt(t,"value")&&this.set(i,e,t.value,null),Reflect.defineProperty(i,e,t)}};Sx.ownKeys=i=>(pe("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(i));function VS(i){const e={};return Object.defineProperty(e,"_",{configurable:!0,enumerable:!1,get:()=>i}),Object.keys(ws).forEach(t=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,get:()=>ws[t](i),set:vn})}),e}function $S(i){const{ctx:e,propsOptions:[t]}=i;t&&Object.keys(t).forEach(n=>{Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.props[n],set:vn})})}function GS(i){const{ctx:e,setupState:t}=i;Object.keys(et(t)).forEach(n=>{if(!t.__isScriptSetup){if(vd(n[0])){pe(`setup() return property ${JSON.stringify(n)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>t[n],set:vn})}})}function bc(i){return Fe(i)?i.reduce((e,t)=>(e[t]=null,e),{}):i}function qS(i,e){return!i||!e?i||e:Fe(i)&&Fe(e)?i.concat(e):Bt({},bc(i),bc(e))}function US(){const i=Object.create(null);return(e,t)=>{i[t]?pe(`${e} property "${t}" is already defined in ${i[t]}.`):i[t]=e}}let kd=!0;function KS(i){const e=Mx(i),t=i.proxy,n=i.ctx;kd=!1,e.beforeCreate&&Cx(e.beforeCreate,i,"bc");const{data:r,computed:s,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:f,updated:p,activated:m,deactivated:b,beforeDestroy:y,beforeUnmount:w,destroyed:C,unmounted:T,render:k,renderTracked:E,renderTriggered:M,errorCaptured:O,serverPrefetch:P,expose:N,inheritAttrs:R,components:D,directives:V,filters:q}=e,re=US();{const[ie]=i.propsOptions;if(ie)for(const se in ie)re("Props",se)}if(c&&JS(c,n,re),o)for(const ie in o){const se=o[ie];Ve(se)?(Object.defineProperty(n,ie,{value:se.bind(t),configurable:!0,enumerable:!0,writable:!0}),re("Methods",ie)):pe(`Method "${ie}" has type "${typeof se}" in the component definition. Did you reference the function correctly?`)}if(r){Ve(r)||pe("The data option must be a function. Plain object usage is no longer supported.");const ie=r.call(t,t);if(qh(ie)&&pe("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!wt(ie))pe("data() should return an object.");else{i.data=ad(ie);for(const se in ie)re("Data",se),vd(se[0])||Object.defineProperty(n,se,{configurable:!0,enumerable:!0,get:()=>ie[se],set:vn})}}if(kd=!0,s)for(const ie in s){const se=s[ie],ve=Ve(se)?se.bind(t,t):Ve(se.get)?se.get.bind(t,t):vn;ve===vn&&pe(`Computed property "${ie}" has no getter.`);const _e=!Ve(se)&&Ve(se.set)?se.set.bind(t):()=>{pe(`Write operation failed: computed property "${ie}" is readonly.`)},ze=Un({get:ve,set:_e});Object.defineProperty(n,ie,{enumerable:!0,configurable:!0,get:()=>ze.value,set:nt=>ze.value=nt}),re("Computed",ie)}if(a)for(const ie in a)Ax(a[ie],n,t,ie);if(l){const ie=Ve(l)?l.call(t):l;Reflect.ownKeys(ie).forEach(se=>{iC(se,ie[se])})}u&&Cx(u,i,"c");function te(ie,se){Fe(se)?se.forEach(ve=>ie(ve.bind(t))):se&&ie(se.bind(t))}if(te(vx,h),te(Pr,d),te(zS,f),te(BS,p),te(DS,m),te(NS,b),te(YS,O),te(XS,E),te(WS,M),te(po,w),te(wx,T),te(HS,P),Fe(N))if(N.length){const ie=i.exposed||(i.exposed={});N.forEach(se=>{Object.defineProperty(ie,se,{get:()=>t[se],set:ve=>t[se]=ve})})}else i.exposed||(i.exposed={});k&&i.render===vn&&(i.render=k),R!=null&&(i.inheritAttrs=R),D&&(i.components=D),V&&(i.directives=V),P&&bx(i)}function JS(i,e,t=vn){Fe(i)&&(i=Sd(i));for(const n in i){const r=i[n];let s;wt(r)?"default"in r?s=vc(r.from||n,r.default,!0):s=vc(r.from||n):s=vc(r),$t(s)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[n]=s,t("Inject",n)}}function Cx(i,e,t){Mi(Fe(i)?i.map(n=>n.bind(e.proxy)):i.bind(e.proxy),e,t)}function Ax(i,e,t,n){let r=n.includes(".")?jx(t,n):()=>t[n];if(Nt(i)){const s=e[i];Ve(s)?qn(r,s):pe(`Invalid watch handler specified by key "${i}"`,s)}else if(Ve(i))qn(r,i.bind(t));else if(wt(i))if(Fe(i))i.forEach(s=>Ax(s,e,t,n));else{const s=Ve(i.handler)?i.handler.bind(t):e[i.handler];Ve(s)?qn(r,s,i):pe(`Invalid watch handler specified by key "${i.handler}"`,s)}else pe(`Invalid watch option: "${n}"`,i)}function Mx(i){const e=i.type,{mixins:t,extends:n}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=i.appContext,a=s.get(e);let l;return a?l=a:!r.length&&!t&&!n?l=e:(l={},r.length&&r.forEach(c=>yc(l,c,o,!0)),yc(l,e,o)),wt(e)&&s.set(e,l),l}function yc(i,e,t,n=!1){const{mixins:r,extends:s}=e;s&&yc(i,s,t,!0),r&&r.forEach(o=>yc(i,o,t,!0));for(const o in e)if(n&&o==="expose")pe('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const a=ZS[o]||t&&t[o];i[o]=a?a(i[o],e[o]):e[o]}return i}const ZS={data:Tx,props:Ex,emits:Ex,methods:Ca,computed:Ca,beforeCreate:Fn,created:Fn,beforeMount:Fn,mounted:Fn,beforeUpdate:Fn,updated:Fn,beforeDestroy:Fn,beforeUnmount:Fn,destroyed:Fn,unmounted:Fn,activated:Fn,deactivated:Fn,errorCaptured:Fn,serverPrefetch:Fn,components:Ca,directives:Ca,watch:eC,provide:Tx,inject:QS};function Tx(i,e){return e?i?function(){return Bt(Ve(i)?i.call(this,this):i,Ve(e)?e.call(this,this):e)}:e:i}function QS(i,e){return Ca(Sd(i),Sd(e))}function Sd(i){if(Fe(i)){const e={};for(let t=0;t<i.length;t++)e[i[t]]=i[t];return e}return i}function Fn(i,e){return i?[...new Set([].concat(i,e))]:e}function Ca(i,e){return i?Bt(Object.create(null),i,e):e}function Ex(i,e){return i?Fe(i)&&Fe(e)?[...new Set([...i,...e])]:Bt(Object.create(null),bc(i),bc(e??{})):e}function eC(i,e){if(!i)return e;if(!e)return i;const t=Bt(Object.create(null),i);for(const n in e)t[n]=Fn(i[n],e[n]);return t}function Ox(){return{app:null,config:{isNativeTag:hk,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let tC=0;function nC(i,e){return function(n,r=null){Ve(n)||(n=Bt({},n)),r!=null&&!wt(r)&&(pe("root props passed to app.mount() must be an object."),r=null);const s=Ox(),o=new WeakSet,a=[];let l=!1;const c=s.app={_uid:tC++,_component:n,_props:r,_container:null,_context:s,_instance:null,version:lb,get config(){return s.config},set config(u){pe("app.config cannot be replaced. Modify individual options instead.")},use(u,...h){return o.has(u)?pe("Plugin has already been applied to target app."):u&&Ve(u.install)?(o.add(u),u.install(c,...h)):Ve(u)?(o.add(u),u(c,...h)):pe('A plugin must either be a function or an object with an "install" function.'),c},mixin(u){return s.mixins.includes(u)?pe("Mixin has already been applied to target app"+(u.name?`: ${u.name}`:"")):s.mixins.push(u),c},component(u,h){return Ld(u,s.config),h?(s.components[u]&&pe(`Component "${u}" has already been registered in target app.`),s.components[u]=h,c):s.components[u]},directive(u,h){return rx(u),h?(s.directives[u]&&pe(`Directive "${u}" has already been registered in target app.`),s.directives[u]=h,c):s.directives[u]},mount(u,h,d){if(l)pe("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{u.__vue_app__&&pe("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const f=c._ceVNode||ft(n,r);return f.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),s.reload=()=>{i(Xi(f),u,d)},i(f,u,d),l=!0,c._container=u,u.__vue_app__=c,c._instance=f.component,wS(c,lb),Oc(f.component)}},onUnmount(u){typeof u!="function"&&pe(`Expected function as first argument to app.onUnmount(), but got ${typeof u}`),a.push(u)},unmount(){l?(Mi(a,c._instance,16),i(null,c._container),c._instance=null,kS(c),delete c._container.__vue_app__):pe("Cannot unmount an app that is not mounted.")},provide(u,h){return u in s.provides&&pe(`App already provides property with key "${String(u)}". It will be overwritten with the new value.`),s.provides[u]=h,c},runWithContext(u){const h=go;go=c;try{return u()}finally{go=h}}};return c}}let go=null;function iC(i,e){if(!nn)pe("provide() can only be used inside setup().");else{let t=nn.provides;const n=nn.parent&&nn.parent.provides;n===t&&(t=nn.provides=Object.create(n)),t[i]=e}}function vc(i,e,t=!1){const n=nn||Nn;if(n||go){const r=go?go._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&i in r)return r[i];if(arguments.length>1)return t&&Ve(e)?e.call(n&&n.proxy):e;pe(`injection "${String(i)}" not found.`)}else pe("inject() can only be used inside setup() or functional components.")}const Ix={},Px=()=>Object.create(Ix),Lx=i=>Object.getPrototypeOf(i)===Ix;function rC(i,e,t,n=!1){const r={},s=Px();i.propsDefaults=Object.create(null),Rx(i,e,r,s);for(const o in i.propsOptions[0])o in r||(r[o]=void 0);Nx(e||{},r,i),t?i.props=n?r:Jk(r):i.type.props?i.props=r:i.props=s,i.attrs=s}function sC(i){for(;i;){if(i.type.__hmrId)return!0;i=i.parent}}function oC(i,e,t,n){const{props:r,attrs:s,vnode:{patchFlag:o}}=i,a=et(r),[l]=i.propsOptions;let c=!1;if(!sC(i)&&(n||o>0)&&!(o&16)){if(o&8){const u=i.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(Cc(i.emitsOptions,d))continue;const f=e[d];if(l)if(yt(s,d))f!==s[d]&&(s[d]=f,c=!0);else{const p=ci(d);r[p]=Cd(l,a,p,f,i,!1)}else f!==s[d]&&(s[d]=f,c=!0)}}}else{Rx(i,e,r,s)&&(c=!0);let u;for(const h in a)(!e||!yt(e,h)&&((u=rr(h))===h||!yt(e,u)))&&(l?t&&(t[h]!==void 0||t[u]!==void 0)&&(r[h]=Cd(l,a,h,void 0,i,!0)):delete r[h]);if(s!==a)for(const h in s)(!e||!yt(e,h))&&(delete s[h],c=!0)}c&&Bi(i.attrs,"set",""),Nx(e||{},r,i)}function Rx(i,e,t,n){const[r,s]=i.propsOptions;let o=!1,a;if(e)for(let l in e){if(ca(l))continue;const c=e[l];let u;r&&yt(r,u=ci(l))?!s||!s.includes(u)?t[u]=c:(a||(a={}))[u]=c:Cc(i.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,o=!0)}if(s){const l=et(t),c=a||Qe;for(let u=0;u<s.length;u++){const h=s[u];t[h]=Cd(r,l,h,c[h],i,!yt(c,h))}}return o}function Cd(i,e,t,n,r,s){const o=i[t];if(o!=null){const a=yt(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Ve(l)){const{propsDefaults:c}=r;if(t in c)n=c[t];else{const u=Pa(r);n=c[t]=l.call(null,e),u()}}else n=l;r.ce&&r.ce._setProp(t,n)}o[0]&&(s&&!a?n=!1:o[1]&&(n===""||n===rr(t))&&(n=!0))}return n}const aC=new WeakMap;function _x(i,e,t=!1){const n=t?aC:e.propsCache,r=n.get(i);if(r)return r;const s=i.props,o={},a=[];let l=!1;if(!Ve(i)){const u=h=>{l=!0;const[d,f]=_x(h,e,!0);Bt(o,d),f&&a.push(...f)};!t&&e.mixins.length&&e.mixins.forEach(u),i.extends&&u(i.extends),i.mixins&&i.mixins.forEach(u)}if(!s&&!l)return wt(i)&&n.set(i,Ci),Ci;if(Fe(s))for(let u=0;u<s.length;u++){Nt(s[u])||pe("props must be strings when using array syntax.",s[u]);const h=ci(s[u]);Dx(h)&&(o[h]=Qe)}else if(s){wt(s)||pe("invalid props options",s);for(const u in s){const h=ci(u);if(Dx(h)){const d=s[u],f=o[h]=Fe(d)||Ve(d)?{type:d}:Bt({},d),p=f.type;let m=!1,b=!0;if(Fe(p))for(let y=0;y<p.length;++y){const w=p[y],C=Ve(w)&&w.name;if(C==="Boolean"){m=!0;break}else C==="String"&&(b=!1)}else m=Ve(p)&&p.name==="Boolean";f[0]=m,f[1]=b,(m||yt(f,"default"))&&a.push(h)}}}const c=[o,a];return wt(i)&&n.set(i,c),c}function Dx(i){return i[0]!=="$"&&!ca(i)?!0:(pe(`Invalid prop name: "${i}" is a reserved property.`),!1)}function lC(i){return i===null?"null":typeof i=="function"?i.name||"":typeof i=="object"&&i.constructor&&i.constructor.name||""}function Nx(i,e,t){const n=et(e),r=t.propsOptions[0],s=Object.keys(i).map(o=>ci(o));for(const o in r){let a=r[o];a!=null&&cC(o,n[o],a,kn(n),!s.includes(o))}}function cC(i,e,t,n,r){const{type:s,required:o,validator:a,skipCheck:l}=t;if(o&&r){pe('Missing required prop: "'+i+'"');return}if(!(e==null&&!o)){if(s!=null&&s!==!0&&!l){let c=!1;const u=Fe(s)?s:[s],h=[];for(let d=0;d<u.length&&!c;d++){const{valid:f,expectedType:p}=hC(e,u[d]);h.push(p||""),c=f}if(!c){pe(dC(i,e,h));return}}a&&!a(e,n)&&pe('Invalid prop: custom validator check failed for prop "'+i+'".')}}const uC=Ln("String,Number,Boolean,Function,Symbol,BigInt");function hC(i,e){let t;const n=lC(e);if(n==="null")t=i===null;else if(uC(n)){const r=typeof i;t=r===n.toLowerCase(),!t&&r==="object"&&(t=i instanceof e)}else n==="Object"?t=wt(i):n==="Array"?t=Fe(i):t=i instanceof e;return{valid:t,expectedType:n}}function dC(i,e,t){if(t.length===0)return`Prop type [] for prop "${i}" won't match anything. Did you mean to use type Array instead?`;let n=`Invalid prop: type check failed for prop "${i}". Expected ${t.map(Vl).join(" | ")}`;const r=t[0],s=Uh(e),o=Fx(e,r),a=Fx(e,s);return t.length===1&&zx(r)&&!fC(r,s)&&(n+=` with value ${o}`),n+=`, got ${s} `,zx(s)&&(n+=`with value ${a}.`),n}function Fx(i,e){return e==="String"?`"${i}"`:e==="Number"?`${Number(i)}`:`${i}`}function zx(i){return["string","number","boolean"].some(t=>i.toLowerCase()===t)}function fC(...i){return i.some(e=>e.toLowerCase()==="boolean")}const Bx=i=>i[0]==="_"||i==="$stable",Ad=i=>Fe(i)?i.map(Ei):[Ei(i)],pC=(i,e,t)=>{if(e._n)return e;const n=dc((...r)=>(nn&&(!t||t.root===nn.root)&&pe(`Slot "${i}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),Ad(e(...r))),t);return n._c=!1,n},Hx=(i,e,t)=>{const n=i._ctx;for(const r in i){if(Bx(r))continue;const s=i[r];if(Ve(s))e[r]=pC(r,s,n);else if(s!=null){pe(`Non-function value encountered for slot "${r}". Prefer function slots for better performance.`);const o=Ad(s);e[r]=()=>o}}},Wx=(i,e)=>{Sa(i.vnode)||pe("Non-function value encountered for default slot. Prefer function slots for better performance.");const t=Ad(e);i.slots.default=()=>t},Md=(i,e,t)=>{for(const n in e)(t||n!=="_")&&(i[n]=e[n])},gC=(i,e,t)=>{const n=i.slots=Px();if(i.vnode.shapeFlag&32){const r=e._;r?(Md(n,e,t),t&&$l(n,"_",r,!0)):Hx(e,n)}else e&&Wx(i,e)},mC=(i,e,t)=>{const{vnode:n,slots:r}=i;let s=!0,o=Qe;if(n.shapeFlag&32){const a=e._;a?Ti?(Md(r,e,t),Bi(i,"set","$slots")):t&&a===1?s=!1:Md(r,e,t):(s=!e.$stable,Hx(e,r)),o=e}else e&&(Wx(i,e),o={default:1});if(s)for(const a in r)!Bx(a)&&o[a]==null&&delete r[a]};let Aa,Lr;function mo(i,e){i.appContext.config.performance&&wc()&&Lr.mark(`vue-${e}-${i.uid}`),MS(i,e,wc()?Lr.now():Date.now())}function xo(i,e){if(i.appContext.config.performance&&wc()){const t=`vue-${e}-${i.uid}`,n=t+":end";Lr.mark(n),Lr.measure(`<${Ic(i,i.type)}> ${e}`,t,n),Lr.clearMarks(t),Lr.clearMarks(n)}TS(i,e,wc()?Lr.now():Date.now())}function wc(){return Aa!==void 0||(typeof window<"u"&&window.performance?(Aa=!0,Lr=window.performance):Aa=!1),Aa}function xC(){const i=[];if(i.length){const e=i.length>1;console.warn(`Feature flag${e?"s":""} ${i.join(", ")} ${e?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.
  
  For more details, see https://link.vuejs.org/feature-flags.`)}}const zn=RC;function bC(i){return yC(i)}function yC(i,e){xC();const t=ua();t.__VUE__=!0,ex(t.__VUE_DEVTOOLS_GLOBAL_HOOK__,t);const{insert:n,remove:r,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:f=vn,insertStaticContent:p}=i,m=(_,B,ne,de=null,le=null,ce=null,Se=void 0,ye=null,fe=Ti?!1:!!B.dynamicChildren)=>{if(_===B)return;_&&!Ss(_,B)&&(de=ut(_),lt(_,le,ce,!0),_=null),B.patchFlag===-2&&(fe=!1,B.dynamicChildren=null);const{type:he,ref:We,shapeFlag:Me}=B;switch(he){case Ma:b(_,B,ne,de);break;case Ut:y(_,B,ne,de);break;case Mc:_==null?w(B,ne,de,Se):C(_,B,ne,Se);break;case Bn:V(_,B,ne,de,le,ce,Se,ye,fe);break;default:Me&1?E(_,B,ne,de,le,ce,Se,ye,fe):Me&6?q(_,B,ne,de,le,ce,Se,ye,fe):Me&64||Me&128?he.process(_,B,ne,de,le,ce,Se,ye,fe,_t):pe("Invalid VNode type:",he,`(${typeof he})`)}We!=null&&le&&mc(We,_&&_.ref,ce,B||_,!B)},b=(_,B,ne,de)=>{if(_==null)n(B.el=a(B.children),ne,de);else{const le=B.el=_.el;B.children!==_.children&&c(le,B.children)}},y=(_,B,ne,de)=>{_==null?n(B.el=l(B.children||""),ne,de):B.el=_.el},w=(_,B,ne,de)=>{[_.el,_.anchor]=p(_.children,B,ne,de,_.el,_.anchor)},C=(_,B,ne,de)=>{if(B.children!==_.children){const le=d(_.anchor);k(_),[B.el,B.anchor]=p(B.children,ne,le,de)}else B.el=_.el,B.anchor=_.anchor},T=({el:_,anchor:B},ne,de)=>{let le;for(;_&&_!==B;)le=d(_),n(_,ne,de),_=le;n(B,ne,de)},k=({el:_,anchor:B})=>{let ne;for(;_&&_!==B;)ne=d(_),r(_),_=ne;r(B)},E=(_,B,ne,de,le,ce,Se,ye,fe)=>{B.type==="svg"?Se="svg":B.type==="math"&&(Se="mathml"),_==null?M(B,ne,de,le,ce,Se,ye,fe):N(_,B,le,ce,Se,ye,fe)},M=(_,B,ne,de,le,ce,Se,ye)=>{let fe,he;const{props:We,shapeFlag:Me,transition:Be,dirs:Ye}=_;if(fe=_.el=o(_.type,ce,We&&We.is,We),Me&8?u(fe,_.children):Me&16&&P(_.children,fe,null,de,le,Td(_,ce),Se,ye),Ye&&ys(_,null,de,"created"),O(fe,_,_.scopeId,Se,de),We){for(const Ct in We)Ct!=="value"&&!ca(Ct)&&s(fe,Ct,null,We[Ct],ce,de);"value"in We&&s(fe,"value",null,We.value,ce),(he=We.onVnodeBeforeMount)&&Yi(he,de,_)}$l(fe,"__vnode",_,!0),$l(fe,"__vueParentComponent",de,!0),Ye&&ys(_,null,de,"beforeMount");const it=vC(le,Be);it&&Be.beforeEnter(fe),n(fe,B,ne),((he=We&&We.onVnodeMounted)||it||Ye)&&zn(()=>{he&&Yi(he,de,_),it&&Be.enter(fe),Ye&&ys(_,null,de,"mounted")},le)},O=(_,B,ne,de,le)=>{if(ne&&f(_,ne),de)for(let ce=0;ce<de.length;ce++)f(_,de[ce]);if(le){let ce=le.subTree;if(ce.patchFlag>0&&ce.patchFlag&2048&&(ce=Od(ce.children)||ce),B===ce||Jx(ce.type)&&(ce.ssContent===B||ce.ssFallback===B)){const Se=le.vnode;O(_,Se,Se.scopeId,Se.slotScopeIds,le.parent)}}},P=(_,B,ne,de,le,ce,Se,ye,fe=0)=>{for(let he=fe;he<_.length;he++){const We=_[he]=ye?Rr(_[he]):Ei(_[he]);m(null,We,B,ne,de,le,ce,Se,ye)}},N=(_,B,ne,de,le,ce,Se)=>{const ye=B.el=_.el;ye.__vnode=B;let{patchFlag:fe,dynamicChildren:he,dirs:We}=B;fe|=_.patchFlag&16;const Me=_.props||Qe,Be=B.props||Qe;let Ye;if(ne&&ks(ne,!1),(Ye=Be.onVnodeBeforeUpdate)&&Yi(Ye,ne,B,_),We&&ys(B,_,ne,"beforeUpdate"),ne&&ks(ne,!0),Ti&&(fe=0,Se=!1,he=null),(Me.innerHTML&&Be.innerHTML==null||Me.textContent&&Be.textContent==null)&&u(ye,""),he?(R(_.dynamicChildren,he,ye,ne,de,Td(B,le),ce),kc(_,B)):Se||ve(_,B,ye,null,ne,de,Td(B,le),ce,!1),fe>0){if(fe&16)D(ye,Me,Be,ne,le);else if(fe&2&&Me.class!==Be.class&&s(ye,"class",null,Be.class,le),fe&4&&s(ye,"style",Me.style,Be.style,le),fe&8){const it=B.dynamicProps;for(let Ct=0;Ct<it.length;Ct++){const gt=it[Ct],yn=Me[gt],en=Be[gt];(en!==yn||gt==="value")&&s(ye,gt,yn,en,le,ne)}}fe&1&&_.children!==B.children&&u(ye,B.children)}else!Se&&he==null&&D(ye,Me,Be,ne,le);((Ye=Be.onVnodeUpdated)||We)&&zn(()=>{Ye&&Yi(Ye,ne,B,_),We&&ys(B,_,ne,"updated")},de)},R=(_,B,ne,de,le,ce,Se)=>{for(let ye=0;ye<B.length;ye++){const fe=_[ye],he=B[ye],We=fe.el&&(fe.type===Bn||!Ss(fe,he)||fe.shapeFlag&70)?h(fe.el):ne;m(fe,he,We,null,de,le,ce,Se,!0)}},D=(_,B,ne,de,le)=>{if(B!==ne){if(B!==Qe)for(const ce in B)!ca(ce)&&!(ce in ne)&&s(_,ce,B[ce],null,le,de);for(const ce in ne){if(ca(ce))continue;const Se=ne[ce],ye=B[ce];Se!==ye&&ce!=="value"&&s(_,ce,ye,Se,le,de)}"value"in ne&&s(_,"value",B.value,ne.value,le)}},V=(_,B,ne,de,le,ce,Se,ye,fe)=>{const he=B.el=_?_.el:a(""),We=B.anchor=_?_.anchor:a("");let{patchFlag:Me,dynamicChildren:Be,slotScopeIds:Ye}=B;(Ti||Me&2048)&&(Me=0,fe=!1,Be=null),Ye&&(ye=ye?ye.concat(Ye):Ye),_==null?(n(he,ne,de),n(We,ne,de),P(B.children||[],ne,We,le,ce,Se,ye,fe)):Me>0&&Me&64&&Be&&_.dynamicChildren?(R(_.dynamicChildren,Be,ne,le,ce,Se,ye),kc(_,B)):ve(_,B,ne,We,le,ce,Se,ye,fe)},q=(_,B,ne,de,le,ce,Se,ye,fe)=>{B.slotScopeIds=ye,_==null?B.shapeFlag&512?le.ctx.activate(B,ne,de,Se,fe):re(B,ne,de,le,ce,Se,fe):te(_,B,fe)},re=(_,B,ne,de,le,ce,Se)=>{const ye=_.component=WC(_,de,le);if(ye.type.__hmrId&&xS(ye),sc(_),mo(ye,"mount"),Sa(_)&&(ye.ctx.renderer=_t),mo(ye,"init"),YC(ye,!1,Se),xo(ye,"init"),ye.asyncDep){if(Ti&&(_.el=null),le&&le.registerDep(ye,ie,Se),!_.el){const fe=ye.subTree=ft(Ut);y(null,fe,B,ne)}}else ie(ye,_,B,ne,le,ce,Se);oc(),xo(ye,"mount")},te=(_,B,ne)=>{const de=B.component=_.component;if(PC(_,B,ne))if(de.asyncDep&&!de.asyncResolved){sc(B),se(de,B,ne),oc();return}else de.next=B,de.update();else B.el=_.el,de.vnode=B},ie=(_,B,ne,de,le,ce,Se)=>{const ye=()=>{if(_.isMounted){let{next:Me,bu:Be,u:Ye,parent:it,vnode:Ct}=_;{const Vn=Xx(_);if(Vn){Me&&(Me.el=Ct.el,se(_,Me,Se)),Vn.asyncDep.then(()=>{_.isUnmounted||ye()});return}}let gt=Me,yn;sc(Me||_.vnode),ks(_,!1),Me?(Me.el=Ct.el,se(_,Me,Se)):Me=Ct,Be&&lo(Be),(yn=Me.props&&Me.props.onVnodeBeforeUpdate)&&Yi(yn,it,Me,Ct),ks(_,!0),mo(_,"render");const en=Gx(_);xo(_,"render");const cn=_.subTree;_.subTree=en,mo(_,"patch"),m(cn,en,h(cn.el),ut(cn),_,le,ce),xo(_,"patch"),Me.el=en.el,gt===null&&LC(_,en.el),Ye&&zn(Ye,le),(yn=Me.props&&Me.props.onVnodeUpdated)&&zn(()=>Yi(yn,it,Me,Ct),le),tx(_),oc()}else{let Me;const{el:Be,props:Ye}=B,{bm:it,m:Ct,parent:gt,root:yn,type:en}=_,cn=ka(B);ks(_,!1),it&&lo(it),!cn&&(Me=Ye&&Ye.onVnodeBeforeMount)&&Yi(Me,gt,B),ks(_,!0);{yn.ce&&yn.ce._injectChildStyle(en),mo(_,"render");const Vn=_.subTree=Gx(_);xo(_,"render"),mo(_,"patch"),m(null,Vn,ne,de,_,le,ce),xo(_,"patch"),B.el=Vn.el}if(Ct&&zn(Ct,le),!cn&&(Me=Ye&&Ye.onVnodeMounted)){const Vn=B;zn(()=>Yi(Me,gt,Vn),le)}(B.shapeFlag&256||gt&&ka(gt.vnode)&&gt.vnode.shapeFlag&256)&&_.a&&zn(_.a,le),_.isMounted=!0,SS(_),B=ne=de=null}};_.scope.on();const fe=_.effect=new wm(ye);_.scope.off();const he=_.update=fe.run.bind(fe),We=_.job=fe.runIfDirty.bind(fe);We.i=_,We.id=_.uid,fe.scheduler=()=>lc(We),ks(_,!0),fe.onTrack=_.rtc?Me=>lo(_.rtc,Me):void 0,fe.onTrigger=_.rtg?Me=>lo(_.rtg,Me):void 0,he()},se=(_,B,ne)=>{B.component=_;const de=_.vnode.props;_.vnode=B,_.next=null,oC(_,B.props,de,ne),mC(_,B.children,ne),sr(),Um(_),or()},ve=(_,B,ne,de,le,ce,Se,ye,fe=!1)=>{const he=_&&_.children,We=_?_.shapeFlag:0,Me=B.children,{patchFlag:Be,shapeFlag:Ye}=B;if(Be>0){if(Be&128){ze(he,Me,ne,de,le,ce,Se,ye,fe);return}else if(Be&256){_e(he,Me,ne,de,le,ce,Se,ye,fe);return}}Ye&8?(We&16&&Ge(he,le,ce),Me!==he&&u(ne,Me)):We&16?Ye&16?ze(he,Me,ne,de,le,ce,Se,ye,fe):Ge(he,le,ce,!0):(We&8&&u(ne,""),Ye&16&&P(Me,ne,de,le,ce,Se,ye,fe))},_e=(_,B,ne,de,le,ce,Se,ye,fe)=>{_=_||Ci,B=B||Ci;const he=_.length,We=B.length,Me=Math.min(he,We);let Be;for(Be=0;Be<Me;Be++){const Ye=B[Be]=fe?Rr(B[Be]):Ei(B[Be]);m(_[Be],Ye,ne,null,le,ce,Se,ye,fe)}he>We?Ge(_,le,ce,!0,!1,Me):P(B,ne,de,le,ce,Se,ye,fe,Me)},ze=(_,B,ne,de,le,ce,Se,ye,fe)=>{let he=0;const We=B.length;let Me=_.length-1,Be=We-1;for(;he<=Me&&he<=Be;){const Ye=_[he],it=B[he]=fe?Rr(B[he]):Ei(B[he]);if(Ss(Ye,it))m(Ye,it,ne,null,le,ce,Se,ye,fe);else break;he++}for(;he<=Me&&he<=Be;){const Ye=_[Me],it=B[Be]=fe?Rr(B[Be]):Ei(B[Be]);if(Ss(Ye,it))m(Ye,it,ne,null,le,ce,Se,ye,fe);else break;Me--,Be--}if(he>Me){if(he<=Be){const Ye=Be+1,it=Ye<We?B[Ye].el:de;for(;he<=Be;)m(null,B[he]=fe?Rr(B[he]):Ei(B[he]),ne,it,le,ce,Se,ye,fe),he++}}else if(he>Be)for(;he<=Me;)lt(_[he],le,ce,!0),he++;else{const Ye=he,it=he,Ct=new Map;for(he=it;he<=Be;he++){const Ie=B[he]=fe?Rr(B[he]):Ei(B[he]);Ie.key!=null&&(Ct.has(Ie.key)&&pe("Duplicate keys found during update:",JSON.stringify(Ie.key),"Make sure keys are unique."),Ct.set(Ie.key,he))}let gt,yn=0;const en=Be-it+1;let cn=!1,Vn=0;const Ar=new Array(en);for(he=0;he<en;he++)Ar[he]=0;for(he=Ye;he<=Me;he++){const Ie=_[he];if(yn>=en){lt(Ie,le,ce,!0);continue}let En;if(Ie.key!=null)En=Ct.get(Ie.key);else for(gt=it;gt<=Be;gt++)if(Ar[gt-it]===0&&Ss(Ie,B[gt])){En=gt;break}En===void 0?lt(Ie,le,ce,!0):(Ar[En-it]=he+1,En>=Vn?Vn=En:cn=!0,m(Ie,B[En],ne,null,le,ce,Se,ye,fe),yn++)}const Fi=cn?wC(Ar):Ci;for(gt=Fi.length-1,he=en-1;he>=0;he--){const Ie=it+he,En=B[Ie],tr=Ie+1<We?B[Ie+1].el:de;Ar[he]===0?m(null,En,ne,tr,le,ce,Se,ye,fe):cn&&(gt<0||he!==Fi[gt]?nt(En,ne,tr,2):gt--)}}},nt=(_,B,ne,de,le=null)=>{const{el:ce,type:Se,transition:ye,children:fe,shapeFlag:he}=_;if(he&6){nt(_.component.subTree,B,ne,de);return}if(he&128){_.suspense.move(B,ne,de);return}if(he&64){Se.move(_,B,ne,_t);return}if(Se===Bn){n(ce,B,ne);for(let Me=0;Me<fe.length;Me++)nt(fe[Me],B,ne,de);n(_.anchor,B,ne);return}if(Se===Mc){T(_,B,ne);return}if(de!==2&&he&1&&ye)if(de===0)ye.beforeEnter(ce),n(ce,B,ne),zn(()=>ye.enter(ce),le);else{const{leave:Me,delayLeave:Be,afterLeave:Ye}=ye,it=()=>n(ce,B,ne),Ct=()=>{Me(ce,()=>{it(),Ye&&Ye()})};Be?Be(ce,it,Ct):Ct()}else n(ce,B,ne)},lt=(_,B,ne,de=!1,le=!1)=>{const{type:ce,props:Se,ref:ye,children:fe,dynamicChildren:he,shapeFlag:We,patchFlag:Me,dirs:Be,cacheIndex:Ye}=_;if(Me===-2&&(le=!1),ye!=null&&mc(ye,null,ne,_,!0),Ye!=null&&(B.renderCache[Ye]=void 0),We&256){B.ctx.deactivate(_);return}const it=We&1&&Be,Ct=!ka(_);let gt;if(Ct&&(gt=Se&&Se.onVnodeBeforeUnmount)&&Yi(gt,B,_),We&6)Je(_.component,ne,de);else{if(We&128){_.suspense.unmount(ne,de);return}it&&ys(_,null,B,"beforeUnmount"),We&64?_.type.remove(_,B,ne,_t,de):he&&!he.hasOnce&&(ce!==Bn||Me>0&&Me&64)?Ge(he,B,ne,!1,!0):(ce===Bn&&Me&384||!le&&We&16)&&Ge(fe,B,ne),de&&Ue(_)}(Ct&&(gt=Se&&Se.onVnodeUnmounted)||it)&&zn(()=>{gt&&Yi(gt,B,_),it&&ys(_,null,B,"unmounted")},ne)},Ue=_=>{const{type:B,el:ne,anchor:de,transition:le}=_;if(B===Bn){_.patchFlag>0&&_.patchFlag&2048&&le&&!le.persisted?_.children.forEach(Se=>{Se.type===Ut?r(Se.el):Ue(Se)}):Lt(ne,de);return}if(B===Mc){k(_);return}const ce=()=>{r(ne),le&&!le.persisted&&le.afterLeave&&le.afterLeave()};if(_.shapeFlag&1&&le&&!le.persisted){const{leave:Se,delayLeave:ye}=le,fe=()=>Se(ne,ce);ye?ye(_.el,ce,fe):fe()}else ce()},Lt=(_,B)=>{let ne;for(;_!==B;)ne=d(_),r(_),_=ne;r(B)},Je=(_,B,ne)=>{_.type.__hmrId&&bS(_);const{bum:de,scope:le,job:ce,subTree:Se,um:ye,m:fe,a:he}=_;Yx(fe),Yx(he),de&&lo(de),le.stop(),ce&&(ce.flags|=8,lt(Se,_,B,ne)),ye&&zn(ye,B),zn(()=>{_.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&_.asyncDep&&!_.asyncResolved&&_.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve()),AS(_)},Ge=(_,B,ne,de=!1,le=!1,ce=0)=>{for(let Se=ce;Se<_.length;Se++)lt(_[Se],B,ne,de,le)},ut=_=>{if(_.shapeFlag&6)return ut(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const B=d(_.anchor||_.el),ne=B&&B[sx];return ne?d(ne):B};let Ae=!1;const Rt=(_,B,ne)=>{_==null?B._vnode&&lt(B._vnode,null,null,!0):m(B._vnode||null,_,B,null,null,null,ne),B._vnode=_,Ae||(Ae=!0,Um(),Km(),Ae=!1)},_t={p:m,um:lt,m:nt,r:Ue,mt:re,mc:P,pc:ve,pbc:R,n:ut,o:i};return{render:Rt,hydrate:void 0,createApp:nC(Rt)}}function Td({type:i,props:e},t){return t==="svg"&&i==="foreignObject"||t==="mathml"&&i==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function ks({effect:i,job:e},t){t?(i.flags|=32,e.flags|=4):(i.flags&=-33,e.flags&=-5)}function vC(i,e){return(!i||i&&!i.pendingBranch)&&e&&!e.persisted}function kc(i,e,t=!1){const n=i.children,r=e.children;if(Fe(n)&&Fe(r))for(let s=0;s<n.length;s++){const o=n[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=Rr(r[s]),a.el=o.el),!t&&a.patchFlag!==-2&&kc(o,a)),a.type===Ma&&(a.el=o.el),a.type===Ut&&!a.el&&(a.el=o.el)}}function wC(i){const e=i.slice(),t=[0];let n,r,s,o,a;const l=i.length;for(n=0;n<l;n++){const c=i[n];if(c!==0){if(r=t[t.length-1],i[r]<c){e[n]=r,t.push(n);continue}for(s=0,o=t.length-1;s<o;)a=s+o>>1,i[t[a]]<c?s=a+1:o=a;c<i[t[s]]&&(s>0&&(e[n]=t[s-1]),t[s]=n)}}for(s=t.length,o=t[s-1];s-- >0;)t[s]=o,o=e[o];return t}function Xx(i){const e=i.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Xx(e)}function Yx(i){if(i)for(let e=0;e<i.length;e++)i[e].flags|=8}const kC=Symbol.for("v-scx"),SC=()=>{{const i=vc(kC);return i||pe("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),i}};function CC(i,e){return Sc(i,null,e)}function AC(i,e){return Sc(i,null,Bt({},e,{flush:"sync"}))}function qn(i,e,t){return Ve(e)||pe("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),Sc(i,e,t)}function Sc(i,e,t=Qe){const{immediate:n,deep:r,flush:s,once:o}=t;e||(n!==void 0&&pe('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),r!==void 0&&pe('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'),o!==void 0&&pe('watch() "once" option is only respected when using the watch(source, callback, options?) signature.'));const a=Bt({},t);a.onWarn=pe;const l=e&&n||!e&&s!=="post";let c;if(La){if(s==="sync"){const f=SC();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=vn,f.resume=vn,f.pause=vn,f}}const u=nn;a.call=(f,p,m)=>Mi(f,u,p,m);let h=!1;s==="post"?a.scheduler=f=>{zn(f,u&&u.suspense)}:s!=="sync"&&(h=!0,a.scheduler=(f,p)=>{p?f():lc(f)}),a.augmentJob=f=>{e&&(f.flags|=4),h&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const d=lS(i,e,a);return La&&(c?c.push(d):l&&d()),d}function MC(i,e,t){const n=this.proxy,r=Nt(i)?i.includes(".")?jx(n,i):()=>n[i]:i.bind(n,n);let s;Ve(e)?s=e:(s=e.handler,t=e);const o=Pa(this),a=Sc(r,s.bind(n),t);return o(),a}function jx(i,e){const t=e.split(".");return()=>{let n=i;for(let r=0;r<t.length&&n;r++)n=n[t[r]];return n}}function TC(i,e,t=Qe){const n=Ia();if(!n)return pe("useModel() called without active instance."),qe();const r=ci(e);if(!n.propsOptions[0][r])return pe(`useModel() called with prop "${e}" which is not declared.`),qe();const s=rr(e),o=Vx(i,r),a=jm((l,c)=>{let u,h=Qe,d;return AC(()=>{const f=i[r];Gn(u,f)&&(u=f,c())}),{get(){return l(),t.get?t.get(u):u},set(f){const p=t.set?t.set(f):f;if(!Gn(p,u)&&!(h!==Qe&&Gn(f,h)))return;const m=n.vnode.props;m&&(e in m||r in m||s in m)&&(`onUpdate:${e}`in m||`onUpdate:${r}`in m||`onUpdate:${s}`in m)||(u=f,c()),n.emit(`update:${e}`,p),Gn(f,p)&&Gn(f,h)&&!Gn(p,d)&&c(),h=f,d=p}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||Qe:a,done:!1}:{done:!0}}}},a}const Vx=(i,e)=>e==="modelValue"||e==="model-value"?i.modelModifiers:i[`${e}Modifiers`]||i[`${ci(e)}Modifiers`]||i[`${rr(e)}Modifiers`];function EC(i,e,...t){if(i.isUnmounted)return;const n=i.vnode.props||Qe;{const{emitsOptions:u,propsOptions:[h]}=i;if(u)if(!(e in u))(!h||!(fs(ci(e))in h))&&pe(`Component emitted event "${e}" but it is neither declared in the emits option nor as an "${fs(ci(e))}" prop.`);else{const d=u[e];Ve(d)&&(d(...t)||pe(`Invalid event arguments: event validation failed for event "${e}".`))}}let r=t;const s=e.startsWith("update:"),o=s&&Vx(n,e.slice(7));o&&(o.trim&&(r=t.map(u=>Nt(u)?u.trim():u)),o.number&&(r=t.map(Gl))),ES(i,e,r);{const u=e.toLowerCase();u!==e&&n[fs(u)]&&pe(`Event "${u}" is emitted in component ${Ic(i,i.type)} but the handler is registered for "${e}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${rr(e)}" instead of "${e}".`)}let a,l=n[a=fs(e)]||n[a=fs(ci(e))];!l&&s&&(l=n[a=fs(rr(e))]),l&&Mi(l,i,6,r);const c=n[a+"Once"];if(c){if(!i.emitted)i.emitted={};else if(i.emitted[a])return;i.emitted[a]=!0,Mi(c,i,6,r)}}function $x(i,e,t=!1){const n=e.emitsCache,r=n.get(i);if(r!==void 0)return r;const s=i.emits;let o={},a=!1;if(!Ve(i)){const l=c=>{const u=$x(c,e,!0);u&&(a=!0,Bt(o,u))};!t&&e.mixins.length&&e.mixins.forEach(l),i.extends&&l(i.extends),i.mixins&&i.mixins.forEach(l)}return!s&&!a?(wt(i)&&n.set(i,null),null):(Fe(s)?s.forEach(l=>o[l]=null):Bt(o,s),wt(i)&&n.set(i,o),o)}function Cc(i,e){return!i||!aa(e)?!1:(e=e.slice(2).replace(/Once$/,""),yt(i,e[0].toLowerCase()+e.slice(1))||yt(i,rr(e))||yt(i,e))}let Ed=!1;function Ac(){Ed=!0}function Gx(i){const{type:e,vnode:t,proxy:n,withProxy:r,propsOptions:[s],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:d,setupState:f,ctx:p,inheritAttrs:m}=i,b=hc(i);let y,w;Ed=!1;try{if(t.shapeFlag&4){const k=r||n,E=f.__isScriptSetup?new Proxy(k,{get(M,O,P){return pe(`Property '${String(O)}' was accessed via 'this'. Avoid using 'this' in templates.`),Reflect.get(M,O,P)}}):k;y=Ei(c.call(E,k,u,kn(h),f,d,p)),w=a}else{const k=e;a===h&&Ac(),y=Ei(k.length>1?k(kn(h),{get attrs(){return Ac(),kn(a)},slots:o,emit:l}):k(kn(h),null)),w=e.props?a:OC(a)}}catch(k){Ta.length=0,xa(k,i,1),y=ft(Ut)}let C=y,T;if(y.patchFlag>0&&y.patchFlag&2048&&([C,T]=qx(y)),w&&m!==!1){const k=Object.keys(w),{shapeFlag:E}=C;if(k.length){if(E&7)s&&k.some(Xl)&&(w=IC(w,s)),C=Xi(C,w,!1,!0);else if(!Ed&&C.type!==Ut){const M=Object.keys(a),O=[],P=[];for(let N=0,R=M.length;N<R;N++){const D=M[N];aa(D)?Xl(D)||O.push(D[2].toLowerCase()+D.slice(3)):P.push(D)}P.length&&pe(`Extraneous non-props attributes (${P.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text or teleport root nodes.`),O.length&&pe(`Extraneous non-emits event listeners (${O.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return t.dirs&&(Ux(C)||pe("Runtime directive used on component with non-element root node. The directives will not function as intended."),C=Xi(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(t.dirs):t.dirs),t.transition&&(Ux(C)||pe("Component inside <Transition> renders non-element root node that cannot be animated."),wa(C,t.transition)),T?T(C):y=C,hc(b),y}const qx=i=>{const e=i.children,t=i.dynamicChildren,n=Od(e,!1);if(n){if(n.patchFlag>0&&n.patchFlag&2048)return qx(n)}else return[i,void 0];const r=e.indexOf(n),s=t?t.indexOf(n):-1,o=a=>{e[r]=a,t&&(s>-1?t[s]=a:a.patchFlag>0&&(i.dynamicChildren=[...t,a]))};return[Ei(n),o]};function Od(i,e=!0){let t;for(let n=0;n<i.length;n++){const r=i[n];if(bo(r)){if(r.type!==Ut||r.children==="v-if"){if(t)return;if(t=r,e&&t.patchFlag>0&&t.patchFlag&2048)return Od(t.children)}}else return}return t}const OC=i=>{let e;for(const t in i)(t==="class"||t==="style"||aa(t))&&((e||(e={}))[t]=i[t]);return e},IC=(i,e)=>{const t={};for(const n in i)(!Xl(n)||!(n.slice(9)in e))&&(t[n]=i[n]);return t},Ux=i=>i.shapeFlag&7||i.type===Ut;function PC(i,e,t){const{props:n,children:r,component:s}=i,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if((r||a)&&Ti||e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return n?Kx(n,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==n[d]&&!Cc(c,d))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?Kx(n,o,c):!0:!!o;return!1}function Kx(i,e,t){const n=Object.keys(e);if(n.length!==Object.keys(i).length)return!0;for(let r=0;r<n.length;r++){const s=n[r];if(e[s]!==i[s]&&!Cc(t,s))return!0}return!1}function LC({vnode:i,parent:e},t){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===i&&(n.el=i.el),n===i)(i=e.vnode).el=t,e=e.parent;else break}}const Jx=i=>i.__isSuspense;function RC(i,e){e&&e.pendingBranch?Fe(i)?e.effects.push(...i):e.effects.push(i):qm(i)}const Bn=Symbol.for("v-fgt"),Ma=Symbol.for("v-txt"),Ut=Symbol.for("v-cmt"),Mc=Symbol.for("v-stc"),Ta=[];let ei=null;function tt(i=!1){Ta.push(ei=i?null:[])}function _C(){Ta.pop(),ei=Ta[Ta.length-1]||null}let Ea=1;function Zx(i,e=!1){Ea+=i,i<0&&ei&&e&&(ei.hasOnce=!0)}function Qx(i){return i.dynamicChildren=Ea>0?ei||Ci:null,_C(),Ea>0&&ei&&ei.push(i),i}function vt(i,e,t,n,r,s){return Qx(Pe(i,e,t,n,r,s,!0))}function dr(i,e,t,n,r){return Qx(ft(i,e,t,n,r,!0))}function bo(i){return i?i.__v_isVNode===!0:!1}function Ss(i,e){if(e.shapeFlag&6&&i.component){const t=cc.get(e.type);if(t&&t.has(i.component))return i.shapeFlag&=-257,e.shapeFlag&=-513,!1}return i.type===e.type&&i.key===e.key}const DC=(...i)=>NC(...i),eb=({key:i})=>i??null,Tc=({ref:i,ref_key:e,ref_for:t})=>(typeof i=="number"&&(i=""+i),i!=null?Nt(i)||$t(i)||Ve(i)?{i:Nn,r:i,k:e,f:!!t}:i:null);function Pe(i,e=null,t=null,n=0,r=null,s=i===Bn?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:i,props:e,key:e&&eb(e),ref:e&&Tc(e),scopeId:ix,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Nn};return a?(Id(l,t),s&128&&i.normalize(l)):t&&(l.shapeFlag|=Nt(t)?8:16),l.key!==l.key&&pe("VNode created with invalid key (NaN). VNode type:",l.type),Ea>0&&!o&&ei&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&ei.push(l),l}const ft=DC;function NC(i,e=null,t=null,n=0,r=null,s=!1){if((!i||i===jS)&&(i||pe(`Invalid vnode type when creating vnode: ${i}.`),i=Ut),bo(i)){const a=Xi(i,e,!0);return t&&Id(a,t),Ea>0&&!s&&ei&&(a.shapeFlag&6?ei[ei.indexOf(i)]=a:ei.push(a)),a.patchFlag=-2,a}if(ab(i)&&(i=i.__vccOpts),e){e=FC(e);let{class:a,style:l}=e;a&&!Nt(a)&&(e.class=wn(a)),wt(l)&&(ma(l)&&!Fe(l)&&(l=Bt({},l)),e.style=ql(l))}const o=Nt(i)?1:Jx(i)?128:ox(i)?64:wt(i)?4:Ve(i)?2:0;return o&4&&ma(i)&&(i=et(i),pe("Vue received a Component that was made a reactive object. This can lead to unnecessary performance overhead and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
  Component that was made reactive: `,i)),Pe(i,e,t,n,r,o,s,!0)}function FC(i){return i?ma(i)||Lx(i)?Bt({},i):i:null}function Xi(i,e,t=!1,n=!1){const{props:r,ref:s,patchFlag:o,children:a,transition:l}=i,c=e?zC(r||{},e):r,u={__v_isVNode:!0,__v_skip:!0,type:i.type,props:c,key:c&&eb(c),ref:e&&e.ref?t&&s?Fe(s)?s.concat(Tc(e)):[s,Tc(e)]:Tc(e):s,scopeId:i.scopeId,slotScopeIds:i.slotScopeIds,children:o===-1&&Fe(a)?a.map(tb):a,target:i.target,targetStart:i.targetStart,targetAnchor:i.targetAnchor,staticCount:i.staticCount,shapeFlag:i.shapeFlag,patchFlag:e&&i.type!==Bn?o===-1?16:o|16:o,dynamicProps:i.dynamicProps,dynamicChildren:i.dynamicChildren,appContext:i.appContext,dirs:i.dirs,transition:l,component:i.component,suspense:i.suspense,ssContent:i.ssContent&&Xi(i.ssContent),ssFallback:i.ssFallback&&Xi(i.ssFallback),el:i.el,anchor:i.anchor,ctx:i.ctx,ce:i.ce};return l&&n&&wa(u,l.clone(u)),u}function tb(i){const e=Xi(i);return Fe(i.children)&&(e.children=i.children.map(tb)),e}function Oa(i=" ",e=0){return ft(Ma,null,i,e)}function Ht(i="",e=!1){return e?(tt(),dr(Ut,null,i)):ft(Ut,null,i)}function Ei(i){return i==null||typeof i=="boolean"?ft(Ut):Fe(i)?ft(Bn,null,i.slice()):bo(i)?Rr(i):ft(Ma,null,String(i))}function Rr(i){return i.el===null&&i.patchFlag!==-1||i.memo?i:Xi(i)}function Id(i,e){let t=0;const{shapeFlag:n}=i;if(e==null)e=null;else if(Fe(e))t=16;else if(typeof e=="object")if(n&65){const r=e.default;r&&(r._c&&(r._d=!1),Id(i,r()),r._c&&(r._d=!0));return}else{t=32;const r=e._;!r&&!Lx(e)?e._ctx=Nn:r===3&&Nn&&(Nn.slots._===1?e._=1:(e._=2,i.patchFlag|=1024))}else Ve(e)?(e={default:e,_ctx:Nn},t=32):(e=String(e),n&64?(t=16,e=[Oa(e)]):t=8);i.children=e,i.shapeFlag|=t}function zC(...i){const e={};for(let t=0;t<i.length;t++){const n=i[t];for(const r in n)if(r==="class")e.class!==n.class&&(e.class=wn([e.class,n.class]));else if(r==="style")e.style=ql([e.style,n.style]);else if(aa(r)){const s=e[r],o=n[r];o&&s!==o&&!(Fe(s)&&s.includes(o))&&(e[r]=s?[].concat(s,o):o)}else r!==""&&(e[r]=n[r])}return e}function Yi(i,e,t,n=null){Mi(i,e,7,[t,n])}const BC=Ox();let HC=0;function WC(i,e,t){const n=i.type,r=(e?e.appContext:i.appContext)||BC,s={uid:HC++,vnode:i,type:n,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ik(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_x(n,r),emitsOptions:$x(n,r),emit:null,emitted:null,propsDefaults:Qe,inheritAttrs:n.inheritAttrs,ctx:Qe,data:Qe,props:Qe,attrs:Qe,slots:Qe,refs:Qe,setupState:Qe,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx=VS(s),s.root=e?e.root:s,s.emit=EC.bind(null,s),i.ce&&i.ce(s),s}let nn=null;const Ia=()=>nn||Nn;let Ec,Pd;{const i=ua(),e=(t,n)=>{let r;return(r=i[t])||(r=i[t]=[]),r.push(n),s=>{r.length>1?r.forEach(o=>o(s)):r[0](s)}};Ec=e("__VUE_INSTANCE_SETTERS__",t=>nn=t),Pd=e("__VUE_SSR_SETTERS__",t=>La=t)}const Pa=i=>{const e=nn;return Ec(i),i.scope.on(),()=>{i.scope.off(),Ec(e)}},nb=()=>{nn&&nn.scope.off(),Ec(null)},XC=Ln("slot,component");function Ld(i,{isNativeTag:e}){(XC(i)||e(i))&&pe("Do not use built-in or reserved HTML elements as component id: "+i)}function ib(i){return i.vnode.shapeFlag&4}let La=!1;function YC(i,e=!1,t=!1){e&&Pd(e);const{props:n,children:r}=i.vnode,s=ib(i);rC(i,n,s,e),gC(i,r,t);const o=s?jC(i,e):void 0;return e&&Pd(!1),o}function jC(i,e){var t;const n=i.type;{if(n.name&&Ld(n.name,i.appContext.config),n.components){const s=Object.keys(n.components);for(let o=0;o<s.length;o++)Ld(s[o],i.appContext.config)}if(n.directives){const s=Object.keys(n.directives);for(let o=0;o<s.length;o++)rx(s[o])}n.compilerOptions&&VC()&&pe('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}i.accessCache=Object.create(null),i.proxy=new Proxy(i.ctx,Sx),$S(i);const{setup:r}=n;if(r){sr();const s=i.setupContext=r.length>1?qC(i):null,o=Pa(i),a=uo(r,i,0,[kn(i.props),s]),l=qh(a);if(or(),o(),(l||i.sp)&&!ka(i)&&bx(i),l){if(a.then(nb,nb),e)return a.then(c=>{rb(i,c,e)}).catch(c=>{xa(c,i,0)});if(i.asyncDep=a,!i.suspense){const c=(t=n.name)!=null?t:"Anonymous";pe(`Component <${c}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else rb(i,a,e)}else sb(i,e)}function rb(i,e,t){Ve(e)?i.type.__ssrInlineRender?i.ssrRender=e:i.render=e:wt(e)?(bo(e)&&pe("setup() should not return VNodes directly - return a render function instead."),i.devtoolsRawSetupState=e,i.setupState=Ym(e),GS(i)):e!==void 0&&pe(`setup() should return an object. Received: ${e===null?"null":typeof e}`),sb(i,t)}const VC=()=>!0;function sb(i,e,t){const n=i.type;i.render||(i.render=n.render||vn);{const r=Pa(i);sr();try{KS(i)}finally{or(),r()}}!n.render&&i.render===vn&&!e&&(n.template?pe('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):pe("Component is missing template or render function: ",n))}const $C={get(i,e){return Ac(),tn(i,"get",""),i[e]},set(){return pe("setupContext.attrs is readonly."),!1},deleteProperty(){return pe("setupContext.attrs is readonly."),!1}};function GC(i){return new Proxy(i.slots,{get(e,t){return tn(i,"get","$slots"),e[t]}})}function qC(i){const e=t=>{if(i.exposed&&pe("expose() should be called only once per setup()."),t!=null){let n=typeof t;n==="object"&&(Fe(t)?n="array":$t(t)&&(n="ref")),n!=="object"&&pe(`expose() should be passed a plain object, received ${n}.`)}i.exposed=t||{}};{let t,n;return Object.freeze({get attrs(){return t||(t=new Proxy(i.attrs,$C))},get slots(){return n||(n=GC(i))},get emit(){return(r,...s)=>i.emit(r,...s)},expose:e})}}function Oc(i){return i.exposed?i.exposeProxy||(i.exposeProxy=new Proxy(Ym(Wm(i.exposed)),{get(e,t){if(t in e)return e[t];if(t in ws)return ws[t](i)},has(e,t){return t in e||t in ws}})):i.proxy}const UC=/(?:^|[-_])(\w)/g,KC=i=>i.replace(UC,e=>e.toUpperCase()).replace(/[-_]/g,"");function ob(i,e=!0){return Ve(i)?i.displayName||i.name:i.name||e&&i.__name}function Ic(i,e,t=!1){let n=ob(e);if(!n&&e.__file){const r=e.__file.match(/([^/\\]+)\.\w+$/);r&&(n=r[1])}if(!n&&i&&i.parent){const r=s=>{for(const o in s)if(s[o]===e)return o};n=r(i.components||i.parent.type.components)||r(i.appContext.components)}return n?KC(n):t?"App":"Anonymous"}function ab(i){return Ve(i)&&"__vccOpts"in i}const Un=(i,e)=>{const t=oS(i,e,La);{const n=Ia();n&&n.appContext.config.warnRecursiveComputed&&(t._warnRecursive=!0)}return t};function yo(i,e,t){const n=arguments.length;return n===2?wt(e)&&!Fe(e)?bo(e)?ft(i,null,[e]):ft(i,e):ft(i,null,e):(n>3?t=Array.prototype.slice.call(arguments,2):n===3&&bo(t)&&(t=[t]),ft(i,e,t))}function JC(){if(typeof window>"u")return;const i={style:"color:#3ba776"},e={style:"color:#1677ff"},t={style:"color:#f5222d"},n={style:"color:#eb2f96"},r={__vue_custom_formatter:!0,header(h){return wt(h)?h.__isVue?["div",i,"VueInstance"]:$t(h)?["div",{},["span",i,u(h)],"<",a("_value"in h?h._value:h),">"]:gs(h)?["div",{},["span",i,_n(h)?"ShallowReactive":"Reactive"],"<",a(h),`>${lr(h)?" (readonly)":""}`]:lr(h)?["div",{},["span",i,_n(h)?"ShallowReadonly":"Readonly"],"<",a(h),">"]:null:null},hasBody(h){return h&&h.__isVue},body(h){if(h&&h.__isVue)return["div",{},...s(h.$)]}};function s(h){const d=[];h.type.props&&h.props&&d.push(o("props",et(h.props))),h.setupState!==Qe&&d.push(o("setup",h.setupState)),h.data!==Qe&&d.push(o("data",et(h.data)));const f=l(h,"computed");f&&d.push(o("computed",f));const p=l(h,"inject");return p&&d.push(o("injected",p)),d.push(["div",{},["span",{style:n.style+";opacity:0.66"},"$ (internal): "],["object",{object:h}]]),d}function o(h,d){return d=Bt({},d),Object.keys(d).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},h],["div",{style:"padding-left:1.25em"},...Object.keys(d).map(f=>["div",{},["span",n,f+": "],a(d[f],!1)])]]:["span",{}]}function a(h,d=!0){return typeof h=="number"?["span",e,h]:typeof h=="string"?["span",t,JSON.stringify(h)]:typeof h=="boolean"?["span",n,h]:wt(h)?["object",{object:d?et(h):h}]:["span",t,String(h)]}function l(h,d){const f=h.type;if(Ve(f))return;const p={};for(const m in h.ctx)c(f,m,d)&&(p[m]=h.ctx[m]);return p}function c(h,d,f){const p=h[f];if(Fe(p)&&p.includes(d)||wt(p)&&d in p||h.extends&&c(h.extends,d,f)||h.mixins&&h.mixins.some(m=>c(m,d,f)))return!0}function u(h){return _n(h)?"ShallowRef":h.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(r):window.devtoolsFormatters=[r]}const lb="3.5.13",ji=pe;/**
  * @vue/runtime-dom v3.5.13
  * (c) 2018-present Yuxi (Evan) You and Vue contributors
  * @license MIT
  **/let Rd;const cb=typeof window<"u"&&window.trustedTypes;if(cb)try{Rd=cb.createPolicy("vue",{createHTML:i=>i})}catch(i){ji(`Error creating trusted types policy: ${i}`)}const ub=Rd?i=>Rd.createHTML(i):i=>i,ZC="http://www.w3.org/2000/svg",QC="http://www.w3.org/1998/Math/MathML",fr=typeof document<"u"?document:null,hb=fr&&fr.createElement("template"),eA={insert:(i,e,t)=>{e.insertBefore(i,t||null)},remove:i=>{const e=i.parentNode;e&&e.removeChild(i)},createElement:(i,e,t,n)=>{const r=e==="svg"?fr.createElementNS(ZC,i):e==="mathml"?fr.createElementNS(QC,i):t?fr.createElement(i,{is:t}):fr.createElement(i);return i==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:i=>fr.createTextNode(i),createComment:i=>fr.createComment(i),setText:(i,e)=>{i.nodeValue=e},setElementText:(i,e)=>{i.textContent=e},parentNode:i=>i.parentNode,nextSibling:i=>i.nextSibling,querySelector:i=>fr.querySelector(i),setScopeId(i,e){i.setAttribute(e,"")},insertStaticContent(i,e,t,n,r,s){const o=t?t.previousSibling:e.lastChild;if(r&&(r===s||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),t),!(r===s||!(r=r.nextSibling)););else{hb.innerHTML=ub(n==="svg"?`<svg>${i}</svg>`:n==="mathml"?`<math>${i}</math>`:i);const a=hb.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},_r="transition",Ra="animation",_a=Symbol("_vtc"),db={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},tA=Bt({},dx,db),_d=(i=>(i.displayName="Transition",i.props=tA,i))((i,{slots:e})=>yo(RS,nA(i),e)),Cs=(i,e=[])=>{Fe(i)?i.forEach(t=>t(...e)):i&&i(...e)},fb=i=>i?Fe(i)?i.some(e=>e.length>1):i.length>1:!1;function nA(i){const e={};for(const D in i)D in db||(e[D]=i[D]);if(i.css===!1)return e;const{name:t="v",type:n,duration:r,enterFromClass:s=`${t}-enter-from`,enterActiveClass:o=`${t}-enter-active`,enterToClass:a=`${t}-enter-to`,appearFromClass:l=s,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:h=`${t}-leave-from`,leaveActiveClass:d=`${t}-leave-active`,leaveToClass:f=`${t}-leave-to`}=i,p=iA(r),m=p&&p[0],b=p&&p[1],{onBeforeEnter:y,onEnter:w,onEnterCancelled:C,onLeave:T,onLeaveCancelled:k,onBeforeAppear:E=y,onAppear:M=w,onAppearCancelled:O=C}=e,P=(D,V,q,re)=>{D._enterCancelled=re,As(D,V?u:a),As(D,V?c:o),q&&q()},N=(D,V)=>{D._isLeaving=!1,As(D,h),As(D,f),As(D,d),V&&V()},R=D=>(V,q)=>{const re=D?M:w,te=()=>P(V,D,q);Cs(re,[V,te]),pb(()=>{As(V,D?l:s),pr(V,D?u:a),fb(re)||gb(V,n,m,te)})};return Bt(e,{onBeforeEnter(D){Cs(y,[D]),pr(D,s),pr(D,o)},onBeforeAppear(D){Cs(E,[D]),pr(D,l),pr(D,c)},onEnter:R(!1),onAppear:R(!0),onLeave(D,V){D._isLeaving=!0;const q=()=>N(D,V);pr(D,h),D._enterCancelled?(pr(D,d),bb()):(bb(),pr(D,d)),pb(()=>{D._isLeaving&&(As(D,h),pr(D,f),fb(T)||gb(D,n,b,q))}),Cs(T,[D,q])},onEnterCancelled(D){P(D,!1,void 0,!0),Cs(C,[D])},onAppearCancelled(D){P(D,!0,void 0,!0),Cs(O,[D])},onLeaveCancelled(D){N(D),Cs(k,[D])}})}function iA(i){if(i==null)return null;if(wt(i))return[Dd(i.enter),Dd(i.leave)];{const e=Dd(i);return[e,e]}}function Dd(i){const e=mk(i);return fS(e,"<transition> explicit duration"),e}function pr(i,e){e.split(/\s+/).forEach(t=>t&&i.classList.add(t)),(i[_a]||(i[_a]=new Set)).add(e)}function As(i,e){e.split(/\s+/).forEach(n=>n&&i.classList.remove(n));const t=i[_a];t&&(t.delete(e),t.size||(i[_a]=void 0))}function pb(i){requestAnimationFrame(()=>{requestAnimationFrame(i)})}let rA=0;function gb(i,e,t,n){const r=i._endId=++rA,s=()=>{r===i._endId&&n()};if(t!=null)return setTimeout(s,t);const{type:o,timeout:a,propCount:l}=sA(i,e);if(!o)return n();const c=o+"end";let u=0;const h=()=>{i.removeEventListener(c,d),s()},d=f=>{f.target===i&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},a+1),i.addEventListener(c,d)}function sA(i,e){const t=window.getComputedStyle(i),n=p=>(t[p]||"").split(", "),r=n(`${_r}Delay`),s=n(`${_r}Duration`),o=mb(r,s),a=n(`${Ra}Delay`),l=n(`${Ra}Duration`),c=mb(a,l);let u=null,h=0,d=0;e===_r?o>0&&(u=_r,h=o,d=s.length):e===Ra?c>0&&(u=Ra,h=c,d=l.length):(h=Math.max(o,c),u=h>0?o>c?_r:Ra:null,d=u?u===_r?s.length:l.length:0);const f=u===_r&&/\b(transform|all)(,|$)/.test(n(`${_r}Property`).toString());return{type:u,timeout:h,propCount:d,hasTransform:f}}function mb(i,e){for(;i.length<e.length;)i=i.concat(i);return Math.max(...e.map((t,n)=>xb(t)+xb(i[n])))}function xb(i){return i==="auto"?0:Number(i.slice(0,-1).replace(",","."))*1e3}function bb(){return document.body.offsetHeight}function oA(i,e,t){const n=i[_a];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?i.removeAttribute("class"):t?i.setAttribute("class",e):i.className=e}const yb=Symbol("_vod"),aA=Symbol("_vsh"),lA=Symbol("CSS_VAR_TEXT"),cA=/(^|;)\s*display\s*:/;function uA(i,e,t){const n=i.style,r=Nt(t);let s=!1;if(t&&!r){if(e)if(Nt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();t[a]==null&&Pc(n,a,"")}else for(const o in e)t[o]==null&&Pc(n,o,"");for(const o in t)o==="display"&&(s=!0),Pc(n,o,t[o])}else if(r){if(e!==t){const o=n[lA];o&&(t+=";"+o),n.cssText=t,s=cA.test(t)}}else e&&i.removeAttribute("style");yb in i&&(i[yb]=s?n.display:"",i[aA]&&(n.display="none"))}const hA=/[^\\];\s*$/,vb=/\s*!important$/;function Pc(i,e,t){if(Fe(t))t.forEach(n=>Pc(i,e,n));else if(t==null&&(t=""),hA.test(t)&&ji(`Unexpected semicolon at the end of '${e}' style value: '${t}'`),e.startsWith("--"))i.setProperty(e,t);else{const n=dA(i,e);vb.test(t)?i.setProperty(rr(n),t.replace(vb,""),"important"):i[n]=t}}const wb=["Webkit","Moz","ms"],Nd={};function dA(i,e){const t=Nd[e];if(t)return t;let n=ci(e);if(n!=="filter"&&n in i)return Nd[e]=n;n=Vl(n);for(let r=0;r<wb.length;r++){const s=wb[r]+n;if(s in i)return Nd[e]=s}return e}const kb="http://www.w3.org/1999/xlink";function Sb(i,e,t,n,r,s=Tk(e)){n&&e.startsWith("xlink:")?t==null?i.removeAttributeNS(kb,e.slice(6,e.length)):i.setAttributeNS(kb,e,t):t==null||s&&!xm(t)?i.removeAttribute(e):i.setAttribute(e,s?"":zi(t)?String(t):t)}function Cb(i,e,t,n,r){if(e==="innerHTML"||e==="textContent"){t!=null&&(i[e]=e==="innerHTML"?ub(t):t);return}const s=i.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?i.getAttribute("value")||"":i.value,l=t==null?i.type==="checkbox"?"on":"":String(t);(a!==l||!("_value"in i))&&(i.value=l),t==null&&i.removeAttribute(e),i._value=t;return}let o=!1;if(t===""||t==null){const a=typeof i[e];a==="boolean"?t=xm(t):t==null&&a==="string"?(t="",o=!0):a==="number"&&(t=0,o=!0)}try{i[e]=t}catch(a){o||ji(`Failed setting prop "${e}" on <${s.toLowerCase()}>: value ${t} is invalid.`,a)}o&&i.removeAttribute(r||e)}function Ms(i,e,t,n){i.addEventListener(e,t,n)}function fA(i,e,t,n){i.removeEventListener(e,t,n)}const Ab=Symbol("_vei");function pA(i,e,t,n,r=null){const s=i[Ab]||(i[Ab]={}),o=s[e];if(n&&o)o.value=Tb(n,e);else{const[a,l]=gA(e);if(n){const c=s[e]=bA(Tb(n,e),r);Ms(i,a,c,l)}else o&&(fA(i,a,o,l),s[e]=void 0)}}const Mb=/(?:Once|Passive|Capture)$/;function gA(i){let e;if(Mb.test(i)){e={};let n;for(;n=i.match(Mb);)i=i.slice(0,i.length-n[0].length),e[n[0].toLowerCase()]=!0}return[i[2]===":"?i.slice(3):rr(i.slice(2)),e]}let Fd=0;const mA=Promise.resolve(),xA=()=>Fd||(mA.then(()=>Fd=0),Fd=Date.now());function bA(i,e){const t=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=t.attached)return;Mi(yA(n,t.value),e,5,[n])};return t.value=i,t.attached=xA(),t}function Tb(i,e){return Ve(i)||Fe(i)?i:(ji(`Wrong type passed as event handler to ${e} - did you forget @ or : in front of your prop?
  Expected function or array of functions, received type ${typeof i}.`),vn)}function yA(i,e){if(Fe(e)){const t=i.stopImmediatePropagation;return i.stopImmediatePropagation=()=>{t.call(i),i._stopped=!0},e.map(n=>r=>!r._stopped&&n&&n(r))}else return e}const Eb=i=>i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)>96&&i.charCodeAt(2)<123,vA=(i,e,t,n,r,s)=>{const o=r==="svg";e==="class"?oA(i,n,o):e==="style"?uA(i,t,n):aa(e)?Xl(e)||pA(i,e,t,n,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):wA(i,e,n,o))?(Cb(i,e,n),!i.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Sb(i,e,n,o,s,e!=="value")):i._isVueCE&&(/[A-Z]/.test(e)||!Nt(n))?Cb(i,ci(e),n,s,e):(e==="true-value"?i._trueValue=n:e==="false-value"&&(i._falseValue=n),Sb(i,e,n,o))};function wA(i,e,t,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in i&&Eb(e)&&Ve(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&i.tagName==="INPUT"||e==="type"&&i.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=i.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Eb(e)&&Nt(t)?!1:e in i}const Lc=i=>{const e=i.props["onUpdate:modelValue"]||!1;return Fe(e)?t=>lo(e,t):e};function kA(i){i.target.composing=!0}function Ob(i){const e=i.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const vo=Symbol("_assign"),Ib={created(i,{modifiers:{lazy:e,trim:t,number:n}},r){i[vo]=Lc(r);const s=n||r.props&&r.props.type==="number";Ms(i,e?"change":"input",o=>{if(o.target.composing)return;let a=i.value;t&&(a=a.trim()),s&&(a=Gl(a)),i[vo](a)}),t&&Ms(i,"change",()=>{i.value=i.value.trim()}),e||(Ms(i,"compositionstart",kA),Ms(i,"compositionend",Ob),Ms(i,"change",Ob))},mounted(i,{value:e}){i.value=e??""},beforeUpdate(i,{value:e,oldValue:t,modifiers:{lazy:n,trim:r,number:s}},o){if(i[vo]=Lc(o),i.composing)return;const a=(s||i.type==="number")&&!/^0\d/.test(i.value)?Gl(i.value):i.value,l=e??"";a!==l&&(document.activeElement===i&&i.type!=="range"&&(n&&e===t||r&&i.value.trim()===l)||(i.value=l))}},SA={deep:!0,created(i,{value:e,modifiers:{number:t}},n){const r=Yl(e);Ms(i,"change",()=>{const s=Array.prototype.filter.call(i.options,o=>o.selected).map(o=>t?Gl(Rc(o)):Rc(o));i[vo](i.multiple?r?new Set(s):s:s[0]),i._assigning=!0,ur(()=>{i._assigning=!1})}),i[vo]=Lc(n)},mounted(i,{value:e}){Pb(i,e)},beforeUpdate(i,e,t){i[vo]=Lc(t)},updated(i,{value:e}){i._assigning||Pb(i,e)}};function Pb(i,e){const t=i.multiple,n=Fe(e);if(t&&!n&&!Yl(e)){ji(`<select multiple v-model> expects an Array or Set value for its binding, but got ${Object.prototype.toString.call(e).slice(8,-1)}.`);return}for(let r=0,s=i.options.length;r<s;r++){const o=i.options[r],a=Rc(o);if(t)if(n){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=Ok(e,a)>-1}else o.selected=e.has(a);else if(Ul(Rc(o),e)){i.selectedIndex!==r&&(i.selectedIndex=r);return}}!t&&i.selectedIndex!==-1&&(i.selectedIndex=-1)}function Rc(i){return"_value"in i?i._value:i.value}const CA=["ctrl","shift","alt","meta"],AA={stop:i=>i.stopPropagation(),prevent:i=>i.preventDefault(),self:i=>i.target!==i.currentTarget,ctrl:i=>!i.ctrlKey,shift:i=>!i.shiftKey,alt:i=>!i.altKey,meta:i=>!i.metaKey,left:i=>"button"in i&&i.button!==0,middle:i=>"button"in i&&i.button!==1,right:i=>"button"in i&&i.button!==2,exact:(i,e)=>CA.some(t=>i[`${t}Key`]&&!e.includes(t))},MA=(i,e)=>{const t=i._withMods||(i._withMods={}),n=e.join(".");return t[n]||(t[n]=(r,...s)=>{for(let o=0;o<e.length;o++){const a=AA[e[o]];if(a&&a(r,e))return}return i(r,...s)})},TA=Bt({patchProp:vA},eA);let Lb;function EA(){return Lb||(Lb=bC(TA))}const zd=(...i)=>{const e=EA().createApp(...i);IA(e),PA(e);const{mount:t}=e;return e.mount=n=>{const r=LA(n);if(!r)return;const s=e._component;!Ve(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=t(r,!1,OA(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function OA(i){if(i instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&i instanceof MathMLElement)return"mathml"}function IA(i){Object.defineProperty(i.config,"isNativeTag",{value:e=>Ck(e)||Ak(e)||Mk(e),writable:!1})}function PA(i){{const e=i.config.isCustomElement;Object.defineProperty(i.config,"isCustomElement",{get(){return e},set(){ji("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const t=i.config.compilerOptions,n='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc';Object.defineProperty(i.config,"compilerOptions",{get(){return ji(n),t},set(){ji(n)}})}}function LA(i){if(Nt(i)){const e=document.querySelector(i);return e||ji(`Failed to mount app: mount target selector "${i}" returned null.`),e}return window.ShadowRoot&&i instanceof window.ShadowRoot&&i.mode==="closed"&&ji('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),i}/**
  * vue v3.5.13
  * (c) 2018-present Yuxi (Evan) You and Vue contributors
  * @license MIT
  **/function RA(){JC()}RA();/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var Rb={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */const Kt=(i,e,t,n)=>({color:r="currentColor",size:s=24,stroke:o=2,title:a,class:l,...c},{attrs:u,slots:h})=>{let d=[...n.map(f=>yo(...f)),...h.default?[h.default()]:[]];return a&&(d=[yo("title",a),...d]),yo("svg",{...Rb[i],width:s,height:s,...u,class:["tabler-icon",`tabler-icon-${e}`],...i==="filled"?{fill:r}:{"stroke-width":o??Rb[i]["stroke-width"],stroke:r},...c},d)};/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var _A=Kt("outline","align-center","IconAlignCenter",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M8 12l8 0",key:"svg-1"}],["path",{d:"M6 18l12 0",key:"svg-2"}]]);/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var DA=Kt("outline","align-left","IconAlignLeft",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l10 0",key:"svg-1"}],["path",{d:"M4 18l14 0",key:"svg-2"}]]);/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var NA=Kt("outline","align-right","IconAlignRight",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M10 12l10 0",key:"svg-1"}],["path",{d:"M6 18l14 0",key:"svg-2"}]]);/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var FA=Kt("outline","bold","IconBold",[["path",{d:"M7 5h6a3.5 3.5 0 0 1 0 7h-6z",key:"svg-0"}],["path",{d:"M13 12h1a3.5 3.5 0 0 1 0 7h-7v-7",key:"svg-1"}]]);/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var zA=Kt("outline","books","IconBooks",[["path",{d:"M5 4m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-0"}],["path",{d:"M9 4m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z",key:"svg-1"}],["path",{d:"M5 8h4",key:"svg-2"}],["path",{d:"M9 16h4",key:"svg-3"}],["path",{d:"M13.803 4.56l2.184 -.53c.562 -.135 1.133 .19 1.282 .732l3.695 13.418a1.02 1.02 0 0 1 -.634 1.219l-.133 .041l-2.184 .53c-.562 .135 -1.133 -.19 -1.282 -.732l-3.695 -13.418a1.02 1.02 0 0 1 .634 -1.219l.133 -.041z",key:"svg-4"}],["path",{d:"M14 9l4 -1",key:"svg-5"}],["path",{d:"M16 16l3.923 -.98",key:"svg-6"}]]);/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var BA=Kt("outline","code","IconCode",[["path",{d:"M7 8l-4 4l4 4",key:"svg-0"}],["path",{d:"M17 8l4 4l-4 4",key:"svg-1"}],["path",{d:"M14 4l-4 16",key:"svg-2"}]]);/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var HA=Kt("outline","device-mobile","IconDeviceMobile",[["path",{d:"M6 5a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2v-14z",key:"svg-0"}],["path",{d:"M11 4h2",key:"svg-1"}],["path",{d:"M12 17v.01",key:"svg-2"}]]);/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var WA=Kt("outline","edit-circle","IconEditCircle",[["path",{d:"M12 15l8.385 -8.415a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3z",key:"svg-0"}],["path",{d:"M16 5l3 3",key:"svg-1"}],["path",{d:"M9 7.07a7 7 0 0 0 1 13.93a7 7 0 0 0 6.929 -6",key:"svg-2"}]]);/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var XA=Kt("outline","eye","IconEye",[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6",key:"svg-1"}]]);/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var YA=Kt("outline","italic","IconItalic",[["path",{d:"M11 5l6 0",key:"svg-0"}],["path",{d:"M7 19l6 0",key:"svg-1"}],["path",{d:"M14 5l-4 14",key:"svg-2"}]]);/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var jA=Kt("outline","link-off","IconLinkOff",[["path",{d:"M9 15l3 -3m2 -2l1 -1",key:"svg-0"}],["path",{d:"M11 6l.463 -.536a5 5 0 0 1 7.071 7.072l-.534 .464",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}],["path",{d:"M13 18l-.397 .534a5.068 5.068 0 0 1 -7.127 0a4.972 4.972 0 0 1 0 -7.071l.524 -.463",key:"svg-3"}]]);/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var VA=Kt("outline","link","IconLink",[["path",{d:"M9 15l6 -6",key:"svg-0"}],["path",{d:"M11 6l.463 -.536a5 5 0 0 1 7.071 7.072l-.534 .464",key:"svg-1"}],["path",{d:"M13 18l-.397 .534a5.068 5.068 0 0 1 -7.127 0a4.972 4.972 0 0 1 0 -7.071l.524 -.463",key:"svg-2"}]]);/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var Bd=Kt("outline","loader-quarter","IconLoaderQuarter",[["path",{d:"M12 6l0 -3",key:"svg-0"}],["path",{d:"M6 12l-3 0",key:"svg-1"}],["path",{d:"M7.75 7.75l-2.15 -2.15",key:"svg-2"}]]);/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var $A=Kt("outline","pencil","IconPencil",[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]]);/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var GA=Kt("outline","strikethrough","IconStrikethrough",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M16 6.5a4 2 0 0 0 -4 -1.5h-1a3.5 3.5 0 0 0 0 7h2a3.5 3.5 0 0 1 0 7h-1.5a4 2 0 0 1 -4 -1.5",key:"svg-1"}]]);/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var qA=Kt("outline","underline","IconUnderline",[["path",{d:"M7 5v5a5 5 0 0 0 10 0v-5",key:"svg-0"}],["path",{d:"M5 19h14",key:"svg-1"}]]);/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var UA=Kt("filled","bookmark-filled","IconBookmarkFilled",[["path",{d:"M14 2a5 5 0 0 1 5 5v14a1 1 0 0 1 -1.555 .832l-5.445 -3.63l-5.444 3.63a1 1 0 0 1 -1.55 -.72l-.006 -.112v-14a5 5 0 0 1 5 -5h4z",key:"svg-0"}]]);/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var KA=Kt("filled","heart-filled","IconHeartFilled",[["path",{d:"M6.979 3.074a6 6 0 0 1 4.988 1.425l.037 .033l.034 -.03a6 6 0 0 1 4.733 -1.44l.246 .036a6 6 0 0 1 3.364 10.008l-.18 .185l-.048 .041l-7.45 7.379a1 1 0 0 1 -1.313 .082l-.094 -.082l-7.493 -7.422a6 6 0 0 1 3.176 -10.215z",key:"svg-0"}]]);/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var JA=Kt("filled","message-circle-filled","IconMessageCircleFilled",[["path",{d:"M5.821 4.91c3.899 -2.765 9.468 -2.539 13.073 .535c3.667 3.129 4.168 8.238 1.152 11.898c-2.841 3.447 -7.965 4.583 -12.231 2.805l-.233 -.101l-4.374 .931l-.04 .006l-.035 .007h-.018l-.022 .005h-.038l-.033 .004l-.021 -.001l-.023 .001l-.033 -.003h-.035l-.022 -.004l-.022 -.002l-.035 -.007l-.034 -.005l-.016 -.004l-.024 -.005l-.049 -.016l-.024 -.005l-.011 -.005l-.022 -.007l-.045 -.02l-.03 -.012l-.011 -.006l-.014 -.006l-.031 -.018l-.045 -.024l-.016 -.011l-.037 -.026l-.04 -.027l-.002 -.004l-.013 -.009l-.043 -.04l-.025 -.02l-.006 -.007l-.056 -.062l-.013 -.014l-.011 -.014l-.039 -.056l-.014 -.019l-.005 -.01l-.042 -.073l-.007 -.012l-.004 -.008l-.007 -.012l-.014 -.038l-.02 -.042l-.004 -.016l-.004 -.01l-.017 -.061l-.007 -.018l-.002 -.015l-.005 -.019l-.005 -.033l-.008 -.042l-.002 -.031l-.003 -.01v-.016l-.004 -.054l.001 -.036l.001 -.023l.002 -.053l.004 -.025v-.019l.008 -.035l.005 -.034l.005 -.02l.004 -.02l.018 -.06l.003 -.013l1.15 -3.45l-.022 -.037c-2.21 -3.747 -1.209 -8.391 2.413 -11.119z",key:"svg-0"}]]);/**
   * @license @tabler/icons-vue v3.31.0 - MIT
   *
   * This source code is licensed under the MIT license.
   * See the LICENSE file in the root directory of this source tree.
   */var ZA=Kt("filled","star-filled","IconStarFilled",[["path",{d:"M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z",key:"svg-0"}]]);/*!
   * ApexCharts v4.5.0
   * (c) 2018-2025 ApexCharts
   * Released under the MIT License.
   */function Hd(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=Array(e);t<e;t++)n[t]=i[t];return n}function _b(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Ee(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function Db(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,Bb(n.key),n)}}function Oe(i,e,t){return e&&Db(i.prototype,e),t&&Db(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function Da(i,e){var t=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!t){if(Array.isArray(i)||(t=Xd(i))||e){t&&(i=t);var n=0,r=function(){};return{s:r,n:function(){return n>=i.length?{done:!0}:{done:!1,value:i[n++]}},e:function(l){throw l},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
  In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){t=t.call(i)},n:function(){var l=t.next();return o=l.done,l},e:function(l){a=!0,s=l},f:function(){try{o||t.return==null||t.return()}finally{if(a)throw s}}}}function Na(i){var e=Nb();return function(){var t,n=Dc(i);if(e){var r=Dc(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return function(s,o){if(o&&(typeof o=="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _b(s)}(this,t)}}function _c(i,e,t){return(e=Bb(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Dc(i){return Dc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dc(i)}function Fa(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&Wd(i,e)}function Nb(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nb=function(){return!!i})()}function Fb(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(i);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable})),t.push.apply(t,n)}return t}function be(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Fb(Object(t),!0).forEach(function(n){_c(i,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Fb(Object(t)).forEach(function(n){Object.defineProperty(i,n,Object.getOwnPropertyDescriptor(t,n))})}return i}function Wd(i,e){return Wd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Wd(i,e)}function zb(i,e){return function(t){if(Array.isArray(t))return t}(i)||function(t,n){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var s,o,a,l,c=[],u=!0,h=!1;try{if(a=(r=r.call(t)).next,n===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(s=a.call(r)).done)&&(c.push(s.value),c.length!==n);u=!0);}catch(d){h=!0,o=d}finally{try{if(!u&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw o}}return c}}(i,e)||Xd(i,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
  In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Zt(i){return function(e){if(Array.isArray(e))return Hd(e)}(i)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(i)||Xd(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
  In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Bb(i){var e=function(t,n){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,n);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}(i,"string");return typeof e=="symbol"?e:e+""}function wo(i){return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wo(i)}function Xd(i,e){if(i){if(typeof i=="string")return Hd(i,e);var t={}.toString.call(i).slice(8,-1);return t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set"?Array.from(i):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Hd(i,e):void 0}}var H=function(){function i(){Ee(this,i)}return Oe(i,[{key:"shadeRGBColor",value:function(e,t){var n=t.split(","),r=e<0?0:255,s=e<0?-1*e:e,o=parseInt(n[0].slice(4),10),a=parseInt(n[1],10),l=parseInt(n[2],10);return"rgb("+(Math.round((r-o)*s)+o)+","+(Math.round((r-a)*s)+a)+","+(Math.round((r-l)*s)+l)+")"}},{key:"shadeHexColor",value:function(e,t){var n=parseInt(t.slice(1),16),r=e<0?0:255,s=e<0?-1*e:e,o=n>>16,a=n>>8&255,l=255&n;return"#"+(16777216+65536*(Math.round((r-o)*s)+o)+256*(Math.round((r-a)*s)+a)+(Math.round((r-l)*s)+l)).toString(16).slice(1)}},{key:"shadeColor",value:function(e,t){return i.isColorHex(t)?this.shadeHexColor(e,t):this.shadeRGBColor(e,t)}}],[{key:"bind",value:function(e,t){return function(){return e.apply(t,arguments)}}},{key:"isObject",value:function(e){return e&&wo(e)==="object"&&!Array.isArray(e)&&e!=null}},{key:"is",value:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}},{key:"listToArray",value:function(e){var t,n=[];for(t=0;t<e.length;t++)n[t]=e[t];return n}},{key:"extend",value:function(e,t){var n=this;typeof Object.assign!="function"&&(Object.assign=function(s){if(s==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(s),a=1;a<arguments.length;a++){var l=arguments[a];if(l!=null)for(var c in l)l.hasOwnProperty(c)&&(o[c]=l[c])}return o});var r=Object.assign({},e);return this.isObject(e)&&this.isObject(t)&&Object.keys(t).forEach(function(s){n.isObject(t[s])&&s in e?r[s]=n.extend(e[s],t[s]):Object.assign(r,_c({},s,t[s]))}),r}},{key:"extendArray",value:function(e,t){var n=[];return e.map(function(r){n.push(i.extend(t,r))}),e=n}},{key:"monthMod",value:function(e){return e%12}},{key:"clone",value:function(e){var t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new WeakMap;if(e===null||wo(e)!=="object")return e;if(n.has(e))return n.get(e);if(Array.isArray(e)){t=[],n.set(e,t);for(var r=0;r<e.length;r++)t[r]=this.clone(e[r],n)}else if(e instanceof Date)t=new Date(e.getTime());else for(var s in t={},n.set(e,t),e)e.hasOwnProperty(s)&&(t[s]=this.clone(e[s],n));return t}},{key:"log10",value:function(e){return Math.log(e)/Math.LN10}},{key:"roundToBase10",value:function(e){return Math.pow(10,Math.floor(Math.log10(e)))}},{key:"roundToBase",value:function(e,t){return Math.pow(t,Math.floor(Math.log(e)/Math.log(t)))}},{key:"parseNumber",value:function(e){return e===null?e:parseFloat(e)}},{key:"stripNumber",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return Number.isInteger(e)?e:parseFloat(e.toPrecision(t))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(e){return e.toString().includes("e")?Math.round(e):e}},{key:"elementExists",value:function(e){return!(!e||!e.isConnected)}},{key:"getDimensions",value:function(e){var t=getComputedStyle(e,null),n=e.clientHeight,r=e.clientWidth;return n-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),[r-=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),n]}},{key:"getBoundingClientRect",value:function(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:e.clientWidth,height:e.clientHeight,x:t.left,y:t.top}}},{key:"getLargestStringFromArr",value:function(e){return e.reduce(function(t,n){return Array.isArray(n)&&(n=n.reduce(function(r,s){return r.length>s.length?r:s})),t.length>n.length?t:n},0)}},{key:"hexToRgba",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"#999999",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.6;e.substring(0,1)!=="#"&&(e="#999999");var n=e.replace("#","");n=n.match(new RegExp("(.{"+n.length/3+"})","g"));for(var r=0;r<n.length;r++)n[r]=parseInt(n[r].length===1?n[r]+n[r]:n[r],16);return t!==void 0&&n.push(t),"rgba("+n.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(e){return parseFloat(e.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&e.length===4?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(e)}},{key:"getPolygonPos",value:function(e,t){for(var n=[],r=2*Math.PI/t,s=0;s<t;s++){var o={};o.x=e*Math.sin(s*r),o.y=-e*Math.cos(s*r),n.push(o)}return n}},{key:"polarToCartesian",value:function(e,t,n,r){var s=(r-90)*Math.PI/180;return{x:e+n*Math.cos(s),y:t+n*Math.sin(s)}}},{key:"escapeString",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x",n=e.toString().slice();return n=n.replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,t)}},{key:"negToZero",value:function(e){return e<0?0:e}},{key:"moveIndexInArray",value:function(e,t,n){if(n>=e.length)for(var r=n-e.length+1;r--;)e.push(void 0);return e.splice(n,0,e.splice(t,1)[0]),e}},{key:"extractNumber",value:function(e){return parseFloat(e.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(e,t){for(;(e=e.parentElement)&&!e.classList.contains(t););return e}},{key:"setELstyles",value:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e.style.key=t[n])}},{key:"preciseAddition",value:function(e,t){var n=(String(e).split(".")[1]||"").length,r=(String(t).split(".")[1]||"").length,s=Math.pow(10,Math.max(n,r));return(Math.round(e*s)+Math.round(t*s))/s}},{key:"isNumber",value:function(e){return!isNaN(e)&&parseFloat(Number(e))===e&&!isNaN(parseInt(e,10))}},{key:"isFloat",value:function(e){return Number(e)===e&&e%1!=0}},{key:"isMsEdge",value:function(){var e=window.navigator.userAgent,t=e.indexOf("Edge/");return t>0&&parseInt(e.substring(t+5,e.indexOf(".",t)),10)}},{key:"getGCD",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,r=Math.pow(10,n-Math.floor(Math.log10(Math.max(e,t))));for(e=Math.round(Math.abs(e)*r),t=Math.round(Math.abs(t)*r);t;){var s=t;t=e%t,e=s}return e/r}},{key:"getPrimeFactors",value:function(e){for(var t=[],n=2;e>=2;)e%n==0?(t.push(n),e/=n):n++;return t}},{key:"mod",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:7,r=Math.pow(10,n-Math.floor(Math.log10(Math.max(e,t))));return(e=Math.round(Math.abs(e)*r))%(t=Math.round(Math.abs(t)*r))/r}}]),i}(),ko=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"animateLine",value:function(e,t,n,r){e.attr(t).animate(r).attr(n)}},{key:"animateMarker",value:function(e,t,n,r){e.attr({opacity:0}).animate(t).attr({opacity:1}).after(function(){r()})}},{key:"animateRect",value:function(e,t,n,r,s){e.attr(t).animate(r).attr(n).after(function(){return s()})}},{key:"animatePathsGradually",value:function(e){var t=e.el,n=e.realIndex,r=e.j,s=e.fill,o=e.pathFrom,a=e.pathTo,l=e.speed,c=e.delay,u=this.w,h=0;u.config.chart.animations.animateGradually.enabled&&(h=u.config.chart.animations.animateGradually.delay),u.config.chart.animations.dynamicAnimation.enabled&&u.globals.dataChanged&&u.config.chart.type!=="bar"&&(h=0),this.morphSVG(t,n,r,u.config.chart.type!=="line"||u.globals.comboCharts?s:"stroke",o,a,l,c*h)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(e){var t=e.el;t.classList.remove("apexcharts-element-hidden"),t.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(e){var t=this.w;t.globals.animationEnded||(t.globals.animationEnded=!0,this.showDelayedElements(),typeof t.config.chart.events.animationEnd=="function"&&t.config.chart.events.animationEnd(this.ctx,{el:e,w:t}))}},{key:"morphSVG",value:function(e,t,n,r,s,o,a,l){var c=this,u=this.w;s||(s=e.attr("pathFrom")),o||(o=e.attr("pathTo"));var h=function(d){return u.config.chart.type==="radar"&&(a=1),"M 0 ".concat(u.globals.gridHeight)};(!s||s.indexOf("undefined")>-1||s.indexOf("NaN")>-1)&&(s=h()),(!o.trim()||o.indexOf("undefined")>-1||o.indexOf("NaN")>-1)&&(o=h()),u.globals.shouldAnimate||(a=1),e.plot(s).animate(1,l).plot(s).animate(a,l).plot(o).after(function(){H.isNumber(n)?n===u.globals.series[u.globals.maxValsInArrayIndex].length-2&&u.globals.shouldAnimate&&c.animationCompleted(e):r!=="none"&&u.globals.shouldAnimate&&(!u.globals.comboCharts&&t===u.globals.series.length-1||u.globals.comboCharts)&&c.animationCompleted(e),c.showDelayedElements()})}}]),i}();const Yd={},Hb=[];function st(i,e){if(Array.isArray(i))for(const t of i)st(t,e);else if(typeof i!="object")Wb(Object.getOwnPropertyNames(e)),Yd[i]=Object.assign(Yd[i]||{},e);else for(const t in i)st(t,i[t])}function Kn(i){return Yd[i]||{}}function Wb(i){Hb.push(...i)}function jd(i,e){let t;const n=i.length,r=[];for(t=0;t<n;t++)r.push(e(i[t]));return r}function Vd(i){return i%360*Math.PI/180}function So(i){return i.charAt(0).toUpperCase()+i.slice(1)}function Co(i,e,t,n){return e!=null&&t!=null||(n=n||i.bbox(),e==null?e=n.width/n.height*t:t==null&&(t=n.height/n.width*e)),{width:e,height:t}}function $d(i,e){const t=i.origin;let n=i.ox!=null?i.ox:i.originX!=null?i.originX:"center",r=i.oy!=null?i.oy:i.originY!=null?i.originY:"center";t!=null&&([n,r]=Array.isArray(t)?t:typeof t=="object"?[t.x,t.y]:[t,t]);const s=typeof n=="string",o=typeof r=="string";if(s||o){const{height:a,width:l,x:c,y:u}=e.bbox();s&&(n=n.includes("left")?c:n.includes("right")?c+l:c+l/2),o&&(r=r.includes("top")?u:r.includes("bottom")?u+a:u+a/2)}return[n,r]}const QA=new Set(["desc","metadata","title"]),Gd=i=>QA.has(i.nodeName),Xb=(i,e,t={})=>{const n={...e};for(const r in n)n[r].valueOf()===t[r]&&delete n[r];Object.keys(n).length?i.node.setAttribute("data-svgjs",JSON.stringify(n)):(i.node.removeAttribute("data-svgjs"),i.node.removeAttribute("svgjs:data"))},qd="http://www.w3.org/2000/svg",Ud="http://www.w3.org/2000/xmlns/",Ao="http://www.w3.org/1999/xlink",xt={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function za(){return xt.window}let Kd=class{};const Ts={},Jd="___SYMBOL___ROOT___";function Ba(i,e=qd){return xt.document.createElementNS(e,i)}function Hn(i,e=!1){if(i instanceof Kd)return i;if(typeof i=="object")return Zd(i);if(i==null)return new Ts[Jd];if(typeof i=="string"&&i.charAt(0)!=="<")return Zd(xt.document.querySelector(i));const t=e?xt.document.createElement("div"):Ba("svg");return t.innerHTML=i,i=Zd(t.firstChild),t.removeChild(t.firstChild),i}function Ot(i,e){return e&&(e instanceof xt.window.Node||e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node)?e:Ba(i)}function di(i){if(!i)return null;if(i.instance instanceof Kd)return i.instance;if(i.nodeName==="#document-fragment")return new Ts.Fragment(i);let e=So(i.nodeName||"Dom");return e==="LinearGradient"||e==="RadialGradient"?e="Gradient":Ts[e]||(e="Dom"),new Ts[e](i)}let Zd=di;function bt(i,e=i.name,t=!1){return Ts[e]=i,t&&(Ts[Jd]=i),Wb(Object.getOwnPropertyNames(i.prototype)),i}let eM=1e3;function Yb(i){return"Svgjs"+So(i)+eM++}function jb(i){for(let e=i.children.length-1;e>=0;e--)jb(i.children[e]);return i.id&&(i.id=Yb(i.nodeName)),i}function je(i,e){let t,n;for(n=(i=Array.isArray(i)?i:[i]).length-1;n>=0;n--)for(t in e)i[n].prototype[t]=e[t]}function It(i){return function(...e){const t=e[e.length-1];return!t||t.constructor!==Object||t instanceof Array?i.apply(this,e):i.apply(this,e.slice(0,-1)).attr(t)}}st("Dom",{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},prev:function(){return this.siblings()[this.position()-1]},forward:function(){const i=this.position();return this.parent().add(this.remove(),i+1),this},backward:function(){const i=this.position();return this.parent().add(this.remove(),i?i-1:0),this},front:function(){return this.parent().add(this.remove()),this},back:function(){return this.parent().add(this.remove(),0),this},before:function(i){(i=Hn(i)).remove();const e=this.position();return this.parent().add(i,e),this},after:function(i){(i=Hn(i)).remove();const e=this.position();return this.parent().add(i,e+1),this},insertBefore:function(i){return(i=Hn(i)).before(this),this},insertAfter:function(i){return(i=Hn(i)).after(this),this}});const Vb=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,tM=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,nM=/rgb\((\d+),(\d+),(\d+)\)/,iM=/(#[a-z_][a-z0-9\-_]*)/i,rM=/\)\s*,?\s*/,sM=/\s/g,$b=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,Gb=/^rgb\(/,qb=/^(\s+)?$/,Ub=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,oM=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,gr=/[\s,]+/,Qd=/[MLHVCSQTAZ]/i;function aM(i){const e=Math.round(i),t=Math.max(0,Math.min(255,e)).toString(16);return t.length===1?"0"+t:t}function Mo(i,e){for(let t=e.length;t--;)if(i[e[t]]==null)return!1;return!0}function ef(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+6*(e-i)*t:t<.5?e:t<2/3?i+(e-i)*(2/3-t)*6:i}st("Dom",{classes:function(){const i=this.attr("class");return i==null?[]:i.trim().split(gr)},hasClass:function(i){return this.classes().indexOf(i)!==-1},addClass:function(i){if(!this.hasClass(i)){const e=this.classes();e.push(i),this.attr("class",e.join(" "))}return this},removeClass:function(i){return this.hasClass(i)&&this.attr("class",this.classes().filter(function(e){return e!==i}).join(" ")),this},toggleClass:function(i){return this.hasClass(i)?this.removeClass(i):this.addClass(i)}}),st("Dom",{css:function(i,e){const t={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(n){return!!n.length}).forEach(function(n){const r=n.split(/\s*:\s*/);t[r[0]]=r[1]}),t;if(arguments.length<2){if(Array.isArray(i)){for(const n of i){const r=n;t[n]=this.node.style.getPropertyValue(r)}return t}if(typeof i=="string")return this.node.style.getPropertyValue(i);if(typeof i=="object")for(const n in i)this.node.style.setProperty(n,i[n]==null||qb.test(i[n])?"":i[n])}return arguments.length===2&&this.node.style.setProperty(i,e==null||qb.test(e)?"":e),this},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},visible:function(){return this.css("display")!=="none"}}),st("Dom",{data:function(i,e,t){if(i==null)return this.data(jd(function(n,r){let s;const o=n.length,a=[];for(s=0;s<o;s++)r(n[s])&&a.push(n[s]);return a}(this.node.attributes,n=>n.nodeName.indexOf("data-")===0),n=>n.nodeName.slice(5)));if(i instanceof Array){const n={};for(const r of i)n[r]=this.data(r);return n}if(typeof i=="object")for(e in i)this.data(e,i[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+i))}catch{return this.attr("data-"+i)}else this.attr("data-"+i,e===null?null:t===!0||typeof e=="string"||typeof e=="number"?e:JSON.stringify(e));return this}}),st("Dom",{remember:function(i,e){if(typeof arguments[0]=="object")for(const t in i)this.remember(t,i[t]);else{if(arguments.length===1)return this.memory()[i];this.memory()[i]=e}return this},forget:function(){if(arguments.length===0)this._memory={};else for(let i=arguments.length-1;i>=0;i--)delete this.memory()[arguments[i]];return this},memory:function(){return this._memory=this._memory||{}}});class Et{constructor(...e){this.init(...e)}static isColor(e){return e&&(e instanceof Et||this.isRgb(e)||this.test(e))}static isRgb(e){return e&&typeof e.r=="number"&&typeof e.g=="number"&&typeof e.b=="number"}static random(e="vibrant",t){const{random:n,round:r,sin:s,PI:o}=Math;if(e==="vibrant"){const a=24*n()+57,l=38*n()+45,c=360*n();return new Et(a,l,c,"lch")}if(e==="sine"){const a=r(80*s(2*o*(t=t??n())/.5+.01)+150),l=r(50*s(2*o*t/.5+4.6)+200),c=r(100*s(2*o*t/.5+2.3)+150);return new Et(a,l,c)}if(e==="pastel"){const a=8*n()+86,l=17*n()+9,c=360*n();return new Et(a,l,c,"lch")}if(e==="dark"){const a=10+10*n(),l=50*n()+86,c=360*n();return new Et(a,l,c,"lch")}if(e==="rgb"){const a=255*n(),l=255*n(),c=255*n();return new Et(a,l,c)}if(e==="lab"){const a=100*n(),l=256*n()-128,c=256*n()-128;return new Et(a,l,c,"lab")}if(e==="grey"){const a=255*n();return new Et(a,a,a)}throw new Error("Unsupported random color mode")}static test(e){return typeof e=="string"&&($b.test(e)||Gb.test(e))}cmyk(){const{_a:e,_b:t,_c:n}=this.rgb(),[r,s,o]=[e,t,n].map(l=>l/255),a=Math.min(1-r,1-s,1-o);return a===1?new Et(0,0,0,1,"cmyk"):new Et((1-r-a)/(1-a),(1-s-a)/(1-a),(1-o-a)/(1-a),a,"cmyk")}hsl(){const{_a:e,_b:t,_c:n}=this.rgb(),[r,s,o]=[e,t,n].map(d=>d/255),a=Math.max(r,s,o),l=Math.min(r,s,o),c=(a+l)/2,u=a===l,h=a-l;return new Et(360*(u?0:a===r?((s-o)/h+(s<o?6:0))/6:a===s?((o-r)/h+2)/6:a===o?((r-s)/h+4)/6:0),100*(u?0:c>.5?h/(2-a-l):h/(a+l)),100*c,"hsl")}init(e=0,t=0,n=0,r=0,s="rgb"){if(e=e||0,this.space)for(const h in this.space)delete this[this.space[h]];if(typeof e=="number")s=typeof r=="string"?r:s,r=typeof r=="string"?0:r,Object.assign(this,{_a:e,_b:t,_c:n,_d:r,space:s});else if(e instanceof Array)this.space=t||(typeof e[3]=="string"?e[3]:e[4])||"rgb",Object.assign(this,{_a:e[0],_b:e[1],_c:e[2],_d:e[3]||0});else if(e instanceof Object){const h=function(d,f){const p=Mo(d,"rgb")?{_a:d.r,_b:d.g,_c:d.b,_d:0,space:"rgb"}:Mo(d,"xyz")?{_a:d.x,_b:d.y,_c:d.z,_d:0,space:"xyz"}:Mo(d,"hsl")?{_a:d.h,_b:d.s,_c:d.l,_d:0,space:"hsl"}:Mo(d,"lab")?{_a:d.l,_b:d.a,_c:d.b,_d:0,space:"lab"}:Mo(d,"lch")?{_a:d.l,_b:d.c,_c:d.h,_d:0,space:"lch"}:Mo(d,"cmyk")?{_a:d.c,_b:d.m,_c:d.y,_d:d.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return p.space=f||p.space,p}(e,t);Object.assign(this,h)}else if(typeof e=="string")if(Gb.test(e)){const h=e.replace(sM,""),[d,f,p]=nM.exec(h).slice(1,4).map(m=>parseInt(m));Object.assign(this,{_a:d,_b:f,_c:p,_d:0,space:"rgb"})}else{if(!$b.test(e))throw Error("Unsupported string format, can't construct Color");{const h=m=>parseInt(m,16),[,d,f,p]=tM.exec(function(m){return m.length===4?["#",m.substring(1,2),m.substring(1,2),m.substring(2,3),m.substring(2,3),m.substring(3,4),m.substring(3,4)].join(""):m}(e)).map(h);Object.assign(this,{_a:d,_b:f,_c:p,_d:0,space:"rgb"})}}const{_a:o,_b:a,_c:l,_d:c}=this,u=this.space==="rgb"?{r:o,g:a,b:l}:this.space==="xyz"?{x:o,y:a,z:l}:this.space==="hsl"?{h:o,s:a,l}:this.space==="lab"?{l:o,a,b:l}:this.space==="lch"?{l:o,c:a,h:l}:this.space==="cmyk"?{c:o,m:a,y:l,k:c}:{};Object.assign(this,u)}lab(){const{x:e,y:t,z:n}=this.xyz();return new Et(116*t-16,500*(e-t),200*(t-n),"lab")}lch(){const{l:e,a:t,b:n}=this.lab(),r=Math.sqrt(t**2+n**2);let s=180*Math.atan2(n,t)/Math.PI;return s<0&&(s*=-1,s=360-s),new Et(e,r,s,"lch")}rgb(){if(this.space==="rgb")return this;if((e=this.space)==="lab"||e==="xyz"||e==="lch"){let{x:t,y:n,z:r}=this;if(this.space==="lab"||this.space==="lch"){let{l:f,a:p,b:m}=this;if(this.space==="lch"){const{c:E,h:M}=this,O=Math.PI/180;p=E*Math.cos(O*M),m=E*Math.sin(O*M)}const b=(f+16)/116,y=p/500+b,w=b-m/200,C=16/116,T=.008856,k=7.787;t=.95047*(y**3>T?y**3:(y-C)/k),n=1*(b**3>T?b**3:(b-C)/k),r=1.08883*(w**3>T?w**3:(w-C)/k)}const s=3.2406*t+-1.5372*n+-.4986*r,o=-.9689*t+1.8758*n+.0415*r,a=.0557*t+-.204*n+1.057*r,l=Math.pow,c=.0031308,u=s>c?1.055*l(s,1/2.4)-.055:12.92*s,h=o>c?1.055*l(o,1/2.4)-.055:12.92*o,d=a>c?1.055*l(a,1/2.4)-.055:12.92*a;return new Et(255*u,255*h,255*d)}if(this.space==="hsl"){let{h:t,s:n,l:r}=this;if(t/=360,n/=100,r/=100,n===0)return r*=255,new Et(r,r,r);const s=r<.5?r*(1+n):r+n-r*n,o=2*r-s,a=255*ef(o,s,t+1/3),l=255*ef(o,s,t),c=255*ef(o,s,t-1/3);return new Et(a,l,c)}if(this.space==="cmyk"){const{c:t,m:n,y:r,k:s}=this,o=255*(1-Math.min(1,t*(1-s)+s)),a=255*(1-Math.min(1,n*(1-s)+s)),l=255*(1-Math.min(1,r*(1-s)+s));return new Et(o,a,l)}return this;var e}toArray(){const{_a:e,_b:t,_c:n,_d:r,space:s}=this;return[e,t,n,r,s]}toHex(){const[e,t,n]=this._clamped().map(aM);return`#${e}${t}${n}`}toRgb(){const[e,t,n]=this._clamped();return`rgb(${e},${t},${n})`}toString(){return this.toHex()}xyz(){const{_a:e,_b:t,_c:n}=this.rgb(),[r,s,o]=[e,t,n].map(b=>b/255),a=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,l=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,c=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,u=(.4124*a+.3576*l+.1805*c)/.95047,h=(.2126*a+.7152*l+.0722*c)/1,d=(.0193*a+.1192*l+.9505*c)/1.08883,f=u>.008856?Math.pow(u,1/3):7.787*u+16/116,p=h>.008856?Math.pow(h,1/3):7.787*h+16/116,m=d>.008856?Math.pow(d,1/3):7.787*d+16/116;return new Et(f,p,m,"xyz")}_clamped(){const{_a:e,_b:t,_c:n}=this.rgb(),{max:r,min:s,round:o}=Math;return[e,t,n].map(a=>r(0,s(o(a),255)))}}class St{constructor(...e){this.init(...e)}clone(){return new St(this)}init(e,t){const s=Array.isArray(e)?{x:e[0],y:e[1]}:typeof e=="object"?{x:e.x,y:e.y}:{x:e,y:t};return this.x=s.x==null?0:s.x,this.y=s.y==null?0:s.y,this}toArray(){return[this.x,this.y]}transform(e){return this.clone().transformO(e)}transformO(e){He.isMatrixLike(e)||(e=new He(e));const{x:t,y:n}=this;return this.x=e.a*t+e.c*n+e.e,this.y=e.b*t+e.d*n+e.f,this}}function To(i,e,t){return Math.abs(e-i)<1e-6}class He{constructor(...e){this.init(...e)}static formatTransforms(e){const t=e.flip==="both"||e.flip===!0,n=e.flip&&(t||e.flip==="x")?-1:1,r=e.flip&&(t||e.flip==="y")?-1:1,s=e.skew&&e.skew.length?e.skew[0]:isFinite(e.skew)?e.skew:isFinite(e.skewX)?e.skewX:0,o=e.skew&&e.skew.length?e.skew[1]:isFinite(e.skew)?e.skew:isFinite(e.skewY)?e.skewY:0,a=e.scale&&e.scale.length?e.scale[0]*n:isFinite(e.scale)?e.scale*n:isFinite(e.scaleX)?e.scaleX*n:n,l=e.scale&&e.scale.length?e.scale[1]*r:isFinite(e.scale)?e.scale*r:isFinite(e.scaleY)?e.scaleY*r:r,c=e.shear||0,u=e.rotate||e.theta||0,h=new St(e.origin||e.around||e.ox||e.originX,e.oy||e.originY),d=h.x,f=h.y,p=new St(e.position||e.px||e.positionX||NaN,e.py||e.positionY||NaN),m=p.x,b=p.y,y=new St(e.translate||e.tx||e.translateX,e.ty||e.translateY),w=y.x,C=y.y,T=new St(e.relative||e.rx||e.relativeX,e.ry||e.relativeY);return{scaleX:a,scaleY:l,skewX:s,skewY:o,shear:c,theta:u,rx:T.x,ry:T.y,tx:w,ty:C,ox:d,oy:f,px:m,py:b}}static fromArray(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}static isMatrixLike(e){return e.a!=null||e.b!=null||e.c!=null||e.d!=null||e.e!=null||e.f!=null}static matrixMultiply(e,t,n){const r=e.a*t.a+e.c*t.b,s=e.b*t.a+e.d*t.b,o=e.a*t.c+e.c*t.d,a=e.b*t.c+e.d*t.d,l=e.e+e.a*t.e+e.c*t.f,c=e.f+e.b*t.e+e.d*t.f;return n.a=r,n.b=s,n.c=o,n.d=a,n.e=l,n.f=c,n}around(e,t,n){return this.clone().aroundO(e,t,n)}aroundO(e,t,n){const r=e||0,s=t||0;return this.translateO(-r,-s).lmultiplyO(n).translateO(r,s)}clone(){return new He(this)}decompose(e=0,t=0){const n=this.a,r=this.b,s=this.c,o=this.d,a=this.e,l=this.f,c=n*o-r*s,u=c>0?1:-1,h=u*Math.sqrt(n*n+r*r),d=Math.atan2(u*r,u*n),f=180/Math.PI*d,p=Math.cos(d),m=Math.sin(d),b=(n*s+r*o)/c,y=s*h/(b*n-r)||o*h/(b*r+n);return{scaleX:h,scaleY:y,shear:b,rotate:f,translateX:a-e+e*p*h+t*(b*p*h-m*y),translateY:l-t+e*m*h+t*(b*m*h+p*y),originX:e,originY:t,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(e){if(e===this)return!0;const t=new He(e);return To(this.a,t.a)&&To(this.b,t.b)&&To(this.c,t.c)&&To(this.d,t.d)&&To(this.e,t.e)&&To(this.f,t.f)}flip(e,t){return this.clone().flipO(e,t)}flipO(e,t){return e==="x"?this.scaleO(-1,1,t,0):e==="y"?this.scaleO(1,-1,0,t):this.scaleO(-1,-1,e,t||e)}init(e){const t=He.fromArray([1,0,0,1,0,0]);return e=e instanceof dn?e.matrixify():typeof e=="string"?He.fromArray(e.split(gr).map(parseFloat)):Array.isArray(e)?He.fromArray(e):typeof e=="object"&&He.isMatrixLike(e)?e:typeof e=="object"?new He().transform(e):arguments.length===6?He.fromArray([].slice.call(arguments)):t,this.a=e.a!=null?e.a:t.a,this.b=e.b!=null?e.b:t.b,this.c=e.c!=null?e.c:t.c,this.d=e.d!=null?e.d:t.d,this.e=e.e!=null?e.e:t.e,this.f=e.f!=null?e.f:t.f,this}inverse(){return this.clone().inverseO()}inverseO(){const e=this.a,t=this.b,n=this.c,r=this.d,s=this.e,o=this.f,a=e*r-t*n;if(!a)throw new Error("Cannot invert "+this);const l=r/a,c=-t/a,u=-n/a,h=e/a,d=-(l*s+u*o),f=-(c*s+h*o);return this.a=l,this.b=c,this.c=u,this.d=h,this.e=d,this.f=f,this}lmultiply(e){return this.clone().lmultiplyO(e)}lmultiplyO(e){const t=e instanceof He?e:new He(e);return He.matrixMultiply(t,this,this)}multiply(e){return this.clone().multiplyO(e)}multiplyO(e){const t=e instanceof He?e:new He(e);return He.matrixMultiply(this,t,this)}rotate(e,t,n){return this.clone().rotateO(e,t,n)}rotateO(e,t=0,n=0){e=Vd(e);const r=Math.cos(e),s=Math.sin(e),{a:o,b:a,c:l,d:c,e:u,f:h}=this;return this.a=o*r-a*s,this.b=a*r+o*s,this.c=l*r-c*s,this.d=c*r+l*s,this.e=u*r-h*s+n*s-t*r+t,this.f=h*r+u*s-t*s-n*r+n,this}scale(){return this.clone().scaleO(...arguments)}scaleO(e,t=e,n=0,r=0){arguments.length===3&&(r=n,n=t,t=e);const{a:s,b:o,c:a,d:l,e:c,f:u}=this;return this.a=s*e,this.b=o*t,this.c=a*e,this.d=l*t,this.e=c*e-n*e+n,this.f=u*t-r*t+r,this}shear(e,t,n){return this.clone().shearO(e,t,n)}shearO(e,t=0,n=0){const{a:r,b:s,c:o,d:a,e:l,f:c}=this;return this.a=r+s*e,this.c=o+a*e,this.e=l+c*e-n*e,this}skew(){return this.clone().skewO(...arguments)}skewO(e,t=e,n=0,r=0){arguments.length===3&&(r=n,n=t,t=e),e=Vd(e),t=Vd(t);const s=Math.tan(e),o=Math.tan(t),{a,b:l,c,d:u,e:h,f:d}=this;return this.a=a+l*s,this.b=l+a*o,this.c=c+u*s,this.d=u+c*o,this.e=h+d*s-r*s,this.f=d+h*o-n*o,this}skewX(e,t,n){return this.skew(e,0,t,n)}skewY(e,t,n){return this.skew(0,e,t,n)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(e){if(He.isMatrixLike(e))return new He(e).multiplyO(this);const t=He.formatTransforms(e),{x:n,y:r}=new St(t.ox,t.oy).transform(this),s=new He().translateO(t.rx,t.ry).lmultiplyO(this).translateO(-n,-r).scaleO(t.scaleX,t.scaleY).skewO(t.skewX,t.skewY).shearO(t.shear).rotateO(t.theta).translateO(n,r);if(isFinite(t.px)||isFinite(t.py)){const o=new St(n,r).transform(s),a=isFinite(t.px)?t.px-o.x:0,l=isFinite(t.py)?t.py-o.y:0;s.translateO(a,l)}return s.translateO(t.tx,t.ty),s}translate(e,t){return this.clone().translateO(e,t)}translateO(e,t){return this.e+=e||0,this.f+=t||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function Dr(){if(!Dr.nodes){const i=Hn().size(2,0);i.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),i.attr("focusable","false"),i.attr("aria-hidden","true");const e=i.path().node;Dr.nodes={svg:i,path:e}}if(!Dr.nodes.svg.node.parentNode){const i=xt.document.body||xt.document.documentElement;Dr.nodes.svg.addTo(i)}return Dr.nodes}function Kb(i){return!(i.width||i.height||i.x||i.y)}bt(He,"Matrix");class Xt{constructor(...e){this.init(...e)}addOffset(){return this.x+=xt.window.pageXOffset,this.y+=xt.window.pageYOffset,new Xt(this)}init(e){return e=typeof e=="string"?e.split(gr).map(parseFloat):Array.isArray(e)?e:typeof e=="object"?[e.left!=null?e.left:e.x,e.top!=null?e.top:e.y,e.width,e.height]:arguments.length===4?[].slice.call(arguments):[0,0,0,0],this.x=e[0]||0,this.y=e[1]||0,this.width=this.w=e[2]||0,this.height=this.h=e[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return Kb(this)}merge(e){const t=Math.min(this.x,e.x),n=Math.min(this.y,e.y),r=Math.max(this.x+this.width,e.x+e.width)-t,s=Math.max(this.y+this.height,e.y+e.height)-n;return new Xt(t,n,r,s)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(e){e instanceof He||(e=new He(e));let t=1/0,n=-1/0,r=1/0,s=-1/0;return[new St(this.x,this.y),new St(this.x2,this.y),new St(this.x,this.y2),new St(this.x2,this.y2)].forEach(function(o){o=o.transform(e),t=Math.min(t,o.x),n=Math.max(n,o.x),r=Math.min(r,o.y),s=Math.max(s,o.y)}),new Xt(t,r,n-t,s-r)}}function Jb(i,e,t){let n;try{if(n=e(i.node),Kb(n)&&(r=i.node)!==xt.document&&!(xt.document.documentElement.contains||function(s){for(;s.parentNode;)s=s.parentNode;return s===xt.document}).call(xt.document.documentElement,r))throw new Error("Element not in the dom")}catch{n=t(i)}var r;return n}st({viewbox:{viewbox(i,e,t,n){return i==null?new Xt(this.attr("viewBox")):this.attr("viewBox",new Xt(i,e,t,n))},zoom(i,e){let{width:t,height:n}=this.attr(["width","height"]);if((t||n)&&typeof t!="string"&&typeof n!="string"||(t=this.node.clientWidth,n=this.node.clientHeight),!t||!n)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const r=this.viewbox(),s=t/r.width,o=n/r.height,a=Math.min(s,o);if(i==null)return a;let l=a/i;l===1/0&&(l=Number.MAX_SAFE_INTEGER/100),e=e||new St(t/2/s+r.x,n/2/o+r.y);const c=new Xt(r).transform(new He({scale:l,origin:e}));return this.viewbox(c)}}}),bt(Xt,"Box");class Es extends Array{constructor(e=[],...t){if(super(e,...t),typeof e=="number")return this;this.length=0,this.push(...e)}}je([Es],{each(i,...e){return typeof i=="function"?this.map((t,n,r)=>i.call(t,t,n,r)):this.map(t=>t[i](...e))},toArray(){return Array.prototype.concat.apply([],this)}});const lM=["toArray","constructor","each"];function Os(i,e){return new Es(jd((e||xt.document).querySelectorAll(i),function(t){return di(t)}))}Es.extend=function(i){i=i.reduce((e,t)=>(lM.includes(t)||t[0]==="_"||(t in Array.prototype&&(e["$"+t]=Array.prototype[t]),e[t]=function(...n){return this.each(t,...n)}),e),{}),je([Es],i)};let cM=0;const Zb={};function Qb(i){let e=i.getEventHolder();return e===xt.window&&(e=Zb),e.events||(e.events={}),e.events}function tf(i){return i.getEventTarget()}function mr(i,e,t,n,r){const s=t.bind(n||i),o=Hn(i),a=Qb(o),l=tf(o);e=Array.isArray(e)?e:e.split(gr),t._svgjsListenerId||(t._svgjsListenerId=++cM),e.forEach(function(c){const u=c.split(".")[0],h=c.split(".")[1]||"*";a[u]=a[u]||{},a[u][h]=a[u][h]||{},a[u][h][t._svgjsListenerId]=s,l.addEventListener(u,s,r||!1)})}function fi(i,e,t,n){const r=Hn(i),s=Qb(r),o=tf(r);(typeof t!="function"||(t=t._svgjsListenerId))&&(e=Array.isArray(e)?e:(e||"").split(gr)).forEach(function(a){const l=a&&a.split(".")[0],c=a&&a.split(".")[1];let u,h;if(t)s[l]&&s[l][c||"*"]&&(o.removeEventListener(l,s[l][c||"*"][t],n||!1),delete s[l][c||"*"][t]);else if(l&&c){if(s[l]&&s[l][c]){for(h in s[l][c])fi(o,[l,c].join("."),h);delete s[l][c]}}else if(c)for(a in s)for(u in s[a])c===u&&fi(o,[a,c].join("."));else if(l){if(s[l]){for(u in s[l])fi(o,[l,u].join("."));delete s[l]}}else{for(a in s)fi(o,a);(function(d){let f=d.getEventHolder();f===xt.window&&(f=Zb),f.events&&(f.events={})})(r)}})}class Ha extends Kd{addEventListener(){}dispatch(e,t,n){return function(r,s,o,a){const l=tf(r);return s instanceof xt.window.Event||(s=new xt.window.CustomEvent(s,{detail:o,cancelable:!0,...a})),l.dispatchEvent(s),s}(this,e,t,n)}dispatchEvent(e){const t=this.getEventHolder().events;if(!t)return!0;const n=t[e.type];for(const r in n)for(const s in n[r])n[r][s](e);return!e.defaultPrevented}fire(e,t,n){return this.dispatch(e,t,n),this}getEventHolder(){return this}getEventTarget(){return this}off(e,t,n){return fi(this,e,t,n),this}on(e,t,n,r){return mr(this,e,t,n,r),this}removeEventListener(){}}function ey(){}bt(Ha,"EventTarget");const nf=400,uM=">",hM=0,dM={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class Is extends Array{constructor(...e){super(...e),this.init(...e)}clone(){return new this.constructor(this)}init(e){return typeof e=="number"||(this.length=0,this.push(...this.parse(e))),this}parse(e=[]){return e instanceof Array?e:e.trim().split(gr).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const e=[];return e.push(...this),e}}class Ke{constructor(...e){this.init(...e)}convert(e){return new Ke(this.value,e)}divide(e){return e=new Ke(e),new Ke(this/e,this.unit||e.unit)}init(e,t){return t=Array.isArray(e)?e[1]:t,e=Array.isArray(e)?e[0]:e,this.value=0,this.unit=t||"",typeof e=="number"?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:typeof e=="string"?(t=e.match(Vb))&&(this.value=parseFloat(t[1]),t[5]==="%"?this.value/=100:t[5]==="s"&&(this.value*=1e3),this.unit=t[5]):e instanceof Ke&&(this.value=e.valueOf(),this.unit=e.unit),this}minus(e){return e=new Ke(e),new Ke(this-e,this.unit||e.unit)}plus(e){return e=new Ke(e),new Ke(this+e,this.unit||e.unit)}times(e){return e=new Ke(e),new Ke(this*e,this.unit||e.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(1e8*this.value)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const fM=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),ty=[];class Nr extends Ha{constructor(e,t){super(),this.node=e,this.type=e.nodeName,t&&e!==t&&this.attr(t)}add(e,t){return(e=Hn(e)).removeNamespace&&this.node instanceof xt.window.SVGElement&&e.removeNamespace(),t==null?this.node.appendChild(e.node):e.node!==this.node.childNodes[t]&&this.node.insertBefore(e.node,this.node.childNodes[t]),this}addTo(e,t){return Hn(e).put(this,t)}children(){return new Es(jd(this.node.children,function(e){return di(e)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(e=!0,t=!0){this.writeDataToDom();let n=this.node.cloneNode(e);return t&&(n=jb(n)),new this.constructor(n)}each(e,t){const n=this.children();let r,s;for(r=0,s=n.length;r<s;r++)e.apply(n[r],[r,n]),t&&n[r].each(e,t);return this}element(e,t){return this.put(new Nr(Ba(e),t))}first(){return di(this.node.firstChild)}get(e){return di(this.node.childNodes[e])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(e){return this.index(e)>=0}html(e,t){return this.xml(e,t,"http://www.w3.org/1999/xhtml")}id(e){return e!==void 0||this.node.id||(this.node.id=Yb(this.type)),this.attr("id",e)}index(e){return[].slice.call(this.node.childNodes).indexOf(e.node)}last(){return di(this.node.lastChild)}matches(e){const t=this.node,n=t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector||null;return n&&n.call(t,e)}parent(e){let t=this;if(!t.node.parentNode)return null;if(t=di(t.node.parentNode),!e)return t;do if(typeof e=="string"?t.matches(e):t instanceof e)return t;while(t=di(t.node.parentNode));return t}put(e,t){return e=Hn(e),this.add(e,t),e}putIn(e,t){return Hn(e).add(this,t)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(e){return this.node.removeChild(e.node),this}replace(e){return e=Hn(e),this.node.parentNode&&this.node.parentNode.replaceChild(e.node,this.node),e}round(e=2,t=null){const n=10**e,r=this.attr(t);for(const s in r)typeof r[s]=="number"&&(r[s]=Math.round(r[s]*n)/n);return this.attr(r),this}svg(e,t){return this.xml(e,t,qd)}toString(){return this.id()}words(e){return this.node.textContent=e,this}wrap(e){const t=this.parent();if(!t)return this.addTo(e);const n=t.index(this);return t.put(e,n).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(e,t,n){if(typeof e=="boolean"&&(n=t,t=e,e=null),e==null||typeof e=="function"){t=t==null||t,this.writeDataToDom();let a=this;if(e!=null){if(a=di(a.node.cloneNode(!0)),t){const l=e(a);if(a=l||a,l===!1)return""}a.each(function(){const l=e(this),c=l||this;l===!1?this.remove():l&&this!==c&&this.replace(c)},!0)}return t?a.node.outerHTML:a.node.innerHTML}t=t!=null&&t;const r=Ba("wrapper",n),s=xt.document.createDocumentFragment();r.innerHTML=e;for(let a=r.children.length;a--;)s.appendChild(r.firstElementChild);const o=this.parent();return t?this.replace(s)&&o:this.add(s)}}je(Nr,{attr:function(i,e,t){if(i==null){i={},e=this.node.attributes;for(const n of e)i[n.nodeName]=Ub.test(n.nodeValue)?parseFloat(n.nodeValue):n.nodeValue;return i}if(i instanceof Array)return i.reduce((n,r)=>(n[r]=this.attr(r),n),{});if(typeof i=="object"&&i.constructor===Object)for(e in i)this.attr(e,i[e]);else if(e===null)this.node.removeAttribute(i);else{if(e==null)return(e=this.node.getAttribute(i))==null?dM[i]:Ub.test(e)?parseFloat(e):e;typeof(e=ty.reduce((n,r)=>r(i,n,this),e))=="number"?e=new Ke(e):fM.has(i)&&Et.isColor(e)?e=new Et(e):e.constructor===Array&&(e=new Is(e)),i==="leading"?this.leading&&this.leading(e):typeof t=="string"?this.node.setAttributeNS(t,i,e.toString()):this.node.setAttribute(i,e.toString()),!this.rebuild||i!=="font-size"&&i!=="x"||this.rebuild()}return this},find:function(i){return Os(i,this.node)},findOne:function(i){return di(this.node.querySelector(i))}}),bt(Nr,"Dom");let dn=class extends Nr{constructor(i,e){super(i,e),this.dom={},this.node.instance=this,(i.hasAttribute("data-svgjs")||i.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(i.getAttribute("data-svgjs"))??JSON.parse(i.getAttribute("svgjs:data"))??{})}center(i,e){return this.cx(i).cy(e)}cx(i){return i==null?this.x()+this.width()/2:this.x(i-this.width()/2)}cy(i){return i==null?this.y()+this.height()/2:this.y(i-this.height()/2)}defs(){const i=this.root();return i&&i.defs()}dmove(i,e){return this.dx(i).dy(e)}dx(i=0){return this.x(new Ke(i).plus(this.x()))}dy(i=0){return this.y(new Ke(i).plus(this.y()))}getEventHolder(){return this}height(i){return this.attr("height",i)}move(i,e){return this.x(i).y(e)}parents(i=this.root()){const e=typeof i=="string";e||(i=Hn(i));const t=new Es;let n=this;for(;(n=n.parent())&&n.node!==xt.document&&n.nodeName!=="#document-fragment"&&(t.push(n),e||n.node!==i.node)&&(!e||!n.matches(i));)if(n.node===this.root().node)return null;return t}reference(i){if(!(i=this.attr(i)))return null;const e=(i+"").match(iM);return e?Hn(e[1]):null}root(){const i=this.parent(function(e){return Ts[e]}(Jd));return i&&i.root()}setData(i){return this.dom=i,this}size(i,e){const t=Co(this,i,e);return this.width(new Ke(t.width)).height(new Ke(t.height))}width(i){return this.attr("width",i)}writeDataToDom(){return Xb(this,this.dom),super.writeDataToDom()}x(i){return this.attr("x",i)}y(i){return this.attr("y",i)}};je(dn,{bbox:function(){const i=Jb(this,e=>e.getBBox(),e=>{try{const t=e.clone().addTo(Dr().svg).show(),n=t.node.getBBox();return t.remove(),n}catch(t){throw new Error(`Getting bbox of element "${e.node.nodeName}" is not possible: ${t.toString()}`)}});return new Xt(i)},rbox:function(i){const e=Jb(this,n=>n.getBoundingClientRect(),n=>{throw new Error(`Getting rbox of element "${n.node.nodeName}" is not possible`)}),t=new Xt(e);return i?t.transform(i.screenCTM().inverseO()):t.addOffset()},inside:function(i,e){const t=this.bbox();return i>t.x&&e>t.y&&i<t.x+t.width&&e<t.y+t.height},point:function(i,e){return new St(i,e).transformO(this.screenCTM().inverseO())},ctm:function(){return new He(this.node.getCTM())},screenCTM:function(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const i=this.rect(1,1),e=i.node.getScreenCTM();return i.remove(),new He(e)}return new He(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new He}}}),bt(dn,"Element");const Wa={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(i,e){return e==="color"?i:i+"-"+e}};["fill","stroke"].forEach(function(i){const e={};let t;e[i]=function(n){if(n===void 0)return this.attr(i);if(typeof n=="string"||n instanceof Et||Et.isRgb(n)||n instanceof dn)this.attr(i,n);else for(t=Wa[i].length-1;t>=0;t--)n[Wa[i][t]]!=null&&this.attr(Wa.prefix(i,Wa[i][t]),n[Wa[i][t]]);return this},st(["Element","Runner"],e)}),st(["Element","Runner"],{matrix:function(i,e,t,n,r,s){return i==null?new He(this):this.attr("transform",new He(i,e,t,n,r,s))},rotate:function(i,e,t){return this.transform({rotate:i,ox:e,oy:t},!0)},skew:function(i,e,t,n){return arguments.length===1||arguments.length===3?this.transform({skew:i,ox:e,oy:t},!0):this.transform({skew:[i,e],ox:t,oy:n},!0)},shear:function(i,e,t){return this.transform({shear:i,ox:e,oy:t},!0)},scale:function(i,e,t,n){return arguments.length===1||arguments.length===3?this.transform({scale:i,ox:e,oy:t},!0):this.transform({scale:[i,e],ox:t,oy:n},!0)},translate:function(i,e){return this.transform({translate:[i,e]},!0)},relative:function(i,e){return this.transform({relative:[i,e]},!0)},flip:function(i="both",e="center"){return"xybothtrue".indexOf(i)===-1&&(e=i,i="both"),this.transform({flip:i,origin:e},!0)},opacity:function(i){return this.attr("opacity",i)}}),st("radius",{radius:function(i,e=i){return(this._element||this).type==="radialGradient"?this.attr("r",new Ke(i)):this.rx(i).ry(e)}}),st("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(i){return new St(this.node.getPointAtLength(i))}}),st(["Element","Runner"],{font:function(i,e){if(typeof i=="object"){for(e in i)this.font(e,i[e]);return this}return i==="leading"?this.leading(e):i==="anchor"?this.attr("text-anchor",e):i==="size"||i==="family"||i==="weight"||i==="stretch"||i==="variant"||i==="style"?this.attr("font-"+i,e):this.attr(i,e)}}),st("Element",["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(i,e){return i[e]=function(t){return t===null?this.off(e):this.on(e,t),this},i},{})),st("Element",{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(rM).slice(0,-1).map(function(e){const t=e.trim().split("(");return[t[0],t[1].split(gr).map(function(n){return parseFloat(n)})]}).reverse().reduce(function(e,t){return t[0]==="matrix"?e.lmultiply(He.fromArray(t[1])):e[t[0]].apply(e,t[1])},new He)},toParent:function(i,e){if(this===i)return this;if(Gd(this.node))return this.addTo(i,e);const t=this.screenCTM(),n=i.screenCTM().inverse();return this.addTo(i,e).untransform().transform(n.multiply(t)),this},toRoot:function(i){return this.toParent(this.root(),i)},transform:function(i,e){if(i==null||typeof i=="string"){const n=new He(this).decompose();return i==null?n:n[i]}He.isMatrixLike(i)||(i={...i,origin:$d(i,this)});const t=new He(e===!0?this:e||!1).transform(i);return this.attr("transform",t)}});class Wn extends dn{flatten(){return this.each(function(){if(this instanceof Wn)return this.flatten().ungroup()}),this}ungroup(e=this.parent(),t=e.index(this)){return t=t===-1?e.children().length:t,this.each(function(n,r){return r[r.length-n-1].toParent(e,t)}),this.remove()}}bt(Wn,"Container");class Nc extends Wn{constructor(e,t=e){super(Ot("defs",e),t)}flatten(){return this}ungroup(){return this}}bt(Nc,"Defs");class ti extends dn{}function rf(i){return this.attr("rx",i)}function sf(i){return this.attr("ry",i)}function ny(i){return i==null?this.cx()-this.rx():this.cx(i+this.rx())}function iy(i){return i==null?this.cy()-this.ry():this.cy(i+this.ry())}function ry(i){return this.attr("cx",i)}function sy(i){return this.attr("cy",i)}function oy(i){return i==null?2*this.rx():this.rx(new Ke(i).divide(2))}function ay(i){return i==null?2*this.ry():this.ry(new Ke(i).divide(2))}bt(ti,"Shape");var pM=Object.freeze({__proto__:null,cx:ry,cy:sy,height:ay,rx:rf,ry:sf,width:oy,x:ny,y:iy});class Fc extends ti{constructor(e,t=e){super(Ot("ellipse",e),t)}size(e,t){const n=Co(this,e,t);return this.rx(new Ke(n.width).divide(2)).ry(new Ke(n.height).divide(2))}}je(Fc,pM),st("Container",{ellipse:It(function(i=0,e=i){return this.put(new Fc).size(i,e).move(0,0)})}),bt(Fc,"Ellipse");class ly extends Nr{constructor(e=xt.document.createDocumentFragment()){super(e)}xml(e,t,n){if(typeof e=="boolean"&&(n=t,t=e,e=null),e==null||typeof e=="function"){const r=new Nr(Ba("wrapper",n));return r.add(this.node.cloneNode(!0)),r.xml(!1,n)}return super.xml(e,!1,n)}}function cy(i,e){return(this._element||this).type==="radialGradient"?this.attr({fx:new Ke(i),fy:new Ke(e)}):this.attr({x1:new Ke(i),y1:new Ke(e)})}function uy(i,e){return(this._element||this).type==="radialGradient"?this.attr({cx:new Ke(i),cy:new Ke(e)}):this.attr({x2:new Ke(i),y2:new Ke(e)})}bt(ly,"Fragment");var gM=Object.freeze({__proto__:null,from:cy,to:uy});class Xa extends Wn{constructor(e,t){super(Ot(e+"Gradient",typeof e=="string"?null:e),t)}attr(e,t,n){return e==="transform"&&(e="gradientTransform"),super.attr(e,t,n)}bbox(){return new Xt}targets(){return Os("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}je(Xa,gM),st({Container:{gradient(...i){return this.defs().gradient(...i)}},Defs:{gradient:It(function(i,e){return this.put(new Xa(i)).update(e)})}}),bt(Xa,"Gradient");class Ya extends Wn{constructor(e,t=e){super(Ot("pattern",e),t)}attr(e,t,n){return e==="transform"&&(e="patternTransform"),super.attr(e,t,n)}bbox(){return new Xt}targets(){return Os("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}}st({Container:{pattern(...i){return this.defs().pattern(...i)}},Defs:{pattern:It(function(i,e,t){return this.put(new Ya).update(t).attr({x:0,y:0,width:i,height:e,patternUnits:"userSpaceOnUse"})})}}),bt(Ya,"Pattern");let zc=class extends ti{constructor(i,e=i){super(Ot("image",i),e)}load(i,e){if(!i)return this;const t=new xt.window.Image;return mr(t,"load",function(n){const r=this.parent(Ya);this.width()===0&&this.height()===0&&this.size(t.width,t.height),r instanceof Ya&&r.width()===0&&r.height()===0&&r.size(this.width(),this.height()),typeof e=="function"&&e.call(this,n)},this),mr(t,"load error",function(){fi(t)}),this.attr("href",t.src=i,Ao)}};var hy;hy=function(i,e,t){return i!=="fill"&&i!=="stroke"||oM.test(e)&&(e=t.root().defs().image(e)),e instanceof zc&&(e=t.root().defs().pattern(0,0,n=>{n.add(e)})),e},ty.push(hy),st({Container:{image:It(function(i,e){return this.put(new zc).size(0,0).load(i,e)})}}),bt(zc,"Image");class Fr extends Is{bbox(){let e=-1/0,t=-1/0,n=1/0,r=1/0;return this.forEach(function(s){e=Math.max(s[0],e),t=Math.max(s[1],t),n=Math.min(s[0],n),r=Math.min(s[1],r)}),new Xt(n,r,e-n,t-r)}move(e,t){const n=this.bbox();if(e-=n.x,t-=n.y,!isNaN(e)&&!isNaN(t))for(let r=this.length-1;r>=0;r--)this[r]=[this[r][0]+e,this[r][1]+t];return this}parse(e=[0,0]){const t=[];(e=e instanceof Array?Array.prototype.concat.apply([],e):e.trim().split(gr).map(parseFloat)).length%2!=0&&e.pop();for(let n=0,r=e.length;n<r;n+=2)t.push([e[n],e[n+1]]);return t}size(e,t){let n;const r=this.bbox();for(n=this.length-1;n>=0;n--)r.width&&(this[n][0]=(this[n][0]-r.x)*e/r.width+r.x),r.height&&(this[n][1]=(this[n][1]-r.y)*t/r.height+r.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const e=[];for(let t=0,n=this.length;t<n;t++)e.push(this[t].join(","));return e.join(" ")}transform(e){return this.clone().transformO(e)}transformO(e){He.isMatrixLike(e)||(e=new He(e));for(let t=this.length;t--;){const[n,r]=this[t];this[t][0]=e.a*n+e.c*r+e.e,this[t][1]=e.b*n+e.d*r+e.f}return this}}var of=Object.freeze({__proto__:null,MorphArray:Fr,height:function(i){const e=this.bbox();return i==null?e.height:this.size(e.width,i)},width:function(i){const e=this.bbox();return i==null?e.width:this.size(i,e.height)},x:function(i){return i==null?this.bbox().x:this.move(i,this.bbox().y)},y:function(i){return i==null?this.bbox().y:this.move(this.bbox().x,i)}});let Ps=class extends ti{constructor(i,e=i){super(Ot("line",i),e)}array(){return new Fr([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(i,e){return this.attr(this.array().move(i,e).toLine())}plot(i,e,t,n){return i==null?this.array():(i=e!==void 0?{x1:i,y1:e,x2:t,y2:n}:new Fr(i).toLine(),this.attr(i))}size(i,e){const t=Co(this,i,e);return this.attr(this.array().size(t.width,t.height).toLine())}};je(Ps,of),st({Container:{line:It(function(...i){return Ps.prototype.plot.apply(this.put(new Ps),i[0]!=null?i:[0,0,0,0])})}}),bt(Ps,"Line");let Bc=class extends Wn{constructor(i,e=i){super(Ot("marker",i),e)}height(i){return this.attr("markerHeight",i)}orient(i){return this.attr("orient",i)}ref(i,e){return this.attr("refX",i).attr("refY",e)}toString(){return"url(#"+this.id()+")"}update(i){return this.clear(),typeof i=="function"&&i.call(this,this),this}width(i){return this.attr("markerWidth",i)}};function Eo(i,e){return function(t){return t==null?this[i]:(this[i]=t,e&&e.call(this),this)}}st({Container:{marker(...i){return this.defs().marker(...i)}},Defs:{marker:It(function(i,e,t){return this.put(new Bc).size(i,e).ref(i/2,e/2).viewbox(0,0,i,e).attr("orient","auto").update(t)})},marker:{marker(i,e,t,n){let r=["marker"];return i!=="all"&&r.push(i),r=r.join("-"),i=arguments[1]instanceof Bc?arguments[1]:this.defs().marker(e,t,n),this.attr(r,i)}}}),bt(Bc,"Marker");const mM={"-":function(i){return i},"<>":function(i){return-Math.cos(i*Math.PI)/2+.5},">":function(i){return Math.sin(i*Math.PI/2)},"<":function(i){return 1-Math.cos(i*Math.PI/2)},bezier:function(i,e,t,n){return function(r){return r<0?i>0?e/i*r:t>0?n/t*r:0:r>1?t<1?(1-n)/(1-t)*r+(n-t)/(1-t):i<1?(1-e)/(1-i)*r+(e-i)/(1-i):1:3*r*(1-r)**2*e+3*r**2*(1-r)*n+r**3}},steps:function(i,e="end"){e=e.split("-").reverse()[0];let t=i;return e==="none"?--t:e==="both"&&++t,(n,r=!1)=>{let s=Math.floor(n*i);const o=n*s%1==0;return e!=="start"&&e!=="both"||++s,r&&o&&--s,n>=0&&s<0&&(s=0),n<=1&&s>t&&(s=t),s/t}}};class af{done(){return!1}}class lf extends af{constructor(e=uM){super(),this.ease=mM[e]||e}step(e,t,n){return typeof e!="number"?n<1?e:t:e+(t-e)*this.ease(n)}}class Hc extends af{constructor(e){super(),this.stepper=e}done(e){return e.done}step(e,t,n,r){return this.stepper(e,t,n,r)}}function dy(){const i=(this._duration||500)/1e3,e=this._overshoot||0,t=Math.PI,n=Math.log(e/100+1e-10),r=-n/Math.sqrt(t*t+n*n),s=3.9/(r*i);this.d=2*r*s,this.k=s*s}je(class extends Hc{constructor(i=500,e=0){super(),this.duration(i).overshoot(e)}step(i,e,t,n){if(typeof i=="string")return i;if(n.done=t===1/0,t===1/0)return e;if(t===0)return i;t>100&&(t=16),t/=1e3;const r=n.velocity||0,s=-this.d*r-this.k*(i-e),o=i+r*t+s*t*t/2;return n.velocity=r+s*t,n.done=Math.abs(e-o)+Math.abs(r)<.002,n.done?e:o}},{duration:Eo("_duration",dy),overshoot:Eo("_overshoot",dy)}),je(class extends Hc{constructor(i=.1,e=.01,t=0,n=1e3){super(),this.p(i).i(e).d(t).windup(n)}step(i,e,t,n){if(typeof i=="string")return i;if(n.done=t===1/0,t===1/0)return e;if(t===0)return i;const r=e-i;let s=(n.integral||0)+r*t;const o=(r-(n.error||0))/t,a=this._windup;return a!==!1&&(s=Math.max(-a,Math.min(s,a))),n.error=r,n.integral=s,n.done=Math.abs(r)<.001,n.done?e:i+(this.P*r+this.I*s+this.D*o)}},{windup:Eo("_windup"),p:Eo("P"),i:Eo("I"),d:Eo("D")});const xM={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},cf={M:function(i,e,t){return e.x=t.x=i[0],e.y=t.y=i[1],["M",e.x,e.y]},L:function(i,e){return e.x=i[0],e.y=i[1],["L",i[0],i[1]]},H:function(i,e){return e.x=i[0],["H",i[0]]},V:function(i,e){return e.y=i[0],["V",i[0]]},C:function(i,e){return e.x=i[4],e.y=i[5],["C",i[0],i[1],i[2],i[3],i[4],i[5]]},S:function(i,e){return e.x=i[2],e.y=i[3],["S",i[0],i[1],i[2],i[3]]},Q:function(i,e){return e.x=i[2],e.y=i[3],["Q",i[0],i[1],i[2],i[3]]},T:function(i,e){return e.x=i[0],e.y=i[1],["T",i[0],i[1]]},Z:function(i,e,t){return e.x=t.x,e.y=t.y,["Z"]},A:function(i,e){return e.x=i[5],e.y=i[6],["A",i[0],i[1],i[2],i[3],i[4],i[5],i[6]]}},uf="mlhvqtcsaz".split("");for(let i=0,e=uf.length;i<e;++i)cf[uf[i]]=function(t){return function(n,r,s){if(t==="H")n[0]=n[0]+r.x;else if(t==="V")n[0]=n[0]+r.y;else if(t==="A")n[5]=n[5]+r.x,n[6]=n[6]+r.y;else for(let o=0,a=n.length;o<a;++o)n[o]=n[o]+(o%2?r.y:r.x);return cf[t](n,r,s)}}(uf[i].toUpperCase());function hf(i){return i.segment.length&&i.segment.length-1===xM[i.segment[0].toUpperCase()]}function bM(i,e){i.inNumber&&Ls(i,!1);const t=Qd.test(e);if(t)i.segment=[e];else{const n=i.lastCommand,r=n.toLowerCase(),s=n===r;i.segment=[r==="m"?s?"l":"L":n]}return i.inSegment=!0,i.lastCommand=i.segment[0],t}function Ls(i,e){if(!i.inNumber)throw new Error("Parser Error");i.number&&i.segment.push(parseFloat(i.number)),i.inNumber=e,i.number="",i.pointSeen=!1,i.hasExponent=!1,hf(i)&&df(i)}function df(i){i.inSegment=!1,i.absolute&&(i.segment=function(e){const t=e.segment[0];return cf[t](e.segment.slice(1),e.p,e.p0)}(i)),i.segments.push(i.segment)}function yM(i){if(!i.segment.length)return!1;const e=i.segment[0].toUpperCase()==="A",t=i.segment.length;return e&&(t===4||t===5)}function vM(i){return i.lastToken.toUpperCase()==="E"}const wM=new Set([" ",",","	",`
  `,"\r","\f"]);class Oi extends Is{bbox(){return Dr().path.setAttribute("d",this.toString()),new Xt(Dr.nodes.path.getBBox())}move(e,t){const n=this.bbox();if(e-=n.x,t-=n.y,!isNaN(e)&&!isNaN(t))for(let r,s=this.length-1;s>=0;s--)r=this[s][0],r==="M"||r==="L"||r==="T"?(this[s][1]+=e,this[s][2]+=t):r==="H"?this[s][1]+=e:r==="V"?this[s][1]+=t:r==="C"||r==="S"||r==="Q"?(this[s][1]+=e,this[s][2]+=t,this[s][3]+=e,this[s][4]+=t,r==="C"&&(this[s][5]+=e,this[s][6]+=t)):r==="A"&&(this[s][6]+=e,this[s][7]+=t);return this}parse(e="M0 0"){return Array.isArray(e)&&(e=Array.prototype.concat.apply([],e).toString()),function(t,n=!0){let r=0,s="";const o={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:n,p0:new St,p:new St};for(;o.lastToken=s,s=t.charAt(r++);)if(o.inSegment||!bM(o,s))if(s!==".")if(isNaN(parseInt(s)))if(wM.has(s))o.inNumber&&Ls(o,!1);else if(s!=="-"&&s!=="+")if(s.toUpperCase()!=="E"){if(Qd.test(s)){if(o.inNumber)Ls(o,!1);else{if(!hf(o))throw new Error("parser Error");df(o)}--r}}else o.number+=s,o.hasExponent=!0;else{if(o.inNumber&&!vM(o)){Ls(o,!1),--r;continue}o.number+=s,o.inNumber=!0}else{if(o.number==="0"||yM(o)){o.inNumber=!0,o.number=s,Ls(o,!0);continue}o.inNumber=!0,o.number+=s}else{if(o.pointSeen||o.hasExponent){Ls(o,!1),--r;continue}o.inNumber=!0,o.pointSeen=!0,o.number+=s}return o.inNumber&&Ls(o,!1),o.inSegment&&hf(o)&&df(o),o.segments}(e)}size(e,t){const n=this.bbox();let r,s;for(n.width=n.width===0?1:n.width,n.height=n.height===0?1:n.height,r=this.length-1;r>=0;r--)s=this[r][0],s==="M"||s==="L"||s==="T"?(this[r][1]=(this[r][1]-n.x)*e/n.width+n.x,this[r][2]=(this[r][2]-n.y)*t/n.height+n.y):s==="H"?this[r][1]=(this[r][1]-n.x)*e/n.width+n.x:s==="V"?this[r][1]=(this[r][1]-n.y)*t/n.height+n.y:s==="C"||s==="S"||s==="Q"?(this[r][1]=(this[r][1]-n.x)*e/n.width+n.x,this[r][2]=(this[r][2]-n.y)*t/n.height+n.y,this[r][3]=(this[r][3]-n.x)*e/n.width+n.x,this[r][4]=(this[r][4]-n.y)*t/n.height+n.y,s==="C"&&(this[r][5]=(this[r][5]-n.x)*e/n.width+n.x,this[r][6]=(this[r][6]-n.y)*t/n.height+n.y)):s==="A"&&(this[r][1]=this[r][1]*e/n.width,this[r][2]=this[r][2]*t/n.height,this[r][6]=(this[r][6]-n.x)*e/n.width+n.x,this[r][7]=(this[r][7]-n.y)*t/n.height+n.y);return this}toString(){return function(e){let t="";for(let n=0,r=e.length;n<r;n++)t+=e[n][0],e[n][1]!=null&&(t+=e[n][1],e[n][2]!=null&&(t+=" ",t+=e[n][2],e[n][3]!=null&&(t+=" ",t+=e[n][3],t+=" ",t+=e[n][4],e[n][5]!=null&&(t+=" ",t+=e[n][5],t+=" ",t+=e[n][6],e[n][7]!=null&&(t+=" ",t+=e[n][7])))));return t+" "}(this)}}const fy=i=>{const e=typeof i;return e==="number"?Ke:e==="string"?Et.isColor(i)?Et:gr.test(i)?Qd.test(i)?Oi:Is:Vb.test(i)?Ke:ff:pf.indexOf(i.constructor)>-1?i.constructor:Array.isArray(i)?Is:e==="object"?Va:ff};class Rs{constructor(e){this._stepper=e||new lf("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(e){return this._morphObj.morph(this._from,this._to,e,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(e,t){return e&&t},!0)}from(e){return e==null?this._from:(this._from=this._set(e),this)}stepper(e){return e==null?this._stepper:(this._stepper=e,this)}to(e){return e==null?this._to:(this._to=this._set(e),this)}type(e){return e==null?this._type:(this._type=e,this)}_set(e){this._type||this.type(fy(e));let t=new this._type(e);return this._type===Et&&(t=this._to?t[this._to[4]]():this._from?t[this._from[4]]():t),this._type===Va&&(t=this._to?t.align(this._to):this._from?t.align(this._from):t),t=t.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(t.length)).map(Object).map(function(n){return n.done=!0,n}),t}}class ff{constructor(...e){this.init(...e)}init(e){return e=Array.isArray(e)?e[0]:e,this.value=e,this}toArray(){return[this.value]}valueOf(){return this.value}}class ja{constructor(...e){this.init(...e)}init(e){return Array.isArray(e)&&(e={scaleX:e[0],scaleY:e[1],shear:e[2],rotate:e[3],translateX:e[4],translateY:e[5],originX:e[6],originY:e[7]}),Object.assign(this,ja.defaults,e),this}toArray(){const e=this;return[e.scaleX,e.scaleY,e.shear,e.rotate,e.translateX,e.translateY,e.originX,e.originY]}}ja.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const kM=(i,e)=>i[0]<e[0]?-1:i[0]>e[0]?1:0;class Va{constructor(...e){this.init(...e)}align(e){const t=this.values;for(let n=0,r=t.length;n<r;++n){if(t[n+1]===e[n+1]){if(t[n+1]===Et&&e[n+7]!==t[n+7]){const a=e[n+7],l=new Et(this.values.splice(n+3,5))[a]().toArray();this.values.splice(n+3,0,...l)}n+=t[n+2]+2;continue}if(!e[n+1])return this;const s=new e[n+1]().toArray(),o=t[n+2]+3;t.splice(n,o,e[n],e[n+1],e[n+2],...s),n+=t[n+2]+2}return this}init(e){if(this.values=[],Array.isArray(e))return void(this.values=e.slice());e=e||{};const t=[];for(const n in e){const r=fy(e[n]),s=new r(e[n]).toArray();t.push([n,r,s.length,...s])}return t.sort(kM),this.values=t.reduce((n,r)=>n.concat(r),[]),this}toArray(){return this.values}valueOf(){const e={},t=this.values;for(;t.length;){const n=t.shift(),r=t.shift(),s=t.shift(),o=t.splice(0,s);e[n]=new r(o)}return e}}const pf=[ff,ja,Va];class Oo extends ti{constructor(e,t=e){super(Ot("path",e),t)}array(){return this._array||(this._array=new Oi(this.attr("d")))}clear(){return delete this._array,this}height(e){return e==null?this.bbox().height:this.size(this.bbox().width,e)}move(e,t){return this.attr("d",this.array().move(e,t))}plot(e){return e==null?this.array():this.clear().attr("d",typeof e=="string"?e:this._array=new Oi(e))}size(e,t){const n=Co(this,e,t);return this.attr("d",this.array().size(n.width,n.height))}width(e){return e==null?this.bbox().width:this.size(e,this.bbox().height)}x(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)}y(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)}}Oo.prototype.MorphArray=Oi,st({Container:{path:It(function(i){return this.put(new Oo).plot(i||new Oi)})}}),bt(Oo,"Path");var py=Object.freeze({__proto__:null,array:function(){return this._array||(this._array=new Fr(this.attr("points")))},clear:function(){return delete this._array,this},move:function(i,e){return this.attr("points",this.array().move(i,e))},plot:function(i){return i==null?this.array():this.clear().attr("points",typeof i=="string"?i:this._array=new Fr(i))},size:function(i,e){const t=Co(this,i,e);return this.attr("points",this.array().size(t.width,t.height))}});class _s extends ti{constructor(e,t=e){super(Ot("polygon",e),t)}}st({Container:{polygon:It(function(i){return this.put(new _s).plot(i||new Fr)})}}),je(_s,of),je(_s,py),bt(_s,"Polygon");class Ds extends ti{constructor(e,t=e){super(Ot("polyline",e),t)}}st({Container:{polyline:It(function(i){return this.put(new Ds).plot(i||new Fr)})}}),je(Ds,of),je(Ds,py),bt(Ds,"Polyline");class Wc extends ti{constructor(e,t=e){super(Ot("rect",e),t)}}je(Wc,{rx:rf,ry:sf}),st({Container:{rect:It(function(i,e){return this.put(new Wc).size(i,e)})}}),bt(Wc,"Rect");class gf{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(e){const t=e.next!==void 0?e:{value:e,next:null,prev:null};return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._last=t,this._first=t),t}remove(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this._last&&(this._last=e.prev),e===this._first&&(this._first=e.next),e.prev=null,e.next=null}shift(){const e=this._first;return e?(this._first=e.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,e.value):null}}const Mt={nextDraw:null,frames:new gf,timeouts:new gf,immediates:new gf,timer:()=>xt.window.performance||xt.window.Date,transforms:[],frame(i){const e=Mt.frames.push({run:i});return Mt.nextDraw===null&&(Mt.nextDraw=xt.window.requestAnimationFrame(Mt._draw)),e},timeout(i,e){e=e||0;const t=Mt.timer().now()+e,n=Mt.timeouts.push({run:i,time:t});return Mt.nextDraw===null&&(Mt.nextDraw=xt.window.requestAnimationFrame(Mt._draw)),n},immediate(i){const e=Mt.immediates.push(i);return Mt.nextDraw===null&&(Mt.nextDraw=xt.window.requestAnimationFrame(Mt._draw)),e},cancelFrame(i){i!=null&&Mt.frames.remove(i)},clearTimeout(i){i!=null&&Mt.timeouts.remove(i)},cancelImmediate(i){i!=null&&Mt.immediates.remove(i)},_draw(i){let e=null;const t=Mt.timeouts.last();for(;(e=Mt.timeouts.shift())&&(i>=e.time?e.run():Mt.timeouts.push(e),e!==t););let n=null;const r=Mt.frames.last();for(;n!==r&&(n=Mt.frames.shift());)n.run(i);let s=null;for(;s=Mt.immediates.shift();)s();Mt.nextDraw=Mt.timeouts.first()||Mt.frames.first()?xt.window.requestAnimationFrame(Mt._draw):null}},SM=function(i){const e=i.start,t=i.runner.duration();return{start:e,duration:t,end:e+t,runner:i.runner}},CM=function(){const i=xt.window;return(i.performance||i.Date).now()};class gy extends Ha{constructor(e=CM){super(),this._timeSource=e,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const e=this.getLastRunnerInfo(),t=e?e.runner.duration():0;return(e?e.start:this._time)+t}getEndTimeOfTimeline(){const e=this._runners.map(t=>t.start+t.runner.duration());return Math.max(0,...e)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(e){return this._runners[this._runnerIds.indexOf(e)]||null}pause(){return this._paused=!0,this._continue()}persist(e){return e==null?this._persist:(this._persist=e,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(e){const t=this.speed();if(e==null)return this.speed(-t);const n=Math.abs(t);return this.speed(e?-n:n)}schedule(e,t,n){if(e==null)return this._runners.map(SM);let r=0;const s=this.getEndTime();if(t=t||0,n==null||n==="last"||n==="after")r=s;else if(n==="absolute"||n==="start")r=t,t=0;else if(n==="now")r=this._time;else if(n==="relative"){const l=this.getRunnerInfoById(e.id);l&&(r=l.start+t,t=0)}else{if(n!=="with-last")throw new Error('Invalid value for the "when" parameter');{const l=this.getLastRunnerInfo();r=l?l.start:this._time}}e.unschedule(),e.timeline(this);const o=e.persist(),a={persist:o===null?this._persist:o,start:r+t,runner:e};return this._lastRunnerId=e.id,this._runners.push(a),this._runners.sort((l,c)=>l.start-c.start),this._runnerIds=this._runners.map(l=>l.runner.id),this.updateTime()._continue(),this}seek(e){return this.time(this._time+e)}source(e){return e==null?this._timeSource:(this._timeSource=e,this)}speed(e){return e==null?this._speed:(this._speed=e,this)}stop(){return this.time(0),this.pause()}time(e){return e==null?this._time:(this._time=e,this._continue(!0))}unschedule(e){const t=this._runnerIds.indexOf(e.id);return t<0||(this._runners.splice(t,1),this._runnerIds.splice(t,1),e.timeline(null)),this}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(e=!1){return Mt.cancelFrame(this._nextFrame),this._nextFrame=null,e?this._stepImmediate():(this._paused||(this._nextFrame=Mt.frame(this._step)),this)}_stepFn(e=!1){const t=this._timeSource();let n=t-this._lastSourceTime;e&&(n=0);const r=this._speed*n+(this._time-this._lastStepTime);this._lastSourceTime=t,e||(this._time+=r,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let o=this._runners.length;o--;){const a=this._runners[o],l=a.runner;this._time-a.start<=0&&l.reset()}let s=!1;for(let o=0,a=this._runners.length;o<a;o++){const l=this._runners[o],c=l.runner;let u=r;const h=this._time-l.start;if(h<=0){s=!0;continue}h<u&&(u=h),c.active()&&(c.step(u).done?l.persist!==!0&&c.duration()-c.time()+this._time+l.persist<this._time&&(c.unschedule(),--o,--a):s=!0)}return s&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}st({Element:{timeline:function(i){return i==null?(this._timeline=this._timeline||new gy,this._timeline):(this._timeline=i,this)}}});class ni extends Ha{constructor(e){super(),this.id=ni.id++,e=typeof(e=e??nf)=="function"?new Hc(e):e,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof e=="number"&&e,this._isDeclarative=e instanceof Hc,this._stepper=this._isDeclarative?e:new lf,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new He,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=!!this._isDeclarative||null}static sanitise(e,t,n){let r=1,s=!1,o=0;return t=t??hM,n=n||"last",typeof(e=e??nf)!="object"||e instanceof af||(t=e.delay??t,n=e.when??n,s=e.swing||s,r=e.times??r,o=e.wait??o,e=e.duration??nf),{duration:e,delay:t,swing:s,times:r,wait:o,when:n}}active(e){return e==null?this.enabled:(this.enabled=e,this)}addTransform(e){return this.transforms.lmultiplyO(e),this}after(e){return this.on("finished",e)}animate(e,t,n){const r=ni.sanitise(e,t,n),s=new ni(r.duration);return this._timeline&&s.timeline(this._timeline),this._element&&s.element(this._element),s.loop(r).schedule(r.delay,r.when)}clearTransform(){return this.transforms=new He,this}clearTransformsFromQueue(){this.done&&this._timeline&&this._timeline._runnerIds.includes(this.id)||(this._queue=this._queue.filter(e=>!e.isTransform))}delay(e){return this.animate(0,e)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(e){return this.queue(null,e)}ease(e){return this._stepper=new lf(e),this}element(e){return e==null?this._element:(this._element=e,e._prepareRunner(),this)}finish(){return this.step(1/0)}loop(e,t,n){return typeof e=="object"&&(t=e.swing,n=e.wait,e=e.times),this._times=e||1/0,this._swing=t||!1,this._wait=n||0,this._times===!0&&(this._times=1/0),this}loops(e){const t=this._duration+this._wait;if(e==null){const s=Math.floor(this._time/t),o=(this._time-s*t)/this._duration;return Math.min(s+o,this._times)}const n=e%1,r=t*Math.floor(e)+this._duration*n;return this.time(r)}persist(e){return e==null?this._persist:(this._persist=e,this)}position(e){const t=this._time,n=this._duration,r=this._wait,s=this._times,o=this._swing,a=this._reverse;let l;if(e==null){const h=function(f){const p=o*Math.floor(f%(2*(r+n))/(r+n)),m=p&&!a||!p&&a,b=Math.pow(-1,m)*(f%(r+n))/n+m;return Math.max(Math.min(b,1),0)},d=s*(r+n)-r;return l=t<=0?Math.round(h(1e-5)):t<d?h(t):Math.round(h(d-1e-5)),l}const c=Math.floor(this.loops()),u=o&&c%2==0;return l=c+(u&&!a||a&&u?e:1-e),this.loops(l)}progress(e){return e==null?Math.min(1,this._time/this.duration()):this.time(e*this.duration())}queue(e,t,n,r){return this._queue.push({initialiser:e||ey,runner:t||ey,retarget:n,isTransform:r,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted||(this.time(0),this._reseted=!0),this}reverse(e){return this._reverse=e??!this._reverse,this}schedule(e,t,n){if(e instanceof gy||(n=t,t=e,e=this.timeline()),!e)throw Error("Runner cannot be scheduled without timeline");return e.schedule(this,t,n),this}step(e){if(!this.enabled)return this;e=e??16,this._time+=e;const t=this.position(),n=this._lastPosition!==t&&this._time>=0;this._lastPosition=t;const r=this.duration(),s=this._lastTime<=0&&this._time>0,o=this._lastTime<r&&this._time>=r;this._lastTime=this._time,s&&this.fire("start",this);const a=this._isDeclarative;this.done=!a&&!o&&this._time>=r,this._reseted=!1;let l=!1;return(n||a)&&(this._initialise(n),this.transforms=new He,l=this._run(a?e:t),this.fire("step",this)),this.done=this.done||l&&a,o&&this.fire("finished",this),this}time(e){if(e==null)return this._time;const t=e-this._time;return this.step(t),this}timeline(e){return e===void 0?this._timeline:(this._timeline=e,this)}unschedule(){const e=this.timeline();return e&&e.unschedule(this),this}_initialise(e){if(e||this._isDeclarative)for(let t=0,n=this._queue.length;t<n;++t){const r=this._queue[t],s=this._isDeclarative||!r.initialised&&e;e=!r.finished,s&&e&&(r.initialiser.call(this),r.initialised=!0)}}_rememberMorpher(e,t){if(this._history[e]={morpher:t,caller:this._queue[this._queue.length-1]},this._isDeclarative){const n=this.timeline();n&&n.play()}}_run(e){let t=!0;for(let n=0,r=this._queue.length;n<r;++n){const s=this._queue[n],o=s.runner.call(this,e);s.finished=s.finished||o===!0,t=t&&s.finished}return t}_tryRetarget(e,t,n){if(this._history[e]){if(!this._history[e].caller.initialised){const s=this._queue.indexOf(this._history[e].caller);return this._queue.splice(s,1),!1}this._history[e].caller.retarget?this._history[e].caller.retarget.call(this,t,n):this._history[e].morpher.to(t),this._history[e].caller.finished=!1;const r=this.timeline();return r&&r.play(),!0}return!1}}ni.id=0;class Xc{constructor(e=new He,t=-1,n=!0){this.transforms=e,this.id=t,this.done=n}clearTransformsFromQueue(){}}je([ni,Xc],{mergeWith(i){return new Xc(i.transforms.lmultiply(this.transforms),i.id)}});const my=(i,e)=>i.lmultiplyO(e),xy=i=>i.transforms;function AM(){const i=this._transformationRunners.runners.map(xy).reduce(my,new He);this.transform(i),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class MM{constructor(){this.runners=[],this.ids=[]}add(e){if(this.runners.includes(e))return;const t=e.id+1;return this.runners.push(e),this.ids.push(t),this}clearBefore(e){const t=this.ids.indexOf(e+1)||1;return this.ids.splice(0,t,0),this.runners.splice(0,t,new Xc).forEach(n=>n.clearTransformsFromQueue()),this}edit(e,t){const n=this.ids.indexOf(e+1);return this.ids.splice(n,1,e+1),this.runners.splice(n,1,t),this}getByID(e){return this.runners[this.ids.indexOf(e+1)]}length(){return this.ids.length}merge(){let e=null;for(let t=0;t<this.runners.length;++t){const n=this.runners[t];if(e&&n.done&&e.done&&(!n._timeline||!n._timeline._runnerIds.includes(n.id))&&(!e._timeline||!e._timeline._runnerIds.includes(e.id))){this.remove(n.id);const r=n.mergeWith(e);this.edit(e.id,r),e=r,--t}else e=n}return this}remove(e){const t=this.ids.indexOf(e+1);return this.ids.splice(t,1),this.runners.splice(t,1),this}}st({Element:{animate(i,e,t){const n=ni.sanitise(i,e,t),r=this.timeline();return new ni(n.duration).loop(n).element(this).timeline(r.play()).schedule(n.delay,n.when)},delay(i,e){return this.animate(0,i,e)},_clearTransformRunnersBefore(i){this._transformationRunners.clearBefore(i.id)},_currentTransform(i){return this._transformationRunners.runners.filter(e=>e.id<=i.id).map(xy).reduce(my,new He)},_addRunner(i){this._transformationRunners.add(i),Mt.cancelImmediate(this._frameId),this._frameId=Mt.immediate(AM.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new MM().add(new Xc(new He(this))))}}}),je(ni,{attr(i,e){return this.styleAttr("attr",i,e)},css(i,e){return this.styleAttr("css",i,e)},styleAttr(i,e,t){if(typeof e=="string")return this.styleAttr(i,{[e]:t});let n=e;if(this._tryRetarget(i,n))return this;let r=new Rs(this._stepper).to(n),s=Object.keys(n);return this.queue(function(){r=r.from(this.element()[i](s))},function(o){return this.element()[i](r.at(o).valueOf()),r.done()},function(o){const a=Object.keys(o),l=(c=s,a.filter(h=>!c.includes(h)));var c;if(l.length){const h=this.element()[i](l),d=new Va(r.from()).valueOf();Object.assign(d,h),r.from(d)}const u=new Va(r.to()).valueOf();Object.assign(u,o),r.to(u),s=a,n=o}),this._rememberMorpher(i,r),this},zoom(i,e){if(this._tryRetarget("zoom",i,e))return this;let t=new Rs(this._stepper).to(new Ke(i));return this.queue(function(){t=t.from(this.element().zoom())},function(n){return this.element().zoom(t.at(n),e),t.done()},function(n,r){e=r,t.to(n)}),this._rememberMorpher("zoom",t),this},transform(i,e,t){if(e=i.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",i))return this;const n=He.isMatrixLike(i);t=i.affine!=null?i.affine:t??!n;const r=new Rs(this._stepper).type(t?ja:He);let s,o,a,l,c;return this.queue(function(){o=o||this.element(),s=s||$d(i,o),c=new He(e?void 0:o),o._addRunner(this),e||o._clearTransformRunnersBefore(this)},function(u){e||this.clearTransform();const{x:h,y:d}=new St(s).transform(o._currentTransform(this));let f=new He({...i,origin:[h,d]}),p=this._isDeclarative&&a?a:c;if(t){f=f.decompose(h,d),p=p.decompose(h,d);const b=f.rotate,y=p.rotate,w=[b-360,b,b+360],C=w.map(E=>Math.abs(E-y)),T=Math.min(...C),k=C.indexOf(T);f.rotate=w[k]}e&&(n||(f.rotate=i.rotate||0),this._isDeclarative&&l&&(p.rotate=l)),r.from(p),r.to(f);const m=r.at(u);return l=m.rotate,a=new He(m),this.addTransform(a),o._addRunner(this),r.done()},function(u){(u.origin||"center").toString()!==(i.origin||"center").toString()&&(s=$d(u,o)),i={...u,origin:s}},!0),this._isDeclarative&&this._rememberMorpher("transform",r),this},x(i){return this._queueNumber("x",i)},y(i){return this._queueNumber("y",i)},ax(i){return this._queueNumber("ax",i)},ay(i){return this._queueNumber("ay",i)},dx(i=0){return this._queueNumberDelta("x",i)},dy(i=0){return this._queueNumberDelta("y",i)},dmove(i,e){return this.dx(i).dy(e)},_queueNumberDelta(i,e){if(e=new Ke(e),this._tryRetarget(i,e))return this;const t=new Rs(this._stepper).to(e);let n=null;return this.queue(function(){n=this.element()[i](),t.from(n),t.to(n+e)},function(r){return this.element()[i](t.at(r)),t.done()},function(r){t.to(n+new Ke(r))}),this._rememberMorpher(i,t),this},_queueObject(i,e){if(this._tryRetarget(i,e))return this;const t=new Rs(this._stepper).to(e);return this.queue(function(){t.from(this.element()[i]())},function(n){return this.element()[i](t.at(n)),t.done()}),this._rememberMorpher(i,t),this},_queueNumber(i,e){return this._queueObject(i,new Ke(e))},cx(i){return this._queueNumber("cx",i)},cy(i){return this._queueNumber("cy",i)},move(i,e){return this.x(i).y(e)},amove(i,e){return this.ax(i).ay(e)},center(i,e){return this.cx(i).cy(e)},size(i,e){let t;return i&&e||(t=this._element.bbox()),i||(i=t.width/t.height*e),e||(e=t.height/t.width*i),this.width(i).height(e)},width(i){return this._queueNumber("width",i)},height(i){return this._queueNumber("height",i)},plot(i,e,t,n){if(arguments.length===4)return this.plot([i,e,t,n]);if(this._tryRetarget("plot",i))return this;const r=new Rs(this._stepper).type(this._element.MorphArray).to(i);return this.queue(function(){r.from(this._element.array())},function(s){return this._element.plot(r.at(s)),r.done()}),this._rememberMorpher("plot",r),this},leading(i){return this._queueNumber("leading",i)},viewbox(i,e,t,n){return this._queueObject("viewbox",new Xt(i,e,t,n))},update(i){return typeof i!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(i.opacity!=null&&this.attr("stop-opacity",i.opacity),i.color!=null&&this.attr("stop-color",i.color),i.offset!=null&&this.attr("offset",i.offset),this)}}),je(ni,{rx:rf,ry:sf,from:cy,to:uy}),bt(ni,"Runner");class mf extends Wn{constructor(e,t=e){super(Ot("svg",e),t),this.namespace()}defs(){return this.isRoot()?di(this.node.querySelector("defs"))||this.put(new Nc):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof xt.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:qd,version:"1.1"}).attr("xmlns:xlink",Ao,Ud):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,Ud).attr("xmlns:svgjs",null,Ud)}root(){return this.isRoot()?this:super.root()}}st({Container:{nested:It(function(){return this.put(new mf)})}}),bt(mf,"Svg",!0);let xf=class extends Wn{constructor(i,e=i){super(Ot("symbol",i),e)}};st({Container:{symbol:It(function(){return this.put(new xf)})}}),bt(xf,"Symbol");var by=Object.freeze({__proto__:null,amove:function(i,e){return this.ax(i).ay(e)},ax:function(i){return this.attr("x",i)},ay:function(i){return this.attr("y",i)},build:function(i){return this._build=!!i,this},center:function(i,e,t=this.bbox()){return this.cx(i,t).cy(e,t)},cx:function(i,e=this.bbox()){return i==null?e.cx:this.attr("x",this.attr("x")+i-e.cx)},cy:function(i,e=this.bbox()){return i==null?e.cy:this.attr("y",this.attr("y")+i-e.cy)},length:function(){return this.node.getComputedTextLength()},move:function(i,e,t=this.bbox()){return this.x(i,t).y(e,t)},plain:function(i){return this._build===!1&&this.clear(),this.node.appendChild(xt.document.createTextNode(i)),this},x:function(i,e=this.bbox()){return i==null?e.x:this.attr("x",this.attr("x")+i-e.x)},y:function(i,e=this.bbox()){return i==null?e.y:this.attr("y",this.attr("y")+i-e.y)}});class Ii extends ti{constructor(e,t=e){super(Ot("text",e),t),this.dom.leading=this.dom.leading??new Ke(1.3),this._rebuild=!0,this._build=!1}leading(e){return e==null?this.dom.leading:(this.dom.leading=new Ke(e),this.rebuild())}rebuild(e){if(typeof e=="boolean"&&(this._rebuild=e),this._rebuild){const t=this;let n=0;const r=this.dom.leading;this.each(function(s){if(Gd(this.node))return;const o=xt.window.getComputedStyle(this.node).getPropertyValue("font-size"),a=r*new Ke(o);this.dom.newLined&&(this.attr("x",t.attr("x")),this.text()===`
  `?n+=a:(this.attr("dy",s?a+n:0),n=0))}),this.fire("rebuild")}return this}setData(e){return this.dom=e,this.dom.leading=new Ke(e.leading||1.3),this}writeDataToDom(){return Xb(this,this.dom,{leading:1.3}),this}text(e){if(e===void 0){const t=this.node.childNodes;let n=0;e="";for(let r=0,s=t.length;r<s;++r)t[r].nodeName==="textPath"||Gd(t[r])?r===0&&(n=r+1):(r!==n&&t[r].nodeType!==3&&di(t[r]).dom.newLined===!0&&(e+=`
  `),e+=t[r].textContent);return e}if(this.clear().build(!0),typeof e=="function")e.call(this,this);else for(let t=0,n=(e=(e+"").split(`
  `)).length;t<n;t++)this.newLine(e[t]);return this.build(!1).rebuild()}}je(Ii,by),st({Container:{text:It(function(i=""){return this.put(new Ii).text(i)}),plain:It(function(i=""){return this.put(new Ii).plain(i)})}}),bt(Ii,"Text");class Yc extends ti{constructor(e,t=e){super(Ot("tspan",e),t),this._build=!1}dx(e){return this.attr("dx",e)}dy(e){return this.attr("dy",e)}newLine(){this.dom.newLined=!0;const e=this.parent();if(!(e instanceof Ii))return this;const t=e.index(this),n=xt.window.getComputedStyle(this.node).getPropertyValue("font-size"),r=e.dom.leading*new Ke(n);return this.dy(t?r:0).attr("x",e.x())}text(e){return e==null?this.node.textContent+(this.dom.newLined?`
  `:""):(typeof e=="function"?(this.clear().build(!0),e.call(this,this),this.build(!1)):this.plain(e),this)}}je(Yc,by),st({Tspan:{tspan:It(function(i=""){const e=new Yc;return this._build||this.clear(),this.put(e).text(i)})},Text:{newLine:function(i=""){return this.tspan(i).newLine()}}}),bt(Yc,"Tspan");class bf extends ti{constructor(e,t=e){super(Ot("circle",e),t)}radius(e){return this.attr("r",e)}rx(e){return this.attr("r",e)}ry(e){return this.rx(e)}size(e){return this.radius(new Ke(e).divide(2))}}je(bf,{x:ny,y:iy,cx:ry,cy:sy,width:oy,height:ay}),st({Container:{circle:It(function(i=0){return this.put(new bf).size(i).move(0,0)})}}),bt(bf,"Circle");class yf extends Wn{constructor(e,t=e){super(Ot("clipPath",e),t)}remove(){return this.targets().forEach(function(e){e.unclip()}),super.remove()}targets(){return Os("svg [clip-path*="+this.id()+"]")}}st({Container:{clip:It(function(){return this.defs().put(new yf)})},Element:{clipper(){return this.reference("clip-path")},clipWith(i){const e=i instanceof yf?i:this.parent().clip().add(i);return this.attr("clip-path","url(#"+e.id()+")")},unclip(){return this.attr("clip-path",null)}}}),bt(yf,"ClipPath");class yy extends dn{constructor(e,t=e){super(Ot("foreignObject",e),t)}}st({Container:{foreignObject:It(function(i,e){return this.put(new yy).size(i,e)})}}),bt(yy,"ForeignObject");var vy=Object.freeze({__proto__:null,dmove:function(i,e){return this.children().forEach(t=>{let n;try{n=t.node instanceof za().SVGSVGElement?new Xt(t.attr(["x","y","width","height"])):t.bbox()}catch{return}const r=new He(t),s=r.translate(i,e).transform(r.inverse()),o=new St(n.x,n.y).transform(s);t.move(o.x,o.y)}),this},dx:function(i){return this.dmove(i,0)},dy:function(i){return this.dmove(0,i)},height:function(i,e=this.bbox()){return i==null?e.height:this.size(e.width,i,e)},move:function(i=0,e=0,t=this.bbox()){const n=i-t.x,r=e-t.y;return this.dmove(n,r)},size:function(i,e,t=this.bbox()){const n=Co(this,i,e,t),r=n.width/t.width,s=n.height/t.height;return this.children().forEach(o=>{const a=new St(t).transform(new He(o).inverse());o.scale(r,s,a.x,a.y)}),this},width:function(i,e=this.bbox()){return i==null?e.width:this.size(i,e.height,e)},x:function(i,e=this.bbox()){return i==null?e.x:this.move(i,e.y,e)},y:function(i,e=this.bbox()){return i==null?e.y:this.move(e.x,i,e)}});class zr extends Wn{constructor(e,t=e){super(Ot("g",e),t)}}je(zr,vy),st({Container:{group:It(function(){return this.put(new zr)})}}),bt(zr,"G");class jc extends Wn{constructor(e,t=e){super(Ot("a",e),t)}target(e){return this.attr("target",e)}to(e){return this.attr("href",e,Ao)}}je(jc,vy),st({Container:{link:It(function(i){return this.put(new jc).to(i)})},Element:{unlink(){const i=this.linker();if(!i)return this;const e=i.parent();if(!e)return this.remove();const t=e.index(i);return e.add(this,t),i.remove(),this},linkTo(i){let e=this.linker();return e||(e=new jc,this.wrap(e)),typeof i=="function"?i.call(e,e):e.to(i),this},linker(){const i=this.parent();return i&&i.node.nodeName.toLowerCase()==="a"?i:null}}}),bt(jc,"A");class vf extends Wn{constructor(e,t=e){super(Ot("mask",e),t)}remove(){return this.targets().forEach(function(e){e.unmask()}),super.remove()}targets(){return Os("svg [mask*="+this.id()+"]")}}st({Container:{mask:It(function(){return this.defs().put(new vf)})},Element:{masker(){return this.reference("mask")},maskWith(i){const e=i instanceof vf?i:this.parent().mask().add(i);return this.attr("mask","url(#"+e.id()+")")},unmask(){return this.attr("mask",null)}}}),bt(vf,"Mask");class wy extends dn{constructor(e,t=e){super(Ot("stop",e),t)}update(e){return(typeof e=="number"||e instanceof Ke)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",new Ke(e.offset)),this}}st({Gradient:{stop:function(i,e,t){return this.put(new wy).update(i,e,t)}}}),bt(wy,"Stop");class wf extends dn{constructor(e,t=e){super(Ot("style",e),t)}addText(e=""){return this.node.textContent+=e,this}font(e,t,n={}){return this.rule("@font-face",{fontFamily:e,src:t,...n})}rule(e,t){return this.addText(function(n,r){if(!n)return"";if(!r)return n;let s=n+"{";for(const o in r)s+=o.replace(/([A-Z])/g,function(a,l){return"-"+l.toLowerCase()})+":"+r[o]+";";return s+="}",s}(e,t))}}st("Dom",{style(i,e){return this.put(new wf).rule(i,e)},fontface(i,e,t){return this.put(new wf).font(i,e,t)}}),bt(wf,"Style");class kf extends Ii{constructor(e,t=e){super(Ot("textPath",e),t)}array(){const e=this.track();return e?e.array():null}plot(e){const t=this.track();let n=null;return t&&(n=t.plot(e)),e==null?n:this}track(){return this.reference("href")}}st({Container:{textPath:It(function(i,e){return i instanceof Ii||(i=this.text(i)),i.path(e)})},Text:{path:It(function(i,e=!0){const t=new kf;let n;if(i instanceof Oo||(i=this.defs().path(i)),t.attr("href","#"+i,Ao),e)for(;n=this.node.firstChild;)t.node.appendChild(n);return this.put(t)}),textPath(){return this.findOne("textPath")}},Path:{text:It(function(i){return i instanceof Ii||(i=new Ii().addTo(this.parent()).text(i)),i.path(this)}),targets(){return Os("svg textPath").filter(i=>(i.attr("href")||"").includes(this.id()))}}}),kf.prototype.MorphArray=Oi,bt(kf,"TextPath");class ky extends ti{constructor(e,t=e){super(Ot("use",e),t)}use(e,t){return this.attr("href",(t||"")+"#"+e,Ao)}}st({Container:{use:It(function(i,e){return this.put(new ky).use(i,e)})}}),bt(ky,"Use");const TM=Hn;je([mf,xf,zc,Ya,Bc],Kn("viewbox")),je([Ps,Ds,_s,Oo],Kn("marker")),je(Ii,Kn("Text")),je(Oo,Kn("Path")),je(Nc,Kn("Defs")),je([Ii,Yc],Kn("Tspan")),je([Wc,Fc,Xa,ni],Kn("radius")),je(Ha,Kn("EventTarget")),je(Nr,Kn("Dom")),je(dn,Kn("Element")),je(ti,Kn("Shape")),je([Wn,ly],Kn("Container")),je(Xa,Kn("Gradient")),je(ni,Kn("Runner")),Es.extend([...new Set(Hb)]),function(i=[]){pf.push(...[].concat(i))}([Ke,Et,Xt,He,Is,Fr,Oi,St]),je(pf,{to(i){return new Rs().type(this.constructor).from(this.toArray()).to(i)},fromArray(i){return this.init(i),this},toConsumable(){return this.toArray()},morph(i,e,t,n,r){return this.fromArray(i.map(function(s,o){return n.step(s,e[o],t,r[o],r)}))}});class Dt extends dn{constructor(e){super(Ot("filter",e),e),this.$source="SourceGraphic",this.$sourceAlpha="SourceAlpha",this.$background="BackgroundImage",this.$backgroundAlpha="BackgroundAlpha",this.$fill="FillPaint",this.$stroke="StrokePaint",this.$autoSetIn=!0}put(e,t){return!(e=super.put(e,t)).attr("in")&&this.$autoSetIn&&e.attr("in",this.$source),e.attr("result")||e.attr("result",e.id()),e}remove(){return this.targets().each("unfilter"),super.remove()}targets(){return Os('svg [filter*="'+this.id()+'"]')}toString(){return"url(#"+this.id()+")"}}class Sf extends dn{constructor(e,t){super(e,t),this.result(this.id())}in(e){if(e==null){const t=this.attr("in");return this.parent()&&this.parent().find(`[result="${t}"]`)[0]||t}return this.attr("in",e)}result(e){return this.attr("result",e)}toString(){return this.result()}}const pi=i=>function(...e){for(let t=i.length;t--;)e[t]!=null&&this.attr(i[t],e[t])},EM={blend:pi(["in","in2","mode"]),colorMatrix:pi(["type","values"]),composite:pi(["in","in2","operator"]),convolveMatrix:function(i){i=new Is(i).toString(),this.attr({order:Math.sqrt(i.split(" ").length),kernelMatrix:i})},diffuseLighting:pi(["surfaceScale","lightingColor","diffuseConstant","kernelUnitLength"]),displacementMap:pi(["in","in2","scale","xChannelSelector","yChannelSelector"]),dropShadow:pi(["in","dx","dy","stdDeviation"]),flood:pi(["flood-color","flood-opacity"]),gaussianBlur:function(i=0,e=i){this.attr("stdDeviation",i+" "+e)},image:function(i){this.attr("href",i,Ao)},morphology:pi(["operator","radius"]),offset:pi(["dx","dy"]),specularLighting:pi(["surfaceScale","lightingColor","diffuseConstant","specularExponent","kernelUnitLength"]),tile:pi([]),turbulence:pi(["baseFrequency","numOctaves","seed","stitchTiles","type"])};["blend","colorMatrix","componentTransfer","composite","convolveMatrix","diffuseLighting","displacementMap","dropShadow","flood","gaussianBlur","image","merge","morphology","offset","specularLighting","tile","turbulence"].forEach(i=>{const e=So(i),t=EM[i];Dt[e+"Effect"]=class extends Sf{constructor(n){super(Ot("fe"+e,n),n)}update(n){return t.apply(this,n),this}},Dt.prototype[i]=It(function(n,...r){const s=new Dt[e+"Effect"];return n==null?this.put(s):(typeof n=="function"?n.call(s,s):r.unshift(n),this.put(s).update(r))})}),je(Dt,{merge(i){const e=this.put(new Dt.MergeEffect);return typeof i=="function"?(i.call(e,e),e):((i instanceof Array?i:[...arguments]).forEach(t=>{t instanceof Dt.MergeNode?e.put(t):e.mergeNode(t)}),e)},componentTransfer(i={}){const e=this.put(new Dt.ComponentTransferEffect);if(typeof i=="function")return i.call(e,e),e;i.r||i.g||i.b||i.a||(i={r:i,g:i,b:i,a:i});for(const t in i)e.add(new Dt["Func"+t.toUpperCase()](i[t]));return e}}),["distantLight","pointLight","spotLight","mergeNode","FuncR","FuncG","FuncB","FuncA"].forEach(i=>{const e=So(i);Dt[e]=class extends Sf{constructor(t){super(Ot("fe"+e,t),t)}}}),["funcR","funcG","funcB","funcA"].forEach(function(i){const e=Dt[So(i)],t=It(function(){return this.put(new e)});Dt.ComponentTransferEffect.prototype[i]=t}),["distantLight","pointLight","spotLight"].forEach(i=>{const e=Dt[So(i)],t=It(function(){return this.put(new e)});Dt.DiffuseLightingEffect.prototype[i]=t,Dt.SpecularLightingEffect.prototype[i]=t}),je(Dt.MergeEffect,{mergeNode(i){return this.put(new Dt.MergeNode).attr("in",i)}}),je(Nc,{filter:function(i){const e=this.put(new Dt);return typeof i=="function"&&i.call(e,e),e}}),je(Wn,{filter:function(i){return this.defs().filter(i)}}),je(dn,{filterWith:function(i){const e=i instanceof Dt?i:this.defs().filter(i);return this.attr("filter",e)},unfilter:function(i){return this.attr("filter",null)},filterer(){return this.reference("filter")}}),je(Sf,{blend:function(i,e){return this.parent()&&this.parent().blend(this,i,e)},colorMatrix:function(i,e){return this.parent()&&this.parent().colorMatrix(i,e).in(this)},componentTransfer:function(i){return this.parent()&&this.parent().componentTransfer(i).in(this)},composite:function(i,e){return this.parent()&&this.parent().composite(this,i,e)},convolveMatrix:function(i){return this.parent()&&this.parent().convolveMatrix(i).in(this)},diffuseLighting:function(i,e,t,n){return this.parent()&&this.parent().diffuseLighting(i,t,n).in(this)},displacementMap:function(i,e,t,n){return this.parent()&&this.parent().displacementMap(this,i,e,t,n)},dropShadow:function(i,e,t){return this.parent()&&this.parent().dropShadow(this,i,e,t).in(this)},flood:function(i,e){return this.parent()&&this.parent().flood(i,e)},gaussianBlur:function(i,e){return this.parent()&&this.parent().gaussianBlur(i,e).in(this)},image:function(i){return this.parent()&&this.parent().image(i)},merge:function(i){return i=i instanceof Array?i:[...i],this.parent()&&this.parent().merge(this,...i)},morphology:function(i,e){return this.parent()&&this.parent().morphology(i,e).in(this)},offset:function(i,e){return this.parent()&&this.parent().offset(i,e).in(this)},specularLighting:function(i,e,t,n,r){return this.parent()&&this.parent().specularLighting(i,t,n,r).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(i,e,t,n,r){return this.parent()&&this.parent().turbulence(i,e,t,n,r).in(this)}}),je(Dt.MergeEffect,{in:function(i){return i instanceof Dt.MergeNode?this.add(i,0):this.add(new Dt.MergeNode().in(i),0),this}}),je([Dt.CompositeEffect,Dt.BlendEffect,Dt.DisplacementMapEffect],{in2:function(i){if(i==null){const e=this.attr("in2");return this.parent()&&this.parent().find(`[result="${e}"]`)[0]||e}return this.attr("in2",i)}}),Dt.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]};var fn=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"getDefaultFilter",value:function(e,t){var n=this.w;e.unfilter(!0),new Dt().size("120%","180%","-5%","-40%"),n.config.chart.dropShadow.enabled&&this.dropShadow(e,n.config.chart.dropShadow,t)}},{key:"applyFilter",value:function(e,t,n){var r,s=this,o=this.w;if(e.unfilter(!0),n!=="none"){var a,l,c=o.config.chart.dropShadow,u=n==="lighten"?2:.3;e.filterWith(function(h){h.colorMatrix({type:"matrix",values:`
            `.concat(u,` 0 0 0 0
            0 `).concat(u,` 0 0 0
            0 0 `).concat(u,` 0 0
            0 0 0 1 0
          `),in:"SourceGraphic",result:"brightness"}),c.enabled&&s.addShadow(h,t,c,"brightness")}),!c.noUserSpaceOnUse&&((a=e.filterer())===null||a===void 0||(l=a.node)===null||l===void 0||l.setAttribute("filterUnits","userSpaceOnUse")),this._scaleFilterSize((r=e.filterer())===null||r===void 0?void 0:r.node)}else this.getDefaultFilter(e,t)}},{key:"addShadow",value:function(e,t,n,r){var s,o=this.w,a=n.blur,l=n.top,c=n.left,u=n.color,h=n.opacity;if(u=Array.isArray(u)?u[t]:u,((s=o.config.chart.dropShadow.enabledOnSeries)===null||s===void 0?void 0:s.length)>0&&o.config.chart.dropShadow.enabledOnSeries.indexOf(t)===-1)return e;e.offset({in:r,dx:c,dy:l,result:"offset"}),e.gaussianBlur({in:"offset",stdDeviation:a,result:"blur"}),e.flood({"flood-color":u,"flood-opacity":h,result:"flood"}),e.composite({in:"flood",in2:"blur",operator:"in",result:"shadow"}),e.merge(["shadow",r])}},{key:"dropShadow",value:function(e,t){var n,r,s,o,a,l=this,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,u=this.w;return e.unfilter(!0),H.isMsEdge()&&u.config.chart.type==="radialBar"||((n=u.config.chart.dropShadow.enabledOnSeries)===null||n===void 0?void 0:n.length)>0&&((s=u.config.chart.dropShadow.enabledOnSeries)===null||s===void 0?void 0:s.indexOf(c))===-1?e:(e.filterWith(function(h){l.addShadow(h,c,t,"SourceGraphic")}),t.noUserSpaceOnUse||(o=e.filterer())===null||o===void 0||(a=o.node)===null||a===void 0||a.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize((r=e.filterer())===null||r===void 0?void 0:r.node),e)}},{key:"setSelectionFilter",value:function(e,t,n){var r=this.w;if(r.globals.selectedDataPoints[t]!==void 0&&r.globals.selectedDataPoints[t].indexOf(n)>-1){e.node.setAttribute("selected",!0);var s=r.config.states.active.filter;s!=="none"&&this.applyFilter(e,t,s.type)}}},{key:"_scaleFilterSize",value:function(e){e&&function(t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),i}(),ae=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"roundPathCorners",value:function(e,t){function n(O,P,N){var R=P.x-O.x,D=P.y-O.y,V=Math.sqrt(R*R+D*D);return r(O,P,Math.min(1,N/V))}function r(O,P,N){return{x:O.x+(P.x-O.x)*N,y:O.y+(P.y-O.y)*N}}function s(O,P){O.length>2&&(O[O.length-2]=P.x,O[O.length-1]=P.y)}function o(O){return{x:parseFloat(O[O.length-2]),y:parseFloat(O[O.length-1])}}e.indexOf("NaN")>-1&&(e="");var a=e.split(/[,\s]/).reduce(function(O,P){var N=P.match("([a-zA-Z])(.+)");return N?(O.push(N[1]),O.push(N[2])):O.push(P),O},[]).reduce(function(O,P){return parseFloat(P)==P&&O.length?O[O.length-1].push(P):O.push([P]),O},[]),l=[];if(a.length>1){var c=o(a[0]),u=null;a[a.length-1][0]=="Z"&&a[0].length>2&&(u=["L",c.x,c.y],a[a.length-1]=u),l.push(a[0]);for(var h=1;h<a.length;h++){var d=l[l.length-1],f=a[h],p=f==u?a[1]:a[h+1];if(p&&d&&d.length>2&&f[0]=="L"&&p.length>2&&p[0]=="L"){var m,b,y=o(d),w=o(f),C=o(p);m=n(w,y,t),b=n(w,C,t),s(f,m),f.origPoint=w,l.push(f);var T=r(m,w,.5),k=r(w,b,.5),E=["C",T.x,T.y,k.x,k.y,b.x,b.y];E.origPoint=w,l.push(E)}else l.push(f)}if(u){var M=o(l[l.length-1]);l.push(["Z"]),s(l[0],M)}}else l=a;return l.reduce(function(O,P){return O+P.join(" ")+" "},"")}},{key:"drawLine",value:function(e,t,n,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"#a8a8a8",o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:e,y1:t,x2:n,y2:r,stroke:s,"stroke-dasharray":o,"stroke-width":a,"stroke-linecap":l})}},{key:"drawRect",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"#fefefe",a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,c=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,u=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,h=this.w.globals.dom.Paper.rect();return h.attr({x:e,y:t,width:n>0?n:0,height:r>0?r:0,rx:s,ry:s,opacity:a,"stroke-width":l!==null?l:0,stroke:c!==null?c:"none","stroke-dasharray":u}),h.node.setAttribute("fill",o),h}},{key:"drawPolygon",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#e1e1e1",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(e).attr({fill:r,stroke:t,"stroke-width":n})}},{key:"drawCircle",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;e<0&&(e=0);var n=this.w.globals.dom.Paper.circle(2*e);return t!==null&&n.attr(t),n}},{key:"drawPath",value:function(e){var t=e.d,n=t===void 0?"":t,r=e.stroke,s=r===void 0?"#a8a8a8":r,o=e.strokeWidth,a=o===void 0?1:o,l=e.fill,c=e.fillOpacity,u=c===void 0?1:c,h=e.strokeOpacity,d=h===void 0?1:h,f=e.classes,p=e.strokeLinecap,m=p===void 0?null:p,b=e.strokeDashArray,y=b===void 0?0:b,w=this.w;return m===null&&(m=w.config.stroke.lineCap),(n.indexOf("undefined")>-1||n.indexOf("NaN")>-1)&&(n="M 0 ".concat(w.globals.gridHeight)),w.globals.dom.Paper.path(n).attr({fill:l,"fill-opacity":u,stroke:s,"stroke-opacity":d,"stroke-linecap":m,"stroke-width":a,"stroke-dasharray":y,class:f})}},{key:"group",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w.globals.dom.Paper.group();return e!==null&&t.attr(e),t}},{key:"move",value:function(e,t){var n=["M",e,t].join(" ");return n}},{key:"line",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=null;return n===null?r=[" L",e,t].join(" "):n==="H"?r=[" H",e].join(" "):n==="V"&&(r=[" V",t].join(" ")),r}},{key:"curve",value:function(e,t,n,r,s,o){var a=["C",e,t,n,r,s,o].join(" ");return a}},{key:"quadraticCurve",value:function(e,t,n,r){return["Q",e,t,n,r].join(" ")}},{key:"arc",value:function(e,t,n,r,s,o,a){var l="A";arguments.length>7&&arguments[7]!==void 0&&arguments[7]&&(l="a");var c=[l,e,t,n,r,s,o,a].join(" ");return c}},{key:"renderPaths",value:function(e){var t,n=e.j,r=e.realIndex,s=e.pathFrom,o=e.pathTo,a=e.stroke,l=e.strokeWidth,c=e.strokeLinecap,u=e.fill,h=e.animationDelay,d=e.initialSpeed,f=e.dataChangeSpeed,p=e.className,m=e.chartType,b=e.shouldClipToGrid,y=b===void 0||b,w=e.bindEventsOnPaths,C=w===void 0||w,T=e.drawShadow,k=T===void 0||T,E=this.w,M=new fn(this.ctx),O=new ko(this.ctx),P=this.w.config.chart.animations.enabled,N=P&&this.w.config.chart.animations.dynamicAnimation.enabled,R=!!(P&&!E.globals.resized||N&&E.globals.dataChanged&&E.globals.shouldAnimate);R?t=s:(t=o,E.globals.animationEnded=!0);var D=E.config.stroke.dashArray,V=0;V=Array.isArray(D)?D[r]:E.config.stroke.dashArray;var q=this.drawPath({d:t,stroke:a,strokeWidth:l,fill:u,fillOpacity:1,classes:p,strokeLinecap:c,strokeDashArray:V});q.attr("index",r),y&&(m==="bar"&&!E.globals.isHorizontal||E.globals.comboCharts?q.attr({"clip-path":"url(#gridRectBarMask".concat(E.globals.cuid,")")}):q.attr({"clip-path":"url(#gridRectMask".concat(E.globals.cuid,")")})),E.config.chart.dropShadow.enabled&&k&&M.dropShadow(q,E.config.chart.dropShadow,r),C&&(q.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,q)),q.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,q)),q.node.addEventListener("mousedown",this.pathMouseDown.bind(this,q))),q.attr({pathTo:o,pathFrom:s});var re={el:q,j:n,realIndex:r,pathFrom:s,pathTo:o,fill:u,strokeWidth:l,delay:h};return!P||E.globals.resized||E.globals.dataChanged?!E.globals.resized&&E.globals.dataChanged||O.showDelayedElements():O.animatePathsGradually(be(be({},re),{},{speed:d})),E.globals.dataChanged&&N&&R&&O.animatePathsGradually(be(be({},re),{},{speed:f})),q}},{key:"drawPattern",value:function(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"#a8a8a8",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;return this.w.globals.dom.Paper.pattern(t,n,function(o){e==="horizontalLines"?o.line(0,0,n,0).stroke({color:r,width:s+1}):e==="verticalLines"?o.line(0,0,0,t).stroke({color:r,width:s+1}):e==="slantedLines"?o.line(0,0,t,n).stroke({color:r,width:s}):e==="squares"?o.rect(t,n).fill("none").stroke({color:r,width:s}):e==="circles"&&o.circle(t).fill("none").stroke({color:r,width:s})})}},{key:"drawGradient",value:function(e,t,n,r,s){var o,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,h=this.w;t.length<9&&t.indexOf("#")===0&&(t=H.hexToRgba(t,r)),n.length<9&&n.indexOf("#")===0&&(n=H.hexToRgba(n,s));var d=0,f=1,p=1,m=null;l!==null&&(d=l[0]!==void 0?l[0]/100:0,f=l[1]!==void 0?l[1]/100:1,p=l[2]!==void 0?l[2]/100:1,m=l[3]!==void 0?l[3]/100:null);var b=!(h.config.chart.type!=="donut"&&h.config.chart.type!=="pie"&&h.config.chart.type!=="polarArea"&&h.config.chart.type!=="bubble");if(o=c&&c.length!==0?h.globals.dom.Paper.gradient(b?"radial":"linear",function(C){(Array.isArray(c[u])?c[u]:c).forEach(function(T){C.stop(T.offset/100,T.color,T.opacity)})}):h.globals.dom.Paper.gradient(b?"radial":"linear",function(C){C.stop(d,t,r),C.stop(f,n,s),C.stop(p,n,s),m!==null&&C.stop(m,t,r)}),b){var y=h.globals.gridWidth/2,w=h.globals.gridHeight/2;h.config.chart.type!=="bubble"?o.attr({gradientUnits:"userSpaceOnUse",cx:y,cy:w,r:a}):o.attr({cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else e==="vertical"?o.from(0,0).to(0,1):e==="diagonal"?o.from(0,0).to(1,1):e==="horizontal"?o.from(0,1).to(1,1):e==="diagonal2"&&o.from(1,0).to(0,1);return o}},{key:"getTextBasedOnMaxWidth",value:function(e){var t=e.text,n=e.maxWidth,r=e.fontSize,s=e.fontFamily,o=this.getTextRects(t,r,s),a=o.width/t.length,l=Math.floor(n/a);return n<o.width?t.slice(0,l-3)+"...":t}},{key:"drawText",value:function(e){var t=this,n=e.x,r=e.y,s=e.text,o=e.textAnchor,a=e.fontSize,l=e.fontFamily,c=e.fontWeight,u=e.foreColor,h=e.opacity,d=e.maxWidth,f=e.cssClass,p=f===void 0?"":f,m=e.isPlainText,b=m===void 0||m,y=e.dominantBaseline,w=y===void 0?"auto":y,C=this.w;s===void 0&&(s="");var T=s;o||(o="start"),u&&u.length||(u=C.config.chart.foreColor),l=l||C.config.chart.fontFamily,c=c||"regular";var k,E={maxWidth:d,fontSize:a=a||"11px",fontFamily:l};return Array.isArray(s)?k=C.globals.dom.Paper.text(function(M){for(var O=0;O<s.length;O++)T=s[O],d&&(T=t.getTextBasedOnMaxWidth(be({text:s[O]},E))),O===0?M.tspan(T):M.tspan(T).newLine()}):(d&&(T=this.getTextBasedOnMaxWidth(be({text:s},E))),k=b?C.globals.dom.Paper.plain(s):C.globals.dom.Paper.text(function(M){return M.tspan(T)})),k.attr({x:n,y:r,"text-anchor":o,"dominant-baseline":w,"font-size":a,"font-family":l,"font-weight":c,fill:u,class:"apexcharts-text "+p}),k.node.style.fontFamily=l,k.node.style.opacity=h,k}},{key:"getMarkerPath",value:function(e,t,n,r){var s="";switch(n){case"cross":s="M ".concat(e-(r/=1.4)," ").concat(t-r," L ").concat(e+r," ").concat(t+r,"  M ").concat(e-r," ").concat(t+r," L ").concat(e+r," ").concat(t-r);break;case"plus":s="M ".concat(e-(r/=1.12)," ").concat(t," L ").concat(e+r," ").concat(t,"  M ").concat(e," ").concat(t-r," L ").concat(e," ").concat(t+r);break;case"star":case"sparkle":var o=5;r*=1.15,n==="sparkle"&&(r/=1.1,o=4);for(var a=Math.PI/o,l=0;l<=2*o;l++){var c=l*a,u=l%2==0?r:r/2;s+=(l===0?"M":"L")+(e+u*Math.sin(c))+","+(t-u*Math.cos(c))}s+="Z";break;case"triangle":s="M ".concat(e," ").concat(t-r,` 
               L `).concat(e+r," ").concat(t+r,` 
               L `).concat(e-r," ").concat(t+r,` 
               Z`);break;case"square":case"rect":s="M ".concat(e-(r/=1.125)," ").concat(t-r,` 
             L `).concat(e+r," ").concat(t-r,` 
             L `).concat(e+r," ").concat(t+r,` 
             L `).concat(e-r," ").concat(t+r,` 
             Z`);break;case"diamond":r*=1.05,s="M ".concat(e," ").concat(t-r,` 
               L `).concat(e+r," ").concat(t,` 
               L `).concat(e," ").concat(t+r,` 
               L `).concat(e-r," ").concat(t,` 
              Z`);break;case"line":s="M ".concat(e-(r/=1.1)," ").concat(t,` 
             L `).concat(e+r," ").concat(t);break;default:r*=2,s="M ".concat(e,", ").concat(t,` 
             m -`).concat(r/2,`, 0 
             a `).concat(r/2,",").concat(r/2," 0 1,0 ").concat(r,`,0 
             a `).concat(r/2,",").concat(r/2," 0 1,0 -").concat(r,",0")}return s}},{key:"drawMarkerShape",value:function(e,t,n,r,s){var o=this.drawPath({d:this.getMarkerPath(e,t,n,r,s),stroke:s.pointStrokeColor,strokeDashArray:s.pointStrokeDashArray,strokeWidth:s.pointStrokeWidth,fill:s.pointFillColor,fillOpacity:s.pointFillOpacity,strokeOpacity:s.pointStrokeOpacity});return o.attr({cx:e,cy:t,shape:s.shape,class:s.class?s.class:""}),o}},{key:"drawMarker",value:function(e,t,n){e=e||0;var r=n.pSize||0;return H.isNumber(t)||(r=0,t=0),this.drawMarkerShape(e,t,n==null?void 0:n.shape,r,be(be({},n),n.shape==="line"||n.shape==="plus"||n.shape==="cross"?{pointStrokeColor:n.pointFillColor,pointStrokeOpacity:n.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(e,t){var n=this.w,r=new fn(this.ctx),s=parseInt(e.node.getAttribute("index"),10),o=parseInt(e.node.getAttribute("j"),10);if(typeof n.config.chart.events.dataPointMouseEnter=="function"&&n.config.chart.events.dataPointMouseEnter(t,this.ctx,{seriesIndex:s,dataPointIndex:o,w:n}),this.ctx.events.fireEvent("dataPointMouseEnter",[t,this.ctx,{seriesIndex:s,dataPointIndex:o,w:n}]),(n.config.states.active.filter.type==="none"||e.node.getAttribute("selected")!=="true")&&n.config.states.hover.filter.type!=="none"&&!n.globals.isTouchDevice){var a=n.config.states.hover.filter;r.applyFilter(e,s,a.type)}}},{key:"pathMouseLeave",value:function(e,t){var n=this.w,r=new fn(this.ctx),s=parseInt(e.node.getAttribute("index"),10),o=parseInt(e.node.getAttribute("j"),10);typeof n.config.chart.events.dataPointMouseLeave=="function"&&n.config.chart.events.dataPointMouseLeave(t,this.ctx,{seriesIndex:s,dataPointIndex:o,w:n}),this.ctx.events.fireEvent("dataPointMouseLeave",[t,this.ctx,{seriesIndex:s,dataPointIndex:o,w:n}]),n.config.states.active.filter.type!=="none"&&e.node.getAttribute("selected")==="true"||n.config.states.hover.filter.type!=="none"&&r.getDefaultFilter(e,s)}},{key:"pathMouseDown",value:function(e,t){var n=this.w,r=new fn(this.ctx),s=parseInt(e.node.getAttribute("index"),10),o=parseInt(e.node.getAttribute("j"),10),a="false";if(e.node.getAttribute("selected")==="true"){if(e.node.setAttribute("selected","false"),n.globals.selectedDataPoints[s].indexOf(o)>-1){var l=n.globals.selectedDataPoints[s].indexOf(o);n.globals.selectedDataPoints[s].splice(l,1)}}else{if(!n.config.states.active.allowMultipleDataPointsSelection&&n.globals.selectedDataPoints.length>0){n.globals.selectedDataPoints=[];var c=n.globals.dom.Paper.find(".apexcharts-series path:not(.apexcharts-decoration-element)"),u=n.globals.dom.Paper.find(".apexcharts-series circle:not(.apexcharts-decoration-element), .apexcharts-series rect:not(.apexcharts-decoration-element)"),h=function(p){Array.prototype.forEach.call(p,function(m){m.node.setAttribute("selected","false"),r.getDefaultFilter(m,s)})};h(c),h(u)}e.node.setAttribute("selected","true"),a="true",n.globals.selectedDataPoints[s]===void 0&&(n.globals.selectedDataPoints[s]=[]),n.globals.selectedDataPoints[s].push(o)}if(a==="true"){var d=n.config.states.active.filter;if(d!=="none")r.applyFilter(e,s,d.type);else if(n.config.states.hover.filter!=="none"&&!n.globals.isTouchDevice){var f=n.config.states.hover.filter;r.applyFilter(e,s,f.type)}}else n.config.states.active.filter.type!=="none"&&(n.config.states.hover.filter.type==="none"||n.globals.isTouchDevice?r.getDefaultFilter(e,s):(f=n.config.states.hover.filter,r.applyFilter(e,s,f.type)));typeof n.config.chart.events.dataPointSelection=="function"&&n.config.chart.events.dataPointSelection(t,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:s,dataPointIndex:o,w:n}),t&&this.ctx.events.fireEvent("dataPointSelection",[t,this.ctx,{selectedDataPoints:n.globals.selectedDataPoints,seriesIndex:s,dataPointIndex:o,w:n}])}},{key:"rotateAroundCenter",value:function(e){var t={};return e&&typeof e.getBBox=="function"&&(t=e.getBBox()),{x:t.x+t.width/2,y:t.y+t.height/2}}},{key:"getTextRects",value:function(e,t,n,r){var s=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=this.w,a=this.drawText({x:-200,y:-200,text:e,textAnchor:"start",fontSize:t,fontFamily:n,foreColor:"#fff",opacity:0});r&&a.attr("transform",r),o.globals.dom.Paper.add(a);var l=a.bbox();return s||(l=a.node.getBoundingClientRect()),a.remove(),{width:l.width,height:l.height}}},{key:"placeTextWithEllipsis",value:function(e,t,n){if(typeof e.getComputedTextLength=="function"&&(e.textContent=t,t.length>0&&e.getComputedTextLength()>=n/1.1)){for(var r=t.length-3;r>0;r-=3)if(e.getSubStringLength(0,r)<=n/1.1)return void(e.textContent=t.substring(0,r)+"...");e.textContent="."}}}],[{key:"setAttrs",value:function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])}}]),i}(),Yt=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"getStackedSeriesTotals",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=this.w,n=[];if(t.globals.series.length===0)return n;for(var r=0;r<t.globals.series[t.globals.maxValsInArrayIndex].length;r++){for(var s=0,o=0;o<t.globals.series.length;o++)t.globals.series[o][r]!==void 0&&e.indexOf(o)===-1&&(s+=t.globals.series[o][r]);n.push(s)}return n}},{key:"getSeriesTotalByIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return e===null?this.w.config.series.reduce(function(t,n){return t+n},0):this.w.globals.series[e].reduce(function(t,n){return t+n},0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var e=this,t=this.w,n=[];return t.globals.seriesGroups.forEach(function(r){var s=[];t.config.series.forEach(function(a,l){r.indexOf(t.globals.seriesNames[l])>-1&&s.push(l)});var o=t.globals.series.map(function(a,l){return s.indexOf(l)===-1?l:-1}).filter(function(a){return a!==-1});n.push(e.getStackedSeriesTotals(o))}),n}},{key:"setSeriesYAxisMappings",value:function(){var e=this.w.globals,t=this.w.config,n=[],r=[],s=[],o=e.series.length>t.yaxis.length||t.yaxis.some(function(h){return Array.isArray(h.seriesName)});t.series.forEach(function(h,d){s.push(d),r.push(null)}),t.yaxis.forEach(function(h,d){n[d]=[]});var a=[];t.yaxis.forEach(function(h,d){var f=!1;if(h.seriesName){var p=[];Array.isArray(h.seriesName)?p=h.seriesName:p.push(h.seriesName),p.forEach(function(m){t.series.forEach(function(b,y){if(b.name===m){var w=y;d===y||o?!o||s.indexOf(y)>-1?n[d].push([d,y]):console.warn("Series '"+b.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(n[y].push([y,d]),w=d),f=!0,(w=s.indexOf(w))!==-1&&s.splice(w,1)}})})}f||a.push(d)}),n=n.map(function(h,d){var f=[];return h.forEach(function(p){r[p[1]]=p[0],f.push(p[1])}),f});for(var l=t.yaxis.length-1,c=0;c<a.length&&(l=a[c],n[l]=[],s);c++){var u=s[0];s.shift(),n[l].push(u),r[u]=l}s.forEach(function(h){n[l].push(h),r[h]=l}),e.seriesYAxisMap=n.map(function(h){return h}),e.seriesYAxisReverseMap=r.map(function(h){return h}),e.seriesYAxisMap.forEach(function(h,d){h.forEach(function(f){t.series[f]&&t.series[f].group===void 0&&(t.series[f].group="apexcharts-axis-".concat(d.toString()))})})}},{key:"isSeriesNull",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return(e===null?this.w.config.series.filter(function(t){return t!==null}):this.w.config.series[e].data.filter(function(t){return t!==null})).length===0}},{key:"seriesHaveSameValues",value:function(e){return this.w.globals.series[e].every(function(t,n,r){return t===r[0]})}},{key:"getCategoryLabels",value:function(e){var t=this.w,n=e.slice();return t.config.xaxis.convertedCatToNumeric&&(n=e.map(function(r,s){return t.config.xaxis.labels.formatter(r-t.globals.minX+1)})),n}},{key:"getLargestSeries",value:function(){var e=this.w;e.globals.maxValsInArrayIndex=e.globals.series.map(function(t){return t.length}).indexOf(Math.max.apply(Math,e.globals.series.map(function(t){return t.length})))}},{key:"getLargestMarkerSize",value:function(){var e=this.w,t=0;return e.globals.markers.size.forEach(function(n){t=Math.max(t,n)}),e.config.markers.discrete&&e.config.markers.discrete.length&&e.config.markers.discrete.forEach(function(n){t=Math.max(t,n.size)}),t>0&&(e.config.markers.hover.size>0?t=e.config.markers.hover.size:t+=e.config.markers.hover.sizeOffset),e.globals.markers.largestSize=t,t}},{key:"getSeriesTotals",value:function(){var e=this.w;e.globals.seriesTotals=e.globals.series.map(function(t,n){var r=0;if(Array.isArray(t))for(var s=0;s<t.length;s++)r+=t[s];else r+=t;return r})}},{key:"getSeriesTotalsXRange",value:function(e,t){var n=this.w;return n.globals.series.map(function(r,s){for(var o=0,a=0;a<r.length;a++)n.globals.seriesX[s][a]>e&&n.globals.seriesX[s][a]<t&&(o+=r[a]);return o})}},{key:"getPercentSeries",value:function(){var e=this.w;e.globals.seriesPercent=e.globals.series.map(function(t,n){var r=[];if(Array.isArray(t))for(var s=0;s<t.length;s++){var o=e.globals.stackedSeriesTotals[s],a=0;o&&(a=100*t[s]/o),r.push(a)}else{var l=100*t/e.globals.seriesTotals.reduce(function(c,u){return c+u},0);r.push(l)}return r})}},{key:"getCalculatedRatios",value:function(){var e,t,n,r=this,s=this.w,o=s.globals,a=[],l=0,c=[],u=.1,h=0;if(o.yRange=[],o.isMultipleYAxis)for(var d=0;d<o.minYArr.length;d++)o.yRange.push(Math.abs(o.minYArr[d]-o.maxYArr[d])),c.push(0);else o.yRange.push(Math.abs(o.minY-o.maxY));o.xRange=Math.abs(o.maxX-o.minX),o.zRange=Math.abs(o.maxZ-o.minZ);for(var f=0;f<o.yRange.length;f++)a.push(o.yRange[f]/o.gridHeight);if(t=o.xRange/o.gridWidth,e=o.yRange/o.gridWidth,n=o.xRange/o.gridHeight,(l=o.zRange/o.gridHeight*16)||(l=1),o.minY!==Number.MIN_VALUE&&Math.abs(o.minY)!==0&&(o.hasNegs=!0),s.globals.seriesYAxisReverseMap.length>0){var p=function(b,y){var w=s.config.yaxis[s.globals.seriesYAxisReverseMap[y]],C=b<0?-1:1;return b=Math.abs(b),w.logarithmic&&(b=r.getBaseLog(w.logBase,b)),-C*b/a[y]};if(o.isMultipleYAxis){c=[];for(var m=0;m<a.length;m++)c.push(p(o.minYArr[m],m))}else(c=[]).push(p(o.minY,0)),o.minY!==Number.MIN_VALUE&&Math.abs(o.minY)!==0&&(u=-o.minY/e,h=o.minX/t)}else(c=[]).push(0),u=0,h=0;return{yRatio:a,invertedYRatio:e,zRatio:l,xRatio:t,invertedXRatio:n,baseLineInvertedY:u,baseLineY:c,baseLineX:h}}},{key:"getLogSeries",value:function(e){var t=this,n=this.w;return n.globals.seriesLog=e.map(function(r,s){var o=n.globals.seriesYAxisReverseMap[s];return n.config.yaxis[o]&&n.config.yaxis[o].logarithmic?r.map(function(a){return a===null?null:t.getLogVal(n.config.yaxis[o].logBase,a,s)}):r}),n.globals.invalidLogScale?e:n.globals.seriesLog}},{key:"getLogValAtSeriesIndex",value:function(e,t){if(e===null)return null;var n=this.w,r=n.globals.seriesYAxisReverseMap[t];return n.config.yaxis[r]&&n.config.yaxis[r].logarithmic?this.getLogVal(n.config.yaxis[r].logBase,e,t):e}},{key:"getBaseLog",value:function(e,t){return Math.log(t)/Math.log(e)}},{key:"getLogVal",value:function(e,t,n){if(t<=0)return 0;var r=this.w,s=r.globals.minYArr[n]===0?-1:this.getBaseLog(e,r.globals.minYArr[n]),o=(r.globals.maxYArr[n]===0?0:this.getBaseLog(e,r.globals.maxYArr[n]))-s;return t<1?t/o:(this.getBaseLog(e,t)-s)/o}},{key:"getLogYRatios",value:function(e){var t=this,n=this.w,r=this.w.globals;return r.yLogRatio=e.slice(),r.logYRange=r.yRange.map(function(s,o){var a=n.globals.seriesYAxisReverseMap[o];if(n.config.yaxis[a]&&t.w.config.yaxis[a].logarithmic){var l,c=-Number.MAX_VALUE,u=Number.MIN_VALUE;return r.seriesLog.forEach(function(h,d){h.forEach(function(f){n.config.yaxis[d]&&n.config.yaxis[d].logarithmic&&(c=Math.max(f,c),u=Math.min(f,u))})}),l=Math.pow(r.yRange[o],Math.abs(u-c)/r.yRange[o]),r.yLogRatio[o]=l/r.gridHeight,l}}),r.invalidLogScale?e.slice():r.yLogRatio}},{key:"drawSeriesByGroup",value:function(e,t,n,r){var s=this.w,o=[];return e.series.length>0&&t.forEach(function(a){var l=[],c=[];e.i.forEach(function(u,h){s.config.series[u].group===a&&(l.push(e.series[h]),c.push(u))}),l.length>0&&o.push(r.draw(l,n,c))}),o}}],[{key:"checkComboSeries",value:function(e,t){var n=!1,r=0,s=0;return t===void 0&&(t="line"),e.length&&e[0].type!==void 0&&e.forEach(function(o){o.type!=="bar"&&o.type!=="column"&&o.type!=="candlestick"&&o.type!=="boxPlot"||r++,o.type!==void 0&&o.type!==t&&s++}),s>0&&(n=!0),{comboBarCount:r,comboCharts:n}}},{key:"extendArrayProps",value:function(e,t,n){var r,s,o,a,l,c;return(r=t)!==null&&r!==void 0&&r.yaxis&&(t=e.extendYAxis(t,n)),(s=t)!==null&&s!==void 0&&s.annotations&&(t.annotations.yaxis&&(t=e.extendYAxisAnnotations(t)),(o=t)!==null&&o!==void 0&&(a=o.annotations)!==null&&a!==void 0&&a.xaxis&&(t=e.extendXAxisAnnotations(t)),(l=t)!==null&&l!==void 0&&(c=l.annotations)!==null&&c!==void 0&&c.points&&(t=e.extendPointAnnotations(t))),t}}]),i}(),Vc=function(){function i(e){Ee(this,i),this.w=e.w,this.annoCtx=e}return Oe(i,[{key:"setOrientations",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=this.w;if(e.label.orientation==="vertical"){var r=t!==null?t:0,s=n.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(r,"']"));if(s!==null){var o=s.getBoundingClientRect();s.setAttribute("x",parseFloat(s.getAttribute("x"))-o.height+4);var a=e.label.position==="top"?o.width:-o.width;s.setAttribute("y",parseFloat(s.getAttribute("y"))+a);var l=this.annoCtx.graphics.rotateAroundCenter(s),c=l.x,u=l.y;s.setAttribute("transform","rotate(-90 ".concat(c," ").concat(u,")"))}}}},{key:"addBackgroundToAnno",value:function(e,t){var n=this.w;if(!e||!t.label.text||!String(t.label.text).trim())return null;var r=n.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),s=e.getBoundingClientRect(),o=t.label.style.padding,a=o.left,l=o.right,c=o.top,u=o.bottom;if(t.label.orientation==="vertical"){var h=[a,l,c,u];c=h[0],u=h[1],a=h[2],l=h[3]}var d=s.left-r.left-a,f=s.top-r.top-c,p=this.annoCtx.graphics.drawRect(d-n.globals.barPadForNumericAxis,f,s.width+a+l,s.height+c+u,t.label.borderRadius,t.label.style.background,1,t.label.borderWidth,t.label.borderColor,0);return t.id&&p.node.classList.add(t.id),p}},{key:"annotationsBackground",value:function(){var e=this,t=this.w,n=function(r,s,o){var a=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(o,"-annotations .apexcharts-").concat(o,"-annotation-label[rel='").concat(s,"']"));if(a){var l=a.parentNode,c=e.addBackgroundToAnno(a,r);c&&(l.insertBefore(c.node,a),r.label.mouseEnter&&c.node.addEventListener("mouseenter",r.label.mouseEnter.bind(e,r)),r.label.mouseLeave&&c.node.addEventListener("mouseleave",r.label.mouseLeave.bind(e,r)),r.label.click&&c.node.addEventListener("click",r.label.click.bind(e,r)))}};t.config.annotations.xaxis.forEach(function(r,s){return n(r,s,"xaxis")}),t.config.annotations.yaxis.forEach(function(r,s){return n(r,s,"yaxis")}),t.config.annotations.points.forEach(function(r,s){return n(r,s,"point")})}},{key:"getY1Y2",value:function(e,t){var n,r=this.w,s=e==="y1"?t.y:t.y2,o=!1;if(this.annoCtx.invertAxis){var a=r.config.xaxis.convertedCatToNumeric?r.globals.categoryLabels:r.globals.labels,l=a.indexOf(s),c=r.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(l+1,")"));n=c?parseFloat(c.getAttribute("y")):(r.globals.gridHeight/a.length-1)*(l+1)-r.globals.barHeight,t.seriesIndex!==void 0&&r.globals.barHeight&&(n-=r.globals.barHeight/2*(r.globals.series.length-1)-r.globals.barHeight*t.seriesIndex)}else{var u,h=r.globals.seriesYAxisMap[t.yAxisIndex][0],d=r.config.yaxis[t.yAxisIndex].logarithmic?new Yt(this.annoCtx.ctx).getLogVal(r.config.yaxis[t.yAxisIndex].logBase,s,h)/r.globals.yLogRatio[h]:(s-r.globals.minYArr[h])/(r.globals.yRange[h]/r.globals.gridHeight);n=r.globals.gridHeight-Math.min(Math.max(d,0),r.globals.gridHeight),o=d>r.globals.gridHeight||d<0,!t.marker||t.y!==void 0&&t.y!==null||(n=0),(u=r.config.yaxis[t.yAxisIndex])!==null&&u!==void 0&&u.reversed&&(n=d)}return typeof s=="string"&&s.includes("px")&&(n=parseFloat(s)),{yP:n,clipped:o}}},{key:"getX1X2",value:function(e,t){var n=this.w,r=e==="x1"?t.x:t.x2,s=this.annoCtx.invertAxis?n.globals.minY:n.globals.minX,o=this.annoCtx.invertAxis?n.globals.maxY:n.globals.maxX,a=this.annoCtx.invertAxis?n.globals.yRange[0]:n.globals.xRange,l=!1,c=this.annoCtx.inversedReversedAxis?(o-r)/(a/n.globals.gridWidth):(r-s)/(a/n.globals.gridWidth);return n.config.xaxis.type!=="category"&&!n.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||n.globals.dataFormatXNumeric||n.config.chart.sparkline.enabled||(c=this.getStringX(r)),typeof r=="string"&&r.includes("px")&&(c=parseFloat(r)),r==null&&t.marker&&(c=n.globals.gridWidth),t.seriesIndex!==void 0&&n.globals.barWidth&&!this.annoCtx.invertAxis&&(c-=n.globals.barWidth/2*(n.globals.series.length-1)-n.globals.barWidth*t.seriesIndex),c>n.globals.gridWidth?(c=n.globals.gridWidth,l=!0):c<0&&(c=0,l=!0),{x:c,clipped:l}}},{key:"getStringX",value:function(e){var t=this.w,n=e;t.config.xaxis.convertedCatToNumeric&&t.globals.categoryLabels.length&&(e=t.globals.categoryLabels.indexOf(e)+1);var r=t.globals.labels.map(function(o){return Array.isArray(o)?o.join(" "):o}).indexOf(e),s=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(r+1,")"));return s&&(n=parseFloat(s.getAttribute("x"))),n}}]),i}(),OM=function(){function i(e){Ee(this,i),this.w=e.w,this.annoCtx=e,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new Vc(this.annoCtx)}return Oe(i,[{key:"addXaxisAnnotation",value:function(e,t,n){var r,s=this.w,o=this.helpers.getX1X2("x1",e),a=o.x,l=o.clipped,c=!0,u=e.label.text,h=e.strokeDashArray;if(H.isNumber(a)){if(e.x2===null||e.x2===void 0){if(!l){var d=this.annoCtx.graphics.drawLine(a+e.offsetX,0+e.offsetY,a+e.offsetX,s.globals.gridHeight+e.offsetY,e.borderColor,h,e.borderWidth);t.appendChild(d.node),e.id&&d.node.classList.add(e.id)}}else{var f=this.helpers.getX1X2("x2",e);if(r=f.x,c=f.clipped,r<a){var p=a;a=r,r=p}var m=this.annoCtx.graphics.drawRect(a+e.offsetX,0+e.offsetY,r-a,s.globals.gridHeight+e.offsetY,0,e.fillColor,e.opacity,1,e.borderColor,h);m.node.classList.add("apexcharts-annotation-rect"),m.attr("clip-path","url(#gridRectMask".concat(s.globals.cuid,")")),t.appendChild(m.node),e.id&&m.node.classList.add(e.id)}if(!l||!c){var b=this.annoCtx.graphics.getTextRects(u,parseFloat(e.label.style.fontSize)),y=e.label.position==="top"?4:e.label.position==="center"?s.globals.gridHeight/2+(e.label.orientation==="vertical"?b.width/2:0):s.globals.gridHeight,w=this.annoCtx.graphics.drawText({x:a+e.label.offsetX,y:y+e.label.offsetY-(e.label.orientation==="vertical"?e.label.position==="top"?b.width/2-12:-b.width/2:0),text:u,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});w.attr({rel:n}),t.appendChild(w.node),this.annoCtx.helpers.setOrientations(e,n)}}}},{key:"drawXAxisAnnotations",value:function(){var e=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return t.config.annotations.xaxis.map(function(r,s){e.addXaxisAnnotation(r,n.node,s)}),n}}]),i}(),pn=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return Oe(i,[{key:"isValidDate",value:function(e){return typeof e!="number"&&!isNaN(this.parseDate(e))}},{key:"getTimeStamp",value:function(e){return Date.parse(e)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toISOString().substr(0,25)).getTime():new Date(e).getTime():e}},{key:"getDate",value:function(e){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(e).toUTCString()):new Date(e)}},{key:"parseDate",value:function(e){var t=Date.parse(e);if(!isNaN(t))return this.getTimeStamp(e);var n=Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "));return n=this.getTimeStamp(n)}},{key:"parseDateWithTimezone",value:function(e){return Date.parse(e.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(e,t){var n=this.w.globals.locale,r=this.w.config.xaxis.labels.datetimeUTC,s=["\0"].concat(Zt(n.months)),o=[""].concat(Zt(n.shortMonths)),a=[""].concat(Zt(n.days)),l=[""].concat(Zt(n.shortDays));function c(O,P){var N=O+"";for(P=P||2;N.length<P;)N="0"+N;return N}var u=r?e.getUTCFullYear():e.getFullYear();t=(t=(t=t.replace(/(^|[^\\])yyyy+/g,"$1"+u)).replace(/(^|[^\\])yy/g,"$1"+u.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+u);var h=(r?e.getUTCMonth():e.getMonth())+1;t=(t=(t=(t=t.replace(/(^|[^\\])MMMM+/g,"$1"+s[0])).replace(/(^|[^\\])MMM/g,"$1"+o[0])).replace(/(^|[^\\])MM/g,"$1"+c(h))).replace(/(^|[^\\])M/g,"$1"+h);var d=r?e.getUTCDate():e.getDate();t=(t=(t=(t=t.replace(/(^|[^\\])dddd+/g,"$1"+a[0])).replace(/(^|[^\\])ddd/g,"$1"+l[0])).replace(/(^|[^\\])dd/g,"$1"+c(d))).replace(/(^|[^\\])d/g,"$1"+d);var f=r?e.getUTCHours():e.getHours(),p=f>12?f-12:f===0?12:f;t=(t=(t=(t=t.replace(/(^|[^\\])HH+/g,"$1"+c(f))).replace(/(^|[^\\])H/g,"$1"+f)).replace(/(^|[^\\])hh+/g,"$1"+c(p))).replace(/(^|[^\\])h/g,"$1"+p);var m=r?e.getUTCMinutes():e.getMinutes();t=(t=t.replace(/(^|[^\\])mm+/g,"$1"+c(m))).replace(/(^|[^\\])m/g,"$1"+m);var b=r?e.getUTCSeconds():e.getSeconds();t=(t=t.replace(/(^|[^\\])ss+/g,"$1"+c(b))).replace(/(^|[^\\])s/g,"$1"+b);var y=r?e.getUTCMilliseconds():e.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+c(y,3)),y=Math.round(y/10),t=t.replace(/(^|[^\\])ff/g,"$1"+c(y)),y=Math.round(y/10);var w=f<12?"AM":"PM";t=(t=(t=t.replace(/(^|[^\\])f/g,"$1"+y)).replace(/(^|[^\\])TT+/g,"$1"+w)).replace(/(^|[^\\])T/g,"$1"+w.charAt(0));var C=w.toLowerCase();t=(t=t.replace(/(^|[^\\])tt+/g,"$1"+C)).replace(/(^|[^\\])t/g,"$1"+C.charAt(0));var T=-e.getTimezoneOffset(),k=r||!T?"Z":T>0?"+":"-";if(!r){var E=(T=Math.abs(T))%60;k+=c(Math.floor(T/60))+":"+c(E)}t=t.replace(/(^|[^\\])K/g,"$1"+k);var M=(r?e.getUTCDay():e.getDay())+1;return t=(t=(t=(t=(t=t.replace(new RegExp(a[0],"g"),a[M])).replace(new RegExp(l[0],"g"),l[M])).replace(new RegExp(s[0],"g"),s[h])).replace(new RegExp(o[0],"g"),o[h])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(e,t,n){var r=this.w;r.config.xaxis.min!==void 0&&(e=r.config.xaxis.min),r.config.xaxis.max!==void 0&&(t=r.config.xaxis.max);var s=this.getDate(e),o=this.getDate(t),a=this.formatDate(s,"yyyy MM dd HH mm ss fff").split(" "),l=this.formatDate(o,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(a[6],10),maxMillisecond:parseInt(l[6],10),minSecond:parseInt(a[5],10),maxSecond:parseInt(l[5],10),minMinute:parseInt(a[4],10),maxMinute:parseInt(l[4],10),minHour:parseInt(a[3],10),maxHour:parseInt(l[3],10),minDate:parseInt(a[2],10),maxDate:parseInt(l[2],10),minMonth:parseInt(a[1],10)-1,maxMonth:parseInt(l[1],10)-1,minYear:parseInt(a[0],10),maxYear:parseInt(l[0],10)}}},{key:"isLeapYear",value:function(e){return e%4==0&&e%100!=0||e%400==0}},{key:"calculcateLastDaysOfMonth",value:function(e,t,n){return this.determineDaysOfMonths(e,t)-n}},{key:"determineDaysOfYear",value:function(e){var t=365;return this.isLeapYear(e)&&(t=366),t}},{key:"determineRemainingDaysOfYear",value:function(e,t,n){var r=this.daysCntOfYear[t]+n;return t>1&&this.isLeapYear()&&r++,r}},{key:"determineDaysOfMonths",value:function(e,t){var n=30;switch(e=H.monthMod(e),!0){case this.months30.indexOf(e)>-1:e===2&&(n=this.isLeapYear(t)?29:28);break;case this.months31.indexOf(e)>-1:default:n=31}return n}}]),i}(),$a=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w,this.tooltipKeyFormat="dd MMM"}return Oe(i,[{key:"xLabelFormat",value:function(e,t,n,r){var s=this.w;if(s.config.xaxis.type==="datetime"&&s.config.xaxis.labels.formatter===void 0&&s.config.tooltip.x.formatter===void 0){var o=new pn(this.ctx);return o.formatDate(o.getDate(t),s.config.tooltip.x.format)}return e(t,n,r)}},{key:"defaultGeneralFormatter",value:function(e){return Array.isArray(e)?e.map(function(t){return t}):e}},{key:"defaultYFormatter",value:function(e,t,n){var r=this.w;if(H.isNumber(e))if(r.globals.yValueDecimal!==0)e=e.toFixed(t.decimalsInFloat!==void 0?t.decimalsInFloat:r.globals.yValueDecimal);else{var s=e.toFixed(0);e=e==s?s:e.toFixed(1)}return e}},{key:"setLabelFormatters",value:function(){var e=this,t=this.w;return t.globals.xaxisTooltipFormatter=function(n){return e.defaultGeneralFormatter(n)},t.globals.ttKeyFormatter=function(n){return e.defaultGeneralFormatter(n)},t.globals.ttZFormatter=function(n){return n},t.globals.legendFormatter=function(n){return e.defaultGeneralFormatter(n)},t.config.xaxis.labels.formatter!==void 0?t.globals.xLabelFormatter=t.config.xaxis.labels.formatter:t.globals.xLabelFormatter=function(n){if(H.isNumber(n)){if(!t.config.xaxis.convertedCatToNumeric&&t.config.xaxis.type==="numeric"){if(H.isNumber(t.config.xaxis.decimalsInFloat))return n.toFixed(t.config.xaxis.decimalsInFloat);var r=t.globals.maxX-t.globals.minX;return r>0&&r<100?n.toFixed(1):n.toFixed(0)}return t.globals.isBarHorizontal&&t.globals.maxY-t.globals.minYArr<4?n.toFixed(1):n.toFixed(0)}return n},typeof t.config.tooltip.x.formatter=="function"?t.globals.ttKeyFormatter=t.config.tooltip.x.formatter:t.globals.ttKeyFormatter=t.globals.xLabelFormatter,typeof t.config.xaxis.tooltip.formatter=="function"&&(t.globals.xaxisTooltipFormatter=t.config.xaxis.tooltip.formatter),(Array.isArray(t.config.tooltip.y)||t.config.tooltip.y.formatter!==void 0)&&(t.globals.ttVal=t.config.tooltip.y),t.config.tooltip.z.formatter!==void 0&&(t.globals.ttZFormatter=t.config.tooltip.z.formatter),t.config.legend.formatter!==void 0&&(t.globals.legendFormatter=t.config.legend.formatter),t.config.yaxis.forEach(function(n,r){n.labels.formatter!==void 0?t.globals.yLabelFormatters[r]=n.labels.formatter:t.globals.yLabelFormatters[r]=function(s){return t.globals.xyCharts?Array.isArray(s)?s.map(function(o){return e.defaultYFormatter(o,n,r)}):e.defaultYFormatter(s,n,r):s}}),t.globals}},{key:"heatmapLabelFormatters",value:function(){var e=this.w;if(e.config.chart.type==="heatmap"){e.globals.yAxisScale[0].result=e.globals.seriesNames.slice();var t=e.globals.seriesNames.reduce(function(n,r){return n.length>r.length?n:r},0);e.globals.yAxisScale[0].niceMax=t,e.globals.yAxisScale[0].niceMin=t}}}]),i}(),Br=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"getLabel",value:function(e,t,n,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"12px",a=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],l=this.w,c=e[r]===void 0?"":e[r],u=c,h=l.globals.xLabelFormatter,d=l.config.xaxis.labels.formatter,f=!1,p=new $a(this.ctx),m=c;a&&(u=p.xLabelFormat(h,c,m,{i:r,dateFormatter:new pn(this.ctx).formatDate,w:l}),d!==void 0&&(u=d(c,e[r],{i:r,dateFormatter:new pn(this.ctx).formatDate,w:l})));var b,y;t.length>0?(b=t[r].unit,y=null,t.forEach(function(k){k.unit==="month"?y="year":k.unit==="day"?y="month":k.unit==="hour"?y="day":k.unit==="minute"&&(y="hour")}),f=y===b,n=t[r].position,u=t[r].value):l.config.xaxis.type==="datetime"&&d===void 0&&(u=""),u===void 0&&(u=""),u=Array.isArray(u)?u:u.toString();var w=new ae(this.ctx),C={};C=l.globals.rotateXLabels&&a?w.getTextRects(u,parseInt(o,10),null,"rotate(".concat(l.config.xaxis.labels.rotate," 0 0)"),!1):w.getTextRects(u,parseInt(o,10));var T=!l.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(u)&&(String(u)==="NaN"||s.indexOf(u)>=0&&T)&&(u=""),{x:n,text:u,textRect:C,isBold:f}}},{key:"checkLabelBasedOnTickamount",value:function(e,t,n){var r=this.w,s=r.config.xaxis.tickAmount;return s==="dataPoints"&&(s=Math.round(r.globals.gridWidth/120)),s>n||e%Math.round(n/(s+1))==0||(t.text=""),t}},{key:"checkForOverflowingLabels",value:function(e,t,n,r,s){var o=this.w;if(e===0&&o.globals.skipFirstTimelinelabel&&(t.text=""),e===n-1&&o.globals.skipLastTimelinelabel&&(t.text=""),o.config.xaxis.labels.hideOverlappingLabels&&r.length>0){var a=s[s.length-1];t.x<a.textRect.width/(o.globals.rotateXLabels?Math.abs(o.config.xaxis.labels.rotate)/12:1.01)+a.x&&(t.text="")}return t}},{key:"checkForReversedLabels",value:function(e,t){var n=this.w;return n.config.yaxis[e]&&n.config.yaxis[e].reversed&&t.reverse(),t}},{key:"yAxisAllSeriesCollapsed",value:function(e){var t=this.w.globals;return!t.seriesYAxisMap[e].some(function(n){return t.collapsedSeriesIndices.indexOf(n)===-1})}},{key:"translateYAxisIndex",value:function(e){var t=this.w,n=t.globals,r=t.config.yaxis;return n.series.length>r.length||r.some(function(s){return Array.isArray(s.seriesName)})?e:n.seriesYAxisReverseMap[e]}},{key:"isYAxisHidden",value:function(e){var t=this.w,n=t.config.yaxis[e];if(!n.show||this.yAxisAllSeriesCollapsed(e))return!0;if(!n.showForNullSeries){var r=t.globals.seriesYAxisMap[e],s=new Yt(this.ctx);return r.every(function(o){return s.isSeriesNull(o)})}return!1}},{key:"getYAxisForeColor",value:function(e,t){var n=this.w;return Array.isArray(e)&&n.globals.yAxisScale[t]&&this.ctx.theme.pushExtraColors(e,n.globals.yAxisScale[t].result.length,!1),e}},{key:"drawYAxisTicks",value:function(e,t,n,r,s,o,a){var l=this.w,c=new ae(this.ctx),u=l.globals.translateY+l.config.yaxis[s].labels.offsetY;if(l.globals.isBarHorizontal?u=0:l.config.chart.type==="heatmap"&&(u+=o/2),r.show&&t>0){l.config.yaxis[s].opposite===!0&&(e+=r.width);for(var h=t;h>=0;h--){var d=c.drawLine(e+n.offsetX-r.width+r.offsetX,u+r.offsetY,e+n.offsetX+r.offsetX,u+r.offsetY,r.color);a.add(d),u+=o}}}}]),i}(),IM=function(){function i(e){Ee(this,i),this.w=e.w,this.annoCtx=e,this.helpers=new Vc(this.annoCtx),this.axesUtils=new Br(this.annoCtx)}return Oe(i,[{key:"addYaxisAnnotation",value:function(e,t,n){var r,s=this.w,o=e.strokeDashArray,a=this.helpers.getY1Y2("y1",e),l=a.yP,c=a.clipped,u=!0,h=!1,d=e.label.text;if(e.y2===null||e.y2===void 0){if(!c){h=!0;var f=this.annoCtx.graphics.drawLine(0+e.offsetX,l+e.offsetY,this._getYAxisAnnotationWidth(e),l+e.offsetY,e.borderColor,o,e.borderWidth);t.appendChild(f.node),e.id&&f.node.classList.add(e.id)}}else{if(r=(a=this.helpers.getY1Y2("y2",e)).yP,u=a.clipped,r>l){var p=l;l=r,r=p}if(!c||!u){h=!0;var m=this.annoCtx.graphics.drawRect(0+e.offsetX,r+e.offsetY,this._getYAxisAnnotationWidth(e),l-r,0,e.fillColor,e.opacity,1,e.borderColor,o);m.node.classList.add("apexcharts-annotation-rect"),m.attr("clip-path","url(#gridRectMask".concat(s.globals.cuid,")")),t.appendChild(m.node),e.id&&m.node.classList.add(e.id)}}if(h){var b=e.label.position==="right"?s.globals.gridWidth:e.label.position==="center"?s.globals.gridWidth/2:0,y=this.annoCtx.graphics.drawText({x:b+e.label.offsetX,y:(r??l)+e.label.offsetY-3,text:d,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});y.attr({rel:n}),t.appendChild(y.node)}}},{key:"_getYAxisAnnotationWidth",value:function(e){var t=this.w;return t.globals.gridWidth,(e.width.indexOf("%")>-1?t.globals.gridWidth*parseInt(e.width,10)/100:parseInt(e.width,10))+e.offsetX}},{key:"drawYAxisAnnotations",value:function(){var e=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return t.config.annotations.yaxis.forEach(function(r,s){r.yAxisIndex=e.axesUtils.translateYAxisIndex(r.yAxisIndex),e.axesUtils.isYAxisHidden(r.yAxisIndex)&&e.axesUtils.yAxisAllSeriesCollapsed(r.yAxisIndex)||e.addYaxisAnnotation(r,n.node,s)}),n}}]),i}(),PM=function(){function i(e){Ee(this,i),this.w=e.w,this.annoCtx=e,this.helpers=new Vc(this.annoCtx)}return Oe(i,[{key:"addPointAnnotation",value:function(e,t,n){if(!(this.w.globals.collapsedSeriesIndices.indexOf(e.seriesIndex)>-1)){var r=this.helpers.getX1X2("x1",e),s=r.x,o=r.clipped,a=(r=this.helpers.getY1Y2("y1",e)).yP,l=r.clipped;if(H.isNumber(s)&&!l&&!o){var c={pSize:e.marker.size,pointStrokeWidth:e.marker.strokeWidth,pointFillColor:e.marker.fillColor,pointStrokeColor:e.marker.strokeColor,shape:e.marker.shape,pRadius:e.marker.radius,class:"apexcharts-point-annotation-marker ".concat(e.marker.cssClass," ").concat(e.id?e.id:"")},u=this.annoCtx.graphics.drawMarker(s+e.marker.offsetX,a+e.marker.offsetY,c);t.appendChild(u.node);var h=e.label.text?e.label.text:"",d=this.annoCtx.graphics.drawText({x:s+e.label.offsetX,y:a+e.label.offsetY-e.marker.size-parseFloat(e.label.style.fontSize)/1.6,text:h,textAnchor:e.label.textAnchor,fontSize:e.label.style.fontSize,fontFamily:e.label.style.fontFamily,fontWeight:e.label.style.fontWeight,foreColor:e.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(e.label.style.cssClass," ").concat(e.id?e.id:"")});if(d.attr({rel:n}),t.appendChild(d.node),e.customSVG.SVG){var f=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+e.customSVG.cssClass});f.attr({transform:"translate(".concat(s+e.customSVG.offsetX,", ").concat(a+e.customSVG.offsetY,")")}),f.node.innerHTML=e.customSVG.SVG,t.appendChild(f.node)}if(e.image.path){var p=e.image.width?e.image.width:20,m=e.image.height?e.image.height:20;u=this.annoCtx.addImage({x:s+e.image.offsetX-p/2,y:a+e.image.offsetY-m/2,width:p,height:m,path:e.image.path,appendTo:".apexcharts-point-annotations"})}e.mouseEnter&&u.node.addEventListener("mouseenter",e.mouseEnter.bind(this,e)),e.mouseLeave&&u.node.addEventListener("mouseleave",e.mouseLeave.bind(this,e)),e.click&&u.node.addEventListener("click",e.click.bind(this,e))}}}},{key:"drawPointAnnotations",value:function(){var e=this,t=this.w,n=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return t.config.annotations.points.map(function(r,s){e.addPointAnnotation(r,n.node,s)}),n}}]),i}(),Sy={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Ns=function(){function i(){Ee(this,i),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return Oe(i,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[Sy],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.7},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{line:{isSlopeChart:!1,colors:{threshold:0,colorAboveThreshold:void 0,colorBelowThreshold:void 0}},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0},seriesTitle:{show:!0,offsetY:1,offsetX:1,borderColor:"#000",borderWidth:1,borderRadius:2,style:{background:"rgba(0, 0, 0, 0.6)",color:"#fff",fontSize:"12px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:6,right:6,top:2,bottom:2}}}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(e){return e}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(e){return e+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(t,n){return t+n},0)/e.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(e){return e},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(e){return e}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(e){return e}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(e){return e.globals.seriesTotals.reduce(function(t,n){return t+n},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(e){return e!==null?e:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.8}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],clusterGroupedSeries:!0,clusterGroupedSeriesOrientation:"vertical",labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{hover:{filter:{type:"lighten"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken"}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(e){return e?e+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.8}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),i}(),LM=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w,this.graphics=new ae(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new Vc(this),this.xAxisAnnotations=new OM(this),this.yAxisAnnotations=new IM(this),this.pointsAnnotations=new PM(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return Oe(i,[{key:"drawAxesAnnotations",value:function(){var e=this.w;if(e.globals.axisCharts&&e.globals.dataPoints){for(var t=this.yAxisAnnotations.drawYAxisAnnotations(),n=this.xAxisAnnotations.drawXAxisAnnotations(),r=this.pointsAnnotations.drawPointAnnotations(),s=e.config.chart.animations.enabled,o=[t,n,r],a=[n.node,t.node,r.node],l=0;l<3;l++)e.globals.dom.elGraphical.add(o[l]),!s||e.globals.resized||e.globals.dataChanged||e.config.chart.type!=="scatter"&&e.config.chart.type!=="bubble"&&e.globals.dataPoints>1&&a[l].classList.add("apexcharts-element-hidden"),e.globals.delayedElements.push({el:a[l],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var e=this;this.w.config.annotations.images.map(function(t,n){e.addImage(t,n)})}},{key:"drawTextAnnos",value:function(){var e=this;this.w.config.annotations.texts.map(function(t,n){e.addText(t,n)})}},{key:"addXaxisAnnotation",value:function(e,t,n){this.xAxisAnnotations.addXaxisAnnotation(e,t,n)}},{key:"addYaxisAnnotation",value:function(e,t,n){this.yAxisAnnotations.addYaxisAnnotation(e,t,n)}},{key:"addPointAnnotation",value:function(e,t,n){this.pointsAnnotations.addPointAnnotation(e,t,n)}},{key:"addText",value:function(e,t){var n=e.x,r=e.y,s=e.text,o=e.textAnchor,a=e.foreColor,l=e.fontSize,c=e.fontFamily,u=e.fontWeight,h=e.cssClass,d=e.backgroundColor,f=e.borderWidth,p=e.strokeDashArray,m=e.borderRadius,b=e.borderColor,y=e.appendTo,w=y===void 0?".apexcharts-svg":y,C=e.paddingLeft,T=C===void 0?4:C,k=e.paddingRight,E=k===void 0?4:k,M=e.paddingBottom,O=M===void 0?2:M,P=e.paddingTop,N=P===void 0?2:P,R=this.w,D=this.graphics.drawText({x:n,y:r,text:s,textAnchor:o||"start",fontSize:l||"12px",fontWeight:u||"regular",fontFamily:c||R.config.chart.fontFamily,foreColor:a||R.config.chart.foreColor,cssClass:h}),V=R.globals.dom.baseEl.querySelector(w);V&&V.appendChild(D.node);var q=D.bbox();if(s){var re=this.graphics.drawRect(q.x-T,q.y-N,q.width+T+E,q.height+O+N,m,d||"transparent",1,f,b,p);V.insertBefore(re.node,D.node)}}},{key:"addImage",value:function(e,t){var n=this.w,r=e.path,s=e.x,o=s===void 0?0:s,a=e.y,l=a===void 0?0:a,c=e.width,u=c===void 0?20:c,h=e.height,d=h===void 0?20:h,f=e.appendTo,p=f===void 0?".apexcharts-svg":f,m=n.globals.dom.Paper.image(r);m.size(u,d).move(o,l);var b=n.globals.dom.baseEl.querySelector(p);return b&&b.appendChild(m.node),m}},{key:"addXaxisAnnotationExternal",value:function(e,t,n){return this.addAnnotationExternal({params:e,pushToMemory:t,context:n,type:"xaxis",contextMethod:n.addXaxisAnnotation}),n}},{key:"addYaxisAnnotationExternal",value:function(e,t,n){return this.addAnnotationExternal({params:e,pushToMemory:t,context:n,type:"yaxis",contextMethod:n.addYaxisAnnotation}),n}},{key:"addPointAnnotationExternal",value:function(e,t,n){return this.invertAxis===void 0&&(this.invertAxis=n.w.globals.isBarHorizontal),this.addAnnotationExternal({params:e,pushToMemory:t,context:n,type:"point",contextMethod:n.addPointAnnotation}),n}},{key:"addAnnotationExternal",value:function(e){var t=e.params,n=e.pushToMemory,r=e.context,s=e.type,o=e.contextMethod,a=r,l=a.w,c=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(s,"-annotations")),u=c.childNodes.length+1,h=new Ns,d=Object.assign({},s==="xaxis"?h.xAxisAnnotation:s==="yaxis"?h.yAxisAnnotation:h.pointAnnotation),f=H.extend(d,t);switch(s){case"xaxis":this.addXaxisAnnotation(f,c,u);break;case"yaxis":this.addYaxisAnnotation(f,c,u);break;case"point":this.addPointAnnotation(f,c,u)}var p=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(s,"-annotations .apexcharts-").concat(s,"-annotation-label[rel='").concat(u,"']")),m=this.helpers.addBackgroundToAnno(p,f);return m&&c.insertBefore(m.node,p),n&&l.globals.memory.methodsToExec.push({context:a,id:f.id?f.id:H.randomId(),method:o,label:"addAnnotation",params:t}),r}},{key:"clearAnnotations",value:function(e){for(var t=e.w,n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),r=t.globals.memory.methodsToExec.length-1;r>=0;r--)t.globals.memory.methodsToExec[r].label!=="addText"&&t.globals.memory.methodsToExec[r].label!=="addAnnotation"||t.globals.memory.methodsToExec.splice(r,1);n=H.listToArray(n),Array.prototype.forEach.call(n,function(s){for(;s.firstChild;)s.removeChild(s.firstChild)})}},{key:"removeAnnotation",value:function(e,t){var n=e.w,r=n.globals.dom.baseEl.querySelectorAll(".".concat(t));r&&(n.globals.memory.methodsToExec.map(function(s,o){s.id===t&&n.globals.memory.methodsToExec.splice(o,1)}),Array.prototype.forEach.call(r,function(s){s.parentElement.removeChild(s)}))}}]),i}(),Cf=function(i){var e,t=i.isTimeline,n=i.ctx,r=i.seriesIndex,s=i.dataPointIndex,o=i.y1,a=i.y2,l=i.w,c=l.globals.seriesRangeStart[r][s],u=l.globals.seriesRangeEnd[r][s],h=l.globals.labels[s],d=l.config.series[r].name?l.config.series[r].name:"",f=l.globals.ttKeyFormatter,p=l.config.tooltip.y.title.formatter,m={w:l,seriesIndex:r,dataPointIndex:s,start:c,end:u};typeof p=="function"&&(d=p(d,m)),(e=l.config.series[r].data[s])!==null&&e!==void 0&&e.x&&(h=l.config.series[r].data[s].x),t||l.config.xaxis.type==="datetime"&&(h=new $a(n).xLabelFormat(l.globals.ttKeyFormatter,h,h,{i:void 0,dateFormatter:new pn(n).formatDate,w:l})),typeof f=="function"&&(h=f(h,m)),Number.isFinite(o)&&Number.isFinite(a)&&(c=o,u=a);var b="",y="",w=l.globals.colors[r];if(l.config.tooltip.x.formatter===void 0)if(l.config.xaxis.type==="datetime"){var C=new pn(n);b=C.formatDate(C.getDate(c),l.config.tooltip.x.format),y=C.formatDate(C.getDate(u),l.config.tooltip.x.format)}else b=c,y=u;else b=l.config.tooltip.x.formatter(c),y=l.config.tooltip.x.formatter(u);return{start:c,end:u,startVal:b,endVal:y,ylabel:h,color:w,seriesName:d}},Af=function(i){var e=i.color,t=i.seriesName,n=i.ylabel,r=i.start,s=i.end,o=i.seriesIndex,a=i.dataPointIndex,l=i.ctx.tooltip.tooltipLabels.getFormatters(o);r=l.yLbFormatter(r),s=l.yLbFormatter(s);var c=l.yLbFormatter(i.w.globals.series[o][a]),u=`<span class="value start-value">
    `.concat(r,`
    </span> <span class="separator">-</span> <span class="value end-value">
    `).concat(s,`
    </span>`);return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+e+'">'+(t||"")+'</span></div><div> <span class="category">'+n+": </span> "+(i.w.globals.comboCharts?i.w.config.series[o].type==="rangeArea"||i.w.config.series[o].type==="rangeBar"?u:"<span>".concat(c,"</span>"):u)+" </div></div>"},Ga=function(){function i(e){Ee(this,i),this.opts=e}return Oe(i,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(e){return this.hideYAxis(),H.extend(e,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(e,t){var n=t.w.config.series[t.seriesIndex].name;return e!==null?n+": "+e:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"square"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),be(be({},this.bar()),{},{chart:{animations:{speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var e=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var n=t.seriesIndex,r=t.dataPointIndex,s=t.w;return e._getBoxTooltip(s,n,r,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var e=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(t){var n=t.seriesIndex,r=t.dataPointIndex,s=t.w;return e._getBoxTooltip(s,n,r,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(e,t){t.ctx;var n=t.seriesIndex,r=t.dataPointIndex,s=t.w,o=function(){var a=s.globals.seriesRangeStart[n][r];return s.globals.seriesRangeEnd[n][r]-a};return s.globals.comboCharts?s.config.series[n].type==="rangeBar"||s.config.series[n].type==="rangeArea"?o():e:o()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(e){return e.w.config.plotOptions&&e.w.config.plotOptions.bar&&e.w.config.plotOptions.bar.horizontal?function(t){var n=Cf(be(be({},t),{},{isTimeline:!0})),r=n.color,s=n.seriesName,o=n.ylabel,a=n.startVal,l=n.endVal;return Af(be(be({},t),{},{color:r,seriesName:s,ylabel:o,start:a,end:l}))}(e):function(t){var n=Cf(t),r=n.color,s=n.seriesName,o=n.ylabel,a=n.start,l=n.end;return Af(be(be({},t),{},{color:r,seriesName:s,ylabel:o,start:a,end:l}))}(e)}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(e){var t,n;return(t=e.plotOptions.bar)!==null&&t!==void 0&&t.barHeight||(e.plotOptions.bar.barHeight=2),(n=e.plotOptions.bar)!==null&&n!==void 0&&n.columnWidth||(e.plotOptions.bar.columnWidth=2),e}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(e){return function(t){var n=Cf(t),r=n.color,s=n.seriesName,o=n.ylabel,a=n.start,l=n.end;return Af(be(be({},t),{},{color:r,seriesName:s,ylabel:o,start:a,end:l}))}(e)}}}}},{key:"brush",value:function(e){return H.extend(e,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(e){e.dataLabels=e.dataLabels||{},e.dataLabels.formatter=e.dataLabels.formatter||void 0;var t=e.dataLabels.formatter;return e.yaxis.forEach(function(n,r){e.yaxis[r].min=0,e.yaxis[r].max=100}),e.chart.type==="bar"&&(e.dataLabels.formatter=t||function(n){return typeof n=="number"&&n?n.toFixed(0)+"%":n}),e}},{key:"stackedBars",value:function(){var e=this.bar();return be(be({},e),{},{plotOptions:be(be({},e.plotOptions),{},{bar:be(be({},e.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(e){return e.xaxis.convertedCatToNumeric=!0,e}},{key:"convertCatToNumericXaxis",value:function(e,t,n){e.xaxis.type="numeric",e.xaxis.labels=e.xaxis.labels||{},e.xaxis.labels.formatter=e.xaxis.labels.formatter||function(o){return H.isNumber(o)?Math.floor(o):o};var r=e.xaxis.labels.formatter,s=e.xaxis.categories&&e.xaxis.categories.length?e.xaxis.categories:e.labels;return n&&n.length&&(s=n.map(function(o){return Array.isArray(o)?o:String(o)})),s&&s.length&&(e.xaxis.labels.formatter=function(o){return H.isNumber(o)?r(s[Math.floor(o)-1]):r(o)}),e.xaxis.categories=[],e.labels=[],e.xaxis.tickAmount=e.xaxis.tickAmount||"dataPoints",e}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(e){return e.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(e){return e},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(e,t,n,r,s){var o=e.globals.seriesCandleO[t][n],a=e.globals.seriesCandleH[t][n],l=e.globals.seriesCandleM[t][n],c=e.globals.seriesCandleL[t][n],u=e.globals.seriesCandleC[t][n];return e.config.series[t].type&&e.config.series[t].type!==s?`<div class="apexcharts-custom-tooltip">
            `.concat(e.config.series[t].name?e.config.series[t].name:"series-"+(t+1),": <strong>").concat(e.globals.series[t][n],`</strong>
          </div>`):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(e.config.chart.type,'">')+"<div>".concat(r[0],': <span class="value">')+o+"</span></div>"+"<div>".concat(r[1],': <span class="value">')+a+"</span></div>"+(l?"<div>".concat(r[2],': <span class="value">')+l+"</span></div>":"")+"<div>".concat(r[3],': <span class="value">')+c+"</span></div>"+"<div>".concat(r[4],': <span class="value">')+u+"</span></div></div>"}}]),i}(),qa=function(){function i(e){Ee(this,i),this.opts=e}return Oe(i,[{key:"init",value:function(e){var t=e.responsiveOverride,n=this.opts,r=new Ns,s=new Ga(n);this.chartType=n.chart.type,n=this.extendYAxis(n),n=this.extendAnnotations(n);var o=r.init(),a={};if(n&&wo(n)==="object"){var l,c,u,h,d,f,p,m,b,y,w={};w=["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(n.chart.type)!==-1?s[n.chart.type]():s.line(),(l=n.plotOptions)!==null&&l!==void 0&&(c=l.bar)!==null&&c!==void 0&&c.isFunnel&&(w=s.funnel()),n.chart.stacked&&n.chart.type==="bar"&&(w=s.stackedBars()),(u=n.chart.brush)!==null&&u!==void 0&&u.enabled&&(w=s.brush(w)),(h=n.plotOptions)!==null&&h!==void 0&&(d=h.line)!==null&&d!==void 0&&d.isSlopeChart&&(w=s.slope()),n.chart.stacked&&n.chart.stackType==="100%"&&(n=s.stacked100(n)),(f=n.plotOptions)!==null&&f!==void 0&&(p=f.bar)!==null&&p!==void 0&&p.isDumbbell&&(n=s.dumbbell(n)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(n),n.xaxis=n.xaxis||window.Apex.xaxis||{},t||(n.xaxis.convertedCatToNumeric=!1),((m=(n=this.checkForCatToNumericXAxis(this.chartType,w,n)).chart.sparkline)!==null&&m!==void 0&&m.enabled||(b=window.Apex.chart)!==null&&b!==void 0&&(y=b.sparkline)!==null&&y!==void 0&&y.enabled)&&(w=s.sparkline(w)),a=H.extend(o,w)}var C=H.extend(a,window.Apex);return o=H.extend(C,n),o=this.handleUserInputErrors(o)}},{key:"checkForCatToNumericXAxis",value:function(e,t,n){var r,s,o=new Ga(n),a=(e==="bar"||e==="boxPlot")&&((r=n.plotOptions)===null||r===void 0||(s=r.bar)===null||s===void 0?void 0:s.horizontal),l=e==="pie"||e==="polarArea"||e==="donut"||e==="radar"||e==="radialBar"||e==="heatmap",c=n.xaxis.type!=="datetime"&&n.xaxis.type!=="numeric",u=n.xaxis.tickPlacement?n.xaxis.tickPlacement:t.xaxis&&t.xaxis.tickPlacement;return a||l||!c||u==="between"||(n=o.convertCatToNumeric(n)),n}},{key:"extendYAxis",value:function(e,t){var n=new Ns;(e.yaxis===void 0||!e.yaxis||Array.isArray(e.yaxis)&&e.yaxis.length===0)&&(e.yaxis={}),e.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(e.yaxis=H.extend(e.yaxis,window.Apex.yaxis)),e.yaxis.constructor!==Array?e.yaxis=[H.extend(n.yAxis,e.yaxis)]:e.yaxis=H.extendArray(e.yaxis,n.yAxis);var r=!1;e.yaxis.forEach(function(o){o.logarithmic&&(r=!0)});var s=e.series;return t&&!s&&(s=t.config.series),r&&s.length!==e.yaxis.length&&s.length&&(e.yaxis=s.map(function(o,a){if(o.name||(s[a].name="series-".concat(a+1)),e.yaxis[a])return e.yaxis[a].seriesName=s[a].name,e.yaxis[a];var l=H.extend(n.yAxis,e.yaxis[0]);return l.show=!1,l})),r&&s.length>1&&s.length!==e.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),e}},{key:"extendAnnotations",value:function(e){return e.annotations===void 0&&(e.annotations={},e.annotations.yaxis=[],e.annotations.xaxis=[],e.annotations.points=[]),e=this.extendYAxisAnnotations(e),e=this.extendXAxisAnnotations(e),e=this.extendPointAnnotations(e)}},{key:"extendYAxisAnnotations",value:function(e){var t=new Ns;return e.annotations.yaxis=H.extendArray(e.annotations.yaxis!==void 0?e.annotations.yaxis:[],t.yAxisAnnotation),e}},{key:"extendXAxisAnnotations",value:function(e){var t=new Ns;return e.annotations.xaxis=H.extendArray(e.annotations.xaxis!==void 0?e.annotations.xaxis:[],t.xAxisAnnotation),e}},{key:"extendPointAnnotations",value:function(e){var t=new Ns;return e.annotations.points=H.extendArray(e.annotations.points!==void 0?e.annotations.points:[],t.pointAnnotation),e}},{key:"checkForDarkTheme",value:function(e){e.theme&&e.theme.mode==="dark"&&(e.tooltip||(e.tooltip={}),e.tooltip.theme!=="light"&&(e.tooltip.theme="dark"),e.chart.foreColor||(e.chart.foreColor="#f6f7f8"),e.theme.palette||(e.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(e){var t=e;if(t.tooltip.shared&&t.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if(t.chart.type==="bar"&&t.plotOptions.bar.horizontal){if(t.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");t.yaxis[0].reversed&&(t.yaxis[0].opposite=!0),t.xaxis.tooltip.enabled=!1,t.yaxis[0].tooltip.enabled=!1,t.chart.zoom.enabled=!1}return t.chart.type!=="bar"&&t.chart.type!=="rangeBar"||t.tooltip.shared&&t.xaxis.crosshairs.width==="barWidth"&&t.series.length>1&&(t.xaxis.crosshairs.width="tickWidth"),t.chart.type!=="candlestick"&&t.chart.type!=="boxPlot"||t.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(t.chart.type," chart is not supported.")),t.yaxis[0].reversed=!1),t}}]),i}(),Cy=function(){function i(){Ee(this,i)}return Oe(i,[{key:"initGlobalVars",value:function(e){e.series=[],e.seriesCandleO=[],e.seriesCandleH=[],e.seriesCandleM=[],e.seriesCandleL=[],e.seriesCandleC=[],e.seriesRangeStart=[],e.seriesRangeEnd=[],e.seriesRange=[],e.seriesPercent=[],e.seriesGoals=[],e.seriesX=[],e.seriesZ=[],e.seriesNames=[],e.seriesTotals=[],e.seriesLog=[],e.seriesColors=[],e.stackedSeriesTotals=[],e.seriesXvalues=[],e.seriesYvalues=[],e.labels=[],e.hasXaxisGroups=!1,e.groups=[],e.barGroups=[],e.lineGroups=[],e.areaGroups=[],e.hasSeriesGroups=!1,e.seriesGroups=[],e.categoryLabels=[],e.timescaleLabels=[],e.noLabelsProvided=!1,e.resizeTimer=null,e.selectionResizeTimer=null,e.lastWheelExecution=0,e.delayedElements=[],e.pointsArray=[],e.dataLabelsRects=[],e.isXNumeric=!1,e.skipLastTimelinelabel=!1,e.skipFirstTimelinelabel=!1,e.isDataXYZ=!1,e.isMultiLineX=!1,e.isMultipleYAxis=!1,e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE,e.minYArr=[],e.maxYArr=[],e.maxX=-Number.MAX_VALUE,e.minX=Number.MAX_VALUE,e.initialMaxX=-Number.MAX_VALUE,e.initialMinX=Number.MAX_VALUE,e.maxDate=0,e.minDate=Number.MAX_VALUE,e.minZ=Number.MAX_VALUE,e.maxZ=-Number.MAX_VALUE,e.minXDiff=Number.MAX_VALUE,e.yAxisScale=[],e.xAxisScale=null,e.xAxisTicksPositions=[],e.yLabelsCoords=[],e.yTitleCoords=[],e.barPadForNumericAxis=0,e.padHorizontal=0,e.xRange=0,e.yRange=[],e.zRange=0,e.dataPoints=0,e.xTickAmount=0,e.multiAxisTickAmount=0}},{key:"globalVars",value:function(e){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:e.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:e.chart.toolbar.autoSelected==="zoom"&&e.chart.toolbar.tools.zoom&&e.chart.zoom.enabled,panEnabled:e.chart.toolbar.autoSelected==="pan"&&e.chart.toolbar.tools.pan,selectionEnabled:e.chart.toolbar.autoSelected==="selection"&&e.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:e.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(e){var t=this.globalVars(e);return this.initGlobalVars(t),t.initialConfig=H.extend({},e),t.initialSeries=H.clone(e.series),t.lastXAxis=H.clone(t.initialConfig.xaxis),t.lastYAxis=H.clone(t.initialConfig.yaxis),t}}]),i}(),RM=function(){function i(e){Ee(this,i),this.opts=e}return Oe(i,[{key:"init",value:function(){var e=new qa(this.opts).init({responsiveOverride:!1});return{config:e,globals:new Cy().init(e)}}}]),i}(),Pi=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return Oe(i,[{key:"clippedImgArea",value:function(e){var t=this.w,n=t.config,r=parseInt(t.globals.gridWidth,10),s=parseInt(t.globals.gridHeight,10),o=r>s?r:s,a=e.image,l=0,c=0;e.width===void 0&&e.height===void 0?n.fill.image.width!==void 0&&n.fill.image.height!==void 0?(l=n.fill.image.width+1,c=n.fill.image.height):(l=o+1,c=o):(l=e.width,c=e.height);var u=document.createElementNS(t.globals.SVGNS,"pattern");ae.setAttrs(u,{id:e.patternID,patternUnits:e.patternUnits?e.patternUnits:"userSpaceOnUse",width:l+"px",height:c+"px"});var h=document.createElementNS(t.globals.SVGNS,"image");u.appendChild(h),h.setAttributeNS(window.SVG.xlink,"href",a),ae.setAttrs(h,{x:0,y:0,preserveAspectRatio:"none",width:l+"px",height:c+"px"}),h.style.opacity=e.opacity,t.globals.dom.elDefs.node.appendChild(u)}},{key:"getSeriesIndex",value:function(e){var t=this.w,n=t.config.chart.type;return(n==="bar"||n==="rangeBar")&&t.config.plotOptions.bar.distributed||n==="heatmap"||n==="treemap"?this.seriesIndex=e.seriesNumber:this.seriesIndex=e.seriesNumber%t.globals.series.length,this.seriesIndex}},{key:"computeColorStops",value:function(e,t){var n,r=this.w,s=null,o=null,a=Da(e);try{for(a.s();!(n=a.n()).done;){var l=n.value;l>=t.threshold?(s===null||l>s)&&(s=l):(o===null||l<o)&&(o=l)}}catch(h){a.e(h)}finally{a.f()}s===null&&(s=t.threshold),o===null&&(o=t.threshold);var c=s-t.threshold+(t.threshold-o);c===0&&(c=1);var u=100-(t.threshold-o)/c*100;return[{offset:u=Math.max(0,Math.min(u,100)),color:t.colorAboveThreshold,opacity:r.config.fill.opacity},{offset:0,color:t.colorBelowThreshold,opacity:r.config.fill.opacity}]}},{key:"fillPath",value:function(e){var t,n,r,s=this.w;this.opts=e;var o,a,l,c=this.w.config;this.seriesIndex=this.getSeriesIndex(e);var u=c.plotOptions.line.colors.colorAboveThreshold&&c.plotOptions.line.colors.colorBelowThreshold,h=this.getFillColors()[this.seriesIndex];s.globals.seriesColors[this.seriesIndex]!==void 0&&(h=s.globals.seriesColors[this.seriesIndex]),typeof h=="function"&&(h=h({seriesIndex:this.seriesIndex,dataPointIndex:e.dataPointIndex,value:e.value,w:s}));var d,f,p,m=e.fillType?e.fillType:this.getFillType(this.seriesIndex),b=Array.isArray(c.fill.opacity)?c.fill.opacity[this.seriesIndex]:c.fill.opacity,y=m==="gradient"||u;e.color&&(h=e.color),(t=s.config.series[this.seriesIndex])!==null&&t!==void 0&&(n=t.data)!==null&&n!==void 0&&(r=n[e.dataPointIndex])!==null&&r!==void 0&&r.fillColor&&(h=(d=s.config.series[this.seriesIndex])===null||d===void 0||(f=d.data)===null||f===void 0||(p=f[e.dataPointIndex])===null||p===void 0?void 0:p.fillColor),h||(h="#fff",console.warn("undefined color - ApexCharts"));var w=h;if(h.indexOf("rgb")===-1?h.indexOf("#")===-1?w=h:h.length<9&&(w=H.hexToRgba(h,b)):h.indexOf("rgba")>-1?b=H.getOpacityFromRGBA(h):w=H.hexToRgba(H.rgb2hex(h),b),e.opacity&&(b=e.opacity),m==="pattern"&&(a=this.handlePatternFill({fillConfig:e.fillConfig,patternFill:a,fillColor:h,fillOpacity:b,defaultColor:w})),y){var C=Zt(c.fill.gradient.colorStops)||[],T=c.fill.gradient.type;u&&(C[this.seriesIndex]=this.computeColorStops(s.globals.series[this.seriesIndex],c.plotOptions.line.colors),T="vertical"),l=this.handleGradientFill({type:T,fillConfig:e.fillConfig,fillColor:h,fillOpacity:b,colorStops:C,i:this.seriesIndex})}if(m==="image"){var k=c.fill.image.src,E=e.patternID?e.patternID:"",M="pattern".concat(s.globals.cuid).concat(e.seriesNumber+1).concat(E);this.patternIDs.indexOf(M)===-1&&(this.clippedImgArea({opacity:b,image:Array.isArray(k)?e.seriesNumber<k.length?k[e.seriesNumber]:k[0]:k,width:e.width?e.width:void 0,height:e.height?e.height:void 0,patternUnits:e.patternUnits,patternID:M}),this.patternIDs.push(M)),o="url(#".concat(M,")")}else o=y?l:m==="pattern"?a:w;return e.solid&&(o=w),o}},{key:"getFillType",value:function(e){var t=this.w;return Array.isArray(t.config.fill.type)?t.config.fill.type[e]:t.config.fill.type}},{key:"getFillColors",value:function(){var e=this.w,t=e.config,n=this.opts,r=[];return e.globals.comboCharts?e.config.series[this.seriesIndex].type==="line"?Array.isArray(e.globals.stroke.colors)?r=e.globals.stroke.colors:r.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?r=e.globals.fill.colors:r.push(e.globals.fill.colors):t.chart.type==="line"?Array.isArray(e.globals.stroke.colors)?r=e.globals.stroke.colors:r.push(e.globals.stroke.colors):Array.isArray(e.globals.fill.colors)?r=e.globals.fill.colors:r.push(e.globals.fill.colors),n.fillColors!==void 0&&(r=[],Array.isArray(n.fillColors)?r=n.fillColors.slice():r.push(n.fillColors)),r}},{key:"handlePatternFill",value:function(e){var t=e.fillConfig,n=e.patternFill,r=e.fillColor,s=e.fillOpacity,o=e.defaultColor,a=this.w.config.fill;t&&(a=t);var l=this.opts,c=new ae(this.ctx),u=Array.isArray(a.pattern.strokeWidth)?a.pattern.strokeWidth[this.seriesIndex]:a.pattern.strokeWidth,h=r;return Array.isArray(a.pattern.style)?n=a.pattern.style[l.seriesNumber]!==void 0?c.drawPattern(a.pattern.style[l.seriesNumber],a.pattern.width,a.pattern.height,h,u,s):o:n=c.drawPattern(a.pattern.style,a.pattern.width,a.pattern.height,h,u,s),n}},{key:"handleGradientFill",value:function(e){var t=e.type,n=e.fillColor,r=e.fillOpacity,s=e.fillConfig,o=e.colorStops,a=e.i,l=this.w.config.fill;s&&(l=be(be({},l),s));var c=this.opts,u=new ae(this.ctx),h=new H;t=t||l.gradient.type;var d,f=n,p=l.gradient.opacityFrom===void 0?r:Array.isArray(l.gradient.opacityFrom)?l.gradient.opacityFrom[a]:l.gradient.opacityFrom;f.indexOf("rgba")>-1&&(p=H.getOpacityFromRGBA(f));var m=l.gradient.opacityTo===void 0?r:Array.isArray(l.gradient.opacityTo)?l.gradient.opacityTo[a]:l.gradient.opacityTo;if(l.gradient.gradientToColors===void 0||l.gradient.gradientToColors.length===0)d=l.gradient.shade==="dark"?h.shadeColor(-1*parseFloat(l.gradient.shadeIntensity),n.indexOf("rgb")>-1?H.rgb2hex(n):n):h.shadeColor(parseFloat(l.gradient.shadeIntensity),n.indexOf("rgb")>-1?H.rgb2hex(n):n);else if(l.gradient.gradientToColors[c.seriesNumber]){var b=l.gradient.gradientToColors[c.seriesNumber];d=b,b.indexOf("rgba")>-1&&(m=H.getOpacityFromRGBA(b))}else d=n;if(l.gradient.gradientFrom&&(f=l.gradient.gradientFrom),l.gradient.gradientTo&&(d=l.gradient.gradientTo),l.gradient.inverseColors){var y=f;f=d,d=y}return f.indexOf("rgb")>-1&&(f=H.rgb2hex(f)),d.indexOf("rgb")>-1&&(d=H.rgb2hex(d)),u.drawGradient(t,f,d,p,m,c.size,l.gradient.stops,o,a)}}]),i}(),Io=function(){function i(e,t){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"setGlobalMarkerSize",value:function(){var e=this.w;if(e.globals.markers.size=Array.isArray(e.config.markers.size)?e.config.markers.size:[e.config.markers.size],e.globals.markers.size.length>0){if(e.globals.markers.size.length<e.globals.series.length+1)for(var t=0;t<=e.globals.series.length;t++)e.globals.markers.size[t]===void 0&&e.globals.markers.size.push(e.globals.markers.size[0])}else e.globals.markers.size=e.config.series.map(function(n){return e.config.markers.size})}},{key:"plotChartMarkers",value:function(e){var t=e.pointsPos,n=e.seriesIndex,r=e.j,s=e.pSize,o=e.alwaysDrawMarker,a=o!==void 0&&o,l=e.isVirtualPoint,c=l!==void 0&&l,u=this.w,h=n,d=t,f=null,p=new ae(this.ctx),m=u.config.markers.discrete&&u.config.markers.discrete.length;if(Array.isArray(d.x))for(var b=0;b<d.x.length;b++){var y=void 0,w=r,C=!H.isNumber(d.y[b]);u.globals.markers.largestSize===0&&u.globals.hasNullValues&&u.globals.series[h][r+1]!==null&&!c&&(C=!0),r===1&&b===0&&(w=0),r===1&&b===1&&(w=1);var T="apexcharts-marker";if(u.config.chart.type!=="line"&&u.config.chart.type!=="area"||u.globals.comboCharts||u.config.tooltip.intersect||(T+=" no-pointer-events"),(Array.isArray(u.config.markers.size)?u.globals.markers.size[n]>0:u.config.markers.size>0)||a||m){C||(T+=" w".concat(H.randomId()));var k=this.getMarkerConfig({cssClass:T,seriesIndex:n,dataPointIndex:w});u.config.series[h].data[w]&&(u.config.series[h].data[w].fillColor&&(k.pointFillColor=u.config.series[h].data[w].fillColor),u.config.series[h].data[w].strokeColor&&(k.pointStrokeColor=u.config.series[h].data[w].strokeColor)),s!==void 0&&(k.pSize=s),(d.x[b]<-u.globals.markers.largestSize||d.x[b]>u.globals.gridWidth+u.globals.markers.largestSize||d.y[b]<-u.globals.markers.largestSize||d.y[b]>u.globals.gridHeight+u.globals.markers.largestSize)&&(k.pSize=0),!C&&((u.globals.markers.size[n]>0||a||m)&&!f&&(f=p.group({class:a||m?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(u.globals.cuid,")")),(y=p.drawMarker(d.x[b],d.y[b],k)).attr("rel",w),y.attr("j",w),y.attr("index",n),y.node.setAttribute("default-marker-size",k.pSize),new fn(this.ctx).setSelectionFilter(y,n,w),this.addEvents(y),f&&f.add(y))}else u.globals.pointsArray[n]===void 0&&(u.globals.pointsArray[n]=[]),u.globals.pointsArray[n].push([d.x[b],d.y[b]])}return f}},{key:"getMarkerConfig",value:function(e){var t=e.cssClass,n=e.seriesIndex,r=e.dataPointIndex,s=r===void 0?null:r,o=e.radius,a=o===void 0?null:o,l=e.size,c=l===void 0?null:l,u=e.strokeWidth,h=u===void 0?null:u,d=this.w,f=this.getMarkerStyle(n),p=c===null?d.globals.markers.size[n]:c,m=d.config.markers;return s!==null&&m.discrete.length&&m.discrete.map(function(b){b.seriesIndex===n&&b.dataPointIndex===s&&(f.pointStrokeColor=b.strokeColor,f.pointFillColor=b.fillColor,p=b.size,f.pointShape=b.shape)}),{pSize:a===null?p:a,pRadius:a!==null?a:m.radius,pointStrokeWidth:h!==null?h:Array.isArray(m.strokeWidth)?m.strokeWidth[n]:m.strokeWidth,pointStrokeColor:f.pointStrokeColor,pointFillColor:f.pointFillColor,shape:f.pointShape||(Array.isArray(m.shape)?m.shape[n]:m.shape),class:t,pointStrokeOpacity:Array.isArray(m.strokeOpacity)?m.strokeOpacity[n]:m.strokeOpacity,pointStrokeDashArray:Array.isArray(m.strokeDashArray)?m.strokeDashArray[n]:m.strokeDashArray,pointFillOpacity:Array.isArray(m.fillOpacity)?m.fillOpacity[n]:m.fillOpacity,seriesIndex:n}}},{key:"addEvents",value:function(e){var t=this.w,n=new ae(this.ctx);e.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this.ctx,e)),e.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this.ctx,e)),e.node.addEventListener("mousedown",n.pathMouseDown.bind(this.ctx,e)),e.node.addEventListener("click",t.config.markers.onClick),e.node.addEventListener("dblclick",t.config.markers.onDblClick),e.node.addEventListener("touchstart",n.pathMouseDown.bind(this.ctx,e),{passive:!0})}},{key:"getMarkerStyle",value:function(e){var t=this.w,n=t.globals.markers.colors,r=t.config.markers.strokeColor||t.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(r)?r[e]:r,pointFillColor:Array.isArray(n)?n[e]:n}}}]),i}(),Ay=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w,this.initialAnim=this.w.config.chart.animations.enabled}return Oe(i,[{key:"draw",value:function(e,t,n){var r=this.w,s=new ae(this.ctx),o=n.realIndex,a=n.pointsPos,l=n.zRatio,c=n.elParent,u=s.group({class:"apexcharts-series-markers apexcharts-series-".concat(r.config.chart.type)});if(u.attr("clip-path","url(#gridRectMarkerMask".concat(r.globals.cuid,")")),Array.isArray(a.x))for(var h=0;h<a.x.length;h++){var d=t+1,f=!0;t===0&&h===0&&(d=0),t===0&&h===1&&(d=1);var p=r.globals.markers.size[o];if(l!==1/0){var m=r.config.plotOptions.bubble;p=r.globals.seriesZ[o][d],m.zScaling&&(p/=l),m.minBubbleRadius&&p<m.minBubbleRadius&&(p=m.minBubbleRadius),m.maxBubbleRadius&&p>m.maxBubbleRadius&&(p=m.maxBubbleRadius)}var b=a.x[h],y=a.y[h];if(p=p||0,y!==null&&r.globals.series[o][d]!==void 0||(f=!1),f){var w=this.drawPoint(b,y,p,o,d,t);u.add(w)}c.add(u)}}},{key:"drawPoint",value:function(e,t,n,r,s,o){var a=this.w,l=r,c=new ko(this.ctx),u=new fn(this.ctx),h=new Pi(this.ctx),d=new Io(this.ctx),f=new ae(this.ctx),p=d.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:l,dataPointIndex:s,radius:a.config.chart.type==="bubble"||a.globals.comboCharts&&a.config.series[r]&&a.config.series[r].type==="bubble"?n:null}),m=h.fillPath({seriesNumber:r,dataPointIndex:s,color:p.pointFillColor,patternUnits:"objectBoundingBox",value:a.globals.series[r][o]}),b=f.drawMarker(e,t,p);if(a.config.series[l].data[s]&&a.config.series[l].data[s].fillColor&&(m=a.config.series[l].data[s].fillColor),b.attr({fill:m}),a.config.chart.dropShadow.enabled){var y=a.config.chart.dropShadow;u.dropShadow(b,y,r)}if(!this.initialAnim||a.globals.dataChanged||a.globals.resized)a.globals.animationEnded=!0;else{var w=a.config.chart.animations.speed;c.animateMarker(b,w,a.globals.easing,function(){window.setTimeout(function(){c.animationCompleted(b)},100)})}return b.attr({rel:s,j:s,index:r,"default-marker-size":p.pSize}),u.setSelectionFilter(b,r,s),d.addEvents(b),b.node.classList.add("apexcharts-marker"),b}},{key:"centerTextInBubble",value:function(e){var t=this.w;return{y:e+=parseInt(t.config.dataLabels.style.fontSize,10)/4}}}]),i}(),Po=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"dataLabelsCorrection",value:function(e,t,n,r,s,o,a){var l=this.w,c=!1,u=new ae(this.ctx).getTextRects(n,a),h=u.width,d=u.height;t<0&&(t=0),t>l.globals.gridHeight+d&&(t=l.globals.gridHeight+d/2),l.globals.dataLabelsRects[r]===void 0&&(l.globals.dataLabelsRects[r]=[]),l.globals.dataLabelsRects[r].push({x:e,y:t,width:h,height:d});var f=l.globals.dataLabelsRects[r].length-2,p=l.globals.lastDrawnDataLabelsIndexes[r]!==void 0?l.globals.lastDrawnDataLabelsIndexes[r][l.globals.lastDrawnDataLabelsIndexes[r].length-1]:0;if(l.globals.dataLabelsRects[r][f]!==void 0){var m=l.globals.dataLabelsRects[r][p];(e>m.x+m.width||t>m.y+m.height||t+d<m.y||e+h<m.x)&&(c=!0)}return(s===0||o)&&(c=!0),{x:e,y:t,textRects:u,drawnextLabel:c}}},{key:"drawDataLabel",value:function(e){var t=this,n=e.type,r=e.pos,s=e.i,o=e.j,a=e.isRangeStart,l=e.strokeWidth,c=l===void 0?2:l,u=this.w,h=new ae(this.ctx),d=u.config.dataLabels,f=0,p=0,m=o,b=null;if(u.globals.collapsedSeriesIndices.indexOf(s)!==-1||!d.enabled||!Array.isArray(r.x))return b;b=h.group({class:"apexcharts-data-labels"});for(var y=0;y<r.x.length;y++)if(f=r.x[y]+d.offsetX,p=r.y[y]+d.offsetY+c,!isNaN(f)){o===1&&y===0&&(m=0),o===1&&y===1&&(m=1);var w=u.globals.series[s][m];n==="rangeArea"&&(w=a?u.globals.seriesRangeStart[s][m]:u.globals.seriesRangeEnd[s][m]);var C="",T=function(E){return u.config.dataLabels.formatter(E,{ctx:t.ctx,seriesIndex:s,dataPointIndex:m,w:u})};u.config.chart.type==="bubble"?(C=T(w=u.globals.seriesZ[s][m]),p=r.y[y],p=new Ay(this.ctx).centerTextInBubble(p,s,m).y):w!==void 0&&(C=T(w));var k=u.config.dataLabels.textAnchor;u.globals.isSlopeChart&&(k=m===0?"end":m===u.config.series[s].data.length-1?"start":"middle"),this.plotDataLabelsText({x:f,y:p,text:C,i:s,j:m,parent:b,offsetCorrection:!0,dataLabelsConfig:u.config.dataLabels,textAnchor:k})}return b}},{key:"plotDataLabelsText",value:function(e){var t=this.w,n=new ae(this.ctx),r=e.x,s=e.y,o=e.i,a=e.j,l=e.text,c=e.textAnchor,u=e.fontSize,h=e.parent,d=e.dataLabelsConfig,f=e.color,p=e.alwaysDrawDataLabel,m=e.offsetCorrection,b=e.className,y=null;if(Array.isArray(t.config.dataLabels.enabledOnSeries)&&t.config.dataLabels.enabledOnSeries.indexOf(o)<0)return y;var w={x:r,y:s,drawnextLabel:!0,textRects:null};m&&(w=this.dataLabelsCorrection(r,s,l,o,a,p,parseInt(d.style.fontSize,10))),t.globals.zoomed||(r=w.x,s=w.y),w.textRects&&(r<-20-w.textRects.width||r>t.globals.gridWidth+w.textRects.width+30)&&(l="");var C=t.globals.dataLabels.style.colors[o];((t.config.chart.type==="bar"||t.config.chart.type==="rangeBar")&&t.config.plotOptions.bar.distributed||t.config.dataLabels.distributed)&&(C=t.globals.dataLabels.style.colors[a]),typeof C=="function"&&(C=C({series:t.globals.series,seriesIndex:o,dataPointIndex:a,w:t})),f&&(C=f);var T=d.offsetX,k=d.offsetY;if(t.config.chart.type!=="bar"&&t.config.chart.type!=="rangeBar"||(T=0,k=0),t.globals.isSlopeChart&&(a!==0&&(T=-2*d.offsetX+5),a!==0&&a!==t.config.series[o].data.length-1&&(T=0)),w.drawnextLabel){if((y=n.drawText({width:100,height:parseInt(d.style.fontSize,10),x:r+T,y:s+k,foreColor:C,textAnchor:c||d.textAnchor,text:l,fontSize:u||d.style.fontSize,fontFamily:d.style.fontFamily,fontWeight:d.style.fontWeight||"normal"})).attr({class:b||"apexcharts-datalabel",cx:r,cy:s}),d.dropShadow.enabled){var E=d.dropShadow;new fn(this.ctx).dropShadow(y,E)}h.add(y),t.globals.lastDrawnDataLabelsIndexes[o]===void 0&&(t.globals.lastDrawnDataLabelsIndexes[o]=[]),t.globals.lastDrawnDataLabelsIndexes[o].push(a)}return y}},{key:"addBackgroundToDataLabel",value:function(e,t){var n=this.w,r=n.config.dataLabels.background,s=r.padding,o=r.padding/2,a=t.width,l=t.height,c=new ae(this.ctx).drawRect(t.x-s,t.y-o/2,a+2*s,l+o,r.borderRadius,n.config.chart.background!=="transparent"&&n.config.chart.background?n.config.chart.background:"#fff",r.opacity,r.borderWidth,r.borderColor);return r.dropShadow.enabled&&new fn(this.ctx).dropShadow(c,r.dropShadow),c}},{key:"dataLabelsBackground",value:function(){var e=this.w;if(e.config.chart.type!=="bubble")for(var t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),n=0;n<t.length;n++){var r=t[n],s=r.getBBox(),o=null;if(s.width&&s.height&&(o=this.addBackgroundToDataLabel(r,s)),o){r.parentNode.insertBefore(o.node,r);var a=r.getAttribute("fill");e.config.chart.animations.enabled&&!e.globals.resized&&!e.globals.dataChanged?o.animate().attr({fill:a}):o.attr({fill:a}),r.setAttribute("fill",e.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var e=this.w,t=e.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),n=e.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),r=0;r<t.length;r++)n&&n.insertBefore(t[r],n.nextSibling)}}]),i}(),gi=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w,this.legendInactiveClass="legend-mouseover-inactive"}return Oe(i,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(e){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(H.escapeString(e),"']"))}},{key:"isSeriesHidden",value:function(e){var t=this.getSeriesByName(e),n=parseInt(t.getAttribute("data:realIndex"),10);return{isHidden:t.classList.contains("apexcharts-series-collapsed"),realIndex:n}}},{key:"addCollapsedClassToSeries",value:function(e,t){var n=this.w;function r(s){for(var o=0;o<s.length;o++)s[o].index===t&&e.node.classList.add("apexcharts-series-collapsed")}r(n.globals.collapsedSeries),r(n.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(e){var t=this.isSeriesHidden(e);return this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,t.isHidden),t.isHidden}},{key:"showSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!0)}},{key:"hideSeries",value:function(e){var t=this.isSeriesHidden(e);t.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(t.realIndex,!1)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=this.w,s=H.clone(r.globals.initialSeries);r.globals.previousPaths=[],n?(r.globals.collapsedSeries=[],r.globals.ancillaryCollapsedSeries=[],r.globals.collapsedSeriesIndices=[],r.globals.ancillaryCollapsedSeriesIndices=[]):s=this.emptyCollapsedSeries(s),r.config.series=s,e&&(t&&(r.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(s,r.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(e){for(var t=this.w,n=0;n<e.length;n++)t.globals.collapsedSeriesIndices.indexOf(n)>-1&&(e[n].data=[]);return e}},{key:"highlightSeries",value:function(e){var t=this.w,n=this.getSeriesByName(e),r=parseInt(n==null?void 0:n.getAttribute("data:realIndex"),10),s=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),o=null,a=null,l=null;if(t.globals.axisCharts||t.config.chart.type==="radialBar")if(t.globals.axisCharts){o=t.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(r,"']")),a=t.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(r,"']"));var c=t.globals.seriesYAxisReverseMap[r];l=t.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(c,"']"))}else o=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(r+1,"']"));else o=t.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(r+1,"'] path"));for(var u=0;u<s.length;u++)s[u].classList.add(this.legendInactiveClass);if(o)t.globals.axisCharts||o.parentNode.classList.remove(this.legendInactiveClass),o.classList.remove(this.legendInactiveClass),a!==null&&a.classList.remove(this.legendInactiveClass),l!==null&&l.classList.remove(this.legendInactiveClass);else for(var h=0;h<s.length;h++)s[h].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(e,t){var n=this.w;t||(t=e.target);var r=n.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if(e.type==="mousemove"){var s=parseInt(t.getAttribute("rel"),10)-1;this.highlightSeries(n.globals.seriesNames[s])}else if(e.type==="mouseout")for(var o=0;o<r.length;o++)r[o].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(e,t){var n=this,r=this.w,s=r.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),o=function(c){for(var u=0;u<s.length;u++)s[u].classList[c](n.legendInactiveClass)};if(e.type==="mousemove"){var a=parseInt(t.getAttribute("rel"),10)-1;o("add");var l=r.config.plotOptions.heatmap.colorScale.ranges;(function(c,u){for(var h=0;h<s.length;h++){var d=Number(s[h].getAttribute("val"));d>=c.from&&(d<c.to||c.to===u&&d===u)&&s[h].classList.remove(n.legendInactiveClass)}})(l[a],l.reduce(function(c,u){return Math.max(c,u.to)},0))}else e.type==="mouseout"&&o("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"asc",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=this.w,r=0;if(n.config.series.length>1){for(var s=n.config.series.map(function(a,l){return a.data&&a.data.length>0&&n.globals.collapsedSeriesIndices.indexOf(l)===-1&&(!n.globals.comboCharts||t.length===0||t.length&&t.indexOf(n.config.series[l].type)>-1)?l:-1}),o=e==="asc"?0:s.length-1;e==="asc"?o<s.length:o>=0;e==="asc"?o++:o--)if(s[o]!==-1){r=s[o];break}}return r}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(e,t){return e.type==="bar"||e.type==="column"?t:-1}).filter(function(e){return e!==-1}):this.w.config.series.map(function(e,t){return t})}},{key:"getPreviousPaths",value:function(){var e=this.w;function t(o,a,l){for(var c=o[a].childNodes,u={type:l,paths:[],realIndex:o[a].getAttribute("data:realIndex")},h=0;h<c.length;h++)if(c[h].hasAttribute("pathTo")){var d=c[h].getAttribute("pathTo");u.paths.push({d})}e.globals.previousPaths.push(u)}e.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(o){for(var a,l=(a=o,e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(a,"-series .apexcharts-series"))),c=0;c<l.length;c++)t(l,c,o)});var n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series"));if(n.length>0)for(var r=function(o){for(var a=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(e.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(o,"'] rect")),l=[],c=function(h){var d=function(p){return a[h].getAttribute(p)},f={x:parseFloat(d("x")),y:parseFloat(d("y")),width:parseFloat(d("width")),height:parseFloat(d("height"))};l.push({rect:f,color:a[h].getAttribute("color")})},u=0;u<a.length;u++)c(u);e.globals.previousPaths.push(l)},s=0;s<n.length;s++)r(s);e.globals.axisCharts||(e.globals.previousPaths=e.globals.series)}},{key:"clearPreviousPaths",value:function(){var e=this.w;e.globals.previousPaths=[],e.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var e=this.w,t=e.config.noData,n=new ae(this.ctx),r=e.globals.svgWidth/2,s=e.globals.svgHeight/2,o="middle";if(e.globals.noData=!0,e.globals.animationEnded=!0,t.align==="left"?(r=10,o="start"):t.align==="right"&&(r=e.globals.svgWidth-10,o="end"),t.verticalAlign==="top"?s=50:t.verticalAlign==="bottom"&&(s=e.globals.svgHeight-50),r+=t.offsetX,s=s+parseInt(t.style.fontSize,10)+2+t.offsetY,t.text!==void 0&&t.text!==""){var a=n.drawText({x:r,y:s,text:t.text,textAnchor:o,fontSize:t.style.fontSize,fontFamily:t.style.fontFamily,foreColor:t.style.color,opacity:1,class:"apexcharts-text-nodata"});e.globals.dom.Paper.add(a)}}},{key:"setNullSeriesToZeroValues",value:function(e){for(var t=this.w,n=0;n<e.length;n++)if(e[n].length===0)for(var r=0;r<e[t.globals.maxValsInArrayIndex].length;r++)e[n].push(0);return e}},{key:"hasAllSeriesEqualX",value:function(){for(var e=!0,t=this.w,n=this.filteredSeriesX(),r=0;r<n.length-1;r++)if(n[r][0]!==n[r+1][0]){e=!1;break}return t.globals.allSeriesHasEqualX=e,e}},{key:"filteredSeriesX",value:function(){var e=this.w.globals.seriesX.map(function(t){return t.length>0?t:[]});return e}}]),i}(),Mf=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new Yt(this.ctx)}return Oe(i,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var e=this.w.config.series.slice(),t=new gi(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].x!==void 0&&e[this.activeSeriesIndex].data[0]!==null)return!0}},{key:"isFormat2DArray",value:function(){var e=this.w.config.series.slice(),t=new gi(this.ctx);if(this.activeSeriesIndex=t.getActiveConfigSeriesIndex(),e[this.activeSeriesIndex].data!==void 0&&e[this.activeSeriesIndex].data.length>0&&e[this.activeSeriesIndex].data[0]!==void 0&&e[this.activeSeriesIndex].data[0]!==null&&e[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(e,t){for(var n=this.w.config,r=this.w.globals,s=n.chart.type==="boxPlot"||n.series[t].type==="boxPlot",o=0;o<e[t].data.length;o++)if(e[t].data[o][1]!==void 0&&(Array.isArray(e[t].data[o][1])&&e[t].data[o][1].length===4&&!s?this.twoDSeries.push(H.parseNumber(e[t].data[o][1][3])):e[t].data[o].length>=5?this.twoDSeries.push(H.parseNumber(e[t].data[o][4])):this.twoDSeries.push(H.parseNumber(e[t].data[o][1])),r.dataFormatXNumeric=!0),n.xaxis.type==="datetime"){var a=new Date(e[t].data[o][0]);a=new Date(a).getTime(),this.twoDSeriesX.push(a)}else this.twoDSeriesX.push(e[t].data[o][0]);for(var l=0;l<e[t].data.length;l++)e[t].data[l][2]!==void 0&&(this.threeDSeries.push(e[t].data[l][2]),r.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(e,t){var n=this.w.config,r=this.w.globals,s=new pn(this.ctx),o=t;r.collapsedSeriesIndices.indexOf(t)>-1&&(o=this.activeSeriesIndex);for(var a=0;a<e[t].data.length;a++)e[t].data[a].y!==void 0&&(Array.isArray(e[t].data[a].y)?this.twoDSeries.push(H.parseNumber(e[t].data[a].y[e[t].data[a].y.length-1])):this.twoDSeries.push(H.parseNumber(e[t].data[a].y))),e[t].data[a].goals!==void 0&&Array.isArray(e[t].data[a].goals)?(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(e[t].data[a].goals)):(this.seriesGoals[t]===void 0&&(this.seriesGoals[t]=[]),this.seriesGoals[t].push(null));for(var l=0;l<e[o].data.length;l++){var c=typeof e[o].data[l].x=="string",u=Array.isArray(e[o].data[l].x),h=!u&&!!s.isValidDate(e[o].data[l].x);if(c||h)if(c||n.xaxis.convertedCatToNumeric){var d=r.isBarHorizontal&&r.isRangeData;n.xaxis.type!=="datetime"||d?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[o].data[l].x),isNaN(e[o].data[l].x)||this.w.config.xaxis.type==="category"||typeof e[o].data[l].x=="string"||(r.isXNumeric=!0)):this.twoDSeriesX.push(s.parseDate(e[o].data[l].x))}else n.xaxis.type==="datetime"?this.twoDSeriesX.push(s.parseDate(e[o].data[l].x.toString())):(r.dataFormatXNumeric=!0,r.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(e[o].data[l].x)));else u?(this.fallbackToCategory=!0,this.twoDSeriesX.push(e[o].data[l].x)):(r.isXNumeric=!0,r.dataFormatXNumeric=!0,this.twoDSeriesX.push(e[o].data[l].x))}if(e[t].data[0]&&e[t].data[0].z!==void 0){for(var f=0;f<e[t].data.length;f++)this.threeDSeries.push(e[t].data[f].z);r.isDataXYZ=!0}}},{key:"handleRangeData",value:function(e,t){var n=this.w.globals,r={};return this.isFormat2DArray()?r=this.handleRangeDataFormat("array",e,t):this.isFormatXY()&&(r=this.handleRangeDataFormat("xy",e,t)),n.seriesRangeStart.push(r.start===void 0?[]:r.start),n.seriesRangeEnd.push(r.end===void 0?[]:r.end),n.seriesRange.push(r.rangeUniques),n.seriesRange.forEach(function(s,o){s&&s.forEach(function(a,l){a.y.forEach(function(c,u){for(var h=0;h<a.y.length;h++)if(u!==h){var d=c.y1,f=c.y2,p=a.y[h].y1;d<=a.y[h].y2&&p<=f&&(a.overlaps.indexOf(c.rangeName)<0&&a.overlaps.push(c.rangeName),a.overlaps.indexOf(a.y[h].rangeName)<0&&a.overlaps.push(a.y[h].rangeName))}})})}),r}},{key:"handleCandleStickBoxData",value:function(e,t){var n=this.w.globals,r={};return this.isFormat2DArray()?r=this.handleCandleStickBoxDataFormat("array",e,t):this.isFormatXY()&&(r=this.handleCandleStickBoxDataFormat("xy",e,t)),n.seriesCandleO[t]=r.o,n.seriesCandleH[t]=r.h,n.seriesCandleM[t]=r.m,n.seriesCandleL[t]=r.l,n.seriesCandleC[t]=r.c,r}},{key:"handleRangeDataFormat",value:function(e,t,n){var r=[],s=[],o=t[n].data.filter(function(u,h,d){return h===d.findIndex(function(f){return f.x===u.x})}).map(function(u,h){return{x:u.x,overlaps:[],y:[]}});if(e==="array")for(var a=0;a<t[n].data.length;a++)Array.isArray(t[n].data[a])?(r.push(t[n].data[a][1][0]),s.push(t[n].data[a][1][1])):(r.push(t[n].data[a]),s.push(t[n].data[a]));else if(e==="xy")for(var l=function(u){var h=Array.isArray(t[n].data[u].y),d=H.randomId(),f=t[n].data[u].x,p={y1:h?t[n].data[u].y[0]:t[n].data[u].y,y2:h?t[n].data[u].y[1]:t[n].data[u].y,rangeName:d};t[n].data[u].rangeName=d;var m=o.findIndex(function(b){return b.x===f});o[m].y.push(p),r.push(p.y1),s.push(p.y2)},c=0;c<t[n].data.length;c++)l(c);return{start:r,end:s,rangeUniques:o}}},{key:"handleCandleStickBoxDataFormat",value:function(e,t,n){var r=this.w,s=r.config.chart.type==="boxPlot"||r.config.series[n].type==="boxPlot",o=[],a=[],l=[],c=[],u=[];if(e==="array")if(s&&t[n].data[0].length===6||!s&&t[n].data[0].length===5)for(var h=0;h<t[n].data.length;h++)o.push(t[n].data[h][1]),a.push(t[n].data[h][2]),s?(l.push(t[n].data[h][3]),c.push(t[n].data[h][4]),u.push(t[n].data[h][5])):(c.push(t[n].data[h][3]),u.push(t[n].data[h][4]));else for(var d=0;d<t[n].data.length;d++)Array.isArray(t[n].data[d][1])&&(o.push(t[n].data[d][1][0]),a.push(t[n].data[d][1][1]),s?(l.push(t[n].data[d][1][2]),c.push(t[n].data[d][1][3]),u.push(t[n].data[d][1][4])):(c.push(t[n].data[d][1][2]),u.push(t[n].data[d][1][3])));else if(e==="xy")for(var f=0;f<t[n].data.length;f++)Array.isArray(t[n].data[f].y)&&(o.push(t[n].data[f].y[0]),a.push(t[n].data[f].y[1]),s?(l.push(t[n].data[f].y[2]),c.push(t[n].data[f].y[3]),u.push(t[n].data[f].y[4])):(c.push(t[n].data[f].y[2]),u.push(t[n].data[f].y[3])));return{o,h:a,m:l,l:c,c:u}}},{key:"parseDataAxisCharts",value:function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.ctx,r=this.w.config,s=this.w.globals,o=new pn(n),a=r.labels.length>0?r.labels.slice():r.xaxis.categories.slice();s.isRangeBar=r.chart.type==="rangeBar"&&s.isBarHorizontal,s.hasXaxisGroups=r.xaxis.type==="category"&&r.xaxis.group.groups.length>0,s.hasXaxisGroups&&(s.groups=r.xaxis.group.groups),e.forEach(function(f,p){f.name!==void 0?s.seriesNames.push(f.name):s.seriesNames.push("series-"+parseInt(p+1,10))}),this.coreUtils.setSeriesYAxisMappings();var l=[],c=Zt(new Set(r.series.map(function(f){return f.group})));r.series.forEach(function(f,p){var m=c.indexOf(f.group);l[m]||(l[m]=[]),l[m].push(s.seriesNames[p])}),s.seriesGroups=l;for(var u=function(){for(var f=0;f<a.length;f++)if(typeof a[f]=="string"){if(!o.isValidDate(a[f]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");t.twoDSeriesX.push(o.parseDate(a[f]))}else t.twoDSeriesX.push(a[f])},h=0;h<e.length;h++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],e[h].data===void 0)return void console.error("It is a possibility that you may have not included 'data' property in series.");if(r.chart.type!=="rangeBar"&&r.chart.type!=="rangeArea"&&e[h].type!=="rangeBar"&&e[h].type!=="rangeArea"||(s.isRangeData=!0,r.chart.type!=="rangeBar"&&r.chart.type!=="rangeArea"||this.handleRangeData(e,h)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(e,h):this.isFormatXY()&&this.handleFormatXY(e,h),r.chart.type!=="candlestick"&&e[h].type!=="candlestick"&&r.chart.type!=="boxPlot"&&e[h].type!=="boxPlot"||this.handleCandleStickBoxData(e,h),s.series.push(this.twoDSeries),s.labels.push(this.twoDSeriesX),s.seriesX.push(this.twoDSeriesX),s.seriesGoals=this.seriesGoals,h!==this.activeSeriesIndex||this.fallbackToCategory||(s.isXNumeric=!0);else{r.xaxis.type==="datetime"?(s.isXNumeric=!0,u(),s.seriesX.push(this.twoDSeriesX)):r.xaxis.type==="numeric"&&(s.isXNumeric=!0,a.length>0&&(this.twoDSeriesX=a,s.seriesX.push(this.twoDSeriesX))),s.labels.push(this.twoDSeriesX);var d=e[h].data.map(function(f){return H.parseNumber(f)});s.series.push(d)}s.seriesZ.push(this.threeDSeries),e[h].color!==void 0?s.seriesColors.push(e[h].color):s.seriesColors.push(void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(e){var t=this.w.globals,n=this.w.config;t.series=e.slice(),t.seriesNames=n.labels.slice();for(var r=0;r<t.series.length;r++)t.seriesNames[r]===void 0&&t.seriesNames.push("series-"+(r+1));return this.w}},{key:"handleExternalLabelsData",value:function(e){var t=this.w.config,n=this.w.globals;t.xaxis.categories.length>0?n.labels=t.xaxis.categories:t.labels.length>0?n.labels=t.labels.slice():this.fallbackToCategory?(n.labels=n.labels[0],n.seriesRange.length&&(n.seriesRange.map(function(r){r.forEach(function(s){n.labels.indexOf(s.x)<0&&s.x&&n.labels.push(s.x)})}),n.labels=Array.from(new Set(n.labels.map(JSON.stringify)),JSON.parse)),t.xaxis.convertedCatToNumeric&&(new Ga(t).convertCatToNumericXaxis(t,this.ctx,n.seriesX[0]),this._generateExternalLabels(e))):this._generateExternalLabels(e)}},{key:"_generateExternalLabels",value:function(e){var t=this.w.globals,n=this.w.config,r=[];if(t.axisCharts){if(t.series.length>0)if(this.isFormatXY())for(var s=n.series.map(function(h,d){return h.data.filter(function(f,p,m){return m.findIndex(function(b){return b.x===f.x})===p})}),o=s.reduce(function(h,d,f,p){return p[h].length>d.length?h:f},0),a=0;a<s[o].length;a++)r.push(a+1);else for(var l=0;l<t.series[t.maxValsInArrayIndex].length;l++)r.push(l+1);t.seriesX=[];for(var c=0;c<e.length;c++)t.seriesX.push(r);this.w.globals.isBarHorizontal||(t.isXNumeric=!0)}if(r.length===0){r=t.axisCharts?[]:t.series.map(function(h,d){return d+1});for(var u=0;u<e.length;u++)t.seriesX.push(r)}t.labels=r,n.xaxis.convertedCatToNumeric&&(t.categoryLabels=r.map(function(h){return n.xaxis.labels.formatter(h)})),t.noLabelsProvided=!0}},{key:"parseData",value:function(e){var t=this.w,n=t.config,r=t.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),r.axisCharts?(this.parseDataAxisCharts(e),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(e),n.chart.stacked){var s=new gi(this.ctx);r.series=s.setNullSeriesToZeroValues(r.series)}this.coreUtils.getSeriesTotals(),r.axisCharts&&(r.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),r.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),r.dataFormatXNumeric||r.isXNumeric&&(n.xaxis.type!=="numeric"||n.labels.length!==0||n.xaxis.categories.length!==0)||this.handleExternalLabelsData(e);for(var o=this.coreUtils.getCategoryLabels(r.labels),a=0;a<o.length;a++)if(Array.isArray(o[a])){r.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var e=this.w,t=[];e.globals.seriesYAxisMap.forEach(function(n,r){var s=0;n.forEach(function(o){e.globals.collapsedSeriesIndices.indexOf(o)!==-1&&s++}),s>0&&s==n.length&&t.push(r)}),e.globals.ignoreYAxisIndexes=t.map(function(n){return n})}}]),i}(),Ua=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"svgStringToNode",value:function(e){return new DOMParser().parseFromString(e,"image/svg+xml").documentElement}},{key:"scaleSvgNode",value:function(e,t){var n=parseFloat(e.getAttributeNS(null,"width")),r=parseFloat(e.getAttributeNS(null,"height"));e.setAttributeNS(null,"width",n*t),e.setAttributeNS(null,"height",r*t),e.setAttributeNS(null,"viewBox","0 0 "+n+" "+r)}},{key:"getSvgString",value:function(e){var t=this;return new Promise(function(n){var r=t.w,s=e||r.config.chart.toolbar.export.scale||r.config.chart.toolbar.export.width/r.globals.svgWidth;s||(s=1);var o=r.globals.svgWidth*s,a=r.globals.svgHeight*s,l=r.globals.dom.elWrap.cloneNode(!0);l.style.width=o+"px",l.style.height=a+"px";var c=new XMLSerializer().serializeToString(l),u=`
          <svg xmlns="http://www.w3.org/2000/svg"
            version="1.1"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            class="apexcharts-svg"
            xmlns:data="ApexChartsNS"
            transform="translate(0, 0)"
            width="`.concat(r.globals.svgWidth,'px" height="').concat(r.globals.svgHeight,`px">
            <foreignObject width="100%" height="100%">
              <div xmlns="http://www.w3.org/1999/xhtml" style="width:`).concat(o,"px; height:").concat(a,`px;">
              <style type="text/css">
                .apexcharts-tooltip, .apexcharts-toolbar, .apexcharts-xaxistooltip, .apexcharts-yaxistooltip, .apexcharts-xcrosshairs, .apexcharts-ycrosshairs, .apexcharts-zoom-rect, .apexcharts-selection-rect {
                  display: none;
                }
              </style>
                `).concat(c,`
              </div>
            </foreignObject>
          </svg>
        `),h=t.svgStringToNode(u);s!==1&&t.scaleSvgNode(h,s),t.convertImagesToBase64(h).then(function(){u=new XMLSerializer().serializeToString(h),n(u.replace(/&nbsp;/g,"&#160;"))})})}},{key:"convertImagesToBase64",value:function(e){var t=this,n=e.getElementsByTagName("image"),r=Array.from(n).map(function(s){var o=s.getAttributeNS("http://www.w3.org/1999/xlink","href");return o&&!o.startsWith("data:")?t.getBase64FromUrl(o).then(function(a){s.setAttributeNS("http://www.w3.org/1999/xlink","href",a)}).catch(function(a){console.error("Error converting image to base64:",a)}):Promise.resolve()});return Promise.all(r)}},{key:"getBase64FromUrl",value:function(e){return new Promise(function(t,n){var r=new Image;r.crossOrigin="Anonymous",r.onload=function(){var s=document.createElement("canvas");s.width=r.width,s.height=r.height,s.getContext("2d").drawImage(r,0,0),t(s.toDataURL())},r.onerror=n,r.src=e})}},{key:"svgUrl",value:function(){var e=this;return new Promise(function(t){e.getSvgString().then(function(n){var r=new Blob([n],{type:"image/svg+xml;charset=utf-8"});t(URL.createObjectURL(r))})})}},{key:"dataURI",value:function(e){var t=this;return new Promise(function(n){var r=t.w,s=e?e.scale||e.width/r.globals.svgWidth:1,o=document.createElement("canvas");o.width=r.globals.svgWidth*s,o.height=parseInt(r.globals.dom.elWrap.style.height,10)*s;var a=r.config.chart.background!=="transparent"&&r.config.chart.background?r.config.chart.background:"#fff",l=o.getContext("2d");l.fillStyle=a,l.fillRect(0,0,o.width*s,o.height*s),t.getSvgString(s).then(function(c){var u="data:image/svg+xml,"+encodeURIComponent(c),h=new Image;h.crossOrigin="anonymous",h.onload=function(){if(l.drawImage(h,0,0),o.msToBlob){var d=o.msToBlob();n({blob:d})}else{var f=o.toDataURL("image/png");n({imgURI:f})}},h.src=u})})}},{key:"exportToSVG",value:function(){var e=this;this.svgUrl().then(function(t){e.triggerDownload(t,e.w.config.chart.toolbar.export.svg.filename,".svg")})}},{key:"exportToPng",value:function(){var e=this,t=this.w.config.chart.toolbar.export.scale,n=this.w.config.chart.toolbar.export.width,r=t?{scale:t}:n?{width:n}:void 0;this.dataURI(r).then(function(s){var o=s.imgURI,a=s.blob;a?navigator.msSaveOrOpenBlob(a,e.w.globals.chartID+".png"):e.triggerDownload(o,e.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(e){var t=this,n=e.series,r=e.fileName,s=e.columnDelimiter,o=s===void 0?",":s,a=e.lineDelimiter,l=a===void 0?`
  `:a,c=this.w;n||(n=c.config.series);var u=[],h=[],d="",f=c.globals.series.map(function(k,E){return c.globals.collapsedSeriesIndices.indexOf(E)===-1?k:[]}),p=function(k){return typeof c.config.chart.toolbar.export.csv.categoryFormatter=="function"?c.config.chart.toolbar.export.csv.categoryFormatter(k):c.config.xaxis.type==="datetime"&&String(k).length>=10?new Date(k).toDateString():H.isNumber(k)?k:k.split(o).join("")},m=function(k){return typeof c.config.chart.toolbar.export.csv.valueFormatter=="function"?c.config.chart.toolbar.export.csv.valueFormatter(k):k},b=Math.max.apply(Math,Zt(n.map(function(k){return k.data?k.data.length:0}))),y=new Mf(this.ctx),w=new Br(this.ctx),C=function(k){var E="";if(c.globals.axisCharts){if(c.config.xaxis.type==="category"||c.config.xaxis.convertedCatToNumeric)if(c.globals.isBarHorizontal){var M=c.globals.yLabelFormatters[0],O=new gi(t.ctx).getActiveConfigSeriesIndex();E=M(c.globals.labels[k],{seriesIndex:O,dataPointIndex:k,w:c})}else E=w.getLabel(c.globals.labels,c.globals.timescaleLabels,0,k).text;c.config.xaxis.type==="datetime"&&(c.config.xaxis.categories.length?E=c.config.xaxis.categories[k]:c.config.labels.length&&(E=c.config.labels[k]))}else E=c.config.labels[k];return E===null?"nullvalue":(Array.isArray(E)&&(E=E.join(" ")),H.isNumber(E)?E:E.split(o).join(""))},T=function(k,E){if(u.length&&E===0&&h.push(u.join(o)),k.data){k.data=k.data.length&&k.data||Zt(Array(b)).map(function(){return""});for(var M=0;M<k.data.length;M++){u=[];var O=C(M);if(O!=="nullvalue"){if(O||(y.isFormatXY()?O=n[E].data[M].x:y.isFormat2DArray()&&(O=n[E].data[M]?n[E].data[M][0]:"")),E===0){u.push(p(O));for(var P=0;P<c.globals.series.length;P++){var N,R=y.isFormatXY()?(N=n[P].data[M])===null||N===void 0?void 0:N.y:f[P][M];u.push(m(R))}}(c.config.chart.type==="candlestick"||k.type&&k.type==="candlestick")&&(u.pop(),u.push(c.globals.seriesCandleO[E][M]),u.push(c.globals.seriesCandleH[E][M]),u.push(c.globals.seriesCandleL[E][M]),u.push(c.globals.seriesCandleC[E][M])),(c.config.chart.type==="boxPlot"||k.type&&k.type==="boxPlot")&&(u.pop(),u.push(c.globals.seriesCandleO[E][M]),u.push(c.globals.seriesCandleH[E][M]),u.push(c.globals.seriesCandleM[E][M]),u.push(c.globals.seriesCandleL[E][M]),u.push(c.globals.seriesCandleC[E][M])),c.config.chart.type==="rangeBar"&&(u.pop(),u.push(c.globals.seriesRangeStart[E][M]),u.push(c.globals.seriesRangeEnd[E][M])),u.length&&h.push(u.join(o))}}}};u.push(c.config.chart.toolbar.export.csv.headerCategory),c.config.chart.type==="boxPlot"?(u.push("minimum"),u.push("q1"),u.push("median"),u.push("q3"),u.push("maximum")):c.config.chart.type==="candlestick"?(u.push("open"),u.push("high"),u.push("low"),u.push("close")):c.config.chart.type==="rangeBar"?(u.push("minimum"),u.push("maximum")):n.map(function(k,E){var M=(k.name?k.name:"series-".concat(E))+"";c.globals.axisCharts&&u.push(M.split(o).join("")?M.split(o).join(""):"series-".concat(E))}),c.globals.axisCharts||(u.push(c.config.chart.toolbar.export.csv.headerValue),h.push(u.join(o))),c.globals.allSeriesHasEqualX||!c.globals.axisCharts||c.config.xaxis.categories.length||c.config.labels.length?n.map(function(k,E){c.globals.axisCharts?T(k,E):((u=[]).push(p(c.globals.labels[E])),u.push(m(f[E])),h.push(u.join(o)))}):function(){var k=new Set,E={};n.forEach(function(M,O){M==null||M.data.forEach(function(P){var N,R;if(y.isFormatXY())N=P.x,R=P.y;else{if(!y.isFormat2DArray())return;N=P[0],R=P[1]}E[N]||(E[N]=Array(n.length).fill("")),E[N][O]=m(R),k.add(N)})}),u.length&&h.push(u.join(o)),Array.from(k).sort().forEach(function(M){h.push([p(M),E[M].join(o)])})}(),d+=h.join(l),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\uFEFF"+d),r||c.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(e,t,n){var r=document.createElement("a");r.href=e,r.download=(t||this.w.globals.chartID)+n,document.body.appendChild(r),r.click(),document.body.removeChild(r)}}]),i}(),Ka=function(){function i(e,t){Ee(this,i),this.ctx=e,this.elgrid=t,this.w=e.w;var n=this.w;this.axesUtils=new Br(e),this.xaxisLabels=n.globals.labels.slice(),n.globals.timescaleLabels.length>0&&!n.globals.isBarHorizontal&&(this.xaxisLabels=n.globals.timescaleLabels.slice()),n.config.xaxis.overwriteCategories&&(this.xaxisLabels=n.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],n.config.xaxis.position==="top"?this.offY=0:this.offY=n.globals.gridHeight,this.offY=this.offY+n.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal=n.config.chart.type==="bar"&&n.config.plotOptions.bar.horizontal,this.xaxisFontSize=n.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=n.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=n.config.xaxis.labels.style.colors,this.xaxisBorderWidth=n.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=n.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth.indexOf("%")>-1?this.xaxisBorderWidth=n.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:this.xaxisBorderWidth=parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=n.config.xaxis.axisBorder.height,this.yaxis=n.config.yaxis[0]}return Oe(i,[{key:"drawXaxis",value:function(){var e=this.w,t=new ae(this.ctx),n=t.group({class:"apexcharts-xaxis",transform:"translate(".concat(e.config.xaxis.offsetX,", ").concat(e.config.xaxis.offsetY,")")}),r=t.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});n.add(r);for(var s=[],o=0;o<this.xaxisLabels.length;o++)s.push(this.xaxisLabels[o]);if(this.drawXAxisLabelAndGroup(!0,t,r,s,e.globals.isXNumeric,function(p,m){return m}),e.globals.hasXaxisGroups){var a=e.globals.groups;s=[];for(var l=0;l<a.length;l++)s.push(a[l].title);var c={};e.config.xaxis.group.style&&(c.xaxisFontSize=e.config.xaxis.group.style.fontSize,c.xaxisFontFamily=e.config.xaxis.group.style.fontFamily,c.xaxisForeColors=e.config.xaxis.group.style.colors,c.fontWeight=e.config.xaxis.group.style.fontWeight,c.cssClass=e.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,t,r,s,!1,function(p,m){return a[p].cols*m},c)}if(e.config.xaxis.title.text!==void 0){var u=t.group({class:"apexcharts-xaxis-title"}),h=t.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+(e.config.xaxis.position==="bottom"?e.globals.xAxisLabelsHeight:-e.globals.xAxisLabelsHeight-10)+e.config.xaxis.title.offsetY,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+e.config.xaxis.title.style.cssClass});u.add(h),n.add(u)}if(e.config.xaxis.axisBorder.show){var d=e.globals.barPadForNumericAxis,f=t.drawLine(e.globals.padHorizontal+e.config.xaxis.axisBorder.offsetX-d,this.offY,this.xaxisBorderWidth+d,this.offY,e.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(f):n.add(f)}return n}},{key:"drawXAxisLabelAndGroup",value:function(e,t,n,r,s,o){var a,l=this,c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},u=[],h=[],d=this.w,f=c.xaxisFontSize||this.xaxisFontSize,p=c.xaxisFontFamily||this.xaxisFontFamily,m=c.xaxisForeColors||this.xaxisForeColors,b=c.fontWeight||d.config.xaxis.labels.style.fontWeight,y=c.cssClass||d.config.xaxis.labels.style.cssClass,w=d.globals.padHorizontal,C=r.length,T=d.config.xaxis.type==="category"?d.globals.dataPoints:C;if(T===0&&C>T&&(T=C),s){var k=Math.max(Number(d.config.xaxis.tickAmount)||1,T>1?T-1:T);a=d.globals.gridWidth/Math.min(k,C-1),w=w+o(0,a)/2+d.config.xaxis.labels.offsetX}else a=d.globals.gridWidth/T,w=w+o(0,a)+d.config.xaxis.labels.offsetX;for(var E=function(O){var P=w-o(O,a)/2+d.config.xaxis.labels.offsetX;O===0&&C===1&&a/2===w&&T===1&&(P=d.globals.gridWidth/2);var N=l.axesUtils.getLabel(r,d.globals.timescaleLabels,P,O,u,f,e),R=28;if(d.globals.rotateXLabels&&e&&(R=22),d.config.xaxis.title.text&&d.config.xaxis.position==="top"&&(R+=parseFloat(d.config.xaxis.title.style.fontSize)+2),e||(R=R+parseFloat(f)+(d.globals.xAxisLabelsHeight-d.globals.xAxisGroupLabelsHeight)+(d.globals.rotateXLabels?10:0)),N=d.config.xaxis.tickAmount!==void 0&&d.config.xaxis.tickAmount!=="dataPoints"&&d.config.xaxis.type!=="datetime"?l.axesUtils.checkLabelBasedOnTickamount(O,N,C):l.axesUtils.checkForOverflowingLabels(O,N,C,u,h),d.config.xaxis.labels.show){var D=t.drawText({x:N.x,y:l.offY+d.config.xaxis.labels.offsetY+R-(d.config.xaxis.position==="top"?d.globals.xAxisHeight+d.config.xaxis.axisTicks.height-2:0),text:N.text,textAnchor:"middle",fontWeight:N.isBold?600:b,fontSize:f,fontFamily:p,foreColor:Array.isArray(m)?e&&d.config.xaxis.convertedCatToNumeric?m[d.globals.minX+O-1]:m[O]:m,isPlainText:!1,cssClass:(e?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+y});if(n.add(D),D.on("click",function(q){if(typeof d.config.chart.events.xAxisLabelClick=="function"){var re=Object.assign({},d,{labelIndex:O});d.config.chart.events.xAxisLabelClick(q,l.ctx,re)}}),e){var V=document.createElementNS(d.globals.SVGNS,"title");V.textContent=Array.isArray(N.text)?N.text.join(" "):N.text,D.node.appendChild(V),N.text!==""&&(u.push(N.text),h.push(N))}}O<C-1&&(w+=o(O+1,a))},M=0;M<=C-1;M++)E(M)}},{key:"drawXaxisInversed",value:function(e){var t,n,r=this,s=this.w,o=new ae(this.ctx),a=s.config.yaxis[0].opposite?s.globals.translateYAxisX[e]:0,l=o.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:e}),c=o.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+a+", 0)"});l.add(c);var u=[];if(s.config.yaxis[e].show)for(var h=0;h<this.xaxisLabels.length;h++)u.push(this.xaxisLabels[h]);t=s.globals.gridHeight/u.length,n=-t/2.2;var d=s.globals.yLabelFormatters[0],f=s.config.yaxis[0].labels;if(f.show)for(var p=function(k){var E=u[k]===void 0?"":u[k];E=d(E,{seriesIndex:e,dataPointIndex:k,w:s});var M=r.axesUtils.getYAxisForeColor(f.style.colors,e),O=0;Array.isArray(E)&&(O=E.length/2*parseInt(f.style.fontSize,10));var P=f.offsetX-15,N="end";r.yaxis.opposite&&(N="start"),s.config.yaxis[0].labels.align==="left"?(P=f.offsetX,N="start"):s.config.yaxis[0].labels.align==="center"?(P=f.offsetX,N="middle"):s.config.yaxis[0].labels.align==="right"&&(N="end");var R=o.drawText({x:P,y:n+t+f.offsetY-O,text:E,textAnchor:N,foreColor:Array.isArray(M)?M[k]:M,fontSize:f.style.fontSize,fontFamily:f.style.fontFamily,fontWeight:f.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+f.style.cssClass,maxWidth:f.maxWidth});c.add(R),R.on("click",function(q){if(typeof s.config.chart.events.xAxisLabelClick=="function"){var re=Object.assign({},s,{labelIndex:k});s.config.chart.events.xAxisLabelClick(q,r.ctx,re)}});var D=document.createElementNS(s.globals.SVGNS,"title");if(D.textContent=Array.isArray(E)?E.join(" "):E,R.node.appendChild(D),s.config.yaxis[e].labels.rotate!==0){var V=o.rotateAroundCenter(R.node);R.node.setAttribute("transform","rotate(".concat(s.config.yaxis[e].labels.rotate," 0 ").concat(V.y,")"))}n+=t},m=0;m<=u.length-1;m++)p(m);if(s.config.yaxis[0].title.text!==void 0){var b=o.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+a+", 0)"}),y=o.drawText({x:s.config.yaxis[0].title.offsetX,y:s.globals.gridHeight/2+s.config.yaxis[0].title.offsetY,text:s.config.yaxis[0].title.text,textAnchor:"middle",foreColor:s.config.yaxis[0].title.style.color,fontSize:s.config.yaxis[0].title.style.fontSize,fontWeight:s.config.yaxis[0].title.style.fontWeight,fontFamily:s.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+s.config.yaxis[0].title.style.cssClass});b.add(y),l.add(b)}var w=0;this.isCategoryBarHorizontal&&s.config.yaxis[0].opposite&&(w=s.globals.gridWidth);var C=s.config.xaxis.axisBorder;if(C.show){var T=o.drawLine(s.globals.padHorizontal+C.offsetX+w,1+C.offsetY,s.globals.padHorizontal+C.offsetX+w,s.globals.gridHeight+C.offsetY,C.color,0);this.elgrid&&this.elgrid.elGridBorders&&s.config.grid.show?this.elgrid.elGridBorders.add(T):l.add(T)}return s.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(w,u.length,s.config.yaxis[0].axisBorder,s.config.yaxis[0].axisTicks,0,t,l),l}},{key:"drawXaxisTicks",value:function(e,t,n){var r=this.w,s=e;if(!(e<0||e-2>r.globals.gridWidth)){var o=this.offY+r.config.xaxis.axisTicks.offsetY;if(t=t+o+r.config.xaxis.axisTicks.height,r.config.xaxis.position==="top"&&(t=o-r.config.xaxis.axisTicks.height),r.config.xaxis.axisTicks.show){var a=new ae(this.ctx).drawLine(e+r.config.xaxis.axisTicks.offsetX,o+r.config.xaxis.offsetY,s+r.config.xaxis.axisTicks.offsetX,t+r.config.xaxis.offsetY,r.config.xaxis.axisTicks.color);n.add(a),a.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var e=this.w,t=[],n=this.xaxisLabels.length,r=e.globals.padHorizontal;if(e.globals.timescaleLabels.length>0)for(var s=0;s<n;s++)r=this.xaxisLabels[s].position,t.push(r);else for(var o=n,a=0;a<o;a++){var l=o;e.globals.isXNumeric&&e.config.chart.type!=="bar"&&(l-=1),r+=e.globals.gridWidth/l,t.push(r)}return t}},{key:"xAxisLabelCorrections",value:function(){var e=this.w,t=new ae(this.ctx),n=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),s=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(e.globals.rotateXLabels||e.config.xaxis.labels.rotateAlways)for(var a=0;a<r.length;a++){var l=t.rotateAroundCenter(r[a]);l.y=l.y-1,l.x=l.x+1,r[a].setAttribute("transform","rotate(".concat(e.config.xaxis.labels.rotate," ").concat(l.x," ").concat(l.y,")")),r[a].setAttribute("text-anchor","end"),n.setAttribute("transform","translate(0, ".concat(-10,")"));var c=r[a].childNodes;e.config.xaxis.labels.trim&&Array.prototype.forEach.call(c,function(f){t.placeTextWithEllipsis(f,f.textContent,e.globals.xAxisLabelsHeight-(e.config.legend.position==="bottom"?20:10))})}else(function(){for(var f=e.globals.gridWidth/(e.globals.labels.length+1),p=0;p<r.length;p++){var m=r[p].childNodes;e.config.xaxis.labels.trim&&e.config.xaxis.type!=="datetime"&&Array.prototype.forEach.call(m,function(b){t.placeTextWithEllipsis(b,b.textContent,f)})}})();if(s.length>0){var u=s[s.length-1].getBBox(),h=s[0].getBBox();u.x<-20&&s[s.length-1].parentNode.removeChild(s[s.length-1]),h.x+h.width>e.globals.gridWidth&&!e.globals.isBarHorizontal&&s[0].parentNode.removeChild(s[0]);for(var d=0;d<o.length;d++)t.placeTextWithEllipsis(o[d],o[d].textContent,e.config.yaxis[0].labels.maxWidth-(e.config.yaxis[0].title.text?2*parseFloat(e.config.yaxis[0].title.style.fontSize):0)-15)}}}]),i}(),My=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w;var t=this.w;this.xaxisLabels=t.globals.labels.slice(),this.axesUtils=new Br(e),this.isRangeBar=t.globals.seriesRange.length&&t.globals.isBarHorizontal,t.globals.timescaleLabels.length>0&&(this.xaxisLabels=t.globals.timescaleLabels.slice())}return Oe(i,[{key:"drawGridArea",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.w,n=new ae(this.ctx);e||(e=n.group({class:"apexcharts-grid"}));var r=n.drawLine(t.globals.padHorizontal,1,t.globals.padHorizontal,t.globals.gridHeight,"transparent"),s=n.drawLine(t.globals.padHorizontal,t.globals.gridHeight,t.globals.gridWidth,t.globals.gridHeight,"transparent");return e.add(s),e.add(r),e}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var e=this.renderGrid();return this.drawGridArea(e.el),e}return null}},{key:"createGridMask",value:function(){var e=this.w,t=e.globals,n=new ae(this.ctx),r=Array.isArray(e.config.stroke.width)?Math.max.apply(Math,Zt(e.config.stroke.width)):e.config.stroke.width,s=function(u){var h=document.createElementNS(t.SVGNS,"clipPath");return h.setAttribute("id",u),h};t.dom.elGridRectMask=s("gridRectMask".concat(t.cuid)),t.dom.elGridRectBarMask=s("gridRectBarMask".concat(t.cuid)),t.dom.elGridRectMarkerMask=s("gridRectMarkerMask".concat(t.cuid)),t.dom.elForecastMask=s("forecastMask".concat(t.cuid)),t.dom.elNonForecastMask=s("nonForecastMask".concat(t.cuid));var o=0,a=0;(["bar","rangeBar","candlestick","boxPlot"].includes(e.config.chart.type)||e.globals.comboBarCount>0)&&e.globals.isXNumeric&&!e.globals.isBarHorizontal&&(o=Math.max(e.config.grid.padding.left,t.barPadForNumericAxis),a=Math.max(e.config.grid.padding.right,t.barPadForNumericAxis)),t.dom.elGridRect=n.drawRect(-r/2-2,-r/2-2,t.gridWidth+r+4,t.gridHeight+r+4,0,"#fff"),t.dom.elGridRectBar=n.drawRect(-r/2-o-2,-r/2-2,t.gridWidth+r+a+o+4,t.gridHeight+r+4,0,"#fff");var l=e.globals.markers.largestSize;t.dom.elGridRectMarker=n.drawRect(-l,-l,t.gridWidth+2*l,t.gridHeight+2*l,0,"#fff"),t.dom.elGridRectMask.appendChild(t.dom.elGridRect.node),t.dom.elGridRectBarMask.appendChild(t.dom.elGridRectBar.node),t.dom.elGridRectMarkerMask.appendChild(t.dom.elGridRectMarker.node);var c=t.dom.baseEl.querySelector("defs");c.appendChild(t.dom.elGridRectMask),c.appendChild(t.dom.elGridRectBarMask),c.appendChild(t.dom.elGridRectMarkerMask),c.appendChild(t.dom.elForecastMask),c.appendChild(t.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(e){var t=e.i,n=e.x1,r=e.y1,s=e.x2,o=e.y2,a=e.xCount,l=e.parent,c=this.w;if(!(t===0&&c.globals.skipFirstTimelinelabel||t===a-1&&c.globals.skipLastTimelinelabel&&!c.config.xaxis.labels.formatter||c.config.chart.type==="radar")){c.config.grid.xaxis.lines.show&&this._drawGridLine({i:t,x1:n,y1:r,x2:s,y2:o,xCount:a,parent:l});var u=0;if(c.globals.hasXaxisGroups&&c.config.xaxis.tickPlacement==="between"){var h=c.globals.groups;if(h){for(var d=0,f=0;d<t&&f<h.length;f++)d+=h[f].cols;d===t&&(u=.6*c.globals.xAxisLabelsHeight)}}new Ka(this.ctx).drawXaxisTicks(n,u,c.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(e){var t=e.i,n=e.x1,r=e.y1,s=e.x2,o=e.y2,a=e.xCount,l=e.parent,c=this.w,u=l.node.classList.contains("apexcharts-gridlines-horizontal"),h=c.globals.barPadForNumericAxis,d=r===0&&o===0||n===0&&s===0||r===c.globals.gridHeight&&o===c.globals.gridHeight||c.globals.isBarHorizontal&&(t===0||t===a-1),f=new ae(this).drawLine(n-(u?h:0),r,s+(u?h:0),o,c.config.grid.borderColor,c.config.grid.strokeDashArray);f.node.classList.add("apexcharts-gridline"),d&&c.config.grid.show?this.elGridBorders.add(f):l.add(f)}},{key:"_drawGridBandRect",value:function(e){var t=e.c,n=e.x1,r=e.y1,s=e.x2,o=e.y2,a=e.type,l=this.w,c=new ae(this.ctx),u=l.globals.barPadForNumericAxis,h=l.config.grid[a].colors[t],d=c.drawRect(n-(a==="row"?u:0),r,s+(a==="row"?2*u:0),o,0,h,l.config.grid[a].opacity);this.elg.add(d),d.attr("clip-path","url(#gridRectMask".concat(l.globals.cuid,")")),d.node.classList.add("apexcharts-grid-".concat(a))}},{key:"_drawXYLines",value:function(e){var t=this,n=e.xCount,r=e.tickAmount,s=this.w;if(s.config.grid.xaxis.lines.show||s.config.xaxis.axisTicks.show){var o,a=s.globals.padHorizontal,l=s.globals.gridHeight;s.globals.timescaleLabels.length?function(p){for(var m=p.xC,b=p.x1,y=p.y1,w=p.x2,C=p.y2,T=0;T<m;T++)b=t.xaxisLabels[T].position,w=t.xaxisLabels[T].position,t._drawGridLines({i:T,x1:b,y1:y,x2:w,y2:C,xCount:n,parent:t.elgridLinesV})}({xC:n,x1:a,y1:0,x2:o,y2:l}):(s.globals.isXNumeric&&(n=s.globals.xAxisScale.result.length),function(p){for(var m=p.xC,b=p.x1,y=p.y1,w=p.x2,C=p.y2,T=0;T<m+(s.globals.isXNumeric?0:1);T++)T===0&&m===1&&s.globals.dataPoints===1&&(w=b=s.globals.gridWidth/2),t._drawGridLines({i:T,x1:b,y1:y,x2:w,y2:C,xCount:n,parent:t.elgridLinesV}),w=b+=s.globals.gridWidth/(s.globals.isXNumeric?m-1:m)}({xC:n,x1:a,y1:0,x2:o,y2:l}))}if(s.config.grid.yaxis.lines.show){var c=0,u=0,h=s.globals.gridWidth,d=r+1;this.isRangeBar&&(d=s.globals.labels.length);for(var f=0;f<d+(this.isRangeBar?1:0);f++)this._drawGridLine({i:f,xCount:d+(this.isRangeBar?1:0),x1:0,y1:c,x2:h,y2:u,parent:this.elgridLinesH}),u=c+=s.globals.gridHeight/(this.isRangeBar?d:r)}}},{key:"_drawInvertedXYLines",value:function(e){var t=e.xCount,n=this.w;if(n.config.grid.xaxis.lines.show||n.config.xaxis.axisTicks.show)for(var r,s=n.globals.padHorizontal,o=n.globals.gridHeight,a=0;a<t+1;a++)n.config.grid.xaxis.lines.show&&this._drawGridLine({i:a,xCount:t+1,x1:s,y1:0,x2:r,y2:o,parent:this.elgridLinesV}),new Ka(this.ctx).drawXaxisTicks(s,0,n.globals.dom.elGraphical),r=s+=n.globals.gridWidth/t;if(n.config.grid.yaxis.lines.show)for(var l=0,c=0,u=n.globals.gridWidth,h=0;h<n.globals.dataPoints+1;h++)this._drawGridLine({i:h,xCount:n.globals.dataPoints+1,x1:0,y1:l,x2:u,y2:c,parent:this.elgridLinesH}),c=l+=n.globals.gridHeight/n.globals.dataPoints}},{key:"renderGrid",value:function(){var e=this.w,t=e.globals,n=new ae(this.ctx);this.elg=n.group({class:"apexcharts-grid"}),this.elgridLinesH=n.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=n.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=n.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),e.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var r=0;r<t.seriesYAxisMap.length&&t.ignoreYAxisIndexes.includes(r);)r++;r===t.seriesYAxisMap.length&&(r=0);var s,o=t.yAxisScale[r].result.length-1;if(!t.isBarHorizontal||this.isRangeBar){var a,l,c;s=this.xaxisLabels.length,this.isRangeBar&&(o=t.labels.length,e.config.xaxis.tickAmount&&e.config.xaxis.labels.formatter&&(s=e.config.xaxis.tickAmount),((a=t.yAxisScale)===null||a===void 0||(l=a[r])===null||l===void 0||(c=l.result)===null||c===void 0?void 0:c.length)>0&&e.config.xaxis.type!=="datetime"&&(s=t.yAxisScale[r].result.length-1)),this._drawXYLines({xCount:s,tickAmount:o})}else s=o,o=t.xTickAmount,this._drawInvertedXYLines({xCount:s,tickAmount:o});return this.drawGridBands(s,o),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:t.gridWidth/s}}},{key:"drawGridBands",value:function(e,t){var n,r,s=this,o=this.w;if(((n=o.config.grid.row.colors)===null||n===void 0?void 0:n.length)>0&&function(p,m,b,y,w,C){for(var T=0,k=0;T<m;T++,k++)k>=o.config.grid[p].colors.length&&(k=0),s._drawGridBandRect({c:k,x1:b,y1:y,x2:w,y2:C,type:p}),y+=o.globals.gridHeight/t}("row",t,0,0,o.globals.gridWidth,o.globals.gridHeight/t),((r=o.config.grid.column.colors)===null||r===void 0?void 0:r.length)>0){var a=o.globals.isBarHorizontal||o.config.xaxis.tickPlacement!=="on"||o.config.xaxis.type!=="category"&&!o.config.xaxis.convertedCatToNumeric?e:e-1;o.globals.isXNumeric&&(a=o.globals.xAxisScale.result.length-1);for(var l=o.globals.padHorizontal,c=o.globals.padHorizontal+o.globals.gridWidth/a,u=o.globals.gridHeight,h=0,d=0;h<e;h++,d++){var f;d>=o.config.grid.column.colors.length&&(d=0),o.config.xaxis.type==="datetime"&&(l=this.xaxisLabels[h].position,c=(((f=this.xaxisLabels[h+1])===null||f===void 0?void 0:f.position)||o.globals.gridWidth)-this.xaxisLabels[h].position),this._drawGridBandRect({c:d,x1:l,y1:0,x2:c,y2:u,type:"column"}),l+=o.globals.gridWidth/a}}}}]),i}(),Ty=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w,this.coreUtils=new Yt(this.ctx)}return Oe(i,[{key:"niceScale",value:function(e,t){var n,r,s,o,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=1e-11,c=this.w,u=c.globals;u.isBarHorizontal?(n=c.config.xaxis,r=Math.max((u.svgWidth-100)/25,2)):(n=c.config.yaxis[a],r=Math.max((u.svgHeight-100)/15,2)),H.isNumber(r)||(r=10),s=n.min!==void 0&&n.min!==null,o=n.max!==void 0&&n.min!==null;var h=n.stepSize!==void 0&&n.stepSize!==null,d=n.tickAmount!==void 0&&n.tickAmount!==null,f=d?n.tickAmount:u.niceScaleDefaultTicks[Math.min(Math.round(r/2),u.niceScaleDefaultTicks.length-1)];if(u.isMultipleYAxis&&!d&&u.multiAxisTickAmount>0&&(f=u.multiAxisTickAmount,d=!0),f=f==="dataPoints"?u.dataPoints-1:Math.abs(Math.round(f)),(e===Number.MIN_VALUE&&t===0||!H.isNumber(e)&&!H.isNumber(t)||e===Number.MIN_VALUE&&t===-Number.MAX_VALUE)&&(e=H.isNumber(n.min)?n.min:0,t=H.isNumber(n.max)?n.max:e+f,u.allSeriesCollapsed=!1),e>t){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var p=t;t=e,e=p}else e===t&&(e=e===0?0:e-1,t=t===0?2:t+1);var m=[];f<1&&(f=1);var b=f,y=Math.abs(t-e);!s&&e>0&&e/y<.15&&(e=0,s=!0),!o&&t<0&&-t/y<.15&&(t=0,o=!0);var w=(y=Math.abs(t-e))/b,C=w,T=Math.floor(Math.log10(C)),k=Math.pow(10,T),E=Math.ceil(C/k);if(w=C=(E=u.niceScaleAllowedMagMsd[u.yValueDecimal===0?0:1][E])*k,u.isBarHorizontal&&n.stepSize&&n.type!=="datetime"?(w=n.stepSize,h=!0):h&&(w=n.stepSize),h&&n.forceNiceScale){var M=Math.floor(Math.log10(w));w*=Math.pow(10,T-M)}if(s&&o){var O=y/b;if(d)if(h)if(H.mod(y,w)!=0){var P=H.getGCD(w,O);w=O/P<10?P:O}else H.mod(w,O)==0?w=O:(O=w,d=!1);else w=O;else if(h)H.mod(y,w)==0?O=w:w=O;else if(H.mod(y,w)==0)O=w;else{O=y/(b=Math.ceil(y/w));var N=H.getGCD(y,w);y/N<r&&(O=N),w=O}b=Math.round(y/w)}else{if(s||o){if(o)if(d)e=t-w*b;else{var R=e;e=w*Math.floor(e/w),Math.abs(t-e)/H.getGCD(y,w)>r&&(e=t-w*f,e+=w*Math.floor((R-e)/w))}else if(s)if(d)t=e+w*b;else{var D=t;t=w*Math.ceil(t/w),Math.abs(t-e)/H.getGCD(y,w)>r&&(t=e+w*f,t+=w*Math.ceil((D-t)/w))}}else if(u.isMultipleYAxis&&d){var V=w*Math.floor(e/w),q=V+w*b;q<t&&(w*=2),q=t,t=(e=V)+w*b,y=Math.abs(t-e),e>0&&e<Math.abs(q-t)&&(e=0,t=w*b),t<0&&-t<Math.abs(V-e)&&(t=0,e=-w*b)}else e=w*Math.floor(e/w),t=w*Math.ceil(t/w);y=Math.abs(t-e),w=H.getGCD(y,w),b=Math.round(y/w)}if(d||s||o||(b=Math.ceil((y-l)/(w+l)))>16&&H.getPrimeFactors(b).length<2&&b++,!d&&n.forceNiceScale&&u.yValueDecimal===0&&b>y&&(b=y,w=Math.round(y/b)),b>r&&(!d&&!h||n.forceNiceScale)){var re=H.getPrimeFactors(b),te=re.length-1,ie=b;e:for(var se=0;se<te;se++)for(var ve=0;ve<=te-se;ve++){for(var _e=Math.min(ve+se,te),ze=ie,nt=1,lt=ve;lt<=_e;lt++)nt*=re[lt];if((ze/=nt)<r){ie=ze;break e}}w=ie===b?y:y/ie,b=Math.round(y/w)}u.isMultipleYAxis&&u.multiAxisTickAmount==0&&u.ignoreYAxisIndexes.indexOf(a)<0&&(u.multiAxisTickAmount=b);var Ue=e-w,Lt=w*l;do Ue+=w,m.push(H.stripNumber(Ue,7));while(t-Ue>Lt);return{result:m,niceMin:m[0],niceMax:m[m.length-1]}}},{key:"linearScale",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,o=Math.abs(t-e),a=[];if(e===t)return{result:a=[e],niceMin:a[0],niceMax:a[a.length-1]};(n=this._adjustTicksForSmallRange(n,r,o))==="dataPoints"&&(n=this.w.globals.dataPoints-1),s||(s=o/n),s=Math.round(100*(s+Number.EPSILON))/100,n===Number.MAX_VALUE&&(n=5,s=1);for(var l=e;n>=0;)a.push(l),l=H.preciseAddition(l,s),n-=1;return{result:a,niceMin:a[0],niceMax:a[a.length-1]}}},{key:"logarithmicScaleNice",value:function(e,t,n){t<=0&&(t=Math.max(e,n)),e<=0&&(e=Math.min(t,n));for(var r=[],s=Math.ceil(Math.log(t)/Math.log(n)+1),o=Math.floor(Math.log(e)/Math.log(n));o<s;o++)r.push(Math.pow(n,o));return{result:r,niceMin:r[0],niceMax:r[r.length-1]}}},{key:"logarithmicScale",value:function(e,t,n){t<=0&&(t=Math.max(e,n)),e<=0&&(e=Math.min(t,n));for(var r=[],s=Math.log(t)/Math.log(n),o=Math.log(e)/Math.log(n),a=s-o,l=Math.round(a),c=a/l,u=0,h=o;u<l;u++,h+=c)r.push(Math.pow(n,h));return r.push(Math.pow(n,s)),{result:r,niceMin:e,niceMax:t}}},{key:"_adjustTicksForSmallRange",value:function(e,t,n){var r=e;if(t!==void 0&&this.w.config.yaxis[t].labels.formatter&&this.w.config.yaxis[t].tickAmount===void 0){var s=Number(this.w.config.yaxis[t].labels.formatter(1));H.isNumber(s)&&this.w.globals.yValueDecimal===0&&(r=Math.ceil(n))}return r<e?r:e}},{key:"setYScaleForIndex",value:function(e,t,n){var r=this.w.globals,s=this.w.config,o=r.isBarHorizontal?s.xaxis:s.yaxis[e];r.yAxisScale[e]===void 0&&(r.yAxisScale[e]=[]);var a=Math.abs(n-t);o.logarithmic&&a<=5&&(r.invalidLogScale=!0),o.logarithmic&&a>5?(r.allSeriesCollapsed=!1,r.yAxisScale[e]=o.forceNiceScale?this.logarithmicScaleNice(t,n,o.logBase):this.logarithmicScale(t,n,o.logBase)):n!==-Number.MAX_VALUE&&H.isNumber(n)&&t!==Number.MAX_VALUE&&H.isNumber(t)?(r.allSeriesCollapsed=!1,r.yAxisScale[e]=this.niceScale(t,n,e)):r.yAxisScale[e]=this.niceScale(Number.MIN_VALUE,0,e)}},{key:"setXScale",value:function(e,t){var n=this.w,r=n.globals;if(t!==-Number.MAX_VALUE&&H.isNumber(t)){var s=r.xTickAmount;r.xAxisScale=this.linearScale(e,t,s,0,n.config.xaxis.stepSize)}else r.xAxisScale=this.linearScale(0,10,10);return r.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var e=this,t=this.w.config,n=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var r=n.seriesYAxisMap,s=n.minYArr,o=n.maxYArr;n.allSeriesCollapsed=!0,n.barGroups=[],r.forEach(function(a,l){var c=[];a.forEach(function(u){var h,d=(h=t.series[u])===null||h===void 0?void 0:h.group;c.indexOf(d)<0&&c.push(d)}),a.length>0?function(){var u,h,d=Number.MAX_VALUE,f=-Number.MAX_VALUE,p=d,m=f;if(t.chart.stacked)(function(){var w=new Array(n.dataPoints).fill(0),C=[],T=[],k=[];c.forEach(function(){C.push(w.map(function(){return Number.MIN_VALUE})),T.push(w.map(function(){return Number.MIN_VALUE})),k.push(w.map(function(){return Number.MIN_VALUE}))});for(var E=function(O){!u&&t.series[a[O]].type&&(u=t.series[a[O]].type);var P=a[O];h=t.series[P].group?t.series[P].group:"axis-".concat(l),!(n.collapsedSeriesIndices.indexOf(P)<0&&n.ancillaryCollapsedSeriesIndices.indexOf(P)<0)||(n.allSeriesCollapsed=!1,c.forEach(function(N,R){if(t.series[P].group===N)for(var D=0;D<n.series[P].length;D++){var V=n.series[P][D];V>=0?T[R][D]+=V:k[R][D]+=V,C[R][D]+=V,p=Math.min(p,V),m=Math.max(m,V)}})),u!=="bar"&&u!=="column"||n.barGroups.push(h)},M=0;M<a.length;M++)E(M);u||(u=t.chart.type),u==="bar"||u==="column"?c.forEach(function(O,P){d=Math.min(d,Math.min.apply(null,k[P])),f=Math.max(f,Math.max.apply(null,T[P]))}):(c.forEach(function(O,P){p=Math.min(p,Math.min.apply(null,C[P])),m=Math.max(m,Math.max.apply(null,C[P]))}),d=p,f=m),d===Number.MIN_VALUE&&f===Number.MIN_VALUE&&(f=-Number.MAX_VALUE)})();else for(var b=0;b<a.length;b++){var y=a[b];d=Math.min(d,s[y]),f=Math.max(f,o[y]),!(n.collapsedSeriesIndices.indexOf(y)<0&&n.ancillaryCollapsedSeriesIndices.indexOf(y)<0)||(n.allSeriesCollapsed=!1)}t.yaxis[l].min!==void 0&&(d=typeof t.yaxis[l].min=="function"?t.yaxis[l].min(d):t.yaxis[l].min),t.yaxis[l].max!==void 0&&(f=typeof t.yaxis[l].max=="function"?t.yaxis[l].max(f):t.yaxis[l].max),n.barGroups=n.barGroups.filter(function(w,C,T){return T.indexOf(w)===C}),e.setYScaleForIndex(l,d,f),a.forEach(function(w){s[w]=n.yAxisScale[l].niceMin,o[w]=n.yAxisScale[l].niceMax})}():e.setYScaleForIndex(l,0,-Number.MAX_VALUE)})}}]),i}(),Tf=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w,this.scales=new Ty(e)}return Oe(i,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-Number.MAX_VALUE,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=this.w.config,o=this.w.globals,a=-Number.MAX_VALUE,l=Number.MIN_VALUE;r===null&&(r=e+1);var c=o.series,u=c,h=c;s.chart.type==="candlestick"?(u=o.seriesCandleL,h=o.seriesCandleH):s.chart.type==="boxPlot"?(u=o.seriesCandleO,h=o.seriesCandleC):o.isRangeData&&(u=o.seriesRangeStart,h=o.seriesRangeEnd);var d=!1;if(o.seriesX.length>=r){var f,p=(f=o.brushSource)===null||f===void 0?void 0:f.w.config.chart.brush;(s.chart.zoom.enabled&&s.chart.zoom.autoScaleYaxis||p!=null&&p.enabled&&p!=null&&p.autoScaleYaxis)&&(d=!0)}for(var m=e;m<r;m++){o.dataPoints=Math.max(o.dataPoints,c[m].length);var b=s.series[m].type;o.categoryLabels.length&&(o.dataPoints=o.categoryLabels.filter(function(k){return k!==void 0}).length),o.labels.length&&s.xaxis.type!=="datetime"&&o.series.reduce(function(k,E){return k+E.length},0)!==0&&(o.dataPoints=Math.max(o.dataPoints,o.labels.length));var y=0,w=c[m].length-1;if(d){if(s.xaxis.min)for(;y<w&&o.seriesX[m][y]<s.xaxis.min;y++);if(s.xaxis.max)for(;w>y&&o.seriesX[m][w]>s.xaxis.max;w--);}for(var C=y;C<=w&&C<o.series[m].length;C++){var T=c[m][C];if(T!==null&&H.isNumber(T)){switch(h[m][C]!==void 0&&(a=Math.max(a,h[m][C]),t=Math.min(t,h[m][C])),u[m][C]!==void 0&&(t=Math.min(t,u[m][C]),n=Math.max(n,u[m][C])),b){case"candlestick":o.seriesCandleC[m][C]!==void 0&&(a=Math.max(a,o.seriesCandleH[m][C]),t=Math.min(t,o.seriesCandleL[m][C]));break;case"boxPlot":o.seriesCandleC[m][C]!==void 0&&(a=Math.max(a,o.seriesCandleC[m][C]),t=Math.min(t,o.seriesCandleO[m][C]))}b&&b!=="candlestick"&&b!=="boxPlot"&&b!=="rangeArea"&&b!=="rangeBar"&&(a=Math.max(a,o.series[m][C]),t=Math.min(t,o.series[m][C])),o.seriesGoals[m]&&o.seriesGoals[m][C]&&Array.isArray(o.seriesGoals[m][C])&&o.seriesGoals[m][C].forEach(function(k){a=Math.max(a,k.value),t=Math.min(t,k.value)}),n=a,T=H.noExponents(T),H.isFloat(T)&&(o.yValueDecimal=Math.max(o.yValueDecimal,T.toString().split(".")[1].length)),l>u[m][C]&&u[m][C]<0&&(l=u[m][C])}else o.hasNullValues=!0}b!=="bar"&&b!=="column"||(l<0&&a<0&&(a=0,n=Math.max(n,0)),l===Number.MIN_VALUE&&(l=0,t=Math.min(t,0)))}return s.chart.type==="rangeBar"&&o.seriesRangeStart.length&&o.isBarHorizontal&&(l=t),s.chart.type==="bar"&&(l<0&&a<0&&(a=0),l===Number.MIN_VALUE&&(l=0)),{minY:l,maxY:a,lowestY:t,highestY:n}}},{key:"setYRange",value:function(){var e=this.w.globals,t=this.w.config;e.maxY=-Number.MAX_VALUE,e.minY=Number.MIN_VALUE;var n,r=Number.MAX_VALUE;if(e.isMultipleYAxis){r=Number.MAX_VALUE;for(var s=0;s<e.series.length;s++)n=this.getMinYMaxY(s),e.minYArr[s]=n.lowestY,e.maxYArr[s]=n.highestY,r=Math.min(r,n.lowestY)}return n=this.getMinYMaxY(0,r,null,e.series.length),t.chart.type==="bar"?(e.minY=n.minY,e.maxY=n.maxY):(e.minY=n.lowestY,e.maxY=n.highestY),r=n.lowestY,t.chart.stacked&&this._setStackedMinMax(),t.chart.type==="line"||t.chart.type==="area"||t.chart.type==="scatter"||t.chart.type==="candlestick"||t.chart.type==="boxPlot"||t.chart.type==="rangeBar"&&!e.isBarHorizontal?e.minY===Number.MIN_VALUE&&r!==-Number.MAX_VALUE&&r!==e.maxY&&(e.minY=r):e.minY=e.minY!==Number.MIN_VALUE?Math.min(n.minY,e.minY):n.minY,t.yaxis.forEach(function(o,a){o.max!==void 0&&(typeof o.max=="number"?e.maxYArr[a]=o.max:typeof o.max=="function"&&(e.maxYArr[a]=o.max(e.isMultipleYAxis?e.maxYArr[a]:e.maxY)),e.maxY=e.maxYArr[a]),o.min!==void 0&&(typeof o.min=="number"?e.minYArr[a]=o.min:typeof o.min=="function"&&(e.minYArr[a]=o.min(e.isMultipleYAxis?e.minYArr[a]===Number.MIN_VALUE?0:e.minYArr[a]:e.minY)),e.minY=e.minYArr[a])}),e.isBarHorizontal&&["min","max"].forEach(function(o){t.xaxis[o]!==void 0&&typeof t.xaxis[o]=="number"&&(o==="min"?e.minY=t.xaxis[o]:e.maxY=t.xaxis[o])}),e.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),e.minY=r):(this.scales.setYScaleForIndex(0,e.minY,e.maxY),e.minY=e.yAxisScale[0].niceMin,e.maxY=e.yAxisScale[0].niceMax,e.minYArr[0]=e.minY,e.maxYArr[0]=e.maxY),e.barGroups=[],e.lineGroups=[],e.areaGroups=[],t.series.forEach(function(o){switch(o.type||t.chart.type){case"bar":case"column":e.barGroups.push(o.group);break;case"line":e.lineGroups.push(o.group);break;case"area":e.areaGroups.push(o.group)}}),e.barGroups=e.barGroups.filter(function(o,a,l){return l.indexOf(o)===a}),e.lineGroups=e.lineGroups.filter(function(o,a,l){return l.indexOf(o)===a}),e.areaGroups=e.areaGroups.filter(function(o,a,l){return l.indexOf(o)===a}),{minY:e.minY,maxY:e.maxY,minYArr:e.minYArr,maxYArr:e.maxYArr,yAxisScale:e.yAxisScale}}},{key:"setXRange",value:function(){var e=this.w.globals,t=this.w.config,n=t.xaxis.type==="numeric"||t.xaxis.type==="datetime"||t.xaxis.type==="category"&&!e.noLabelsProvided||e.noLabelsProvided||e.isXNumeric;if(e.isXNumeric&&function(){for(var l=0;l<e.series.length;l++)if(e.labels[l])for(var c=0;c<e.labels[l].length;c++)e.labels[l][c]!==null&&H.isNumber(e.labels[l][c])&&(e.maxX=Math.max(e.maxX,e.labels[l][c]),e.initialMaxX=Math.max(e.maxX,e.labels[l][c]),e.minX=Math.min(e.minX,e.labels[l][c]),e.initialMinX=Math.min(e.minX,e.labels[l][c]))}(),e.noLabelsProvided&&t.xaxis.categories.length===0&&(e.maxX=e.labels[e.labels.length-1],e.initialMaxX=e.labels[e.labels.length-1],e.minX=1,e.initialMinX=1),e.isXNumeric||e.noLabelsProvided||e.dataFormatXNumeric){var r=10;if(t.xaxis.tickAmount===void 0)r=Math.round(e.svgWidth/150),t.xaxis.type==="numeric"&&e.dataPoints<30&&(r=e.dataPoints-1),r>e.dataPoints&&e.dataPoints!==0&&(r=e.dataPoints-1);else if(t.xaxis.tickAmount==="dataPoints"){if(e.series.length>1&&(r=e.series[e.maxValsInArrayIndex].length-1),e.isXNumeric){var s=Math.round(e.maxX-e.minX);s<30&&(r=s-1)}}else r=t.xaxis.tickAmount;if(e.xTickAmount=r,t.xaxis.max!==void 0&&typeof t.xaxis.max=="number"&&(e.maxX=t.xaxis.max),t.xaxis.min!==void 0&&typeof t.xaxis.min=="number"&&(e.minX=t.xaxis.min),t.xaxis.range!==void 0&&(e.minX=e.maxX-t.xaxis.range),e.minX!==Number.MAX_VALUE&&e.maxX!==-Number.MAX_VALUE)if(t.xaxis.convertedCatToNumeric&&!e.dataFormatXNumeric){for(var o=[],a=e.minX-1;a<e.maxX;a++)o.push(a+1);e.xAxisScale={result:o,niceMin:o[0],niceMax:o[o.length-1]}}else e.xAxisScale=this.scales.setXScale(e.minX,e.maxX);else e.xAxisScale=this.scales.linearScale(0,r,r,0,t.xaxis.stepSize),e.noLabelsProvided&&e.labels.length>0&&(e.xAxisScale=this.scales.linearScale(1,e.labels.length,r-1,0,t.xaxis.stepSize),e.seriesX=e.labels.slice());n&&(e.labels=e.xAxisScale.result.slice())}return e.isBarHorizontal&&e.labels.length&&(e.xTickAmount=e.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:e.minX,maxX:e.maxX}}},{key:"setZRange",value:function(){var e=this.w.globals;if(e.isDataXYZ){for(var t=0;t<e.series.length;t++)if(e.seriesZ[t]!==void 0)for(var n=0;n<e.seriesZ[t].length;n++)e.seriesZ[t][n]!==null&&H.isNumber(e.seriesZ[t][n])&&(e.maxZ=Math.max(e.maxZ,e.seriesZ[t][n]),e.minZ=Math.min(e.minZ,e.seriesZ[t][n]))}}},{key:"_handleSingleDataPoint",value:function(){var e=this.w.globals,t=this.w.config;if(e.minX===e.maxX){var n=new pn(this.ctx);if(t.xaxis.type==="datetime"){var r=n.getDate(e.minX);t.xaxis.labels.datetimeUTC?r.setUTCDate(r.getUTCDate()-2):r.setDate(r.getDate()-2),e.minX=new Date(r).getTime();var s=n.getDate(e.maxX);t.xaxis.labels.datetimeUTC?s.setUTCDate(s.getUTCDate()+2):s.setDate(s.getDate()+2),e.maxX=new Date(s).getTime()}else(t.xaxis.type==="numeric"||t.xaxis.type==="category"&&!e.noLabelsProvided)&&(e.minX=e.minX-2,e.initialMinX=e.minX,e.maxX=e.maxX+2,e.initialMaxX=e.maxX)}}},{key:"_getMinXDiff",value:function(){var e=this.w.globals;e.isXNumeric&&e.seriesX.forEach(function(t,n){if(t.length){t.length===1&&t.push(e.seriesX[e.maxValsInArrayIndex][e.seriesX[e.maxValsInArrayIndex].length-1]);var r=t.slice();r.sort(function(s,o){return s-o}),r.forEach(function(s,o){if(o>0){var a=s-r[o-1];a>0&&(e.minXDiff=Math.min(a,e.minXDiff))}}),e.dataPoints!==1&&e.minXDiff!==Number.MAX_VALUE||(e.minXDiff=.5)}})}},{key:"_setStackedMinMax",value:function(){var e=this,t=this.w.globals;if(t.series.length){var n=t.seriesGroups;n.length||(n=[this.w.globals.seriesNames.map(function(o){return o})]);var r={},s={};n.forEach(function(o){r[o]=[],s[o]=[],e.w.config.series.map(function(a,l){return o.indexOf(t.seriesNames[l])>-1?l:null}).filter(function(a){return a!==null}).forEach(function(a){for(var l=0;l<t.series[t.maxValsInArrayIndex].length;l++){var c,u,h,d;r[o][l]===void 0&&(r[o][l]=0,s[o][l]=0),(e.w.config.chart.stacked&&!t.comboCharts||e.w.config.chart.stacked&&t.comboCharts&&(!e.w.config.chart.stackOnlyBar||((c=e.w.config.series)===null||c===void 0||(u=c[a])===null||u===void 0?void 0:u.type)==="bar"||((h=e.w.config.series)===null||h===void 0||(d=h[a])===null||d===void 0?void 0:d.type)==="column"))&&t.series[a][l]!==null&&H.isNumber(t.series[a][l])&&(t.series[a][l]>0?r[o][l]+=parseFloat(t.series[a][l])+1e-4:s[o][l]+=parseFloat(t.series[a][l]))}})}),Object.entries(r).forEach(function(o){var a=zb(o,1)[0];r[a].forEach(function(l,c){t.maxY=Math.max(t.maxY,r[a][c]),t.minY=Math.min(t.minY,s[a][c])})})}}}]),i}(),Ef=function(){function i(e,t){Ee(this,i),this.ctx=e,this.elgrid=t,this.w=e.w;var n=this.w;this.xaxisFontSize=n.config.xaxis.labels.style.fontSize,this.axisFontFamily=n.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=n.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal=n.config.chart.type==="bar"&&n.config.plotOptions.bar.horizontal,this.xAxisoffX=n.config.xaxis.position==="bottom"?n.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new Br(e)}return Oe(i,[{key:"drawYaxis",value:function(e){var t=this.w,n=new ae(this.ctx),r=t.config.yaxis[e].labels.style,s=r.fontSize,o=r.fontFamily,a=r.fontWeight,l=n.group({class:"apexcharts-yaxis",rel:e,transform:"translate(".concat(t.globals.translateYAxisX[e],", 0)")});if(this.axesUtils.isYAxisHidden(e))return l;var c=n.group({class:"apexcharts-yaxis-texts-g"});l.add(c);var u=t.globals.yAxisScale[e].result.length-1,h=t.globals.gridHeight/u,d=t.globals.yLabelFormatters[e],f=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice());if(t.config.yaxis[e].labels.show){var p=t.globals.translateY+t.config.yaxis[e].labels.offsetY;t.globals.isBarHorizontal?p=0:t.config.chart.type==="heatmap"&&(p-=h/2),p+=parseInt(s,10)/3;for(var m=u;m>=0;m--){var b=d(f[m],m,t),y=t.config.yaxis[e].labels.padding;t.config.yaxis[e].opposite&&t.config.yaxis.length!==0&&(y*=-1);var w=this.getTextAnchor(t.config.yaxis[e].labels.align,t.config.yaxis[e].opposite),C=this.axesUtils.getYAxisForeColor(r.colors,e),T=Array.isArray(C)?C[m]:C,k=H.listToArray(t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-label tspan"))).map(function(M){return M.textContent}),E=n.drawText({x:y,y:p,text:k.includes(b)&&!t.config.yaxis[e].labels.showDuplicates?"":b,textAnchor:w,fontSize:s,fontFamily:o,fontWeight:a,maxWidth:t.config.yaxis[e].labels.maxWidth,foreColor:T,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(r.cssClass)});c.add(E),this.addTooltip(E,b),t.config.yaxis[e].labels.rotate!==0&&this.rotateLabel(n,E,firstLabel,t.config.yaxis[e].labels.rotate),p+=h}}return this.addYAxisTitle(n,l,e),this.addAxisBorder(n,l,e,u,h),l}},{key:"getTextAnchor",value:function(e,t){return e==="left"?"start":e==="center"?"middle":e==="right"?"end":t?"start":"end"}},{key:"addTooltip",value:function(e,t){var n=document.createElementNS(this.w.globals.SVGNS,"title");n.textContent=Array.isArray(t)?t.join(" "):t,e.node.appendChild(n)}},{key:"rotateLabel",value:function(e,t,n,r){var s=e.rotateAroundCenter(n.node),o=e.rotateAroundCenter(t.node);t.node.setAttribute("transform","rotate(".concat(r," ").concat(s.x," ").concat(o.y,")"))}},{key:"addYAxisTitle",value:function(e,t,n){var r=this.w;if(r.config.yaxis[n].title.text!==void 0){var s=e.group({class:"apexcharts-yaxis-title"}),o=r.config.yaxis[n].opposite?r.globals.translateYAxisX[n]:0,a=e.drawText({x:o,y:r.globals.gridHeight/2+r.globals.translateY+r.config.yaxis[n].title.offsetY,text:r.config.yaxis[n].title.text,textAnchor:"end",foreColor:r.config.yaxis[n].title.style.color,fontSize:r.config.yaxis[n].title.style.fontSize,fontWeight:r.config.yaxis[n].title.style.fontWeight,fontFamily:r.config.yaxis[n].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(r.config.yaxis[n].title.style.cssClass)});s.add(a),t.add(s)}}},{key:"addAxisBorder",value:function(e,t,n,r,s){var o=this.w,a=o.config.yaxis[n].axisBorder,l=31+a.offsetX;if(o.config.yaxis[n].opposite&&(l=-31-a.offsetX),a.show){var c=e.drawLine(l,o.globals.translateY+a.offsetY-2,l,o.globals.gridHeight+o.globals.translateY+a.offsetY+2,a.color,0,a.width);t.add(c)}o.config.yaxis[n].axisTicks.show&&this.axesUtils.drawYAxisTicks(l,r,a,o.config.yaxis[n].axisTicks,n,s,t)}},{key:"drawYaxisInversed",value:function(e){var t=this.w,n=new ae(this.ctx),r=n.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),s=n.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});r.add(s);var o=t.globals.yAxisScale[e].result.length-1,a=t.globals.gridWidth/o+.1,l=a+t.config.xaxis.labels.offsetX,c=t.globals.xLabelFormatter,u=this.axesUtils.checkForReversedLabels(e,t.globals.yAxisScale[e].result.slice()),h=t.globals.timescaleLabels;if(h.length>0&&(this.xaxisLabels=h.slice(),o=(u=h.slice()).length),t.config.xaxis.labels.show)for(var d=h.length?0:o;h.length?d<h.length:d>=0;h.length?d++:d--){var f=c(u[d],d,t),p=t.globals.gridWidth+t.globals.padHorizontal-(l-a+t.config.xaxis.labels.offsetX);if(h.length){var m=this.axesUtils.getLabel(u,h,p,d,this.drawnLabels,this.xaxisFontSize);p=m.x,f=m.text,this.drawnLabels.push(m.text),d===0&&t.globals.skipFirstTimelinelabel&&(f=""),d===u.length-1&&t.globals.skipLastTimelinelabel&&(f="")}var b=n.drawText({x:p,y:this.xAxisoffX+t.config.xaxis.labels.offsetY+30-(t.config.xaxis.position==="top"?t.globals.xAxisHeight+t.config.xaxis.axisTicks.height-2:0),text:f,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[e]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:t.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(t.config.xaxis.labels.style.cssClass)});s.add(b),b.tspan(f),this.addTooltip(b,f),l+=a}return this.inversedYAxisTitleText(r),this.inversedYAxisBorder(r),r}},{key:"inversedYAxisBorder",value:function(e){var t=this.w,n=new ae(this.ctx),r=t.config.xaxis.axisBorder;if(r.show){var s=0;t.config.chart.type==="bar"&&t.globals.isXNumeric&&(s-=15);var o=n.drawLine(t.globals.padHorizontal+s+r.offsetX,this.xAxisoffX,t.globals.gridWidth,this.xAxisoffX,r.color,0,r.height);this.elgrid&&this.elgrid.elGridBorders&&t.config.grid.show?this.elgrid.elGridBorders.add(o):e.add(o)}}},{key:"inversedYAxisTitleText",value:function(e){var t=this.w,n=new ae(this.ctx);if(t.config.xaxis.title.text!==void 0){var r=n.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),s=n.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(t.config.xaxis.title.style.fontSize)+t.config.xaxis.title.offsetY+20,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(t.config.xaxis.title.style.cssClass)});r.add(s),e.add(r)}}},{key:"yAxisTitleRotate",value:function(e,t){var n=this.w,r=new ae(this.ctx),s=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-texts-g")),o=s?s.getBoundingClientRect():{width:0,height:0},a=n.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e,"'] .apexcharts-yaxis-title text")),l=a?a.getBoundingClientRect():{width:0,height:0};if(a){var c=this.xPaddingForYAxisTitle(e,o,l,t);a.setAttribute("x",c.xPos-(t?10:0));var u=r.rotateAroundCenter(a);a.setAttribute("transform","rotate(".concat(t?-1*n.config.yaxis[e].title.rotate:n.config.yaxis[e].title.rotate," ").concat(u.x," ").concat(u.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(e,t,n,r){var s=this.w,o=0,a=10;return s.config.yaxis[e].title.text===void 0||e<0?{xPos:o,padd:0}:(r?o=t.width+s.config.yaxis[e].title.offsetX+n.width/2+a/2:(o=-1*t.width+s.config.yaxis[e].title.offsetX+a/2+n.width/2,s.globals.isBarHorizontal&&(a=25,o=-1*t.width-s.config.yaxis[e].title.offsetX-a)),{xPos:o,padd:a})}},{key:"setYAxisXPosition",value:function(e,t){var n=this.w,r=0,s=0,o=18,a=1;n.config.yaxis.length>1&&(this.multipleYs=!0),n.config.yaxis.forEach(function(l,c){var u=n.globals.ignoreYAxisIndexes.includes(c)||!l.show||l.floating||e[c].width===0,h=e[c].width+t[c].width;l.opposite?n.globals.isBarHorizontal?(s=n.globals.gridWidth+n.globals.translateX-1,n.globals.translateYAxisX[c]=s-l.labels.offsetX):(s=n.globals.gridWidth+n.globals.translateX+a,u||(a+=h+20),n.globals.translateYAxisX[c]=s-l.labels.offsetX+20):(r=n.globals.translateX-o,u||(o+=h+20),n.globals.translateYAxisX[c]=r+l.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var e=this.w;H.listToArray(e.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach(function(t,n){var r=e.config.yaxis[n];if(r&&!r.floating&&r.labels.align!==void 0){var s=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-texts-g")),o=H.listToArray(e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(n,"'] .apexcharts-yaxis-label"))),a=s.getBoundingClientRect();o.forEach(function(l){l.setAttribute("text-anchor",r.labels.align)}),r.labels.align!=="left"||r.opposite?r.labels.align==="center"?s.setAttribute("transform","translate(".concat(a.width/2*(r.opposite?1:-1),", 0)")):r.labels.align==="right"&&r.opposite&&s.setAttribute("transform","translate(".concat(a.width,", 0)")):s.setAttribute("transform","translate(-".concat(a.width,", 0)"))}})}}]),i}(),_M=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w,this.documentEvent=H.bind(this.documentEvent,this)}return Oe(i,[{key:"addEventListener",value:function(e,t){var n=this.w;n.globals.events.hasOwnProperty(e)?n.globals.events[e].push(t):n.globals.events[e]=[t]}},{key:"removeEventListener",value:function(e,t){var n=this.w;if(n.globals.events.hasOwnProperty(e)){var r=n.globals.events[e].indexOf(t);r!==-1&&n.globals.events[e].splice(r,1)}}},{key:"fireEvent",value:function(e,t){var n=this.w;if(n.globals.events.hasOwnProperty(e)){t&&t.length||(t=[]);for(var r=n.globals.events[e],s=r.length,o=0;o<s;o++)r[o].apply(null,t)}}},{key:"setupEventHandlers",value:function(){var e=this,t=this.w,n=this.ctx,r=t.globals.dom.baseEl.querySelector(t.globals.chartClass);this.ctx.eventList.forEach(function(s){r.addEventListener(s,function(o){var a=Object.assign({},t,{seriesIndex:t.globals.axisCharts?t.globals.capturedSeriesIndex:0,dataPointIndex:t.globals.capturedDataPointIndex});o.type==="mousemove"||o.type==="touchmove"?typeof t.config.chart.events.mouseMove=="function"&&t.config.chart.events.mouseMove(o,n,a):o.type==="mouseleave"||o.type==="touchleave"?typeof t.config.chart.events.mouseLeave=="function"&&t.config.chart.events.mouseLeave(o,n,a):(o.type==="mouseup"&&o.which===1||o.type==="touchend")&&(typeof t.config.chart.events.click=="function"&&t.config.chart.events.click(o,n,a),n.ctx.events.fireEvent("click",[o,n,a]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(s){t.globals.dom.baseEl.addEventListener(s,e.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(e){var t=this.w,n=e.target.className;if(e.type==="click"){var r=t.globals.dom.baseEl.querySelector(".apexcharts-menu");r&&r.classList.contains("apexcharts-menu-open")&&n!=="apexcharts-menu-icon"&&r.classList.remove("apexcharts-menu-open")}t.globals.clientX=e.type==="touchmove"?e.touches[0].clientX:e.clientX,t.globals.clientY=e.type==="touchmove"?e.touches[0].clientY:e.clientY}}]),i}(),DM=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"setCurrentLocaleValues",value:function(e){var t=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(t=this.w.config.chart.locales.concat(window.Apex.chart.locales));var n=t.filter(function(s){return s.name===e})[0];if(!n)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var r=H.extend(Sy,n);this.w.globals.locale=r.options}}]),i}(),NM=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"drawAxis",value:function(e,t){var n,r,s=this,o=this.w.globals,a=this.w.config,l=new Ka(this.ctx,t),c=new Ef(this.ctx,t);o.axisCharts&&e!=="radar"&&(o.isBarHorizontal?(r=c.drawYaxisInversed(0),n=l.drawXaxisInversed(0),o.dom.elGraphical.add(n),o.dom.elGraphical.add(r)):(n=l.drawXaxis(),o.dom.elGraphical.add(n),a.yaxis.map(function(u,h){if(o.ignoreYAxisIndexes.indexOf(h)===-1&&(r=c.drawYaxis(h),o.dom.Paper.add(r),s.w.config.grid.position==="back")){var d=o.dom.Paper.children()[1];d.remove(),o.dom.Paper.add(d)}})))}}]),i}(),Of=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"drawXCrosshairs",value:function(){var e=this.w,t=new ae(this.ctx),n=new fn(this.ctx),r=e.config.xaxis.crosshairs.fill.gradient,s=e.config.xaxis.crosshairs.dropShadow,o=e.config.xaxis.crosshairs.fill.type,a=r.colorFrom,l=r.colorTo,c=r.opacityFrom,u=r.opacityTo,h=r.stops,d=s.enabled,f=s.left,p=s.top,m=s.blur,b=s.color,y=s.opacity,w=e.config.xaxis.crosshairs.fill.color;if(e.config.xaxis.crosshairs.show){o==="gradient"&&(w=t.drawGradient("vertical",a,l,c,u,null,h,null));var C=t.drawRect();e.config.xaxis.crosshairs.width===1&&(C=t.drawLine());var T=e.globals.gridHeight;(!H.isNumber(T)||T<0)&&(T=0);var k=e.config.xaxis.crosshairs.width;(!H.isNumber(k)||k<0)&&(k=0),C.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:T,width:k,height:T,fill:w,filter:"none","fill-opacity":e.config.xaxis.crosshairs.opacity,stroke:e.config.xaxis.crosshairs.stroke.color,"stroke-width":e.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":e.config.xaxis.crosshairs.stroke.dashArray}),d&&(C=n.dropShadow(C,{left:f,top:p,blur:m,color:b,opacity:y})),e.globals.dom.elGraphical.add(C)}}},{key:"drawYCrosshairs",value:function(){var e=this.w,t=new ae(this.ctx),n=e.config.yaxis[0].crosshairs,r=e.globals.barPadForNumericAxis;if(e.config.yaxis[0].crosshairs.show){var s=t.drawLine(-r,0,e.globals.gridWidth+r,0,n.stroke.color,n.stroke.dashArray,n.stroke.width);s.attr({class:"apexcharts-ycrosshairs"}),e.globals.dom.elGraphical.add(s)}var o=t.drawLine(-r,0,e.globals.gridWidth+r,0,n.stroke.color,0,0);o.attr({class:"apexcharts-ycrosshairs-hidden"}),e.globals.dom.elGraphical.add(o)}}]),i}(),FM=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"checkResponsiveConfig",value:function(e){var t=this,n=this.w,r=n.config;if(r.responsive.length!==0){var s=r.responsive.slice();s.sort(function(c,u){return c.breakpoint>u.breakpoint?1:u.breakpoint>c.breakpoint?-1:0}).reverse();var o=new qa({}),a=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},u=s[0].breakpoint,h=window.innerWidth>0?window.innerWidth:screen.width;if(h>u){var d=H.clone(n.globals.initialConfig);d.series=H.clone(n.config.series);var f=Yt.extendArrayProps(o,d,n);c=H.extend(f,c),c=H.extend(n.config,c),t.overrideResponsiveOptions(c)}else for(var p=0;p<s.length;p++)h<s[p].breakpoint&&(c=Yt.extendArrayProps(o,s[p].options,n),c=H.extend(n.config,c),t.overrideResponsiveOptions(c))};if(e){var l=Yt.extendArrayProps(o,e,n);l=H.extend(n.config,l),a(l=H.extend(l,e))}else a({})}}},{key:"overrideResponsiveOptions",value:function(e){var t=new qa(e).init({responsiveOverride:!0});this.w.config=t}}]),i}(),zM=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return Oe(i,[{key:"checkHeatmapDistributed",value:function(){var e=this.w.config,t=e.chart,n=e.plotOptions;return t.type==="treemap"&&n.treemap&&n.treemap.distributed||t.type==="heatmap"&&n.heatmap&&n.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var e=this.w.config,t=e.chart,n=e.plotOptions;return n.bar&&n.bar.distributed&&(t.type==="bar"||t.type==="rangeBar")}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var e=this.w,t=new H;e.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(e.config.theme.mode));var n=Zt(e.config.colors||e.config.fill.colors||[]);e.globals.colors=this.getColors(n),this.applySeriesColors(e.globals.seriesColors,e.globals.colors),e.config.theme.monochrome.enabled&&(e.globals.colors=this.getMonochromeColors(e.config.theme.monochrome,e.globals.series,t));var r=e.globals.colors.slice();this.pushExtraColors(e.globals.colors),this.applyColorTypes(["fill","stroke"],r),this.applyDataLabelsColors(r),this.applyRadarPolygonsColors(),this.applyMarkersColors(r)}},{key:"getColors",value:function(e){var t=this,n=this.w;return e&&e.length!==0?Array.isArray(e)&&e.length>0&&typeof e[0]=="function"?(this.isColorFn=!0,n.config.series.map(function(r,s){var o=e[s]||e[0];return typeof o=="function"?o({value:n.globals.axisCharts?n.globals.series[s][0]||0:n.globals.series[s],seriesIndex:s,dataPointIndex:s,w:t.w}):o})):e:this.predefined()}},{key:"applySeriesColors",value:function(e,t){e.forEach(function(n,r){n&&(t[r]=n)})}},{key:"getMonochromeColors",value:function(e,t,n){var r=e.color,s=e.shadeIntensity,o=e.shadeTo,a=this.isBarDistributed||this.isHeatmapDistributed?t[0].length*t.length:t.length,l=1/(a/s),c=0;return Array.from({length:a},function(){var u=o==="dark"?n.shadeColor(-1*c,r):n.shadeColor(c,r);return c+=l,u})}},{key:"applyColorTypes",value:function(e,t){var n=this,r=this.w;e.forEach(function(s){r.globals[s].colors=r.config[s].colors===void 0?n.isColorFn?r.config.colors:t:r.config[s].colors.slice(),n.pushExtraColors(r.globals[s].colors)})}},{key:"applyDataLabelsColors",value:function(e){var t=this.w;t.globals.dataLabels.style.colors=t.config.dataLabels.style.colors===void 0?e:t.config.dataLabels.style.colors.slice(),this.pushExtraColors(t.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var e=this.w;e.globals.radarPolygons.fill.colors=e.config.plotOptions.radar.polygons.fill.colors===void 0?[e.config.theme.mode==="dark"?"#424242":"none"]:e.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(e.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(e){var t=this.w;t.globals.markers.colors=t.config.markers.colors===void 0?e:t.config.markers.colors.slice(),this.pushExtraColors(t.globals.markers.colors)}},{key:"pushExtraColors",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=this.w,s=t||r.globals.series.length;if(n===null&&(n=this.isBarDistributed||this.isHeatmapDistributed||r.config.chart.type==="heatmap"&&r.config.plotOptions.heatmap&&r.config.plotOptions.heatmap.colorScale.inverse),n&&r.globals.series.length&&(s=r.globals.series[r.globals.maxValsInArrayIndex].length*r.globals.series.length),e.length<s)for(var o=s-e.length,a=0;a<o;a++)e.push(e[a])}},{key:"updateThemeOptions",value:function(e){e.chart=e.chart||{},e.tooltip=e.tooltip||{};var t=e.theme.mode,n=t==="dark"?"palette4":t==="light"?"palette1":e.theme.palette||"palette1",r=t==="dark"?"#f6f7f8":t==="light"?"#373d3f":e.chart.foreColor||"#373d3f";return e.tooltip.theme=t||"light",e.chart.foreColor=r,e.theme.palette=n,e}},{key:"predefined",value:function(){var e={palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"],palette3:["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"],palette4:["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"],palette5:["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"],default:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]};return e[this.w.config.theme.palette]||e.default}}]),i}(),BM=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(e){var t=this.w,n=e==="title"?t.config.title:t.config.subtitle,r=t.globals.svgWidth/2,s=n.offsetY,o="middle";if(n.align==="left"?(r=10,o="start"):n.align==="right"&&(r=t.globals.svgWidth-10,o="end"),r+=n.offsetX,s=s+parseInt(n.style.fontSize,10)+n.margin/2,n.text!==void 0){var a=new ae(this.ctx).drawText({x:r,y:s,text:n.text,textAnchor:o,fontSize:n.style.fontSize,fontFamily:n.style.fontFamily,fontWeight:n.style.fontWeight,foreColor:n.style.color,opacity:1});a.node.setAttribute("class","apexcharts-".concat(e,"-text")),t.globals.dom.Paper.add(a)}}}]),i}(),HM=function(){function i(e){Ee(this,i),this.w=e.w,this.dCtx=e}return Oe(i,[{key:"getTitleSubtitleCoords",value:function(e){var t=this.w,n=0,r=0,s=e==="title"?t.config.title.floating:t.config.subtitle.floating,o=t.globals.dom.baseEl.querySelector(".apexcharts-".concat(e,"-text"));if(o!==null&&!s){var a=o.getBoundingClientRect();n=a.width,r=t.globals.axisCharts?a.height+5:a.height}return{width:n,height:r}}},{key:"getLegendsRect",value:function(){var e=this.w,t=e.globals.dom.elLegendWrap;e.config.legend.height||e.config.legend.position!=="top"&&e.config.legend.position!=="bottom"||(t.style.maxHeight=e.globals.svgHeight/2+"px");var n=Object.assign({},H.getBoundingClientRect(t));return t!==null&&!e.config.legend.floating&&e.config.legend.show?this.dCtx.lgRect={x:n.x,y:n.y,height:n.height,width:n.height===0?0:n.width}:this.dCtx.lgRect={x:0,y:0,height:0,width:0},e.config.legend.position!=="left"&&e.config.legend.position!=="right"||1.5*this.dCtx.lgRect.width>e.globals.svgWidth&&(this.dCtx.lgRect.width=e.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var e=this,t=this.w,n=[];t.config.series.forEach(function(l,c){l.data.forEach(function(u,h){var d;d=t.globals.series[c][h],r=t.config.dataLabels.formatter(d,{ctx:e.dCtx.ctx,seriesIndex:c,dataPointIndex:h,w:t}),n.push(r)})});var r=H.getLargestStringFromArr(n),s=new ae(this.dCtx.ctx),o=t.config.dataLabels.style,a=s.getTextRects(r,parseInt(o.fontSize),o.fontFamily);return{width:1.05*a.width,height:a.height}}},{key:"getLargestStringFromMultiArr",value:function(e,t){var n=e;if(this.w.globals.isMultiLineX){var r=t.map(function(o,a){return Array.isArray(o)?o.length:1}),s=Math.max.apply(Math,Zt(r));n=t[r.indexOf(s)]}return n}}]),i}(),WM=function(){function i(e){Ee(this,i),this.w=e.w,this.dCtx=e}return Oe(i,[{key:"getxAxisLabelsCoords",value:function(){var e,t=this.w,n=t.globals.labels.slice();if(t.config.xaxis.convertedCatToNumeric&&n.length===0&&(n=t.globals.categoryLabels),t.globals.timescaleLabels.length>0){var r=this.getxAxisTimeScaleLabelsCoords();e={width:r.width,height:r.height},t.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends=t.config.legend.position!=="left"&&t.config.legend.position!=="right"||t.config.legend.floating?0:this.dCtx.lgRect.width;var s=t.globals.xLabelFormatter,o=H.getLargestStringFromArr(n),a=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,n);t.globals.isBarHorizontal&&(a=o=t.globals.yAxisScale[0].result.reduce(function(p,m){return p.length>m.length?p:m},0));var l=new $a(this.dCtx.ctx),c=o;o=l.xLabelFormat(s,o,c,{i:void 0,dateFormatter:new pn(this.dCtx.ctx).formatDate,w:t}),a=l.xLabelFormat(s,a,c,{i:void 0,dateFormatter:new pn(this.dCtx.ctx).formatDate,w:t}),(t.config.xaxis.convertedCatToNumeric&&o===void 0||String(o).trim()==="")&&(a=o="1");var u=new ae(this.dCtx.ctx),h=u.getTextRects(o,t.config.xaxis.labels.style.fontSize),d=h;if(o!==a&&(d=u.getTextRects(a,t.config.xaxis.labels.style.fontSize)),(e={width:h.width>=d.width?h.width:d.width,height:h.height>=d.height?h.height:d.height}).width*n.length>t.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&t.config.xaxis.labels.rotate!==0||t.config.xaxis.labels.rotateAlways){if(!t.globals.isBarHorizontal){t.globals.rotateXLabels=!0;var f=function(p){return u.getTextRects(p,t.config.xaxis.labels.style.fontSize,t.config.xaxis.labels.style.fontFamily,"rotate(".concat(t.config.xaxis.labels.rotate," 0 0)"),!1)};h=f(o),o!==a&&(d=f(a)),e.height=(h.height>d.height?h.height:d.height)/1.5,e.width=h.width>d.width?h.width:d.width}}else t.globals.rotateXLabels=!1}return t.config.xaxis.labels.show||(e={width:0,height:0}),{width:e.width,height:e.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var e,t=this.w;if(!t.globals.hasXaxisGroups)return{width:0,height:0};var n,r=((e=t.config.xaxis.group.style)===null||e===void 0?void 0:e.fontSize)||t.config.xaxis.labels.style.fontSize,s=t.globals.groups.map(function(h){return h.title}),o=H.getLargestStringFromArr(s),a=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,s),l=new ae(this.dCtx.ctx),c=l.getTextRects(o,r),u=c;return o!==a&&(u=l.getTextRects(a,r)),n={width:c.width>=u.width?c.width:u.width,height:c.height>=u.height?c.height:u.height},t.config.xaxis.labels.show||(n={width:0,height:0}),{width:n.width,height:n.height}}},{key:"getxAxisTitleCoords",value:function(){var e=this.w,t=0,n=0;if(e.config.xaxis.title.text!==void 0){var r=new ae(this.dCtx.ctx).getTextRects(e.config.xaxis.title.text,e.config.xaxis.title.style.fontSize);t=r.width,n=r.height}return{width:t,height:n}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var e,t=this.w;this.dCtx.timescaleLabels=t.globals.timescaleLabels.slice();var n=this.dCtx.timescaleLabels.map(function(s){return s.value}),r=n.reduce(function(s,o){return s===void 0?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):s.length>o.length?s:o},0);return 1.05*(e=new ae(this.dCtx.ctx).getTextRects(r,t.config.xaxis.labels.style.fontSize)).width*n.length>t.globals.gridWidth&&t.config.xaxis.labels.rotate!==0&&(t.globals.overlappingXLabels=!0),e}},{key:"additionalPaddingXLabels",value:function(e){var t=this,n=this.w,r=n.globals,s=n.config,o=s.xaxis.type,a=e.width;r.skipLastTimelinelabel=!1,r.skipFirstTimelinelabel=!1;var l=n.config.yaxis[0].opposite&&n.globals.isBarHorizontal,c=function(u,h){s.yaxis.length>1&&function(d){return r.collapsedSeriesIndices.indexOf(d)!==-1}(h)||function(d){if(t.dCtx.timescaleLabels&&t.dCtx.timescaleLabels.length){var f=t.dCtx.timescaleLabels[0],p=t.dCtx.timescaleLabels[t.dCtx.timescaleLabels.length-1].position+a/1.75-t.dCtx.yAxisWidthRight,m=f.position-a/1.75+t.dCtx.yAxisWidthLeft,b=n.config.legend.position==="right"&&t.dCtx.lgRect.width>0?t.dCtx.lgRect.width:0;p>r.svgWidth-r.translateX-b&&(r.skipLastTimelinelabel=!0),m<-(d.show&&!d.floating||s.chart.type!=="bar"&&s.chart.type!=="candlestick"&&s.chart.type!=="rangeBar"&&s.chart.type!=="boxPlot"?10:a/1.75)&&(r.skipFirstTimelinelabel=!0)}else o==="datetime"?t.dCtx.gridPad.right<a&&!r.rotateXLabels&&(r.skipLastTimelinelabel=!0):o!=="datetime"&&t.dCtx.gridPad.right<a/2-t.dCtx.yAxisWidthRight&&!r.rotateXLabels&&!n.config.xaxis.labels.trim&&(t.dCtx.xPadRight=a/2+1)}(u)};s.yaxis.forEach(function(u,h){l?(t.dCtx.gridPad.left<a&&(t.dCtx.xPadLeft=a/2+1),t.dCtx.xPadRight=a/2+1):c(u,h)})}}]),i}(),XM=function(){function i(e){Ee(this,i),this.w=e.w,this.dCtx=e}return Oe(i,[{key:"getyAxisLabelsCoords",value:function(){var e=this,t=this.w,n=[],r=10,s=new Br(this.dCtx.ctx);return t.config.yaxis.map(function(o,a){var l={seriesIndex:a,dataPointIndex:-1,w:t},c=t.globals.yAxisScale[a],u=0;if(!s.isYAxisHidden(a)&&o.labels.show&&o.labels.minWidth!==void 0&&(u=o.labels.minWidth),!s.isYAxisHidden(a)&&o.labels.show&&c.result.length){var h=t.globals.yLabelFormatters[a],d=c.niceMin===Number.MIN_VALUE?0:c.niceMin,f=c.result.reduce(function(T,k){var E,M;return((E=String(h(T,l)))===null||E===void 0?void 0:E.length)>((M=String(h(k,l)))===null||M===void 0?void 0:M.length)?T:k},d),p=f=h(f,l);if(f!==void 0&&f.length!==0||(f=c.niceMax),t.globals.isBarHorizontal){r=0;var m=t.globals.labels.slice();f=H.getLargestStringFromArr(m),f=h(f,{seriesIndex:a,dataPointIndex:-1,w:t}),p=e.dCtx.dimHelpers.getLargestStringFromMultiArr(f,m)}var b=new ae(e.dCtx.ctx),y="rotate(".concat(o.labels.rotate," 0 0)"),w=b.getTextRects(f,o.labels.style.fontSize,o.labels.style.fontFamily,y,!1),C=w;f!==p&&(C=b.getTextRects(p,o.labels.style.fontSize,o.labels.style.fontFamily,y,!1)),n.push({width:(u>C.width||u>w.width?u:C.width>w.width?C.width:w.width)+r,height:C.height>w.height?C.height:w.height})}else n.push({width:0,height:0})}),n}},{key:"getyAxisTitleCoords",value:function(){var e=this,t=this.w,n=[];return t.config.yaxis.map(function(r,s){if(r.show&&r.title.text!==void 0){var o=new ae(e.dCtx.ctx),a="rotate(".concat(r.title.rotate," 0 0)"),l=o.getTextRects(r.title.text,r.title.style.fontSize,r.title.style.fontFamily,a,!1);n.push({width:l.width,height:l.height})}else n.push({width:0,height:0})}),n}},{key:"getTotalYAxisWidth",value:function(){var e=this.w,t=0,n=0,r=0,s=e.globals.yAxisScale.length>1?10:0,o=new Br(this.dCtx.ctx),a=function(l,c){var u=e.config.yaxis[c].floating,h=0;l.width>0&&!u?(h=l.width+s,function(d){return e.globals.ignoreYAxisIndexes.indexOf(d)>-1}(c)&&(h=h-l.width-s)):h=u||o.isYAxisHidden(c)?0:5,e.config.yaxis[c].opposite?r+=h:n+=h,t+=h};return e.globals.yLabelsCoords.map(function(l,c){a(l,c)}),e.globals.yTitleCoords.map(function(l,c){a(l,c)}),e.globals.isBarHorizontal&&!e.config.yaxis[0].floating&&(t=e.globals.yLabelsCoords[0].width+e.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=n,this.dCtx.yAxisWidthRight=r,t}}]),i}(),YM=function(){function i(e){Ee(this,i),this.w=e.w,this.dCtx=e}return Oe(i,[{key:"gridPadForColumnsInNumericAxis",value:function(e){var t=this.w,n=t.config,r=t.globals;if(r.noData||r.collapsedSeries.length+r.ancillaryCollapsedSeries.length===n.series.length)return 0;var s=function(f){return["bar","rangeBar","candlestick","boxPlot"].includes(f)},o=n.chart.type,a=0,l=s(o)?n.series.length:1;r.comboBarCount>0&&(l=r.comboBarCount),r.collapsedSeries.forEach(function(f){s(f.type)&&(l-=1)}),n.chart.stacked&&(l=1);var c=s(o)||r.comboBarCount>0,u=Math.abs(r.initialMaxX-r.initialMinX);if(c&&r.isXNumeric&&!r.isBarHorizontal&&l>0&&u!==0){u<=3&&(u=r.dataPoints);var h=u/e,d=r.minXDiff&&r.minXDiff/h>0?r.minXDiff/h:0;d>e/2&&(d/=2),(a=d*parseInt(n.plotOptions.bar.columnWidth,10)/100)<1&&(a=1),r.barPadForNumericAxis=a}return a}},{key:"gridPadFortitleSubtitle",value:function(){var e=this,t=this.w,n=t.globals,r=this.dCtx.isSparkline||!n.axisCharts?0:10;["title","subtitle"].forEach(function(a){t.config[a].text!==void 0?r+=t.config[a].margin:r+=e.dCtx.isSparkline||!n.axisCharts?0:5}),!t.config.legend.show||t.config.legend.position!=="bottom"||t.config.legend.floating||n.axisCharts||(r+=10);var s=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),o=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");n.gridHeight-=s.height+o.height+r,n.translateY+=s.height+o.height+r}},{key:"setGridXPosForDualYAxis",value:function(e,t){var n=this.w,r=new Br(this.dCtx.ctx);n.config.yaxis.forEach(function(s,o){n.globals.ignoreYAxisIndexes.indexOf(o)!==-1||s.floating||r.isYAxisHidden(o)||(s.opposite&&(n.globals.translateX-=t[o].width+e[o].width+parseInt(s.labels.style.fontSize,10)/1.2+12),n.globals.translateX<2&&(n.globals.translateX=2))})}}]),i}(),$c=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new HM(this),this.dimYAxis=new XM(this),this.dimXAxis=new WM(this),this.dimGrid=new YM(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return Oe(i,[{key:"plotCoords",value:function(){var e=this,t=this.w,n=t.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var r=Array.isArray(t.config.stroke.width)?Math.max.apply(Math,Zt(t.config.stroke.width)):t.config.stroke.width;this.isSparkline&&((t.config.markers.discrete.length>0||t.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(o){var a=zb(o,2),l=a[0],c=a[1];e.gridPad[l]=Math.max(c,e.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(r/2,this.gridPad.top),this.gridPad.bottom=Math.max(r/2,this.gridPad.bottom)),n.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),n.gridHeight=n.gridHeight-this.gridPad.top-this.gridPad.bottom,n.gridWidth=n.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var s=this.dimGrid.gridPadForColumnsInNumericAxis(n.gridWidth);n.gridWidth=n.gridWidth-2*s,n.translateX=n.translateX+this.gridPad.left+this.xPadLeft+(s>0?s:0),n.translateY=n.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var e=this,t=this.w,n=t.globals,r=this.dimYAxis.getyAxisLabelsCoords(),s=this.dimYAxis.getyAxisTitleCoords();n.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),t.globals.yLabelsCoords=[],t.globals.yTitleCoords=[],t.config.yaxis.map(function(f,p){t.globals.yLabelsCoords.push({width:r[p].width,index:p}),t.globals.yTitleCoords.push({width:s[p].width,index:p})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var o=this.dimXAxis.getxAxisLabelsCoords(),a=this.dimXAxis.getxAxisGroupLabelsCoords(),l=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(o,l,a),n.translateXAxisY=t.globals.rotateXLabels?this.xAxisHeight/8:-4,n.translateXAxisX=t.globals.rotateXLabels&&t.globals.isXNumeric&&t.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,t.globals.isBarHorizontal&&(n.rotateXLabels=!1,n.translateXAxisY=parseInt(t.config.xaxis.labels.style.fontSize,10)/1.5*-1),n.translateXAxisY=n.translateXAxisY+t.config.xaxis.labels.offsetY,n.translateXAxisX=n.translateXAxisX+t.config.xaxis.labels.offsetX;var c=this.yAxisWidth,u=this.xAxisHeight;n.xAxisLabelsHeight=this.xAxisHeight-l.height,n.xAxisGroupLabelsHeight=n.xAxisLabelsHeight-o.height,n.xAxisLabelsWidth=this.xAxisWidth,n.xAxisHeight=this.xAxisHeight;var h=10;(t.config.chart.type==="radar"||this.isSparkline)&&(c=0,u=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||t.config.chart.type==="treemap")&&(c=0,u=0,h=0),this.isSparkline||t.config.chart.type==="treemap"||this.dimXAxis.additionalPaddingXLabels(o);var d=function(){n.translateX=c+e.datalabelsCoords.width,n.gridHeight=n.svgHeight-e.lgRect.height-u-(e.isSparkline||t.config.chart.type==="treemap"?0:t.globals.rotateXLabels?10:15),n.gridWidth=n.svgWidth-c-2*e.datalabelsCoords.width};switch(t.config.xaxis.position==="top"&&(h=n.xAxisHeight-t.config.xaxis.axisTicks.height-5),t.config.legend.position){case"bottom":n.translateY=h,d();break;case"top":n.translateY=this.lgRect.height+h,d();break;case"left":n.translateY=h,n.translateX=this.lgRect.width+c+this.datalabelsCoords.width,n.gridHeight=n.svgHeight-u-12,n.gridWidth=n.svgWidth-this.lgRect.width-c-2*this.datalabelsCoords.width;break;case"right":n.translateY=h,n.translateX=c+this.datalabelsCoords.width,n.gridHeight=n.svgHeight-u-12,n.gridWidth=n.svgWidth-this.lgRect.width-c-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(s,r),new Ef(this.ctx).setYAxisXPosition(r,s)}},{key:"setDimensionsForNonAxisCharts",value:function(){var e=this.w,t=e.globals,n=e.config,r=0;e.config.legend.show&&!e.config.legend.floating&&(r=20);var s=n.chart.type==="pie"||n.chart.type==="polarArea"||n.chart.type==="donut"?"pie":"radialBar",o=n.plotOptions[s].offsetY,a=n.plotOptions[s].offsetX;if(!n.legend.show||n.legend.floating){t.gridHeight=t.svgHeight;var l=t.dom.elWrap.getBoundingClientRect().width;return t.gridWidth=Math.min(l,t.gridHeight),t.translateY=o,void(t.translateX=a+(t.svgWidth-t.gridWidth)/2)}switch(n.legend.position){case"bottom":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=o-10,t.translateX=a+(t.svgWidth-t.gridWidth)/2;break;case"top":t.gridHeight=t.svgHeight-this.lgRect.height,t.gridWidth=t.svgWidth,t.translateY=this.lgRect.height+o+10,t.translateX=a+(t.svgWidth-t.gridWidth)/2;break;case"left":t.gridWidth=t.svgWidth-this.lgRect.width-r,t.gridHeight=n.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=o,t.translateX=a+this.lgRect.width+r;break;case"right":t.gridWidth=t.svgWidth-this.lgRect.width-r-5,t.gridHeight=n.chart.height!=="auto"?t.svgHeight:t.gridWidth,t.translateY=o,t.translateX=a+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(e,t,n){var r=this.w,s=r.globals.hasXaxisGroups?2:1,o=n.height+e.height+t.height,a=r.globals.isMultiLineX?1.2:r.globals.LINE_HEIGHT_RATIO,l=r.globals.rotateXLabels?22:10,c=r.globals.rotateXLabels&&r.config.legend.position==="bottom"?10:0;this.xAxisHeight=o*a+s*l+c,this.xAxisWidth=e.width,this.xAxisHeight-t.height>r.config.xaxis.labels.maxHeight&&(this.xAxisHeight=r.config.xaxis.labels.maxHeight),r.config.xaxis.labels.minHeight&&this.xAxisHeight<r.config.xaxis.labels.minHeight&&(this.xAxisHeight=r.config.xaxis.labels.minHeight),r.config.xaxis.floating&&(this.xAxisHeight=0);var u=0,h=0;r.config.yaxis.forEach(function(d){u+=d.labels.minWidth,h+=d.labels.maxWidth}),this.yAxisWidth<u&&(this.yAxisWidth=u),this.yAxisWidth>h&&(this.yAxisWidth=h)}}]),i}(),jM=function(){function i(e){Ee(this,i),this.w=e.w,this.lgCtx=e}return Oe(i,[{key:"getLegendStyles",value:function(){var e,t,n,r=document.createElement("style");r.setAttribute("type","text/css");var s=((e=this.lgCtx.ctx)===null||e===void 0||(t=e.opts)===null||t===void 0||(n=t.chart)===null||n===void 0?void 0:n.nonce)||this.w.config.chart.nonce;s&&r.setAttribute("nonce",s);var o=document.createTextNode(`
        .apexcharts-flip-y {
          transform: scaleY(-1) translateY(-100%);
          transform-origin: top;
          transform-box: fill-box;
        }
        .apexcharts-flip-x {
          transform: scaleX(-1);
          transform-origin: center;
          transform-box: fill-box;
        }
        .apexcharts-legend {
          display: flex;
          overflow: auto;
          padding: 0 10px;
        }
        .apexcharts-legend.apexcharts-legend-group-horizontal {
          flex-direction: column;
        }
        .apexcharts-legend-group {
          display: flex;
        }
        .apexcharts-legend-group-vertical {
          flex-direction: column-reverse;
        }
        .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {
          flex-wrap: wrap
        }
        .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
          flex-direction: column;
          bottom: 0;
        }
        .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {
          justify-content: flex-start;
          align-items: flex-start;
        }
        .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {
          justify-content: center;
          align-items: center;
        }
        .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {
          justify-content: flex-end;
          align-items: flex-end;
        }
        .apexcharts-legend-series {
          cursor: pointer;
          line-height: normal;
          display: flex;
          align-items: center;
        }
        .apexcharts-legend-text {
          position: relative;
          font-size: 14px;
        }
        .apexcharts-legend-text *, .apexcharts-legend-marker * {
          pointer-events: none;
        }
        .apexcharts-legend-marker {
          position: relative;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          margin-right: 1px;
        }
  
        .apexcharts-legend-series.apexcharts-no-click {
          cursor: auto;
        }
        .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {
          display: none !important;
        }
        .apexcharts-inactive-legend {
          opacity: 0.45;
        }
  
      `);return r.appendChild(o),r}},{key:"getLegendDimensions",value:function(){var e=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect(),t=e.width;return{clwh:e.height,clww:t}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(e,t){var n=this,r=this.w;if(r.globals.axisCharts||r.config.chart.type==="radialBar"){r.globals.resized=!0;var s=null,o=null;r.globals.risingSeries=[],r.globals.axisCharts?(s=r.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"']")),o=parseInt(s.getAttribute("data:realIndex"),10)):(s=r.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(e+1,"']")),o=parseInt(s.getAttribute("rel"),10)-1),t?[{cs:r.globals.collapsedSeries,csi:r.globals.collapsedSeriesIndices},{cs:r.globals.ancillaryCollapsedSeries,csi:r.globals.ancillaryCollapsedSeriesIndices}].forEach(function(u){n.riseCollapsedSeries(u.cs,u.csi,o)}):this.hideSeries({seriesEl:s,realIndex:o})}else{var a=r.globals.dom.Paper.findOne(" .apexcharts-series[rel='".concat(e+1,"'] path")),l=r.config.chart.type;if(l==="pie"||l==="polarArea"||l==="donut"){var c=r.config.plotOptions.pie.donut.labels;new ae(this.lgCtx.ctx).pathMouseDown(a,null),this.lgCtx.ctx.pie.printDataLabelsInner(a.node,c)}a.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(e){var t=e.realIndex,n=this.w,r=n.globals,s=H.clone(n.config.series);if(r.axisCharts){var o=n.config.yaxis[r.seriesYAxisReverseMap[t]],a={index:t,data:s[t].data.slice(),type:s[t].type||n.config.chart.type};if(o&&o.show&&o.showAlways)r.ancillaryCollapsedSeriesIndices.indexOf(t)<0&&(r.ancillaryCollapsedSeries.push(a),r.ancillaryCollapsedSeriesIndices.push(t));else if(r.collapsedSeriesIndices.indexOf(t)<0){r.collapsedSeries.push(a),r.collapsedSeriesIndices.push(t);var l=r.risingSeries.indexOf(t);r.risingSeries.splice(l,1)}}else r.collapsedSeries.push({index:t,data:s[t]}),r.collapsedSeriesIndices.push(t);return r.allSeriesCollapsed=r.collapsedSeries.length+r.ancillaryCollapsedSeries.length===n.config.series.length,this._getSeriesBasedOnCollapsedState(s)}},{key:"hideSeries",value:function(e){for(var t=e.seriesEl,n=e.realIndex,r=this.w,s=this.getSeriesAfterCollapsing({realIndex:n}),o=t.childNodes,a=0;a<o.length;a++)o[a].classList.contains("apexcharts-series-markers-wrap")&&(o[a].classList.contains("apexcharts-hide")?o[a].classList.remove("apexcharts-hide"):o[a].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(s,r.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(e,t,n){var r=this.w,s=H.clone(r.config.series);if(e.length>0){for(var o=0;o<e.length;o++)e[o].index===n&&(r.globals.axisCharts?s[n].data=e[o].data.slice():s[n]=e[o].data,typeof s[n]!="number"&&(s[n].hidden=!1),e.splice(o,1),t.splice(o,1),r.globals.risingSeries.push(n));s=this._getSeriesBasedOnCollapsedState(s),this.lgCtx.ctx.updateHelpers._updateSeries(s,r.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(e){var t=this.w,n=0;return t.globals.axisCharts?e.forEach(function(r,s){t.globals.collapsedSeriesIndices.indexOf(s)<0&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(s)<0||(e[s].data=[],n++)}):e.forEach(function(r,s){!t.globals.collapsedSeriesIndices.indexOf(s)<0&&(e[s]=0,n++)}),t.globals.allSeriesCollapsed=n===e.length,e}}]),i}(),Ey=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed=this.w.config.chart.type==="bar"&&this.w.config.plotOptions.bar.distributed&&this.w.config.series.length===1,this.legendHelpers=new jM(this)}return Oe(i,[{key:"init",value:function(){var e=this.w,t=e.globals,n=e.config,r=n.legend.showForSingleSeries&&t.series.length===1||this.isBarsDistributed||t.series.length>1;if(this.legendHelpers.appendToForeignObject(),(r||!t.axisCharts)&&n.legend.show){for(;t.dom.elLegendWrap.firstChild;)t.dom.elLegendWrap.removeChild(t.dom.elLegendWrap.firstChild);this.drawLegends(),n.legend.position==="bottom"||n.legend.position==="top"?this.legendAlignHorizontal():n.legend.position!=="right"&&n.legend.position!=="left"||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(e){var t=e.i,n=e.fillcolor,r=this.w,s=document.createElement("span");s.classList.add("apexcharts-legend-marker");var o=r.config.legend.markers.shape||r.config.markers.shape,a=o;Array.isArray(o)&&(a=o[t]);var l=Array.isArray(r.config.legend.markers.size)?parseFloat(r.config.legend.markers.size[t]):parseFloat(r.config.legend.markers.size),c=Array.isArray(r.config.legend.markers.offsetX)?parseFloat(r.config.legend.markers.offsetX[t]):parseFloat(r.config.legend.markers.offsetX),u=Array.isArray(r.config.legend.markers.offsetY)?parseFloat(r.config.legend.markers.offsetY[t]):parseFloat(r.config.legend.markers.offsetY),h=Array.isArray(r.config.legend.markers.strokeWidth)?parseFloat(r.config.legend.markers.strokeWidth[t]):parseFloat(r.config.legend.markers.strokeWidth),d=s.style;if(d.height=2*(l+h)+"px",d.width=2*(l+h)+"px",d.left=c+"px",d.top=u+"px",r.config.legend.markers.customHTML)d.background="transparent",d.color=n[t],Array.isArray(r.config.legend.markers.customHTML)?r.config.legend.markers.customHTML[t]&&(s.innerHTML=r.config.legend.markers.customHTML[t]()):s.innerHTML=r.config.legend.markers.customHTML();else{var f=new Io(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(a),seriesIndex:t,strokeWidth:h,size:l}),p=window.SVG().addTo(s).size("100%","100%"),m=new ae(this.ctx).drawMarker(0,0,be(be({},f),{},{pointFillColor:Array.isArray(n)?n[t]:f.pointFillColor,shape:a}));r.globals.dom.Paper.find(".apexcharts-legend-marker.apexcharts-marker").forEach(function(b){b.node.classList.contains("apexcharts-marker-triangle")?b.node.style.transform="translate(50%, 45%)":b.node.style.transform="translate(50%, 50%)"}),p.add(m)}return s}},{key:"drawLegends",value:function(){var e=this,t=this,n=this.w,r=n.config.legend.fontFamily,s=n.globals.seriesNames,o=n.config.legend.markers.fillColors?n.config.legend.markers.fillColors.slice():n.globals.colors.slice();if(n.config.chart.type==="heatmap"){var a=n.config.plotOptions.heatmap.colorScale.ranges;s=a.map(function(f){return f.name?f.name:f.from+" - "+f.to}),o=a.map(function(f){return f.color})}else this.isBarsDistributed&&(s=n.globals.labels.slice());n.config.legend.customLegendItems.length&&(s=n.config.legend.customLegendItems);var l=n.globals.legendFormatter,c=n.config.legend.inverseOrder,u=[];n.globals.seriesGroups.length>1&&n.config.legend.clusterGroupedSeries&&n.globals.seriesGroups.forEach(function(f,p){u[p]=document.createElement("div"),u[p].classList.add("apexcharts-legend-group","apexcharts-legend-group-".concat(p)),n.config.legend.clusterGroupedSeriesOrientation==="horizontal"?n.globals.dom.elLegendWrap.classList.add("apexcharts-legend-group-horizontal"):u[p].classList.add("apexcharts-legend-group-vertical")});for(var h=function(f){var p,m=l(s[f],{seriesIndex:f,w:n}),b=!1,y=!1;if(n.globals.collapsedSeries.length>0)for(var w=0;w<n.globals.collapsedSeries.length;w++)n.globals.collapsedSeries[w].index===f&&(b=!0);if(n.globals.ancillaryCollapsedSeriesIndices.length>0)for(var C=0;C<n.globals.ancillaryCollapsedSeriesIndices.length;C++)n.globals.ancillaryCollapsedSeriesIndices[C]===f&&(y=!0);var T=e.createLegendMarker({i:f,fillcolor:o});ae.setAttrs(T,{rel:f+1,"data:collapsed":b||y}),(b||y)&&T.classList.add("apexcharts-inactive-legend");var k=document.createElement("div"),E=document.createElement("span");E.classList.add("apexcharts-legend-text"),E.innerHTML=Array.isArray(m)?m.join(" "):m;var M=n.config.legend.labels.useSeriesColors?n.globals.colors[f]:Array.isArray(n.config.legend.labels.colors)?(p=n.config.legend.labels.colors)===null||p===void 0?void 0:p[f]:n.config.legend.labels.colors;M||(M=n.config.chart.foreColor),E.style.color=M,E.style.fontSize=parseFloat(n.config.legend.fontSize)+"px",E.style.fontWeight=n.config.legend.fontWeight,E.style.fontFamily=r||n.config.chart.fontFamily,ae.setAttrs(E,{rel:f+1,i:f,"data:default-text":encodeURIComponent(m),"data:collapsed":b||y}),k.appendChild(T),k.appendChild(E);var O=new Yt(e.ctx);n.config.legend.showForZeroSeries||O.getSeriesTotalByIndex(f)===0&&O.seriesHaveSameValues(f)&&!O.isSeriesNull(f)&&n.globals.collapsedSeriesIndices.indexOf(f)===-1&&n.globals.ancillaryCollapsedSeriesIndices.indexOf(f)===-1&&k.classList.add("apexcharts-hidden-zero-series"),n.config.legend.showForNullSeries||O.isSeriesNull(f)&&n.globals.collapsedSeriesIndices.indexOf(f)===-1&&n.globals.ancillaryCollapsedSeriesIndices.indexOf(f)===-1&&k.classList.add("apexcharts-hidden-null-series"),u.length?n.globals.seriesGroups.forEach(function(P,N){var R;P.includes((R=n.config.series[f])===null||R===void 0?void 0:R.name)&&(n.globals.dom.elLegendWrap.appendChild(u[N]),u[N].appendChild(k))}):n.globals.dom.elLegendWrap.appendChild(k),n.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(n.config.legend.horizontalAlign)),n.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+n.config.legend.position),k.classList.add("apexcharts-legend-series"),k.style.margin="".concat(n.config.legend.itemMargin.vertical,"px ").concat(n.config.legend.itemMargin.horizontal,"px"),n.globals.dom.elLegendWrap.style.width=n.config.legend.width?n.config.legend.width+"px":"",n.globals.dom.elLegendWrap.style.height=n.config.legend.height?n.config.legend.height+"px":"",ae.setAttrs(k,{rel:f+1,seriesName:H.escapeString(s[f]),"data:collapsed":b||y}),(b||y)&&k.classList.add("apexcharts-inactive-legend"),n.config.legend.onItemClick.toggleDataSeries||k.classList.add("apexcharts-no-click")},d=c?s.length-1:0;c?d>=0:d<=s.length-1;c?d--:d++)h(d);n.globals.dom.elWrap.addEventListener("click",t.onLegendClick,!0),n.config.legend.onItemHover.highlightDataSeries&&n.config.legend.customLegendItems.length===0&&(n.globals.dom.elWrap.addEventListener("mousemove",t.onLegendHovered,!0),n.globals.dom.elWrap.addEventListener("mouseout",t.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(e,t){var n=this.w,r=n.globals.dom.elLegendWrap,s=r.clientHeight,o=0,a=0;if(n.config.legend.position==="bottom")a=n.globals.svgHeight-Math.min(s,n.globals.svgHeight/2)-5;else if(n.config.legend.position==="top"){var l=new $c(this.ctx),c=l.dimHelpers.getTitleSubtitleCoords("title").height,u=l.dimHelpers.getTitleSubtitleCoords("subtitle").height;a=(c>0?c-10:0)+(u>0?u-10:0)}r.style.position="absolute",o=o+e+n.config.legend.offsetX,a=a+t+n.config.legend.offsetY,r.style.left=o+"px",r.style.top=a+"px",n.config.legend.position==="right"&&(r.style.left="auto",r.style.right=25+n.config.legend.offsetX+"px"),["width","height"].forEach(function(h){r.style[h]&&(r.style[h]=parseInt(n.config.legend[h],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var e=this.w;e.globals.dom.elLegendWrap.style.right=0;var t=new $c(this.ctx),n=t.dimHelpers.getTitleSubtitleCoords("title"),r=t.dimHelpers.getTitleSubtitleCoords("subtitle"),s=0;e.config.legend.position==="top"&&(s=n.height+r.height+e.config.title.margin+e.config.subtitle.margin-10),this.setLegendWrapXY(20,s)}},{key:"legendAlignVertical",value:function(){var e=this.w,t=this.legendHelpers.getLegendDimensions(),n=0;e.config.legend.position==="left"&&(n=20),e.config.legend.position==="right"&&(n=e.globals.svgWidth-t.clww-10),this.setLegendWrapXY(n,20)}},{key:"onLegendHovered",value:function(e){var t=this.w,n=e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker");if(t.config.chart.type==="heatmap"||this.isBarsDistributed){if(n){var r=parseInt(e.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,r,this.w]),new gi(this.ctx).highlightRangeInSeries(e,e.target)}}else!e.target.classList.contains("apexcharts-inactive-legend")&&n&&new gi(this.ctx).toggleSeriesOnHover(e,e.target)}},{key:"onLegendClick",value:function(e){var t=this.w;if(!t.config.legend.customLegendItems.length&&(e.target.classList.contains("apexcharts-legend-series")||e.target.classList.contains("apexcharts-legend-text")||e.target.classList.contains("apexcharts-legend-marker"))){var n=parseInt(e.target.getAttribute("rel"),10)-1,r=e.target.getAttribute("data:collapsed")==="true",s=this.w.config.chart.events.legendClick;typeof s=="function"&&s(this.ctx,n,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,n,this.w]);var o=this.w.config.legend.markers.onClick;typeof o=="function"&&e.target.classList.contains("apexcharts-legend-marker")&&(o(this.ctx,n,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,n,this.w])),t.config.chart.type!=="treemap"&&t.config.chart.type!=="heatmap"&&!this.isBarsDistributed&&t.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(n,r)}}}]),i}(),Oy=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w;var t=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=t.globals.minX,this.maxX=t.globals.maxX}return Oe(i,[{key:"createToolbar",value:function(){var e=this,t=this.w,n=function(){return document.createElement("div")},r=n();if(r.setAttribute("class","apexcharts-toolbar"),r.style.top=t.config.chart.toolbar.offsetY+"px",r.style.right=3-t.config.chart.toolbar.offsetX+"px",t.globals.dom.elWrap.appendChild(r),this.elZoom=n(),this.elZoomIn=n(),this.elZoomOut=n(),this.elPan=n(),this.elSelection=n(),this.elZoomReset=n(),this.elMenuIcon=n(),this.elMenu=n(),this.elCustomIcons=[],this.t=t.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var s=0;s<this.t.customIcons.length;s++)this.elCustomIcons.push(n());var o=[],a=function(h,d,f){var p=h.toLowerCase();e.t[p]&&t.config.chart.zoom.enabled&&o.push({el:d,icon:typeof e.t[p]=="string"?e.t[p]:f,title:e.localeValues[h],class:"apexcharts-".concat(p,"-icon")})};a("zoomIn",this.elZoomIn,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
      <path d="M0 0h24v24H0z" fill="none"/>
      <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
  </svg>
  `),a("zoomOut",this.elZoomOut,`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
      <path d="M0 0h24v24H0z" fill="none"/>
      <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
  </svg>
  `);var l=function(h){e.t[h]&&t.config.chart[h].enabled&&o.push({el:h==="zoom"?e.elZoom:e.elSelection,icon:typeof e.t[h]=="string"?e.t[h]:h==="zoom"?`<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
      <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
      <path d="M0 0h24v24H0V0z" fill="none"/>
      <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
  </svg>`:`<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="none"/>
      <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>
  </svg>`,title:e.localeValues[h==="zoom"?"selectionZoom":"selection"],class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(h,"-icon")})};l("zoom"),l("selection"),this.t.pan&&t.config.chart.zoom.enabled&&o.push({el:this.elPan,icon:typeof this.t.pan=="string"?this.t.pan:`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">
      <defs>
          <path d="M0 0h24v24H0z" id="a"/>
      </defs>
      <clipPath id="b">
          <use overflow="visible" xlink:href="#a"/>
      </clipPath>
      <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>
  </svg>`,title:this.localeValues.pan,class:t.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),a("reset",this.elZoomReset,`<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
      <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
      <path d="M0 0h24v24H0z" fill="none"/>
  </svg>`),this.t.download&&o.push({el:this.elMenuIcon,icon:typeof this.t.download=="string"?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var c=0;c<this.elCustomIcons.length;c++)o.push({el:this.elCustomIcons[c],icon:this.t.customIcons[c].icon,title:this.t.customIcons[c].title,index:this.t.customIcons[c].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[c].class});o.forEach(function(h,d){h.index&&H.moveIndexInArray(o,d,h.index)});for(var u=0;u<o.length;u++)ae.setAttrs(o[u].el,{class:o[u].class,title:o[u].title}),o[u].el.innerHTML=o[u].icon,r.appendChild(o[u].el);this._createHamburgerMenu(r),t.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):t.globals.panEnabled?this.elPan.classList.add(this.selectedClass):t.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(e){this.elMenuItems=[],e.appendChild(this.elMenu),ae.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var t=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],n=0;n<t.length;n++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[n].innerHTML=t[n].title,ae.setAttrs(this.elMenuItems[n],{class:"apexcharts-menu-item ".concat(t[n].name),title:t[n].title}),this.elMenu.appendChild(this.elMenuItems[n])}},{key:"addToolbarEventListeners",value:function(){var e=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(n){n.classList.contains("exportSVG")?n.addEventListener("click",e.handleDownload.bind(e,"svg")):n.classList.contains("exportPNG")?n.addEventListener("click",e.handleDownload.bind(e,"png")):n.classList.contains("exportCSV")&&n.addEventListener("click",e.handleDownload.bind(e,"csv"))});for(var t=0;t<this.t.customIcons.length;t++)this.elCustomIcons[t].addEventListener("click",this.t.customIcons[t].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(e){this.ctx.getSyncedCharts().forEach(function(t){t.ctx.toolbar.toggleOtherControls();var n=e==="selection"?t.ctx.toolbar.elSelection:t.ctx.toolbar.elZoom,r=e==="selection"?"selectionEnabled":"zoomEnabled";t.w.globals[r]=!t.w.globals[r],n.classList.contains(t.ctx.toolbar.selectedClass)?n.classList.remove(t.ctx.toolbar.selectedClass):n.classList.add(t.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var e=this.w;this.elZoom||(this.elZoom=e.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=e.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=e.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(e){this.toggleOtherControls(),e==="pan"?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var t=e==="pan"?this.elPan:this.elZoom,n=e==="pan"?this.elZoom:this.elPan;t&&t.classList.add(this.selectedClass),n&&n.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(e){e.ctx.toolbar.toggleOtherControls(),e.w.globals.panEnabled=!e.w.globals.panEnabled,e.ctx.toolbar.elPan.classList.contains(e.ctx.toolbar.selectedClass)?e.ctx.toolbar.elPan.classList.remove(e.ctx.toolbar.selectedClass):e.ctx.toolbar.elPan.classList.add(e.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var e=this,t=this.w;t.globals.panEnabled=!1,t.globals.zoomEnabled=!1,t.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(n){n&&n.classList.remove(e.selectedClass)})}},{key:"handleZoomIn",value:function(){var e=this.w;e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY);var t=(this.minX+this.maxX)/2,n=(this.minX+t)/2,r=(this.maxX+t)/2,s=this._getNewMinXMaxX(n,r);e.globals.disableZoomIn||this.zoomUpdateOptions(s.minX,s.maxX)}},{key:"handleZoomOut",value:function(){var e=this.w;if(e.globals.isRangeBar&&(this.minX=e.globals.minY,this.maxX=e.globals.maxY),!(e.config.xaxis.type==="datetime"&&new Date(this.minX).getUTCFullYear()<1e3)){var t=(this.minX+this.maxX)/2,n=this.minX-(t-this.minX),r=this.maxX-(t-this.maxX),s=this._getNewMinXMaxX(n,r);e.globals.disableZoomOut||this.zoomUpdateOptions(s.minX,s.maxX)}}},{key:"_getNewMinXMaxX",value:function(e,t){var n=this.w.config.xaxis.convertedCatToNumeric;return{minX:n?Math.floor(e):e,maxX:n?Math.floor(t):t}}},{key:"zoomUpdateOptions",value:function(e,t){var n=this.w;if(e!==void 0||t!==void 0){if(!(n.config.xaxis.convertedCatToNumeric&&(e<1&&(e=1,t=n.globals.dataPoints),t-e<2))){var r={min:e,max:t},s=this.getBeforeZoomRange(r);s&&(r=s.xaxis);var o={xaxis:r},a=H.clone(n.globals.initialConfig.yaxis);n.config.chart.group||(o.yaxis=a),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(o,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(r,a)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(e,t){typeof this.ev.zoomed=="function"&&this.ev.zoomed(this.ctx,{xaxis:e,yaxis:t})}},{key:"getBeforeZoomRange",value:function(e,t){var n=null;return typeof this.ev.beforeZoom=="function"&&(n=this.ev.beforeZoom(this,{xaxis:e,yaxis:t})),n}},{key:"toggleMenu",value:function(){var e=this;window.setTimeout(function(){e.elMenu.classList.contains("apexcharts-menu-open")?e.elMenu.classList.remove("apexcharts-menu-open"):e.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(e){var t=this.w,n=new Ua(this.ctx);switch(e){case"svg":n.exportToSVG(this.ctx);break;case"png":n.exportToPng(this.ctx);break;case"csv":n.exportToCSV({series:t.config.series,columnDelimiter:t.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(e){this.ctx.getSyncedCharts().forEach(function(t){var n=t.w;if(n.globals.lastXAxis.min=n.globals.initialConfig.xaxis.min,n.globals.lastXAxis.max=n.globals.initialConfig.xaxis.max,t.updateHelpers.revertDefaultAxisMinMax(),typeof n.config.chart.events.beforeResetZoom=="function"){var r=n.config.chart.events.beforeResetZoom(t,n);r&&t.updateHelpers.revertDefaultAxisMinMax(r)}typeof n.config.chart.events.zoomed=="function"&&t.ctx.toolbar.zoomCallback({min:n.config.xaxis.min,max:n.config.xaxis.max}),n.globals.zoomed=!1;var s=t.ctx.series.emptyCollapsedSeries(H.clone(n.globals.initialSeries));t.updateHelpers._updateSeries(s,n.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),i}(),VM=function(i){Fa(t,Oy);var e=Na(t);function t(n){var r;return Ee(this,t),(r=e.call(this,n)).ctx=n,r.w=n.w,r.dragged=!1,r.graphics=new ae(r.ctx),r.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],r.clientX=0,r.clientY=0,r.startX=0,r.endX=0,r.dragX=0,r.startY=0,r.endY=0,r.dragY=0,r.moveDirection="none",r.debounceTimer=null,r.debounceDelay=100,r.wheelDelay=400,r}return Oe(t,[{key:"init",value:function(n){var r=this,s=n.xyRatios,o=this.w,a=this;this.xyRatios=s,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=o.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.constraints=new Xt(0,0,o.globals.gridWidth,o.globals.gridHeight),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),o.globals.dom.Paper.add(this.zoomRect),o.globals.dom.Paper.add(this.selectionRect),o.config.chart.selection.type==="x"?this.slDraggableRect=this.selectionRect.draggable({minX:0,minY:0,maxX:o.globals.gridWidth,maxY:o.globals.gridHeight}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):o.config.chart.selection.type==="y"?this.slDraggableRect=this.selectionRect.draggable({minX:0,maxX:o.globals.gridWidth}).on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")):this.slDraggableRect=this.selectionRect.draggable().on("dragmove.namespace",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=o.globals.dom.baseEl.querySelector("".concat(o.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(l){r.hoverArea.addEventListener(l,a.svgMouseEvents.bind(a,s),{capture:!1,passive:!0})}),o.config.chart.zoom.enabled&&o.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",a.mouseWheelEvent.bind(a),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(n,r){var s=this.w,o=this.ctx.toolbar,a=s.globals.zoomEnabled?s.config.chart.zoom.type:s.config.chart.selection.type,l=s.config.chart.toolbar.autoSelected;if(r.shiftKey?(this.shiftWasPressed=!0,o.enableZoomPanFromToolbar(l==="pan"?"zoom":"pan")):this.shiftWasPressed&&(o.enableZoomPanFromToolbar(l),this.shiftWasPressed=!1),r.target){var c,u=r.target.classList;if(r.target.parentNode&&r.target.parentNode!==null&&(c=r.target.parentNode.classList),!(u.contains("apexcharts-legend-marker")||u.contains("apexcharts-legend-text")||c&&c.contains("apexcharts-toolbar"))){if(this.clientX=r.type==="touchmove"||r.type==="touchstart"?r.touches[0].clientX:r.type==="touchend"?r.changedTouches[0].clientX:r.clientX,this.clientY=r.type==="touchmove"||r.type==="touchstart"?r.touches[0].clientY:r.type==="touchend"?r.changedTouches[0].clientY:r.clientY,r.type==="mousedown"&&r.which===1||r.type==="touchstart"){var h=this.gridRect.getBoundingClientRect();this.startX=this.clientX-h.left-s.globals.barPadForNumericAxis,this.startY=this.clientY-h.top,this.dragged=!1,this.w.globals.mousedown=!0}(r.type==="mousemove"&&r.which===1||r.type==="touchmove")&&(this.dragged=!0,s.globals.panEnabled?(s.globals.selection=null,this.w.globals.mousedown&&this.panDragging({context:this,zoomtype:a,xyRatios:n})):(this.w.globals.mousedown&&s.globals.zoomEnabled||this.w.globals.mousedown&&s.globals.selectionEnabled)&&(this.selection=this.selectionDrawing({context:this,zoomtype:a}))),r.type!=="mouseup"&&r.type!=="touchend"&&r.type!=="mouseleave"||this.handleMouseUp({zoomtype:a}),this.makeSelectionRectDraggable()}}}},{key:"handleMouseUp",value:function(n){var r,s=n.zoomtype,o=n.isResized,a=this.w,l=(r=this.gridRect)===null||r===void 0?void 0:r.getBoundingClientRect();l&&(this.w.globals.mousedown||o)&&(this.endX=this.clientX-l.left-a.globals.barPadForNumericAxis,this.endY=this.clientY-l.top,this.dragX=Math.abs(this.endX-this.startX),this.dragY=Math.abs(this.endY-this.startY),(a.globals.zoomEnabled||a.globals.selectionEnabled)&&this.selectionDrawn({context:this,zoomtype:s}),a.globals.panEnabled&&a.config.xaxis.convertedCatToNumeric&&this.delayedPanScrolled()),a.globals.zoomEnabled&&this.hideSelectionRect(this.selectionRect),this.dragged=!1,this.w.globals.mousedown=!1}},{key:"mouseWheelEvent",value:function(n){var r=this,s=this.w;n.preventDefault();var o=Date.now();o-s.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(n),s.globals.lastWheelExecution=o),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){o-s.globals.lastWheelExecution>r.wheelDelay&&(r.executeMouseWheelZoom(n),s.globals.lastWheelExecution=o)},this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(n){var r,s=this.w;this.minX=s.globals.isRangeBar?s.globals.minY:s.globals.minX,this.maxX=s.globals.isRangeBar?s.globals.maxY:s.globals.maxX;var o=(r=this.gridRect)===null||r===void 0?void 0:r.getBoundingClientRect();if(o){var a,l,c,u=(n.clientX-o.left)/o.width,h=this.minX,d=this.maxX,f=d-h;if(n.deltaY<0){var p=h+u*f;l=p-(a=.5*f)/2,c=p+a/2}else l=h-(a=1.5*f)/2,c=d+a/2;if(!s.globals.isRangeBar){l=Math.max(l,s.globals.initialMinX),c=Math.min(c,s.globals.initialMaxX);var m=.01*(s.globals.initialMaxX-s.globals.initialMinX);if(c-l<m){var b=(l+c)/2;l=b-m/2,c=b+m/2}}var y=this._getNewMinXMaxX(l,c);isNaN(y.minX)||isNaN(y.maxX)||this.zoomUpdateOptions(y.minX,y.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var n=this,r=this.w;if(this.selectionRect){var s=this.selectionRect.node.getBoundingClientRect();s.width>0&&s.height>0&&(this.selectionRect.select(!1).resize(!1),this.selectionRect.select({createRot:function(){},updateRot:function(){},createHandle:function(o,a,l,c,u){return u==="l"||u==="r"?o.circle(8).css({"stroke-width":1,stroke:"#333",fill:"#fff"}):o.circle(0)},updateHandle:function(o,a){return o.center(a[0],a[1])}}).resize().on("resize",function(){var o=r.globals.zoomEnabled?r.config.chart.zoom.type:r.config.chart.selection.type;n.handleMouseUp({zoomtype:o,isResized:!0})}))}}},{key:"preselectedSelection",value:function(){var n=this.w,r=this.xyRatios;if(!n.globals.zoomEnabled){if(n.globals.selection!==void 0&&n.globals.selection!==null)this.drawSelectionRect(be(be({},n.globals.selection),{},{translateX:n.globals.translateX,translateY:n.globals.translateY}));else if(n.config.chart.selection.xaxis.min!==void 0&&n.config.chart.selection.xaxis.max!==void 0){var s=(n.config.chart.selection.xaxis.min-n.globals.minX)/r.xRatio,o=n.globals.gridWidth-(n.globals.maxX-n.config.chart.selection.xaxis.max)/r.xRatio-s;n.globals.isRangeBar&&(s=(n.config.chart.selection.xaxis.min-n.globals.yAxisScale[0].niceMin)/r.invertedYRatio,o=(n.config.chart.selection.xaxis.max-n.config.chart.selection.xaxis.min)/r.invertedYRatio);var a={x:s,y:0,width:o,height:n.globals.gridHeight,translateX:n.globals.translateX,translateY:n.globals.translateY,selectionEnabled:!0};this.drawSelectionRect(a),this.makeSelectionRectDraggable(),typeof n.config.chart.events.selection=="function"&&n.config.chart.events.selection(this.ctx,{xaxis:{min:n.config.chart.selection.xaxis.min,max:n.config.chart.selection.xaxis.max},yaxis:{}})}}}},{key:"drawSelectionRect",value:function(n){var r=n.x,s=n.y,o=n.width,a=n.height,l=n.translateX,c=l===void 0?0:l,u=n.translateY,h=u===void 0?0:u,d=this.w,f=this.zoomRect,p=this.selectionRect;if(this.dragged||d.globals.selection!==null){var m={transform:"translate("+c+", "+h+")"};d.globals.zoomEnabled&&this.dragged&&(o<0&&(o=1),f.attr({x:r,y:s,width:o,height:a,fill:d.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":d.config.chart.zoom.zoomedArea.fill.opacity,stroke:d.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":d.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":d.config.chart.zoom.zoomedArea.stroke.opacity}),ae.setAttrs(f.node,m)),d.globals.selectionEnabled&&(p.attr({x:r,y:s,width:o>0?o:0,height:a>0?a:0,fill:d.config.chart.selection.fill.color,"fill-opacity":d.config.chart.selection.fill.opacity,stroke:d.config.chart.selection.stroke.color,"stroke-width":d.config.chart.selection.stroke.width,"stroke-dasharray":d.config.chart.selection.stroke.dashArray,"stroke-opacity":d.config.chart.selection.stroke.opacity}),ae.setAttrs(p.node,m))}}},{key:"hideSelectionRect",value:function(n){n&&n.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(n){var r=n.context,s=n.zoomtype,o=this.w,a=r,l=this.gridRect.getBoundingClientRect(),c=a.startX-1,u=a.startY,h=!1,d=!1,f=a.clientX-l.left-o.globals.barPadForNumericAxis,p=a.clientY-l.top,m=f-c,b=p-u,y={translateX:o.globals.translateX,translateY:o.globals.translateY};return Math.abs(m+c)>o.globals.gridWidth?m=o.globals.gridWidth-c:f<0&&(m=c),c>f&&(h=!0,m=Math.abs(m)),u>p&&(d=!0,b=Math.abs(b)),y=be(be({},y=s==="x"?{x:h?c-m:c,y:0,width:m,height:o.globals.gridHeight}:s==="y"?{x:0,y:d?u-b:u,width:o.globals.gridWidth,height:b}:{x:h?c-m:c,y:d?u-b:u,width:m,height:b}),{},{translateX:o.globals.translateX,translateY:o.globals.translateY}),a.drawSelectionRect(y),a.selectionDragging("resizing"),y}},{key:"selectionDragging",value:function(n,r){var s=this,o=this.w;if(r){r.preventDefault();var a=r.detail,l=a.handler,c=a.box,u=c.x,h=c.y;u<this.constraints.x&&(u=this.constraints.x),h<this.constraints.y&&(h=this.constraints.y),c.x2>this.constraints.x2&&(u=this.constraints.x2-c.w),c.y2>this.constraints.y2&&(h=this.constraints.y2-c.h),l.move(u,h);var d=this.xyRatios,f=this.selectionRect,p=0;n==="resizing"&&(p=30);var m=function(y){return parseFloat(f.node.getAttribute(y))},b={x:m("x"),y:m("y"),width:m("width"),height:m("height")};o.globals.selection=b,typeof o.config.chart.events.selection=="function"&&o.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var y,w,C,T,k=s.gridRect.getBoundingClientRect(),E=f.node.getBoundingClientRect();o.globals.isRangeBar?(y=o.globals.yAxisScale[0].niceMin+(E.left-k.left)*d.invertedYRatio,w=o.globals.yAxisScale[0].niceMin+(E.right-k.left)*d.invertedYRatio,C=0,T=1):(y=o.globals.xAxisScale.niceMin+(E.left-k.left)*d.xRatio,w=o.globals.xAxisScale.niceMin+(E.right-k.left)*d.xRatio,C=o.globals.yAxisScale[0].niceMin+(k.bottom-E.bottom)*d.yRatio[0],T=o.globals.yAxisScale[0].niceMax-(E.top-k.top)*d.yRatio[0]);var M={xaxis:{min:y,max:w},yaxis:{min:C,max:T}};o.config.chart.events.selection(s.ctx,M),o.config.chart.brush.enabled&&o.config.chart.events.brushScrolled!==void 0&&o.config.chart.events.brushScrolled(s.ctx,M)},p))}}},{key:"selectionDrawn",value:function(n){var r,s,o=n.context,a=n.zoomtype,l=this.w,c=o,u=this.xyRatios,h=this.ctx.toolbar,d=l.globals.zoomEnabled?c.zoomRect.node.getBoundingClientRect():c.selectionRect.node.getBoundingClientRect(),f=c.gridRect.getBoundingClientRect(),p=d.left-f.left-l.globals.barPadForNumericAxis,m=d.right-f.left-l.globals.barPadForNumericAxis,b=d.top-f.top,y=d.bottom-f.top;l.globals.isRangeBar?(r=l.globals.yAxisScale[0].niceMin+p*u.invertedYRatio,s=l.globals.yAxisScale[0].niceMin+m*u.invertedYRatio):(r=l.globals.xAxisScale.niceMin+p*u.xRatio,s=l.globals.xAxisScale.niceMin+m*u.xRatio);var w=[],C=[];if(l.config.yaxis.forEach(function(N,R){var D=l.globals.seriesYAxisMap[R][0],V=l.globals.yAxisScale[R].niceMax-u.yRatio[D]*b,q=l.globals.yAxisScale[R].niceMax-u.yRatio[D]*y;w.push(V),C.push(q)}),c.dragged&&(c.dragX>10||c.dragY>10)&&r!==s){if(l.globals.zoomEnabled){var T=H.clone(l.globals.initialConfig.yaxis),k=H.clone(l.globals.initialConfig.xaxis);if(l.globals.zoomed=!0,l.config.xaxis.convertedCatToNumeric&&(r=Math.floor(r),s=Math.floor(s),r<1&&(r=1,s=l.globals.dataPoints),s-r<2&&(s=r+1)),a!=="xy"&&a!=="x"||(k={min:r,max:s}),a!=="xy"&&a!=="y"||T.forEach(function(N,R){T[R].min=C[R],T[R].max=w[R]}),h){var E=h.getBeforeZoomRange(k,T);E&&(k=E.xaxis?E.xaxis:k,T=E.yaxis?E.yaxis:T)}var M={xaxis:k};l.config.chart.group||(M.yaxis=T),c.ctx.updateHelpers._updateOptions(M,!1,c.w.config.chart.animations.dynamicAnimation.enabled),typeof l.config.chart.events.zoomed=="function"&&h.zoomCallback(k,T)}else if(l.globals.selectionEnabled){var O,P=null;O={min:r,max:s},a!=="xy"&&a!=="y"||(P=H.clone(l.config.yaxis)).forEach(function(N,R){P[R].min=C[R],P[R].max=w[R]}),l.globals.selection=c.selection,typeof l.config.chart.events.selection=="function"&&l.config.chart.events.selection(c.ctx,{xaxis:O,yaxis:P})}}}},{key:"panDragging",value:function(n){var r=n.context,s=this.w,o=r;if(s.globals.lastClientPosition.x!==void 0){var a=s.globals.lastClientPosition.x-o.clientX,l=s.globals.lastClientPosition.y-o.clientY;Math.abs(a)>Math.abs(l)&&a>0?this.moveDirection="left":Math.abs(a)>Math.abs(l)&&a<0?this.moveDirection="right":Math.abs(l)>Math.abs(a)&&l>0?this.moveDirection="up":Math.abs(l)>Math.abs(a)&&l<0&&(this.moveDirection="down")}s.globals.lastClientPosition={x:o.clientX,y:o.clientY};var c=s.globals.isRangeBar?s.globals.minY:s.globals.minX,u=s.globals.isRangeBar?s.globals.maxY:s.globals.maxX;s.config.xaxis.convertedCatToNumeric||o.panScrolled(c,u)}},{key:"delayedPanScrolled",value:function(){var n=this.w,r=n.globals.minX,s=n.globals.maxX,o=(n.globals.maxX-n.globals.minX)/2;this.moveDirection==="left"?(r=n.globals.minX+o,s=n.globals.maxX+o):this.moveDirection==="right"&&(r=n.globals.minX-o,s=n.globals.maxX-o),r=Math.floor(r),s=Math.floor(s),this.updateScrolledChart({xaxis:{min:r,max:s}},r,s)}},{key:"panScrolled",value:function(n,r){var s=this.w,o=this.xyRatios,a=H.clone(s.globals.initialConfig.yaxis),l=o.xRatio,c=s.globals.minX,u=s.globals.maxX;s.globals.isRangeBar&&(l=o.invertedYRatio,c=s.globals.minY,u=s.globals.maxY),this.moveDirection==="left"?(n=c+s.globals.gridWidth/15*l,r=u+s.globals.gridWidth/15*l):this.moveDirection==="right"&&(n=c-s.globals.gridWidth/15*l,r=u-s.globals.gridWidth/15*l),s.globals.isRangeBar||(n<s.globals.initialMinX||r>s.globals.initialMaxX)&&(n=c,r=u);var h={xaxis:{min:n,max:r}};s.config.chart.group||(h.yaxis=a),this.updateScrolledChart(h,n,r)}},{key:"updateScrolledChart",value:function(n,r,s){var o=this.w;this.ctx.updateHelpers._updateOptions(n,!1,!1),typeof o.config.chart.events.scrolled=="function"&&o.config.chart.events.scrolled(this.ctx,{xaxis:{min:r,max:s}})}}]),t}(),Iy=function(){function i(e){Ee(this,i),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx}return Oe(i,[{key:"getNearestValues",value:function(e){var t=e.hoverArea,n=e.elGrid,r=e.clientX,s=e.clientY,o=this.w,a=n.getBoundingClientRect(),l=a.width,c=a.height,u=l/(o.globals.dataPoints-1),h=c/o.globals.dataPoints,d=this.hasBars();!o.globals.comboCharts&&!d||o.config.xaxis.convertedCatToNumeric||(u=l/o.globals.dataPoints);var f=r-a.left-o.globals.barPadForNumericAxis,p=s-a.top;f<0||p<0||f>l||p>c?(t.classList.remove("hovering-zoom"),t.classList.remove("hovering-pan")):o.globals.zoomEnabled?(t.classList.remove("hovering-pan"),t.classList.add("hovering-zoom")):o.globals.panEnabled&&(t.classList.remove("hovering-zoom"),t.classList.add("hovering-pan"));var m=Math.round(f/u),b=Math.floor(p/h);d&&!o.config.xaxis.convertedCatToNumeric&&(m=Math.ceil(f/u),m-=1);var y=null,w=null,C=o.globals.seriesXvalues.map(function(O){return O.filter(function(P){return H.isNumber(P)})}),T=o.globals.seriesYvalues.map(function(O){return O.filter(function(P){return H.isNumber(P)})});if(o.globals.isXNumeric){var k=this.ttCtx.getElGrid().getBoundingClientRect(),E=f*(k.width/l),M=p*(k.height/c);y=(w=this.closestInMultiArray(E,M,C,T)).index,m=w.j,y!==null&&o.globals.hasNullValues&&(C=o.globals.seriesXvalues[y],m=(w=this.closestInArray(E,C)).j)}return o.globals.capturedSeriesIndex=y===null?-1:y,(!m||m<1)&&(m=0),o.globals.isBarHorizontal?o.globals.capturedDataPointIndex=b:o.globals.capturedDataPointIndex=m,{capturedSeries:y,j:o.globals.isBarHorizontal?b:m,hoverX:f,hoverY:p}}},{key:"getFirstActiveXArray",value:function(e){for(var t=this.w,n=0,r=e.map(function(o,a){return o.length>0?a:-1}),s=0;s<r.length;s++)if(r[s]!==-1&&t.globals.collapsedSeriesIndices.indexOf(s)===-1&&t.globals.ancillaryCollapsedSeriesIndices.indexOf(s)===-1){n=r[s];break}return n}},{key:"closestInMultiArray",value:function(e,t,n,r){for(var s,o=this.w,a=1/0,l=null,c=null,u=0;u<n.length;u++)if(s=u,o.globals.collapsedSeriesIndices.indexOf(s)===-1&&o.globals.ancillaryCollapsedSeriesIndices.indexOf(s)===-1)for(var h=n[u],d=r[u],f=Math.min(h.length,d.length),p=0;p<f;p++){var m=e-h[p],b=Math.sqrt(m*m);if(!o.globals.allSeriesHasEqualX){var y=t-d[p];b=Math.sqrt(m*m+y*y)}b<a&&(a=b,l=u,c=p)}return{index:l,j:c}}},{key:"closestInArray",value:function(e,t){for(var n=t[0],r=null,s=Math.abs(e-n),o=0;o<t.length;o++){var a=Math.abs(e-t[o]);a<s&&(s=a,r=o)}return{j:r}}},{key:"isXoverlap",value:function(e){var t=[],n=this.w.globals.seriesX.filter(function(s){return s[0]!==void 0});if(n.length>0)for(var r=0;r<n.length-1;r++)n[r][e]!==void 0&&n[r+1][e]!==void 0&&n[r][e]!==n[r+1][e]&&t.push("unEqual");return t.length===0}},{key:"isInitialSeriesSameLen",value:function(){for(var e=!0,t=this.w.globals.initialSeries,n=0;n<t.length-1;n++)if(t[n].data.length!==t[n+1].data.length){e=!1;break}return e}},{key:"getBarsHeight",value:function(e){return Zt(e).reduce(function(t,n){return t+n.getBBox().height},0)}},{key:"getElMarkers",value:function(e){return typeof e=="number"?this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers-wrap > *")):this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");n=Zt(n),t&&(n=n.filter(function(s){var o=Number(s.getAttribute("data:realIndex"));return e.w.globals.collapsedSeriesIndices.indexOf(o)===-1})),n.sort(function(s,o){var a=Number(s.getAttribute("data:realIndex")),l=Number(o.getAttribute("data:realIndex"));return l<a?1:l>a?-1:0});var r=[];return n.forEach(function(s){r.push(s.querySelector(".apexcharts-marker"))}),r}},{key:"hasMarkers",value:function(e){return this.getElMarkers(e).length>0}},{key:"getPathFromPoint",value:function(e,t){var n=Number(e.getAttribute("cx")),r=Number(e.getAttribute("cy")),s=e.getAttribute("shape");return new ae(this.ctx).getMarkerPath(n,r,s,t)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(e){var t=this.w,n=t.config.markers.hover.size;return n===void 0&&(n=t.globals.markers.size[e]+t.config.markers.hover.sizeOffset),n}},{key:"toggleAllTooltipSeriesGroups",value:function(e){var t=this.w,n=this.ttCtx;n.allTooltipSeriesGroups.length===0&&(n.allTooltipSeriesGroups=t.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var r=n.allTooltipSeriesGroups,s=0;s<r.length;s++)e==="enable"?(r[s].classList.add("apexcharts-active"),r[s].style.display=t.config.tooltip.items.display):(r[s].classList.remove("apexcharts-active"),r[s].style.display="none")}}]),i}(),$M=function(){function i(e){Ee(this,i),this.w=e.w,this.ctx=e.ctx,this.ttCtx=e,this.tooltipUtil=new Iy(e)}return Oe(i,[{key:"drawSeriesTexts",value:function(e){var t=e.shared,n=t===void 0||t,r=e.ttItems,s=e.i,o=s===void 0?0:s,a=e.j,l=a===void 0?null:a,c=e.y1,u=e.y2,h=e.e,d=this.w;d.config.tooltip.custom!==void 0?this.handleCustomTooltip({i:o,j:l,y1:c,y2:u,w:d}):this.toggleActiveInactiveSeries(n,o);var f=this.getValuesToPrint({i:o,j:l});this.printLabels({i:o,j:l,values:f,ttItems:r,shared:n,e:h});var p=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=p.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=p.getBoundingClientRect().height}},{key:"printLabels",value:function(e){var t,n=this,r=e.i,s=e.j,o=e.values,a=e.ttItems,l=e.shared,c=e.e,u=this.w,h=[],d=function(k){return u.globals.seriesGoals[k]&&u.globals.seriesGoals[k][s]&&Array.isArray(u.globals.seriesGoals[k][s])},f=o.xVal,p=o.zVal,m=o.xAxisTTVal,b="",y=u.globals.colors[r];s!==null&&u.config.plotOptions.bar.distributed&&(y=u.globals.colors[s]);for(var w=function(k,E){var M=n.getFormatters(r);b=n.getSeriesName({fn:M.yLbTitleFormatter,index:r,seriesIndex:r,j:s}),u.config.chart.type==="treemap"&&(b=M.yLbTitleFormatter(String(u.config.series[r].data[s].x),{series:u.globals.series,seriesIndex:r,dataPointIndex:s,w:u}));var O=u.config.tooltip.inverseOrder?E:k;if(u.globals.axisCharts){var P=function(D){var V,q,re,te;return u.globals.isRangeData?M.yLbFormatter((V=u.globals.seriesRangeStart)===null||V===void 0||(q=V[D])===null||q===void 0?void 0:q[s],{series:u.globals.seriesRangeStart,seriesIndex:D,dataPointIndex:s,w:u})+" - "+M.yLbFormatter((re=u.globals.seriesRangeEnd)===null||re===void 0||(te=re[D])===null||te===void 0?void 0:te[s],{series:u.globals.seriesRangeEnd,seriesIndex:D,dataPointIndex:s,w:u}):M.yLbFormatter(u.globals.series[D][s],{series:u.globals.series,seriesIndex:D,dataPointIndex:s,w:u})};if(l)M=n.getFormatters(O),b=n.getSeriesName({fn:M.yLbTitleFormatter,index:O,seriesIndex:r,j:s}),y=u.globals.colors[O],t=P(O),d(O)&&(h=u.globals.seriesGoals[O][s].map(function(D){return{attrs:D,val:M.yLbFormatter(D.value,{seriesIndex:O,dataPointIndex:s,w:u})}}));else{var N,R=c==null||(N=c.target)===null||N===void 0?void 0:N.getAttribute("fill");R&&(R.indexOf("url")!==-1?R.indexOf("Pattern")!==-1&&(y=u.globals.dom.baseEl.querySelector(R.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):y=R),t=P(r),d(r)&&Array.isArray(u.globals.seriesGoals[r][s])&&(h=u.globals.seriesGoals[r][s].map(function(D){return{attrs:D,val:M.yLbFormatter(D.value,{seriesIndex:r,dataPointIndex:s,w:u})}}))}}s===null&&(t=M.yLbFormatter(u.globals.series[r],be(be({},u),{},{seriesIndex:r,dataPointIndex:r}))),n.DOMHandling({i:r,t:O,j:s,ttItems:a,values:{val:t,goalVals:h,xVal:f,xAxisTTVal:m,zVal:p},seriesName:b,shared:l,pColor:y})},C=0,T=u.globals.series.length-1;C<u.globals.series.length;C++,T--)w(C,T)}},{key:"getFormatters",value:function(e){var t,n=this.w,r=n.globals.yLabelFormatters[e];return n.globals.ttVal!==void 0?Array.isArray(n.globals.ttVal)?(r=n.globals.ttVal[e]&&n.globals.ttVal[e].formatter,t=n.globals.ttVal[e]&&n.globals.ttVal[e].title&&n.globals.ttVal[e].title.formatter):(r=n.globals.ttVal.formatter,typeof n.globals.ttVal.title.formatter=="function"&&(t=n.globals.ttVal.title.formatter)):t=n.config.tooltip.y.title.formatter,typeof r!="function"&&(r=n.globals.yLabelFormatters[0]?n.globals.yLabelFormatters[0]:function(s){return s}),typeof t!="function"&&(t=function(s){return s?s+": ":""}),{yLbFormatter:r,yLbTitleFormatter:t}}},{key:"getSeriesName",value:function(e){var t=e.fn,n=e.index,r=e.seriesIndex,s=e.j,o=this.w;return t(String(o.globals.seriesNames[n]),{series:o.globals.series,seriesIndex:r,dataPointIndex:s,w:o})}},{key:"DOMHandling",value:function(e){e.i;var t=e.t,n=e.j,r=e.ttItems,s=e.values,o=e.seriesName,a=e.shared,l=e.pColor,c=this.w,u=this.ttCtx,h=s.val,d=s.goalVals,f=s.xVal,p=s.xAxisTTVal,m=s.zVal,b=null;b=r[t].children,c.config.tooltip.fillSeriesColor&&(r[t].style.backgroundColor=l,b[0].style.display="none"),u.showTooltipTitle&&(u.tooltipTitle===null&&(u.tooltipTitle=c.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),u.tooltipTitle.innerHTML=f),u.isXAxisTooltipEnabled&&(u.xaxisTooltipText.innerHTML=p!==""?p:f);var y=r[t].querySelector(".apexcharts-tooltip-text-y-label");y&&(y.innerHTML=o||"");var w=r[t].querySelector(".apexcharts-tooltip-text-y-value");w&&(w.innerHTML=h!==void 0?h:""),b[0]&&b[0].classList.contains("apexcharts-tooltip-marker")&&(c.config.tooltip.marker.fillColors&&Array.isArray(c.config.tooltip.marker.fillColors)&&(l=c.config.tooltip.marker.fillColors[t]),c.config.tooltip.fillSeriesColor?b[0].style.backgroundColor=l:b[0].style.color=l),c.config.tooltip.marker.show||(b[0].style.display="none");var C=r[t].querySelector(".apexcharts-tooltip-text-goals-label"),T=r[t].querySelector(".apexcharts-tooltip-text-goals-value");if(d.length&&c.globals.seriesGoals[t]){var k=function(){var O="<div>",P="<div>";d.forEach(function(N,R){O+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(N.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(N.attrs.name,"</div>"),P+="<div>".concat(N.val,"</div>")}),C.innerHTML=O+"</div>",T.innerHTML=P+"</div>"};a?c.globals.seriesGoals[t][n]&&Array.isArray(c.globals.seriesGoals[t][n])?k():(C.innerHTML="",T.innerHTML=""):k()}else C.innerHTML="",T.innerHTML="";if(m!==null&&(r[t].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=c.config.tooltip.z.title,r[t].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=m!==void 0?m:""),a&&b[0]){if(c.config.tooltip.hideEmptySeries){var E=r[t].querySelector(".apexcharts-tooltip-marker"),M=r[t].querySelector(".apexcharts-tooltip-text");parseFloat(h)==0?(E.style.display="none",M.style.display="none"):(E.style.display="block",M.style.display="block")}h==null||c.globals.ancillaryCollapsedSeriesIndices.indexOf(t)>-1||c.globals.collapsedSeriesIndices.indexOf(t)>-1||Array.isArray(u.tConfig.enabledOnSeries)&&u.tConfig.enabledOnSeries.indexOf(t)===-1?b[0].parentNode.style.display="none":b[0].parentNode.style.display=c.config.tooltip.items.display}else Array.isArray(u.tConfig.enabledOnSeries)&&u.tConfig.enabledOnSeries.indexOf(t)===-1&&(b[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(e,t){var n=this.w;if(e)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var r=n.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(t));r&&(r.classList.add("apexcharts-active"),r.style.display=n.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(e){var t=e.i,n=e.j,r=this.w,s=this.ctx.series.filteredSeriesX(),o="",a="",l=null,c=null,u={series:r.globals.series,seriesIndex:t,dataPointIndex:n,w:r},h=r.globals.ttZFormatter;n===null?c=r.globals.series[t]:r.globals.isXNumeric&&r.config.chart.type!=="treemap"?(o=s[t][n],s[t].length===0&&(o=s[this.tooltipUtil.getFirstActiveXArray(s)][n])):o=new Mf(this.ctx).isFormatXY()?r.config.series[t].data[n]!==void 0?r.config.series[t].data[n].x:"":r.globals.labels[n]!==void 0?r.globals.labels[n]:"";var d=o;return r.globals.isXNumeric&&r.config.xaxis.type==="datetime"?o=new $a(this.ctx).xLabelFormat(r.globals.ttKeyFormatter,d,d,{i:void 0,dateFormatter:new pn(this.ctx).formatDate,w:this.w}):o=r.globals.isBarHorizontal?r.globals.yLabelFormatters[0](d,u):r.globals.xLabelFormatter(d,u),r.config.tooltip.x.formatter!==void 0&&(o=r.globals.ttKeyFormatter(d,u)),r.globals.seriesZ.length>0&&r.globals.seriesZ[t].length>0&&(l=h(r.globals.seriesZ[t][n],r)),a=typeof r.config.xaxis.tooltip.formatter=="function"?r.globals.xaxisTooltipFormatter(d,u):o,{val:Array.isArray(c)?c.join(" "):c,xVal:Array.isArray(o)?o.join(" "):o,xAxisTTVal:Array.isArray(a)?a.join(" "):a,zVal:l}}},{key:"handleCustomTooltip",value:function(e){var t=e.i,n=e.j,r=e.y1,s=e.y2,o=e.w,a=this.ttCtx.getElTooltip(),l=o.config.tooltip.custom;Array.isArray(l)&&l[t]&&(l=l[t]);var c=l({ctx:this.ctx,series:o.globals.series,seriesIndex:t,dataPointIndex:n,y1:r,y2:s,w:o});typeof c=="string"?a.innerHTML=c:(c instanceof Element||typeof c.nodeName=="string")&&(a.innerHTML="",a.appendChild(c.cloneNode(!0)))}}]),i}(),Py=function(){function i(e){Ee(this,i),this.ttCtx=e,this.ctx=e.ctx,this.w=e.w}return Oe(i,[{key:"moveXCrosshairs",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=this.ttCtx,r=this.w,s=n.getElXCrosshairs(),o=e-n.xcrosshairsWidth/2,a=r.globals.labels.slice().length;if(t!==null&&(o=r.globals.gridWidth/a*t),s===null||r.globals.isBarHorizontal||(s.setAttribute("x",o),s.setAttribute("x1",o),s.setAttribute("x2",o),s.setAttribute("y2",r.globals.gridHeight),s.classList.add("apexcharts-active")),o<0&&(o=0),o>r.globals.gridWidth&&(o=r.globals.gridWidth),n.isXAxisTooltipEnabled){var l=o;r.config.xaxis.crosshairs.width!=="tickWidth"&&r.config.xaxis.crosshairs.width!=="barWidth"||(l=o+n.xcrosshairsWidth/2),this.moveXAxisTooltip(l)}}},{key:"moveYCrosshairs",value:function(e){var t=this.ttCtx;t.ycrosshairs!==null&&ae.setAttrs(t.ycrosshairs,{y1:e,y2:e}),t.ycrosshairsHidden!==null&&ae.setAttrs(t.ycrosshairsHidden,{y1:e,y2:e})}},{key:"moveXAxisTooltip",value:function(e){var t=this.w,n=this.ttCtx;if(n.xaxisTooltip!==null&&n.xcrosshairsWidth!==0){n.xaxisTooltip.classList.add("apexcharts-active");var r=n.xaxisOffY+t.config.xaxis.tooltip.offsetY+t.globals.translateY+1+t.config.xaxis.offsetY;if(e-=n.xaxisTooltip.getBoundingClientRect().width/2,!isNaN(e)){e+=t.globals.translateX;var s;s=new ae(this.ctx).getTextRects(n.xaxisTooltipText.innerHTML),n.xaxisTooltipText.style.minWidth=s.width+"px",n.xaxisTooltip.style.left=e+"px",n.xaxisTooltip.style.top=r+"px"}}}},{key:"moveYAxisTooltip",value:function(e){var t=this.w,n=this.ttCtx;n.yaxisTTEls===null&&(n.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var r=parseInt(n.ycrosshairsHidden.getAttribute("y1"),10),s=t.globals.translateY+r,o=n.yaxisTTEls[e].getBoundingClientRect().height,a=t.globals.translateYAxisX[e]-2;t.config.yaxis[e].opposite&&(a-=26),s-=o/2,t.globals.ignoreYAxisIndexes.indexOf(e)===-1?(n.yaxisTTEls[e].classList.add("apexcharts-active"),n.yaxisTTEls[e].style.top=s+"px",n.yaxisTTEls[e].style.left=a+t.config.yaxis[e].tooltip.offsetX+"px"):n.yaxisTTEls[e].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=this.w,s=this.ttCtx,o=s.getElTooltip(),a=s.tooltipRect,l=n!==null?parseFloat(n):1,c=parseFloat(e)+l+5,u=parseFloat(t)+l/2;if(c>r.globals.gridWidth/2&&(c=c-a.ttWidth-l-10),c>r.globals.gridWidth-a.ttWidth-10&&(c=r.globals.gridWidth-a.ttWidth),c<-20&&(c=-20),r.config.tooltip.followCursor){var h=s.getElGrid().getBoundingClientRect();(c=s.e.clientX-h.left)>r.globals.gridWidth/2&&(c-=s.tooltipRect.ttWidth),(u=s.e.clientY+r.globals.translateY-h.top)>r.globals.gridHeight/2&&(u-=s.tooltipRect.ttHeight)}else r.globals.isBarHorizontal||a.ttHeight/2+u>r.globals.gridHeight&&(u=r.globals.gridHeight-a.ttHeight+r.globals.translateY);isNaN(c)||(c+=r.globals.translateX,o.style.left=c+"px",o.style.top=u+"px")}},{key:"moveMarkers",value:function(e,t){var n=this.w,r=this.ttCtx;if(n.globals.markers.size[e]>0)for(var s=n.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-marker")),o=0;o<s.length;o++)parseInt(s[o].getAttribute("rel"),10)===t&&(r.marker.resetPointsSize(),r.marker.enlargeCurrentPoint(t,s[o]));else r.marker.resetPointsSize(),this.moveDynamicPointOnHover(t,e)}},{key:"moveDynamicPointOnHover",value:function(e,t){var n,r,s,o,a=this.w,l=this.ttCtx,c=new ae(this.ctx),u=a.globals.pointsArray,h=l.tooltipUtil.getHoverMarkerSize(t),d=a.config.series[t].type;if(!d||d!=="column"&&d!=="candlestick"&&d!=="boxPlot"){s=(n=u[t][e])===null||n===void 0?void 0:n[0],o=((r=u[t][e])===null||r===void 0?void 0:r[1])||0;var f=a.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers path"));if(f&&o<a.globals.gridHeight&&o>0){var p=f.getAttribute("shape"),m=c.getMarkerPath(s,o,p,1.5*h);f.setAttribute("d",m)}this.moveXCrosshairs(s),l.fixedTooltip||this.moveTooltip(s,o,h)}}},{key:"moveDynamicPointsOnHover",value:function(e){var t,n=this.ttCtx,r=n.w,s=0,o=0,a=r.globals.pointsArray,l=new gi(this.ctx),c=new ae(this.ctx);t=l.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var u=n.tooltipUtil.getHoverMarkerSize(t);if(a[t]&&(s=a[t][e][0],o=a[t][e][1]),!isNaN(s)){var h=n.tooltipUtil.getAllMarkers();if(h.length)for(var d=0;d<r.globals.series.length;d++){var f=a[d];if(r.globals.comboCharts&&f===void 0&&h.splice(d,0,null),f&&f.length){var p=a[d][e][1],m=void 0;h[d].setAttribute("cx",s);var b=h[d].getAttribute("shape");if(r.config.chart.type==="rangeArea"&&!r.globals.comboCharts){var y=e+r.globals.series[d].length;m=a[d][y][1],p-=Math.abs(p-m)/2}if(p!==null&&!isNaN(p)&&p<r.globals.gridHeight+u&&p+u>0){var w=c.getMarkerPath(s,p,b,u);h[d].setAttribute("d",w)}else h[d].setAttribute("d","")}}this.moveXCrosshairs(s),n.fixedTooltip||this.moveTooltip(s,o||r.globals.gridHeight,u)}}},{key:"moveStickyTooltipOverBars",value:function(e,t){var n=this.w,r=this.ttCtx,s=n.globals.columnSeries?n.globals.columnSeries.length:n.globals.series.length;n.config.chart.stacked&&(s=n.globals.barGroups.length);var o=s>=2&&s%2==0?Math.floor(s/2):Math.floor(s/2)+1;n.globals.isBarHorizontal&&(o=new gi(this.ctx).getActiveConfigSeriesIndex("desc")+1);var a=n.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(o,"'] path[j='").concat(e,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(e,"']"));a||typeof t!="number"||(a=n.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(t,"'] path[j='").concat(e,`'],
          .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
          .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,`'],
          .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='`).concat(t,"'] path[j='").concat(e,"']")));var l=a?parseFloat(a.getAttribute("cx")):0,c=a?parseFloat(a.getAttribute("cy")):0,u=a?parseFloat(a.getAttribute("barWidth")):0,h=r.getElGrid().getBoundingClientRect(),d=a&&(a.classList.contains("apexcharts-candlestick-area")||a.classList.contains("apexcharts-boxPlot-area"));n.globals.isXNumeric?(a&&!d&&(l-=s%2!=0?u/2:0),a&&d&&(l-=u/2)):n.globals.isBarHorizontal||(l=r.xAxisTicksPositions[e-1]+r.dataPointsDividedWidth/2,isNaN(l)&&(l=r.xAxisTicksPositions[e]-r.dataPointsDividedWidth/2)),n.globals.isBarHorizontal?c-=r.tooltipRect.ttHeight:n.config.tooltip.followCursor?c=r.e.clientY-h.top-r.tooltipRect.ttHeight/2:c+r.tooltipRect.ttHeight+15>n.globals.gridHeight&&(c=n.globals.gridHeight),n.globals.isBarHorizontal||this.moveXCrosshairs(l),r.fixedTooltip||this.moveTooltip(l,c||n.globals.gridHeight)}}]),i}(),GM=function(){function i(e){Ee(this,i),this.w=e.w,this.ttCtx=e,this.ctx=e.ctx,this.tooltipPosition=new Py(e)}return Oe(i,[{key:"drawDynamicPoints",value:function(){var e=this.w,t=new ae(this.ctx),n=new Io(this.ctx),r=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");r=Zt(r),e.config.chart.stacked&&r.sort(function(h,d){return parseFloat(h.getAttribute("data:realIndex"))-parseFloat(d.getAttribute("data:realIndex"))});for(var s=0;s<r.length;s++){var o=r[s].querySelector(".apexcharts-series-markers-wrap");if(o!==null){var a=void 0,l="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));e.config.chart.type!=="line"&&e.config.chart.type!=="area"||e.globals.comboCharts||e.config.tooltip.intersect||(l+=" no-pointer-events");var c=n.getMarkerConfig({cssClass:l,seriesIndex:Number(o.getAttribute("data:realIndex"))});(a=t.drawMarker(0,0,c)).node.setAttribute("default-marker-size",0);var u=document.createElementNS(e.globals.SVGNS,"g");u.classList.add("apexcharts-series-markers"),u.appendChild(a.node),o.appendChild(u)}}}},{key:"enlargeCurrentPoint",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=this.w;s.config.chart.type!=="bubble"&&this.newPointSize(e,t);var o=t.getAttribute("cx"),a=t.getAttribute("cy");if(n!==null&&r!==null&&(o=n,a=r),this.tooltipPosition.moveXCrosshairs(o),!this.fixedTooltip){if(s.config.chart.type==="radar"){var l=this.ttCtx.getElGrid().getBoundingClientRect();o=this.ttCtx.e.clientX-l.left}this.tooltipPosition.moveTooltip(o,a,s.config.markers.hover.size)}}},{key:"enlargePoints",value:function(e){for(var t=this.w,n=this,r=this.ttCtx,s=e,o=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),a=t.config.markers.hover.size,l=0;l<o.length;l++){var c=o[l].getAttribute("rel"),u=o[l].getAttribute("index");if(a===void 0&&(a=t.globals.markers.size[u]+t.config.markers.hover.sizeOffset),s===parseInt(c,10)){n.newPointSize(s,o[l]);var h=o[l].getAttribute("cx"),d=o[l].getAttribute("cy");n.tooltipPosition.moveXCrosshairs(h),r.fixedTooltip||n.tooltipPosition.moveTooltip(h,d,a)}else n.oldPointSize(o[l])}}},{key:"newPointSize",value:function(e,t){var n=this.w,r=n.config.markers.hover.size,s=e===0?t.parentNode.firstChild:t.parentNode.lastChild;if(s.getAttribute("default-marker-size")!=="0"){var o=parseInt(s.getAttribute("index"),10);r===void 0&&(r=n.globals.markers.size[o]+n.config.markers.hover.sizeOffset),r<0&&(r=0);var a=this.ttCtx.tooltipUtil.getPathFromPoint(t,r);t.setAttribute("d",a)}}},{key:"oldPointSize",value:function(e){var t=parseFloat(e.getAttribute("default-marker-size")),n=this.ttCtx.tooltipUtil.getPathFromPoint(e,t);e.setAttribute("d",n)}},{key:"resetPointsSize",value:function(){for(var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),t=0;t<e.length;t++){var n=parseFloat(e[t].getAttribute("default-marker-size"));if(H.isNumber(n)&&n>0){var r=this.ttCtx.tooltipUtil.getPathFromPoint(e[t],n);e[t].setAttribute("d",r)}else e[t].setAttribute("d","M0,0")}}}]),i}(),qM=function(){function i(e){Ee(this,i),this.w=e.w;var t=this.w;this.ttCtx=e,this.isVerticalGroupedRangeBar=!t.globals.isBarHorizontal&&t.config.chart.type==="rangeBar"&&t.config.plotOptions.bar.rangeBarGroupRows}return Oe(i,[{key:"getAttr",value:function(e,t){return parseFloat(e.target.getAttribute(t))}},{key:"handleHeatTreeTooltip",value:function(e){var t=e.e,n=e.opt,r=e.x,s=e.y,o=e.type,a=this.ttCtx,l=this.w;if(t.target.classList.contains("apexcharts-".concat(o,"-rect"))){var c=this.getAttr(t,"i"),u=this.getAttr(t,"j"),h=this.getAttr(t,"cx"),d=this.getAttr(t,"cy"),f=this.getAttr(t,"width"),p=this.getAttr(t,"height");if(a.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:c,j:u,shared:!1,e:t}),l.globals.capturedSeriesIndex=c,l.globals.capturedDataPointIndex=u,r=h+a.tooltipRect.ttWidth/2+f,s=d+a.tooltipRect.ttHeight/2-p/2,a.tooltipPosition.moveXCrosshairs(h+f/2),r>l.globals.gridWidth/2&&(r=h-a.tooltipRect.ttWidth/2+f),a.w.config.tooltip.followCursor){var m=l.globals.dom.elWrap.getBoundingClientRect();r=l.globals.clientX-m.left-(r>l.globals.gridWidth/2?a.tooltipRect.ttWidth:0),s=l.globals.clientY-m.top-(s>l.globals.gridHeight/2?a.tooltipRect.ttHeight:0)}}return{x:r,y:s}}},{key:"handleMarkerTooltip",value:function(e){var t,n,r=e.e,s=e.opt,o=e.x,a=e.y,l=this.w,c=this.ttCtx;if(r.target.classList.contains("apexcharts-marker")){var u=parseInt(s.paths.getAttribute("cx"),10),h=parseInt(s.paths.getAttribute("cy"),10),d=parseFloat(s.paths.getAttribute("val"));if(n=parseInt(s.paths.getAttribute("rel"),10),t=parseInt(s.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,c.intersect){var f=H.findAncestor(s.paths,"apexcharts-series");f&&(t=parseInt(f.getAttribute("data:realIndex"),10))}if(c.tooltipLabels.drawSeriesTexts({ttItems:s.ttItems,i:t,j:n,shared:!c.showOnIntersect&&l.config.tooltip.shared,e:r}),r.type==="mouseup"&&c.markerClick(r,t,n),l.globals.capturedSeriesIndex=t,l.globals.capturedDataPointIndex=n,o=u,a=h+l.globals.translateY-1.4*c.tooltipRect.ttHeight,c.w.config.tooltip.followCursor){var p=c.getElGrid().getBoundingClientRect();a=c.e.clientY+l.globals.translateY-p.top}d<0&&(a=h),c.marker.enlargeCurrentPoint(n,s.paths,o,a)}return{x:o,y:a}}},{key:"handleBarTooltip",value:function(e){var t,n,r=e.e,s=e.opt,o=this.w,a=this.ttCtx,l=a.getElTooltip(),c=0,u=0,h=0,d=this.getBarTooltipXY({e:r,opt:s});if(d.j!==null||d.barHeight!==0||d.barWidth!==0){t=d.i;var f=d.j;if(o.globals.capturedSeriesIndex=t,o.globals.capturedDataPointIndex=f,o.globals.isBarHorizontal&&a.tooltipUtil.hasBars()||!o.config.tooltip.shared?(u=d.x,h=d.y,n=Array.isArray(o.config.stroke.width)?o.config.stroke.width[t]:o.config.stroke.width,c=u):o.globals.comboCharts||o.config.tooltip.shared||(c/=2),isNaN(h)&&(h=o.globals.svgHeight-a.tooltipRect.ttHeight),parseInt(s.paths.parentNode.getAttribute("data:realIndex"),10),u+a.tooltipRect.ttWidth>o.globals.gridWidth?u-=a.tooltipRect.ttWidth:u<0&&(u=0),a.w.config.tooltip.followCursor){var p=a.getElGrid().getBoundingClientRect();h=a.e.clientY-p.top}a.tooltip===null&&(a.tooltip=o.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),o.config.tooltip.shared||(o.globals.comboBarCount>0?a.tooltipPosition.moveXCrosshairs(c+n/2):a.tooltipPosition.moveXCrosshairs(c)),!a.fixedTooltip&&(!o.config.tooltip.shared||o.globals.isBarHorizontal&&a.tooltipUtil.hasBars())&&(h=h+o.globals.translateY-a.tooltipRect.ttHeight/2,l.style.left=u+o.globals.translateX+"px",l.style.top=h+"px")}}},{key:"getBarTooltipXY",value:function(e){var t=this,n=e.e,r=e.opt,s=this.w,o=null,a=this.ttCtx,l=0,c=0,u=0,h=0,d=0,f=n.target.classList;if(f.contains("apexcharts-bar-area")||f.contains("apexcharts-candlestick-area")||f.contains("apexcharts-boxPlot-area")||f.contains("apexcharts-rangebar-area")){var p=n.target,m=p.getBoundingClientRect(),b=r.elGrid.getBoundingClientRect(),y=m.height;d=m.height;var w=m.width,C=parseInt(p.getAttribute("cx"),10),T=parseInt(p.getAttribute("cy"),10);h=parseFloat(p.getAttribute("barWidth"));var k=n.type==="touchmove"?n.touches[0].clientX:n.clientX;o=parseInt(p.getAttribute("j"),10),l=parseInt(p.parentNode.getAttribute("rel"),10)-1;var E=p.getAttribute("data-range-y1"),M=p.getAttribute("data-range-y2");s.globals.comboCharts&&(l=parseInt(p.parentNode.getAttribute("data:realIndex"),10));var O=function(N){return s.globals.isXNumeric?C-w/2:t.isVerticalGroupedRangeBar?C+w/2:C-a.dataPointsDividedWidth+w/2},P=function(){return T-a.dataPointsDividedHeight+y/2-a.tooltipRect.ttHeight/2};a.tooltipLabels.drawSeriesTexts({ttItems:r.ttItems,i:l,j:o,y1:E?parseInt(E,10):null,y2:M?parseInt(M,10):null,shared:!a.showOnIntersect&&s.config.tooltip.shared,e:n}),s.config.tooltip.followCursor?s.globals.isBarHorizontal?(c=k-b.left+15,u=P()):(c=O(),u=n.clientY-b.top-a.tooltipRect.ttHeight/2-15):s.globals.isBarHorizontal?((c=C)<a.xyRatios.baseLineInvertedY&&(c=C-a.tooltipRect.ttWidth),u=P()):(c=O(),u=T)}return{x:c,y:u,barHeight:d,barWidth:h,i:l,j:o}}}]),i}(),UM=function(){function i(e){Ee(this,i),this.w=e.w,this.ttCtx=e}return Oe(i,[{key:"drawXaxisTooltip",value:function(){var e=this.w,t=this.ttCtx,n=e.config.xaxis.position==="bottom";t.xaxisOffY=n?e.globals.gridHeight+1:-e.globals.xAxisHeight-e.config.xaxis.axisTicks.height+3;var r=n?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",s=e.globals.dom.elWrap;t.isXAxisTooltipEnabled&&e.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")===null&&(t.xaxisTooltip=document.createElement("div"),t.xaxisTooltip.setAttribute("class",r+" apexcharts-theme-"+e.config.tooltip.theme),s.appendChild(t.xaxisTooltip),t.xaxisTooltipText=document.createElement("div"),t.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),t.xaxisTooltipText.style.fontFamily=e.config.xaxis.tooltip.style.fontFamily||e.config.chart.fontFamily,t.xaxisTooltipText.style.fontSize=e.config.xaxis.tooltip.style.fontSize,t.xaxisTooltip.appendChild(t.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var e=this.w,t=this.ttCtx,n=0;n<e.config.yaxis.length;n++){var r=e.config.yaxis[n].opposite||e.config.yaxis[n].crosshairs.opposite;t.yaxisOffX=r?e.globals.gridWidth+1:1;var s="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(n,r?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),o=e.globals.dom.elWrap;e.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(n))===null&&(t.yaxisTooltip=document.createElement("div"),t.yaxisTooltip.setAttribute("class",s+" apexcharts-theme-"+e.config.tooltip.theme),o.appendChild(t.yaxisTooltip),n===0&&(t.yaxisTooltipText=[]),t.yaxisTooltipText[n]=document.createElement("div"),t.yaxisTooltipText[n].classList.add("apexcharts-yaxistooltip-text"),t.yaxisTooltip.appendChild(t.yaxisTooltipText[n]))}}},{key:"setXCrosshairWidth",value:function(){var e=this.w,t=this.ttCtx,n=t.getElXCrosshairs();if(t.xcrosshairsWidth=parseInt(e.config.xaxis.crosshairs.width,10),e.globals.comboCharts){var r=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(r!==null&&e.config.xaxis.crosshairs.width==="barWidth"){var s=parseFloat(r.getAttribute("barWidth"));t.xcrosshairsWidth=s}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var o=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/o}}else if(e.config.xaxis.crosshairs.width==="tickWidth"){var a=e.globals.labels.length;t.xcrosshairsWidth=e.globals.gridWidth/a}else if(e.config.xaxis.crosshairs.width==="barWidth"){var l=e.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(l!==null){var c=parseFloat(l.getAttribute("barWidth"));t.xcrosshairsWidth=c}else t.xcrosshairsWidth=1}e.globals.isBarHorizontal&&(t.xcrosshairsWidth=0),n!==null&&t.xcrosshairsWidth>0&&n.setAttribute("width",t.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var e=this.w,t=this.ttCtx;t.ycrosshairs=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),t.ycrosshairsHidden=e.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(e,t,n){var r=this.ttCtx,s=this.w,o=s.globals,a=o.seriesYAxisMap[e];if(r.yaxisTooltips[e]&&a.length>0){var l=o.yLabelFormatters[e],c=r.getElGrid().getBoundingClientRect(),u=a[0],h=0;n.yRatio.length>1&&(h=u);var d=(t-c.top)*n.yRatio[h],f=o.maxYArr[u]-o.minYArr[u],p=o.minYArr[u]+(f-d);s.config.yaxis[e].reversed&&(p=o.maxYArr[u]-(f-d)),r.tooltipPosition.moveYCrosshairs(t-c.top),r.yaxisTooltipText[e].innerHTML=l(p),r.tooltipPosition.moveYAxisTooltip(e)}}}]),i}(),Ly=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w;var t=this.w;this.tConfig=t.config.tooltip,this.tooltipUtil=new Iy(this),this.tooltipLabels=new $M(this),this.tooltipPosition=new Py(this),this.marker=new GM(this),this.intersect=new qM(this),this.axesTooltip=new UM(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!t.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return Oe(i,[{key:"getElTooltip",value:function(e){return e||(e=this),e.w.globals.dom.baseEl?e.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(e){var t=this.w;this.xyRatios=e,this.isXAxisTooltipEnabled=t.config.xaxis.tooltip.enabled&&t.globals.axisCharts,this.yaxisTooltips=t.config.yaxis.map(function(o,a){return!!(o.show&&o.tooltip.enabled&&t.globals.axisCharts)}),this.allTooltipSeriesGroups=[],t.globals.axisCharts||(this.showTooltipTitle=!1);var n=document.createElement("div");if(n.classList.add("apexcharts-tooltip"),t.config.tooltip.cssClass&&n.classList.add(t.config.tooltip.cssClass),n.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),t.globals.dom.elWrap.appendChild(n),t.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var r=new Ka(this.ctx);this.xAxisTicksPositions=r.getXAxisTicksPositions()}if(!t.globals.comboCharts&&!this.tConfig.intersect&&t.config.chart.type!=="rangeBar"||this.tConfig.shared||(this.showOnIntersect=!0),t.config.markers.size!==0&&t.globals.markers.largestSize!==0||this.marker.drawDynamicPoints(this),t.globals.collapsedSeries.length!==t.globals.series.length){this.dataPointsDividedHeight=t.globals.gridHeight/t.globals.dataPoints,this.dataPointsDividedWidth=t.globals.gridWidth/t.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||t.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,n.appendChild(this.tooltipTitle));var s=t.globals.series.length;(t.globals.xyCharts||t.globals.comboCharts)&&this.tConfig.shared&&(s=this.showOnIntersect?1:t.globals.series.length),this.legendLabels=t.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(s),this.addSVGEvents()}}},{key:"createTTElements",value:function(e){for(var t=this,n=this.w,r=[],s=this.getElTooltip(),o=function(l){var c=document.createElement("div");c.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(l)),c.style.order=n.config.tooltip.inverseOrder?e-l:l+1;var u=document.createElement("span");u.classList.add("apexcharts-tooltip-marker"),n.config.tooltip.fillSeriesColor?u.style.backgroundColor=n.globals.colors[l]:u.style.color=n.globals.colors[l];var h=n.config.markers.shape,d=h;Array.isArray(h)&&(d=h[l]),u.setAttribute("shape",d),c.appendChild(u);var f=document.createElement("div");f.classList.add("apexcharts-tooltip-text"),f.style.fontFamily=t.tConfig.style.fontFamily||n.config.chart.fontFamily,f.style.fontSize=t.tConfig.style.fontSize,["y","goals","z"].forEach(function(p){var m=document.createElement("div");m.classList.add("apexcharts-tooltip-".concat(p,"-group"));var b=document.createElement("span");b.classList.add("apexcharts-tooltip-text-".concat(p,"-label")),m.appendChild(b);var y=document.createElement("span");y.classList.add("apexcharts-tooltip-text-".concat(p,"-value")),m.appendChild(y),f.appendChild(m)}),c.appendChild(f),s.appendChild(c),r.push(c)},a=0;a<e;a++)o(a);return r}},{key:"addSVGEvents",value:function(){var e=this.w,t=e.config.chart.type,n=this.getElTooltip(),r=!(t!=="bar"&&t!=="candlestick"&&t!=="boxPlot"&&t!=="rangeBar"),s=t==="area"||t==="line"||t==="scatter"||t==="bubble"||t==="radar",o=e.globals.dom.Paper.node,a=this.getElGrid();a&&(this.seriesBound=a.getBoundingClientRect());var l,c=[],u=[],h={hoverArea:o,elGrid:a,tooltipEl:n,tooltipY:c,tooltipX:u,ttItems:this.ttItems};if(e.globals.axisCharts&&(s?l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):r?l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):t!=="heatmap"&&t!=="treemap"||(l=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),l&&l.length))for(var d=0;d<l.length;d++)c.push(l[d].getAttribute("cy")),u.push(l[d].getAttribute("cx"));if(e.globals.xyCharts&&!this.showOnIntersect||e.globals.comboCharts&&!this.showOnIntersect||r&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([o],h);else if(r&&!e.globals.comboCharts||s&&this.showOnIntersect)this.addDatapointEventsListeners(h);else if(!e.globals.axisCharts||t==="heatmap"||t==="treemap"){var f=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(f,h)}if(this.showOnIntersect){var p=e.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");p.length>0&&this.addPathsEventListeners(p,h),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(h)}}},{key:"drawFixedTooltipRect",value:function(){var e=this.w,t=this.getElTooltip(),n=t.getBoundingClientRect(),r=n.width+10,s=n.height+10,o=this.tConfig.fixed.offsetX,a=this.tConfig.fixed.offsetY,l=this.tConfig.fixed.position.toLowerCase();return l.indexOf("right")>-1&&(o=o+e.globals.svgWidth-r+10),l.indexOf("bottom")>-1&&(a=a+e.globals.svgHeight-s-10),t.style.left=o+"px",t.style.top=a+"px",{x:o,y:a,ttWidth:r,ttHeight:s}}},{key:"addDatapointEventsListeners",value:function(e){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(t,e)}},{key:"addPathsEventListeners",value:function(e,t){for(var n=this,r=function(o){var a={paths:e[o],tooltipEl:t.tooltipEl,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:t.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(l){return e[o].addEventListener(l,n.onSeriesHover.bind(n,a),{capture:!1,passive:!0})})},s=0;s<e.length;s++)r(s)}},{key:"onSeriesHover",value:function(e,t){var n=this,r=Date.now()-this.lastHoverTime;r>=20?this.seriesHover(e,t):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){n.seriesHover(e,t)},20-r))}},{key:"seriesHover",value:function(e,t){var n=this;this.lastHoverTime=Date.now();var r=[],s=this.w;s.config.chart.group&&(r=this.ctx.getGroupedCharts()),s.globals.axisCharts&&(s.globals.minX===-1/0&&s.globals.maxX===1/0||s.globals.dataPoints===0)||(r.length?r.forEach(function(o){var a=n.getElTooltip(o),l={paths:e.paths,tooltipEl:a,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:o.w.globals.tooltip.ttItems};o.w.globals.minX===n.w.globals.minX&&o.w.globals.maxX===n.w.globals.maxX&&o.w.globals.tooltip.seriesHoverByContext({chartCtx:o,ttCtx:o.w.globals.tooltip,opt:l,e:t})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:e,e:t}))}},{key:"seriesHoverByContext",value:function(e){var t=e.chartCtx,n=e.ttCtx,r=e.opt,s=e.e,o=t.w,a=this.getElTooltip(t);a&&(n.tooltipRect={x:0,y:0,ttWidth:a.getBoundingClientRect().width,ttHeight:a.getBoundingClientRect().height},n.e=s,n.tooltipUtil.hasBars()&&!o.globals.comboCharts&&!n.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new gi(t).toggleSeriesOnHover(s,s.target.parentNode),n.fixedTooltip&&n.drawFixedTooltipRect(),o.globals.axisCharts?n.axisChartsTooltips({e:s,opt:r,tooltipRect:n.tooltipRect}):n.nonAxisChartsTooltips({e:s,opt:r,tooltipRect:n.tooltipRect}))}},{key:"axisChartsTooltips",value:function(e){var t,n,r=e.e,s=e.opt,o=this.w,a=s.elGrid.getBoundingClientRect(),l=r.type==="touchmove"?r.touches[0].clientX:r.clientX,c=r.type==="touchmove"?r.touches[0].clientY:r.clientY;if(this.clientY=c,this.clientX=l,o.globals.capturedSeriesIndex=-1,o.globals.capturedDataPointIndex=-1,c<a.top||c>a.top+a.height)this.handleMouseOut(s);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!o.config.tooltip.shared){var u=parseInt(s.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(u)<0)return void this.handleMouseOut(s)}var h=this.getElTooltip(),d=this.getElXCrosshairs(),f=[];o.config.chart.group&&(f=this.ctx.getSyncedCharts());var p=o.globals.xyCharts||o.config.chart.type==="bar"&&!o.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||o.globals.comboCharts&&this.tooltipUtil.hasBars();if(r.type==="mousemove"||r.type==="touchmove"||r.type==="mouseup"){if(o.globals.collapsedSeries.length+o.globals.ancillaryCollapsedSeries.length===o.globals.series.length)return;d!==null&&d.classList.add("apexcharts-active");var m=this.yaxisTooltips.filter(function(w){return w===!0});if(this.ycrosshairs!==null&&m.length&&this.ycrosshairs.classList.add("apexcharts-active"),p&&!this.showOnIntersect||f.length>1)this.handleStickyTooltip(r,l,c,s);else if(o.config.chart.type==="heatmap"||o.config.chart.type==="treemap"){var b=this.intersect.handleHeatTreeTooltip({e:r,opt:s,x:t,y:n,type:o.config.chart.type});t=b.x,n=b.y,h.style.left=t+"px",h.style.top=n+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:r,opt:s}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:r,opt:s,x:t,y:n});if(this.yaxisTooltips.length)for(var y=0;y<o.config.yaxis.length;y++)this.axesTooltip.drawYaxisTooltipText(y,c,this.xyRatios);o.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),s.tooltipEl.classList.add("apexcharts-active")}else r.type!=="mouseout"&&r.type!=="touchend"||this.handleMouseOut(s)}}},{key:"nonAxisChartsTooltips",value:function(e){var t=e.e,n=e.opt,r=e.tooltipRect,s=this.w,o=n.paths.getAttribute("rel"),a=this.getElTooltip(),l=s.globals.dom.elWrap.getBoundingClientRect();if(t.type==="mousemove"||t.type==="touchmove"){s.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),a.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:parseInt(o,10)-1,shared:!1});var c=s.globals.clientX-l.left-r.ttWidth/2,u=s.globals.clientY-l.top-r.ttHeight-10;if(a.style.left=c+"px",a.style.top=u+"px",s.config.legend.tooltipHoverFormatter){var h=o-1,d=(0,s.config.legend.tooltipHoverFormatter)(this.legendLabels[h].getAttribute("data:default-text"),{seriesIndex:h,dataPointIndex:h,w:s});this.legendLabels[h].innerHTML=d}}else t.type!=="mouseout"&&t.type!=="touchend"||(a.classList.remove("apexcharts-active"),s.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),s.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(f){var p=f.getAttribute("data:default-text");f.innerHTML=decodeURIComponent(p)}))}},{key:"handleStickyTooltip",value:function(e,t,n,r){var s=this.w,o=this.tooltipUtil.getNearestValues({context:this,hoverArea:r.hoverArea,elGrid:r.elGrid,clientX:t,clientY:n}),a=o.j,l=o.capturedSeries;s.globals.collapsedSeriesIndices.includes(l)&&(l=null);var c=r.elGrid.getBoundingClientRect();if(o.hoverX<0||o.hoverX>c.width)this.handleMouseOut(r);else if(l!==null)this.handleStickyCapturedSeries(e,l,r,a);else if(this.tooltipUtil.isXoverlap(a)||s.globals.isBarHorizontal){var u=s.globals.series.findIndex(function(h,d){return!s.globals.collapsedSeriesIndices.includes(d)});this.create(e,this,u,a,r.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(e,t,n,r){var s=this.w;if(!this.tConfig.shared&&s.globals.series[t][r]===null)return void this.handleMouseOut(n);if(s.globals.series[t][r]!==void 0)this.tConfig.shared&&this.tooltipUtil.isXoverlap(r)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(e,this,t,r,n.ttItems):this.create(e,this,t,r,n.ttItems,!1);else if(this.tooltipUtil.isXoverlap(r)){var o=s.globals.series.findIndex(function(a,l){return!s.globals.collapsedSeriesIndices.includes(l)});this.create(e,this,o,r,n.ttItems)}}},{key:"deactivateHoverFilter",value:function(){for(var e=this.w,t=new ae(this.ctx),n=e.globals.dom.Paper.find(".apexcharts-bar-area"),r=0;r<n.length;r++)t.pathMouseLeave(n[r])}},{key:"handleMouseOut",value:function(e){var t=this.w,n=this.getElXCrosshairs();if(t.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),e.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),t.config.chart.type!=="bubble"&&this.marker.resetPointsSize(),n!==null&&n.classList.remove("apexcharts-active"),this.ycrosshairs!==null&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){this.yaxisTTEls===null&&(this.yaxisTTEls=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var r=0;r<this.yaxisTTEls.length;r++)this.yaxisTTEls[r].classList.remove("apexcharts-active")}t.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(s){var o=s.getAttribute("data:default-text");s.innerHTML=decodeURIComponent(o)})}},{key:"markerClick",value:function(e,t,n){var r=this.w;typeof r.config.chart.events.markerClick=="function"&&r.config.chart.events.markerClick(e,this.ctx,{seriesIndex:t,dataPointIndex:n,w:r}),this.ctx.events.fireEvent("markerClick",[e,this.ctx,{seriesIndex:t,dataPointIndex:n,w:r}])}},{key:"create",value:function(e,t,n,r,s){var o,a,l,c,u,h,d,f,p,m,b,y,w,C,T,k,E=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,M=this.w,O=t;e.type==="mouseup"&&this.markerClick(e,n,r),E===null&&(E=this.tConfig.shared);var P=this.tooltipUtil.hasMarkers(n),N=this.tooltipUtil.getElBars(),R=function(){M.globals.markers.largestSize>0?O.marker.enlargePoints(r):O.tooltipPosition.moveDynamicPointsOnHover(r)};if(M.config.legend.tooltipHoverFormatter){var D=M.config.legend.tooltipHoverFormatter,V=Array.from(this.legendLabels);V.forEach(function(lt){var Ue=lt.getAttribute("data:default-text");lt.innerHTML=decodeURIComponent(Ue)});for(var q=0;q<V.length;q++){var re=V[q],te=parseInt(re.getAttribute("i"),10),ie=decodeURIComponent(re.getAttribute("data:default-text")),se=D(ie,{seriesIndex:E?te:n,dataPointIndex:r,w:M});if(E)re.innerHTML=M.globals.collapsedSeriesIndices.indexOf(te)<0?se:ie;else if(re.innerHTML=te===n?se:ie,n===te)break}}var ve=be(be({ttItems:s,i:n,j:r},((o=M.globals.seriesRange)===null||o===void 0||(a=o[n])===null||a===void 0||(l=a[r])===null||l===void 0||(c=l.y[0])===null||c===void 0?void 0:c.y1)!==void 0&&{y1:(u=M.globals.seriesRange)===null||u===void 0||(h=u[n])===null||h===void 0||(d=h[r])===null||d===void 0||(f=d.y[0])===null||f===void 0?void 0:f.y1}),((p=M.globals.seriesRange)===null||p===void 0||(m=p[n])===null||m===void 0||(b=m[r])===null||b===void 0||(y=b.y[0])===null||y===void 0?void 0:y.y2)!==void 0&&{y2:(w=M.globals.seriesRange)===null||w===void 0||(C=w[n])===null||C===void 0||(T=C[r])===null||T===void 0||(k=T.y[0])===null||k===void 0?void 0:k.y2});if(E){if(O.tooltipLabels.drawSeriesTexts(be(be({},ve),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),P)R();else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(N),this.barSeriesHeight>0)){var _e=new ae(this.ctx),ze=M.globals.dom.Paper.find(".apexcharts-bar-area[j='".concat(r,"']"));this.deactivateHoverFilter(),O.tooltipPosition.moveStickyTooltipOverBars(r,n),O.tooltipUtil.getAllMarkers(!0).length&&R();for(var nt=0;nt<ze.length;nt++)_e.pathMouseEnter(ze[nt])}}else O.tooltipLabels.drawSeriesTexts(be({shared:!1},ve)),this.tooltipUtil.hasBars()&&O.tooltipPosition.moveStickyTooltipOverBars(r,n),P&&O.tooltipPosition.moveMarkers(n,r)}}]),i}(),KM=function(){function i(e){Ee(this,i),this.w=e.w,this.barCtx=e,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return Oe(i,[{key:"handleBarDataLabels",value:function(e){var t,n,r=e.x,s=e.y,o=e.y1,a=e.y2,l=e.i,c=e.j,u=e.realIndex,h=e.columnGroupIndex,d=e.series,f=e.barHeight,p=e.barWidth,m=e.barXPosition,b=e.barYPosition,y=e.visibleSeries,w=e.renderedPath,C=this.w,T=new ae(this.barCtx.ctx),k=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[u]:this.barCtx.strokeWidth;C.globals.isXNumeric&&!C.globals.isBarHorizontal?(t=r+parseFloat(p*(y+1)),n=s+parseFloat(f*(y+1))-k):(t=r+parseFloat(p*y),n=s+parseFloat(f*y));var E,M=null,O=r,P=s,N={},R=C.config.dataLabels,D=this.barCtx.barOptions.dataLabels,V=this.barCtx.barOptions.dataLabels.total;b!==void 0&&this.barCtx.isRangeBar&&(n=b,P=b),m!==void 0&&this.barCtx.isVerticalGroupedRangeBar&&(t=m,O=m);var q=R.offsetX,re=R.offsetY,te={width:0,height:0};if(C.config.dataLabels.enabled){var ie=C.globals.series[l][c];te=T.getTextRects(C.config.dataLabels.formatter?C.config.dataLabels.formatter(ie,be(be({},C),{},{seriesIndex:l,dataPointIndex:c,w:C})):C.globals.yLabelFormatters[0](ie),parseFloat(R.style.fontSize))}var se={x:r,y:s,i:l,j:c,realIndex:u,columnGroupIndex:h,renderedPath:w,bcx:t,bcy:n,barHeight:f,barWidth:p,textRects:te,strokeWidth:k,dataLabelsX:O,dataLabelsY:P,dataLabelsConfig:R,barDataLabelsConfig:D,barTotalDataLabelsConfig:V,offX:q,offY:re};return N=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(se):this.calculateColumnsDataLabelsPosition(se),w.attr({cy:N.bcy,cx:N.bcx,j:c,val:C.globals.series[l][c],barHeight:f,barWidth:p}),E=this.drawCalculatedDataLabels({x:N.dataLabelsX,y:N.dataLabelsY,val:this.barCtx.isRangeBar?[o,a]:C.config.chart.stackType==="100%"?d[u][c]:C.globals.series[u][c],i:u,j:c,barWidth:p,barHeight:f,textRects:te,dataLabelsConfig:R}),C.config.chart.stacked&&V.enabled&&(M=this.drawTotalDataLabels({x:N.totalDataLabelsX,y:N.totalDataLabelsY,barWidth:p,barHeight:f,realIndex:u,textAnchor:N.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:u,j:c}),dataLabelsConfig:R,barTotalDataLabelsConfig:V})),{dataLabels:E,totalDataLabels:M}}},{key:"getStackedTotalDataLabel",value:function(e){var t=e.realIndex,n=e.j,r=this.w,s=this.barCtx.stackedSeriesTotals[n];return this.totalFormatter&&(s=this.totalFormatter(s,be(be({},r),{},{seriesIndex:t,dataPointIndex:n,w:r}))),s}},{key:"calculateColumnsDataLabelsPosition",value:function(e){var t=this,n=this.w,r=e.i,s=e.j,o=e.realIndex;e.columnGroupIndex;var a,l,c=e.y,u=e.bcx,h=e.barWidth,d=e.barHeight,f=e.textRects,p=e.dataLabelsX,m=e.dataLabelsY,b=e.dataLabelsConfig,y=e.barDataLabelsConfig,w=e.barTotalDataLabelsConfig,C=e.strokeWidth,T=e.offX,k=e.offY,E=u;d=Math.abs(d);var M=n.config.plotOptions.bar.dataLabels.orientation==="vertical",O=this.barCtx.barHelpers.getZeroValueEncounters({i:r,j:s}).zeroEncounters;u-=C/2;var P=n.globals.gridWidth/n.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?p+=h/2:(p=n.globals.isXNumeric?u-h/2+T:u-P+h/2+T,!n.config.chart.stacked&&O>0&&n.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(p-=h*O)),M&&(p=p+f.height/2-C/2-2);var N=n.globals.series[r][s]<0,R=c;switch(this.barCtx.isReversed&&(R=c+(N?d:-d)),y.position){case"center":m=M?N?R-d/2+k:R+d/2-k:N?R-d/2+f.height/2+k:R+d/2+f.height/2-k;break;case"bottom":m=M?N?R-d+k:R+d-k:N?R-d+f.height+C+k:R+d-f.height/2+C-k;break;case"top":m=M?N?R+k:R-k:N?R-f.height/2-k:R+f.height+k}var D=R;if(n.globals.seriesGroups.forEach(function(re){var te;(te=t.barCtx[re.join(",")])===null||te===void 0||te.prevY.forEach(function(ie){D=N?Math.max(ie[s],D):Math.min(ie[s],D)})}),this.barCtx.lastActiveBarSerieIndex===o&&w.enabled){var V=new ae(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:o,j:s}),b.fontSize);a=N?D-V.height/2-k-w.offsetY+18:D+V.height+k+w.offsetY-18;var q=P;l=E+(n.globals.isXNumeric?-h*n.globals.barGroups.length/2:n.globals.barGroups.length*h/2-(n.globals.barGroups.length-1)*h-q)+w.offsetX}return n.config.chart.stacked||(m<0?m=0+C:m+f.height/3>n.globals.gridHeight&&(m=n.globals.gridHeight-C)),{bcx:u,bcy:c,dataLabelsX:p,dataLabelsY:m,totalDataLabelsX:l,totalDataLabelsY:a,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(e){var t=this,n=this.w,r=e.x,s=e.i,o=e.j,a=e.realIndex,l=e.bcy,c=e.barHeight,u=e.barWidth,h=e.textRects,d=e.dataLabelsX,f=e.strokeWidth,p=e.dataLabelsConfig,m=e.barDataLabelsConfig,b=e.barTotalDataLabelsConfig,y=e.offX,w=e.offY,C=n.globals.gridHeight/n.globals.dataPoints,T=this.barCtx.barHelpers.getZeroValueEncounters({i:s,j:o}).zeroEncounters;u=Math.abs(u);var k,E,M=l-(this.barCtx.isRangeBar?0:C)+c/2+h.height/2+w-3;!n.config.chart.stacked&&T>0&&n.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(M-=c*T);var O="start",P=n.globals.series[s][o]<0,N=r;switch(this.barCtx.isReversed&&(N=r+(P?-u:u),O=P?"start":"end"),m.position){case"center":d=P?N+u/2-y:Math.max(h.width/2,N-u/2)+y;break;case"bottom":d=P?N+u-f-y:N-u+f+y;break;case"top":d=P?N-f-y:N-f+y}var R=N;if(n.globals.seriesGroups.forEach(function(V){var q;(q=t.barCtx[V.join(",")])===null||q===void 0||q.prevX.forEach(function(re){R=P?Math.min(re[o],R):Math.max(re[o],R)})}),this.barCtx.lastActiveBarSerieIndex===a&&b.enabled){var D=new ae(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:a,j:o}),p.fontSize);P?(k=R-f-y-b.offsetX,O="end"):k=R+y+b.offsetX+(this.barCtx.isReversed?-(u+f):f),E=M-h.height/2+D.height/2+b.offsetY+f,n.globals.barGroups.length>1&&(E-=n.globals.barGroups.length/2*(c/2))}return n.config.chart.stacked||(p.textAnchor==="start"?d-h.width<0?d=P?h.width+f:f:d+h.width>n.globals.gridWidth&&(d=P?n.globals.gridWidth-f:n.globals.gridWidth-h.width-f):p.textAnchor==="middle"?d-h.width/2<0?d=h.width/2+f:d+h.width/2>n.globals.gridWidth&&(d=n.globals.gridWidth-h.width/2-f):p.textAnchor==="end"&&(d<1?d=h.width+f:d+1>n.globals.gridWidth&&(d=n.globals.gridWidth-h.width-f))),{bcx:r,bcy:l,dataLabelsX:d,dataLabelsY:M,totalDataLabelsX:k,totalDataLabelsY:E,totalDataLabelsAnchor:O}}},{key:"drawCalculatedDataLabels",value:function(e){var t=e.x,n=e.y,r=e.val,s=e.i,o=e.j,a=e.textRects,l=e.barHeight,c=e.barWidth,u=e.dataLabelsConfig,h=this.w,d="rotate(0)";h.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(d="rotate(-90, ".concat(t,", ").concat(n,")"));var f=new Po(this.barCtx.ctx),p=new ae(this.barCtx.ctx),m=u.formatter,b=null,y=h.globals.collapsedSeriesIndices.indexOf(s)>-1;if(u.enabled&&!y){b=p.group({class:"apexcharts-data-labels",transform:d});var w="";r!==void 0&&(w=m(r,be(be({},h),{},{seriesIndex:s,dataPointIndex:o,w:h}))),!r&&h.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(w="");var C=h.globals.series[s][o]<0,T=h.config.plotOptions.bar.dataLabels.position;h.config.plotOptions.bar.dataLabels.orientation==="vertical"&&(T==="top"&&(u.textAnchor=C?"end":"start"),T==="center"&&(u.textAnchor="middle"),T==="bottom"&&(u.textAnchor=C?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&c<p.getTextRects(w,parseFloat(u.style.fontSize)).width&&(w=""),h.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?a.width/1.6>Math.abs(c)&&(w=""):a.height/1.6>Math.abs(l)&&(w=""));var k=be({},u);this.barCtx.isHorizontal&&r<0&&(u.textAnchor==="start"?k.textAnchor="end":u.textAnchor==="end"&&(k.textAnchor="start")),f.plotDataLabelsText({x:t,y:n,text:w,i:s,j:o,parent:b,dataLabelsConfig:k,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return b}},{key:"drawTotalDataLabels",value:function(e){var t=e.x,n=e.y,r=e.val,s=e.realIndex,o=e.textAnchor,a=e.barTotalDataLabelsConfig;this.w;var l,c=new ae(this.barCtx.ctx);return a.enabled&&t!==void 0&&n!==void 0&&this.barCtx.lastActiveBarSerieIndex===s&&(l=c.drawText({x:t,y:n,foreColor:a.style.color,text:r,textAnchor:o,fontFamily:a.style.fontFamily,fontSize:a.style.fontSize,fontWeight:a.style.fontWeight})),l}}]),i}(),JM=function(){function i(e){Ee(this,i),this.w=e.w,this.barCtx=e}return Oe(i,[{key:"initVariables",value:function(e){var t=this.w;this.barCtx.series=e,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var n=0;n<e.length;n++)if(e[n].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=e[n].length),t.globals.isXNumeric)for(var r=0;r<e[n].length;r++)t.globals.seriesX[n][r]>t.globals.minX&&t.globals.seriesX[n][r]<t.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=t.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(t.globals.series),this.barCtx.seriesLen===0&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],t.globals.comboCharts||this.checkZeroSeries({series:e})}},{key:"initialPositions",value:function(e){var t,n,r,s,o,a,l,c,u=this.w,h=u.globals.dataPoints;this.barCtx.isRangeBar&&(h=u.globals.labels.length);var d=this.barCtx.seriesLen;if(u.config.plotOptions.bar.rangeBarGroupRows&&(d=1),this.barCtx.isHorizontal)o=(r=u.globals.gridHeight/h)/d,u.globals.isXNumeric&&(o=(r=u.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),o=o*parseInt(this.barCtx.barOptions.barHeight,10)/100,String(this.barCtx.barOptions.barHeight).indexOf("%")===-1&&(o=parseInt(this.barCtx.barOptions.barHeight,10)),c=this.barCtx.baseLineInvertedY+u.globals.padHorizontal+(this.barCtx.isReversed?u.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(c=u.globals.gridWidth/2),n=(r-o*this.barCtx.seriesLen)/2;else{if(s=u.globals.gridWidth/this.barCtx.visibleItems,u.config.xaxis.convertedCatToNumeric&&(s=u.globals.gridWidth/u.globals.dataPoints),a=s/d*parseInt(this.barCtx.barOptions.columnWidth,10)/100,u.globals.isXNumeric){var f=this.barCtx.xRatio;u.globals.minXDiff&&u.globals.minXDiff!==.5&&u.globals.minXDiff/f>0&&(s=u.globals.minXDiff/f),(a=s/d*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(a=1)}String(this.barCtx.barOptions.columnWidth).indexOf("%")===-1&&(a=parseInt(this.barCtx.barOptions.columnWidth,10)),l=u.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?u.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),u.globals.isXNumeric?t=this.barCtx.getBarXForNumericXAxis({x:t,j:0,realIndex:e,barWidth:a}).x:t=u.globals.padHorizontal+H.noExponents(s-a*this.barCtx.seriesLen)/2}return u.globals.barHeight=o,u.globals.barWidth=a,{x:t,y:n,yDivision:r,xDivision:s,barHeight:o,barWidth:a,zeroH:l,zeroW:c}}},{key:"initializeStackedPrevVars",value:function(e){e.w.globals.seriesGroups.forEach(function(t){e[t]||(e[t]={}),e[t].prevY=[],e[t].prevX=[],e[t].prevYF=[],e[t].prevXF=[],e[t].prevYVal=[],e[t].prevXVal=[]})}},{key:"initializeStackedXYVars",value:function(e){e.w.globals.seriesGroups.forEach(function(t){e[t]||(e[t]={}),e[t].xArrj=[],e[t].xArrjF=[],e[t].xArrjVal=[],e[t].yArrj=[],e[t].yArrjF=[],e[t].yArrjVal=[]})}},{key:"getPathFillColor",value:function(e,t,n,r){var s,o,a,l,c=this.w,u=this.barCtx.ctx.fill,h=null,d=this.barCtx.barOptions.distributed?n:t,f=!1;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(p){e[t][n]>=p.from&&e[t][n]<=p.to&&(h=p.color,f=!0)}),{color:u.fillPath({seriesNumber:this.barCtx.barOptions.distributed?d:r,dataPointIndex:n,color:h,value:e[t][n],fillConfig:(s=c.config.series[t].data[n])===null||s===void 0?void 0:s.fill,fillType:(o=c.config.series[t].data[n])!==null&&o!==void 0&&(a=o.fill)!==null&&a!==void 0&&a.type?(l=c.config.series[t].data[n])===null||l===void 0?void 0:l.fill.type:Array.isArray(c.config.fill.type)?c.config.fill.type[r]:c.config.fill.type}),useRangeColor:f}}},{key:"getStrokeWidth",value:function(e,t,n){var r=0,s=this.w;return this.barCtx.series[e][t]?this.barCtx.isNullValue=!1:this.barCtx.isNullValue=!0,s.config.stroke.show&&(this.barCtx.isNullValue||(r=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[n]:this.barCtx.strokeWidth)),r}},{key:"createBorderRadiusArr",value:function(e){var t,n=this.w,r=!this.w.config.chart.stacked||n.config.plotOptions.bar.borderRadius<=0,s=e.length,o=0|((t=e[0])===null||t===void 0?void 0:t.length),a=Array.from({length:s},function(){return Array(o).fill(r?"top":"none")});if(r)return a;for(var l=0;l<o;l++){for(var c=[],u=[],h=0,d=0;d<s;d++){var f=e[d][l];f>0?(c.push(d),h++):f<0&&(u.push(d),h++)}if(c.length>0&&u.length===0)if(c.length===1)a[c[0]][l]="both";else{var p,m=c[0],b=c[c.length-1],y=Da(c);try{for(y.s();!(p=y.n()).done;){var w=p.value;a[w][l]=w===m?"bottom":w===b?"top":"none"}}catch(te){y.e(te)}finally{y.f()}}else if(u.length>0&&c.length===0)if(u.length===1)a[u[0]][l]="both";else{var C,T=Math.max.apply(Math,u),k=Math.min.apply(Math,u),E=Da(u);try{for(E.s();!(C=E.n()).done;){var M=C.value;a[M][l]=M===T?"bottom":M===k?"top":"none"}}catch(te){E.e(te)}finally{E.f()}}else if(c.length>0&&u.length>0){var O,P=c[c.length-1],N=Da(c);try{for(N.s();!(O=N.n()).done;){var R=O.value;a[R][l]=R===P?"top":"none"}}catch(te){N.e(te)}finally{N.f()}var D,V=Math.max.apply(Math,u),q=Da(u);try{for(q.s();!(D=q.n()).done;){var re=D.value;a[re][l]=re===V?"bottom":"none"}}catch(te){q.e(te)}finally{q.f()}}else h===1&&(a[c[0]||u[0]][l]="both")}return a}},{key:"barBackground",value:function(e){var t=e.j,n=e.i,r=e.x1,s=e.x2,o=e.y1,a=e.y2,l=e.elSeries,c=this.w,u=new ae(this.barCtx.ctx),h=new gi(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&h===n){t>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(t%=this.barCtx.barOptions.colors.backgroundBarColors.length);var d=this.barCtx.barOptions.colors.backgroundBarColors[t],f=u.drawRect(r!==void 0?r:0,o!==void 0?o:0,s!==void 0?s:c.globals.gridWidth,a!==void 0?a:c.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,d,this.barCtx.barOptions.colors.backgroundBarOpacity);l.add(f),f.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(e){var t,n=e.barWidth,r=e.barXPosition,s=e.y1,o=e.y2,a=e.strokeWidth,l=e.isReversed,c=e.series,u=e.seriesGroup,h=e.realIndex,d=e.i,f=e.j,p=e.w,m=new ae(this.barCtx.ctx);(a=Array.isArray(a)?a[h]:a)||(a=0);var b=n,y=r;(t=p.config.series[h].data[f])!==null&&t!==void 0&&t.columnWidthOffset&&(y=r-p.config.series[h].data[f].columnWidthOffset/2,b=n+p.config.series[h].data[f].columnWidthOffset);var w=a/2,C=y+w,T=y+b-w,k=(c[d][f]>=0?1:-1)*(l?-1:1);s+=.001-w*k,o+=.001+w*k;var E=m.move(C,s),M=m.move(C,s),O=m.line(T,s);if(p.globals.previousPaths.length>0&&(M=this.barCtx.getPreviousPath(h,f,!1)),E=E+m.line(C,o)+m.line(T,o)+O+(p.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][f]==="both"?" Z":" z"),M=M+m.line(C,s)+O+O+O+O+O+m.line(C,s)+(p.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][f]==="both"?" Z":" z"),this.arrBorderRadius[h][f]!=="none"&&(E=m.roundPathCorners(E,p.config.plotOptions.bar.borderRadius)),p.config.chart.stacked){var P=this.barCtx;(P=this.barCtx[u]).yArrj.push(o-w*k),P.yArrjF.push(Math.abs(s-o+a*k)),P.yArrjVal.push(this.barCtx.series[d][f])}return{pathTo:E,pathFrom:M}}},{key:"getBarpaths",value:function(e){var t,n=e.barYPosition,r=e.barHeight,s=e.x1,o=e.x2,a=e.strokeWidth,l=e.isReversed,c=e.series,u=e.seriesGroup,h=e.realIndex,d=e.i,f=e.j,p=e.w,m=new ae(this.barCtx.ctx);(a=Array.isArray(a)?a[h]:a)||(a=0);var b=n,y=r;(t=p.config.series[h].data[f])!==null&&t!==void 0&&t.barHeightOffset&&(b=n-p.config.series[h].data[f].barHeightOffset/2,y=r+p.config.series[h].data[f].barHeightOffset);var w=a/2,C=b+w,T=b+y-w,k=(c[d][f]>=0?1:-1)*(l?-1:1);s+=.001+w*k,o+=.001-w*k;var E=m.move(s,C),M=m.move(s,C);p.globals.previousPaths.length>0&&(M=this.barCtx.getPreviousPath(h,f,!1));var O=m.line(s,T);if(E=E+m.line(o,C)+m.line(o,T)+O+(p.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][f]==="both"?" Z":" z"),M=M+m.line(s,C)+O+O+O+O+O+m.line(s,C)+(p.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[h][f]==="both"?" Z":" z"),this.arrBorderRadius[h][f]!=="none"&&(E=m.roundPathCorners(E,p.config.plotOptions.bar.borderRadius)),p.config.chart.stacked){var P=this.barCtx;(P=this.barCtx[u]).xArrj.push(o+w*k),P.xArrjF.push(Math.abs(s-o-a*k)),P.xArrjVal.push(this.barCtx.series[d][f])}return{pathTo:E,pathFrom:M}}},{key:"checkZeroSeries",value:function(e){for(var t=e.series,n=this.w,r=0;r<t.length;r++){for(var s=0,o=0;o<t[n.globals.maxValsInArrayIndex].length;o++)s+=t[r][o];s===0&&this.barCtx.zeroSerieses.push(r)}}},{key:"getXForValue",value:function(e,t){var n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2]?t:null;return e!=null&&(n=t+e/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?e/this.barCtx.invertedYRatio:0)),n}},{key:"getYForValue",value:function(e,t,n){var r=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3]?t:null;return e!=null&&(r=t-e/this.barCtx.yRatio[n]+2*(this.barCtx.isReversed?e/this.barCtx.yRatio[n]:0)),r}},{key:"getGoalValues",value:function(e,t,n,r,s,o){var a=this,l=this.w,c=[],u=function(f,p){var m;c.push((_c(m={},e,e==="x"?a.getXForValue(f,t,!1):a.getYForValue(f,n,o,!1)),_c(m,"attrs",p),m))};if(l.globals.seriesGoals[r]&&l.globals.seriesGoals[r][s]&&Array.isArray(l.globals.seriesGoals[r][s])&&l.globals.seriesGoals[r][s].forEach(function(f){u(f.value,f)}),this.barCtx.barOptions.isDumbbell&&l.globals.seriesRange.length){var h=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:l.globals.colors,d={strokeHeight:e==="x"?0:l.globals.markers.size[r],strokeWidth:e==="x"?l.globals.markers.size[r]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(h[r])?h[r][0]:h[r]};u(l.globals.seriesRangeStart[r][s],d),u(l.globals.seriesRangeEnd[r][s],be(be({},d),{},{strokeColor:Array.isArray(h[r])?h[r][1]:h[r]}))}return c}},{key:"drawGoalLine",value:function(e){var t=e.barXPosition,n=e.barYPosition,r=e.goalX,s=e.goalY,o=e.barWidth,a=e.barHeight,l=new ae(this.barCtx.ctx),c=l.group({className:"apexcharts-bar-goals-groups"});c.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:c.node}),c.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var u=null;return this.barCtx.isHorizontal?Array.isArray(r)&&r.forEach(function(h){if(h.x>=-1&&h.x<=l.w.globals.gridWidth+1){var d=h.attrs.strokeHeight!==void 0?h.attrs.strokeHeight:a/2,f=n+d+a/2;u=l.drawLine(h.x,f-2*d,h.x,f,h.attrs.strokeColor?h.attrs.strokeColor:void 0,h.attrs.strokeDashArray,h.attrs.strokeWidth?h.attrs.strokeWidth:2,h.attrs.strokeLineCap),c.add(u)}}):Array.isArray(s)&&s.forEach(function(h){if(h.y>=-1&&h.y<=l.w.globals.gridHeight+1){var d=h.attrs.strokeWidth!==void 0?h.attrs.strokeWidth:o/2,f=t+d+o/2;u=l.drawLine(f-2*d,h.y,f,h.y,h.attrs.strokeColor?h.attrs.strokeColor:void 0,h.attrs.strokeDashArray,h.attrs.strokeHeight?h.attrs.strokeHeight:2,h.attrs.strokeLineCap),c.add(u)}}),c}},{key:"drawBarShadow",value:function(e){var t=e.prevPaths,n=e.currPaths,r=e.color,s=this.w,o=t.x,a=t.x1,l=t.barYPosition,c=n.x,u=n.x1,h=n.barYPosition,d=l+n.barHeight,f=new ae(this.barCtx.ctx),p=new H,m=f.move(a,d)+f.line(o,d)+f.line(c,h)+f.line(u,h)+f.line(a,d)+(s.config.plotOptions.bar.borderRadiusApplication==="around"||this.arrBorderRadius[realIndex][j]==="both"?" Z":" z");return f.drawPath({d:m,fill:p.shadeColor(.5,H.rgb2hex(r)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadow apexcharts-decoration-element"})}},{key:"getZeroValueEncounters",value:function(e){var t,n=e.i,r=e.j,s=this.w,o=0,a=0;return(s.config.plotOptions.bar.horizontal?s.globals.series.map(function(l,c){return c}):((t=s.globals.columnSeries)===null||t===void 0?void 0:t.i.map(function(l){return l}))||[]).forEach(function(l){var c=s.globals.seriesPercent[l][r];c&&o++,l<n&&c===0&&a++}),{nonZeroColumns:o,zeroEncounters:a}}},{key:"getGroupIndex",value:function(e){var t=this.w,n=t.globals.seriesGroups.findIndex(function(o){return o.indexOf(t.globals.seriesNames[e])>-1}),r=this.barCtx.columnGroupIndices,s=r.indexOf(n);return s<0&&(r.push(n),s=r.length-1),{groupIndex:n,columnGroupIndex:s}}}]),i}(),Lo=function(){function i(e,t){Ee(this,i),this.ctx=e,this.w=e.w;var n=this.w;this.barOptions=n.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=n.config.stroke.width,this.isNullValue=!1,this.isRangeBar=n.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!n.globals.isBarHorizontal&&n.globals.seriesRange.length&&n.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=t,this.xyRatios!==null&&(this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.invertedXRatio=t.invertedXRatio,this.invertedYRatio=t.invertedYRatio,this.baseLineY=t.baseLineY,this.baseLineInvertedY=t.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var r=new gi(this.ctx);this.lastActiveBarSerieIndex=r.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var s=r.getBarSeriesIndices(),o=new Yt(this.ctx);this.stackedSeriesTotals=o.getStackedSeriesTotals(this.w.config.series.map(function(a,l){return s.indexOf(l)===-1?l:-1}).filter(function(a){return a!==-1})),this.barHelpers=new JM(this)}return Oe(i,[{key:"draw",value:function(e,t){var n=this.w,r=new ae(this.ctx),s=new Yt(this.ctx,n);e=s.getLogSeries(e),this.series=e,this.yRatio=s.getLogYRatios(this.yRatio),this.barHelpers.initVariables(e);var o=r.group({class:"apexcharts-bar-series apexcharts-plot-series"});n.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var a=0,l=0;a<e.length;a++,l++){var c,u,h,d,f=void 0,p=void 0,m=[],b=[],y=n.globals.comboCharts?t[a]:a,w=this.barHelpers.getGroupIndex(y).columnGroupIndex,C=r.group({class:"apexcharts-series",rel:a+1,seriesName:H.escapeString(n.globals.seriesNames[y]),"data:realIndex":y});this.ctx.series.addCollapsedClassToSeries(C,y),e[a].length>0&&(this.visibleI=this.visibleI+1);var T=0,k=0;this.yRatio.length>1&&(this.yaxisIndex=n.globals.seriesYAxisReverseMap[y],this.translationsIndex=y);var E=this.translationsIndex;this.isReversed=n.config.yaxis[this.yaxisIndex]&&n.config.yaxis[this.yaxisIndex].reversed;var M=this.barHelpers.initialPositions(y);p=M.y,T=M.barHeight,u=M.yDivision,d=M.zeroW,f=M.x,k=M.barWidth,c=M.xDivision,h=M.zeroH,this.isHorizontal||b.push(f+k/2);var O=r.group({class:"apexcharts-datalabels","data:realIndex":y});n.globals.delayedElements.push({el:O.node}),O.node.classList.add("apexcharts-element-hidden");var P=r.group({class:"apexcharts-bar-goals-markers"}),N=r.group({class:"apexcharts-bar-shadows"});n.globals.delayedElements.push({el:N.node}),N.node.classList.add("apexcharts-element-hidden");for(var R=0;R<e[a].length;R++){var D=this.barHelpers.getStrokeWidth(a,R,y),V=null,q={indexes:{i:a,j:R,realIndex:y,translationsIndex:E,bc:l},x:f,y:p,strokeWidth:D,elSeries:C};this.isHorizontal?(V=this.drawBarPaths(be(be({},q),{},{barHeight:T,zeroW:d,yDivision:u})),k=this.series[a][R]/this.invertedYRatio):(V=this.drawColumnPaths(be(be({},q),{},{xDivision:c,barWidth:k,zeroH:h})),T=this.series[a][R]/this.yRatio[E]);var re=this.barHelpers.getPathFillColor(e,a,R,y);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&R>0){var te,ie=this.barHelpers.drawBarShadow({color:typeof re.color=="string"&&((te=re.color)===null||te===void 0?void 0:te.indexOf("url"))===-1?re.color:H.hexToRgba(n.globals.colors[a]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:V});N.add(ie),n.config.chart.dropShadow.enabled&&new fn(this.ctx).dropShadow(ie,n.config.chart.dropShadow,y)}this.pathArr.push(V);var se=this.barHelpers.drawGoalLine({barXPosition:V.barXPosition,barYPosition:V.barYPosition,goalX:V.goalX,goalY:V.goalY,barHeight:T,barWidth:k});se&&P.add(se),p=V.y,f=V.x,R>0&&b.push(f+k/2),m.push(p),this.renderSeries(be(be({realIndex:y,pathFill:re.color},re.useRangeColor?{lineFill:re.color}:{}),{},{j:R,i:a,columnGroupIndex:w,pathFrom:V.pathFrom,pathTo:V.pathTo,strokeWidth:D,elSeries:C,x:f,y:p,series:e,barHeight:Math.abs(V.barHeight?V.barHeight:T),barWidth:Math.abs(V.barWidth?V.barWidth:k),elDataLabelsWrap:O,elGoalsMarkers:P,elBarShadows:N,visibleSeries:this.visibleI,type:"bar"}))}n.globals.seriesXvalues[y]=b,n.globals.seriesYvalues[y]=m,o.add(C)}return o}},{key:"renderSeries",value:function(e){var t=e.realIndex,n=e.pathFill,r=e.lineFill,s=e.j,o=e.i,a=e.columnGroupIndex,l=e.pathFrom,c=e.pathTo,u=e.strokeWidth,h=e.elSeries,d=e.x,f=e.y,p=e.y1,m=e.y2,b=e.series,y=e.barHeight,w=e.barWidth,C=e.barXPosition,T=e.barYPosition,k=e.elDataLabelsWrap,E=e.elGoalsMarkers,M=e.elBarShadows,O=e.visibleSeries,P=e.type,N=e.classes,R=this.w,D=new ae(this.ctx);if(!r){var V=typeof R.globals.stroke.colors[t]=="function"?function(se){var ve,_e=R.config.stroke.colors;return Array.isArray(_e)&&_e.length>0&&((ve=_e[se])||(ve=""),typeof ve=="function")?ve({value:R.globals.series[se][s],dataPointIndex:s,w:R}):ve}(t):R.globals.stroke.colors[t];r=this.barOptions.distributed?R.globals.stroke.colors[s]:V}R.config.series[o].data[s]&&R.config.series[o].data[s].strokeColor&&(r=R.config.series[o].data[s].strokeColor),this.isNullValue&&(n="none");var q=s/R.config.chart.animations.animateGradually.delay*(R.config.chart.animations.speed/R.globals.dataPoints)/2.4,re=D.renderPaths({i:o,j:s,realIndex:t,pathFrom:l,pathTo:c,stroke:r,strokeWidth:u,strokeLineCap:R.config.stroke.lineCap,fill:n,animationDelay:q,initialSpeed:R.config.chart.animations.speed,dataChangeSpeed:R.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(P,"-area ").concat(N),chartType:P});re.attr("clip-path","url(#gridRectBarMask".concat(R.globals.cuid,")"));var te=R.config.forecastDataPoints;te.count>0&&s>=R.globals.dataPoints-te.count&&(re.node.setAttribute("stroke-dasharray",te.dashArray),re.node.setAttribute("stroke-width",te.strokeWidth),re.node.setAttribute("fill-opacity",te.fillOpacity)),p!==void 0&&m!==void 0&&(re.attr("data-range-y1",p),re.attr("data-range-y2",m)),new fn(this.ctx).setSelectionFilter(re,t,s),h.add(re);var ie=new KM(this).handleBarDataLabels({x:d,y:f,y1:p,y2:m,i:o,j:s,series:b,realIndex:t,columnGroupIndex:a,barHeight:y,barWidth:w,barXPosition:C,barYPosition:T,renderedPath:re,visibleSeries:O});return ie.dataLabels!==null&&k.add(ie.dataLabels),ie.totalDataLabels&&k.add(ie.totalDataLabels),h.add(k),E&&h.add(E),M&&h.add(M),h}},{key:"drawBarPaths",value:function(e){var t,n=e.indexes,r=e.barHeight,s=e.strokeWidth,o=e.zeroW,a=e.x,l=e.y,c=e.yDivision,u=e.elSeries,h=this.w,d=n.i,f=n.j;if(h.globals.isXNumeric)t=(l=(h.globals.seriesX[d][f]-h.globals.minX)/this.invertedXRatio-r)+r*this.visibleI;else if(h.config.plotOptions.bar.hideZeroBarsWhenGrouped){var p=this.barHelpers.getZeroValueEncounters({i:d,j:f}),m=p.nonZeroColumns,b=p.zeroEncounters;m>0&&(r=this.seriesLen*r/m),t=l+r*this.visibleI,t-=r*b}else t=l+r*this.visibleI;this.isFunnel&&(o-=(this.barHelpers.getXForValue(this.series[d][f],o)-o)/2),a=this.barHelpers.getXForValue(this.series[d][f],o);var y=this.barHelpers.getBarpaths({barYPosition:t,barHeight:r,x1:o,x2:a,strokeWidth:s,isReversed:this.isReversed,series:this.series,realIndex:n.realIndex,i:d,j:f,w:h});return h.globals.isXNumeric||(l+=c),this.barHelpers.barBackground({j:f,i:d,y1:t-r*this.visibleI,y2:r*this.seriesLen,elSeries:u}),{pathTo:y.pathTo,pathFrom:y.pathFrom,x1:o,x:a,y:l,goalX:this.barHelpers.getGoalValues("x",o,null,d,f),barYPosition:t,barHeight:r}}},{key:"drawColumnPaths",value:function(e){var t,n=e.indexes,r=e.x,s=e.y,o=e.xDivision,a=e.barWidth,l=e.zeroH,c=e.strokeWidth,u=e.elSeries,h=this.w,d=n.realIndex,f=n.translationsIndex,p=n.i,m=n.j,b=n.bc;if(h.globals.isXNumeric){var y=this.getBarXForNumericXAxis({x:r,j:m,realIndex:d,barWidth:a});r=y.x,t=y.barXPosition}else if(h.config.plotOptions.bar.hideZeroBarsWhenGrouped){var w=this.barHelpers.getZeroValueEncounters({i:p,j:m}),C=w.nonZeroColumns,T=w.zeroEncounters;C>0&&(a=this.seriesLen*a/C),t=r+a*this.visibleI,t-=a*T}else t=r+a*this.visibleI;s=this.barHelpers.getYForValue(this.series[p][m],l,f);var k=this.barHelpers.getColumnPaths({barXPosition:t,barWidth:a,y1:l,y2:s,strokeWidth:c,isReversed:this.isReversed,series:this.series,realIndex:d,i:p,j:m,w:h});return h.globals.isXNumeric||(r+=o),this.barHelpers.barBackground({bc:b,j:m,i:p,x1:t-c/2-a*this.visibleI,x2:a*this.seriesLen+c/2,elSeries:u}),{pathTo:k.pathTo,pathFrom:k.pathFrom,x:r,y:s,goalY:this.barHelpers.getGoalValues("y",null,l,p,m,f),barXPosition:t,barWidth:a}}},{key:"getBarXForNumericXAxis",value:function(e){var t=e.x,n=e.barWidth,r=e.realIndex,s=e.j,o=this.w,a=r;return o.globals.seriesX[r].length||(a=o.globals.maxValsInArrayIndex),H.isNumber(o.globals.seriesX[a][s])&&(t=(o.globals.seriesX[a][s]-o.globals.minX)/this.xRatio-n*this.seriesLen/2),{barXPosition:t+n*this.visibleI,x:t}}},{key:"getPreviousPath",value:function(e,t){for(var n,r=this.w,s=0;s<r.globals.previousPaths.length;s++){var o=r.globals.previousPaths[s];o.paths&&o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(e,10)&&r.globals.previousPaths[s].paths[t]!==void 0&&(n=r.globals.previousPaths[s].paths[t].d)}return n}}]),i}(),Ry=function(i){Fa(t,Lo);var e=Na(t);function t(){return Ee(this,t),e.apply(this,arguments)}return Oe(t,[{key:"draw",value:function(n,r){var s=this,o=this.w;this.graphics=new ae(this.ctx),this.bar=new Lo(this.ctx,this.xyRatios);var a=new Yt(this.ctx,o);n=a.getLogSeries(n),this.yRatio=a.getLogYRatios(this.yRatio),this.barHelpers.initVariables(n),o.config.chart.stackType==="100%"&&(n=o.globals.comboCharts?r.map(function(p){return o.globals.seriesPercent[p]}):o.globals.seriesPercent.slice()),this.series=n,this.barHelpers.initializeStackedPrevVars(this);for(var l=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),c=0,u=0,h=function(p,m){var b=void 0,y=void 0,w=void 0,C=void 0,T=o.globals.comboCharts?r[p]:p,k=s.barHelpers.getGroupIndex(T),E=k.groupIndex,M=k.columnGroupIndex;s.groupCtx=s[o.globals.seriesGroups[E]];var O=[],P=[],N=0;s.yRatio.length>1&&(s.yaxisIndex=o.globals.seriesYAxisReverseMap[T][0],N=T),s.isReversed=o.config.yaxis[s.yaxisIndex]&&o.config.yaxis[s.yaxisIndex].reversed;var R=s.graphics.group({class:"apexcharts-series",seriesName:H.escapeString(o.globals.seriesNames[T]),rel:p+1,"data:realIndex":T});s.ctx.series.addCollapsedClassToSeries(R,T);var D=s.graphics.group({class:"apexcharts-datalabels","data:realIndex":T}),V=s.graphics.group({class:"apexcharts-bar-goals-markers"}),q=0,re=0,te=s.initialPositions(c,u,b,y,w,C,N);u=te.y,q=te.barHeight,y=te.yDivision,C=te.zeroW,c=te.x,re=te.barWidth,b=te.xDivision,w=te.zeroH,o.globals.barHeight=q,o.globals.barWidth=re,s.barHelpers.initializeStackedXYVars(s),s.groupCtx.prevY.length===1&&s.groupCtx.prevY[0].every(function(Lt){return isNaN(Lt)})&&(s.groupCtx.prevY[0]=s.groupCtx.prevY[0].map(function(){return w}),s.groupCtx.prevYF[0]=s.groupCtx.prevYF[0].map(function(){return 0}));for(var ie=0;ie<o.globals.dataPoints;ie++){var se=s.barHelpers.getStrokeWidth(p,ie,T),ve={indexes:{i:p,j:ie,realIndex:T,translationsIndex:N,bc:m},strokeWidth:se,x:c,y:u,elSeries:R,columnGroupIndex:M,seriesGroup:o.globals.seriesGroups[E]},_e=null;s.isHorizontal?(_e=s.drawStackedBarPaths(be(be({},ve),{},{zeroW:C,barHeight:q,yDivision:y})),re=s.series[p][ie]/s.invertedYRatio):(_e=s.drawStackedColumnPaths(be(be({},ve),{},{xDivision:b,barWidth:re,zeroH:w})),q=s.series[p][ie]/s.yRatio[N]);var ze=s.barHelpers.drawGoalLine({barXPosition:_e.barXPosition,barYPosition:_e.barYPosition,goalX:_e.goalX,goalY:_e.goalY,barHeight:q,barWidth:re});ze&&V.add(ze),u=_e.y,c=_e.x,O.push(c),P.push(u);var nt=s.barHelpers.getPathFillColor(n,p,ie,T),lt="",Ue=o.globals.isBarHorizontal?"apexcharts-flip-x":"apexcharts-flip-y";(s.barHelpers.arrBorderRadius[T][ie]==="bottom"&&o.globals.series[T][ie]>0||s.barHelpers.arrBorderRadius[T][ie]==="top"&&o.globals.series[T][ie]<0)&&(lt=Ue),R=s.renderSeries(be(be({realIndex:T,pathFill:nt.color},nt.useRangeColor?{lineFill:nt.color}:{}),{},{j:ie,i:p,columnGroupIndex:M,pathFrom:_e.pathFrom,pathTo:_e.pathTo,strokeWidth:se,elSeries:R,x:c,y:u,series:n,barHeight:q,barWidth:re,elDataLabelsWrap:D,elGoalsMarkers:V,type:"bar",visibleSeries:M,classes:lt}))}o.globals.seriesXvalues[T]=O,o.globals.seriesYvalues[T]=P,s.groupCtx.prevY.push(s.groupCtx.yArrj),s.groupCtx.prevYF.push(s.groupCtx.yArrjF),s.groupCtx.prevYVal.push(s.groupCtx.yArrjVal),s.groupCtx.prevX.push(s.groupCtx.xArrj),s.groupCtx.prevXF.push(s.groupCtx.xArrjF),s.groupCtx.prevXVal.push(s.groupCtx.xArrjVal),l.add(R)},d=0,f=0;d<n.length;d++,f++)h(d,f);return l}},{key:"initialPositions",value:function(n,r,s,o,a,l,c){var u,h,d=this.w;if(this.isHorizontal){o=d.globals.gridHeight/d.globals.dataPoints;var f=d.config.plotOptions.bar.barHeight;u=String(f).indexOf("%")===-1?parseInt(f,10):o*parseInt(f,10)/100,l=d.globals.padHorizontal+(this.isReversed?d.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),r=(o-u)/2}else{h=s=d.globals.gridWidth/d.globals.dataPoints;var p=d.config.plotOptions.bar.columnWidth;d.globals.isXNumeric&&d.globals.dataPoints>1?h=(s=d.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:String(p).indexOf("%")===-1?h=parseInt(p,10):h*=parseInt(p,10)/100,a=this.isReversed?this.baseLineY[c]:d.globals.gridHeight-this.baseLineY[c],n=d.globals.padHorizontal+(s-h)/2}var m=d.globals.barGroups.length||1;return{x:n,y:r,yDivision:o,xDivision:s,barHeight:u/m,barWidth:h/m,zeroH:a,zeroW:l}}},{key:"drawStackedBarPaths",value:function(n){for(var r,s=n.indexes,o=n.barHeight,a=n.strokeWidth,l=n.zeroW,c=n.x,u=n.y,h=n.columnGroupIndex,d=n.seriesGroup,f=n.yDivision,p=n.elSeries,m=this.w,b=u+h*o,y=s.i,w=s.j,C=s.realIndex,T=s.translationsIndex,k=0,E=0;E<this.groupCtx.prevXF.length;E++)k+=this.groupCtx.prevXF[E][w];var M=y;if(m.config.series[C].name&&(M=d.indexOf(m.config.series[C].name)),M>0){var O=l;this.groupCtx.prevXVal[M-1][w]<0?O=this.series[y][w]>=0?this.groupCtx.prevX[M-1][w]+k-2*(this.isReversed?k:0):this.groupCtx.prevX[M-1][w]:this.groupCtx.prevXVal[M-1][w]>=0&&(O=this.series[y][w]>=0?this.groupCtx.prevX[M-1][w]:this.groupCtx.prevX[M-1][w]-k+2*(this.isReversed?k:0)),r=O}else r=l;c=this.series[y][w]===null?r:r+this.series[y][w]/this.invertedYRatio-2*(this.isReversed?this.series[y][w]/this.invertedYRatio:0);var P=this.barHelpers.getBarpaths({barYPosition:b,barHeight:o,x1:r,x2:c,strokeWidth:a,isReversed:this.isReversed,series:this.series,realIndex:s.realIndex,seriesGroup:d,i:y,j:w,w:m});return this.barHelpers.barBackground({j:w,i:y,y1:b,y2:o,elSeries:p}),u+=f,{pathTo:P.pathTo,pathFrom:P.pathFrom,goalX:this.barHelpers.getGoalValues("x",l,null,y,w,T),barXPosition:r,barYPosition:b,x:c,y:u}}},{key:"drawStackedColumnPaths",value:function(n){var r=n.indexes,s=n.x,o=n.y,a=n.xDivision,l=n.barWidth,c=n.zeroH,u=n.columnGroupIndex,h=n.seriesGroup,d=n.elSeries,f=this.w,p=r.i,m=r.j,b=r.bc,y=r.realIndex,w=r.translationsIndex;if(f.globals.isXNumeric){var C=f.globals.seriesX[y][m];C||(C=0),s=(C-f.globals.minX)/this.xRatio-l/2*f.globals.barGroups.length}for(var T,k=s+u*l,E=0,M=0;M<this.groupCtx.prevYF.length;M++)E+=isNaN(this.groupCtx.prevYF[M][m])?0:this.groupCtx.prevYF[M][m];var O=p;if(h&&(O=h.indexOf(f.globals.seriesNames[y])),O>0&&!f.globals.isXNumeric||O>0&&f.globals.isXNumeric&&f.globals.seriesX[y-1][m]===f.globals.seriesX[y][m]){var P,N,R,D=Math.min(this.yRatio.length+1,y+1);if(this.groupCtx.prevY[O-1]!==void 0&&this.groupCtx.prevY[O-1].length)for(var V=1;V<D;V++){var q;if(!isNaN((q=this.groupCtx.prevY[O-V])===null||q===void 0?void 0:q[m])){R=this.groupCtx.prevY[O-V][m];break}}for(var re=1;re<D;re++){var te,ie;if(((te=this.groupCtx.prevYVal[O-re])===null||te===void 0?void 0:te[m])<0){N=this.series[p][m]>=0?R-E+2*(this.isReversed?E:0):R;break}if(((ie=this.groupCtx.prevYVal[O-re])===null||ie===void 0?void 0:ie[m])>=0){N=this.series[p][m]>=0?R:R+E-2*(this.isReversed?E:0);break}}N===void 0&&(N=f.globals.gridHeight),T=(P=this.groupCtx.prevYF[0])!==null&&P!==void 0&&P.every(function(ve){return ve===0})&&this.groupCtx.prevYF.slice(1,O).every(function(ve){return ve.every(function(_e){return isNaN(_e)})})?c:N}else T=c;o=this.series[p][m]?T-this.series[p][m]/this.yRatio[w]+2*(this.isReversed?this.series[p][m]/this.yRatio[w]:0):T;var se=this.barHelpers.getColumnPaths({barXPosition:k,barWidth:l,y1:T,y2:o,yRatio:this.yRatio[w],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:h,realIndex:r.realIndex,i:p,j:m,w:f});return this.barHelpers.barBackground({bc:b,j:m,i:p,x1:k,x2:l,elSeries:d}),{pathTo:se.pathTo,pathFrom:se.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,c,p,m),barXPosition:k,x:f.globals.isXNumeric?s:s+a,y:o}}}]),t}(),If=function(i){Fa(t,Lo);var e=Na(t);function t(){return Ee(this,t),e.apply(this,arguments)}return Oe(t,[{key:"draw",value:function(n,r,s){var o=this,a=this.w,l=new ae(this.ctx),c=a.globals.comboCharts?r:a.config.chart.type,u=new Pi(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=a.config.plotOptions.bar.horizontal;var h=new Yt(this.ctx,a);n=h.getLogSeries(n),this.series=n,this.yRatio=h.getLogYRatios(this.yRatio),this.barHelpers.initVariables(n);for(var d=l.group({class:"apexcharts-".concat(c,"-series apexcharts-plot-series")}),f=function(m){o.isBoxPlot=a.config.chart.type==="boxPlot"||a.config.series[m].type==="boxPlot";var b,y,w,C,T=void 0,k=void 0,E=[],M=[],O=a.globals.comboCharts?s[m]:m,P=o.barHelpers.getGroupIndex(O).columnGroupIndex,N=l.group({class:"apexcharts-series",seriesName:H.escapeString(a.globals.seriesNames[O]),rel:m+1,"data:realIndex":O});o.ctx.series.addCollapsedClassToSeries(N,O),n[m].length>0&&(o.visibleI=o.visibleI+1);var R,D,V=0;o.yRatio.length>1&&(o.yaxisIndex=a.globals.seriesYAxisReverseMap[O][0],V=O);var q=o.barHelpers.initialPositions(O);k=q.y,R=q.barHeight,y=q.yDivision,C=q.zeroW,T=q.x,D=q.barWidth,b=q.xDivision,w=q.zeroH,M.push(T+D/2);for(var re=l.group({class:"apexcharts-datalabels","data:realIndex":O}),te=l.group({class:"apexcharts-bar-goals-markers"}),ie=function(ve){var _e=o.barHelpers.getStrokeWidth(m,ve,O),ze=null,nt={indexes:{i:m,j:ve,realIndex:O,translationsIndex:V},x:T,y:k,strokeWidth:_e,elSeries:N};ze=o.isHorizontal?o.drawHorizontalBoxPaths(be(be({},nt),{},{yDivision:y,barHeight:R,zeroW:C})):o.drawVerticalBoxPaths(be(be({},nt),{},{xDivision:b,barWidth:D,zeroH:w})),k=ze.y,T=ze.x;var lt=o.barHelpers.drawGoalLine({barXPosition:ze.barXPosition,barYPosition:ze.barYPosition,goalX:ze.goalX,goalY:ze.goalY,barHeight:R,barWidth:D});lt&&te.add(lt),ve>0&&M.push(T+D/2),E.push(k),ze.pathTo.forEach(function(Ue,Lt){var Je=!o.isBoxPlot&&o.candlestickOptions.wick.useFillColor?ze.color[Lt]:a.globals.stroke.colors[m],Ge=u.fillPath({seriesNumber:O,dataPointIndex:ve,color:ze.color[Lt],value:n[m][ve]});o.renderSeries({realIndex:O,pathFill:Ge,lineFill:Je,j:ve,i:m,pathFrom:ze.pathFrom,pathTo:Ue,strokeWidth:_e,elSeries:N,x:T,y:k,series:n,columnGroupIndex:P,barHeight:R,barWidth:D,elDataLabelsWrap:re,elGoalsMarkers:te,visibleSeries:o.visibleI,type:a.config.chart.type})})},se=0;se<a.globals.dataPoints;se++)ie(se);a.globals.seriesXvalues[O]=M,a.globals.seriesYvalues[O]=E,d.add(N)},p=0;p<n.length;p++)f(p);return d}},{key:"drawVerticalBoxPaths",value:function(n){var r=n.indexes,s=n.x;n.y;var o=n.xDivision,a=n.barWidth,l=n.zeroH,c=n.strokeWidth,u=this.w,h=new ae(this.ctx),d=r.i,f=r.j,p=u.config.plotOptions.candlestick.colors,m=this.boxOptions.colors,b=r.realIndex,y=function(re){return Array.isArray(re)?re[b]:re},w=y(p.upward),C=y(p.downward),T=this.yRatio[r.translationsIndex],k=this.getOHLCValue(b,f),E=l,M=l,O=k.o<k.c?[w]:[C];this.isBoxPlot&&(O=[y(m.lower),y(m.upper)]);var P=Math.min(k.o,k.c),N=Math.max(k.o,k.c),R=k.m;u.globals.isXNumeric&&(s=(u.globals.seriesX[b][f]-u.globals.minX)/this.xRatio-a/2);var D=s+a*this.visibleI;this.series[d][f]===void 0||this.series[d][f]===null?(P=l,N=l):(P=l-P/T,N=l-N/T,E=l-k.h/T,M=l-k.l/T,R=l-k.m/T);var V=h.move(D,l),q=h.move(D+a/2,P);return u.globals.previousPaths.length>0&&(q=this.getPreviousPath(b,f,!0)),V=this.isBoxPlot?[h.move(D,P)+h.line(D+a/2,P)+h.line(D+a/2,E)+h.line(D+a/4,E)+h.line(D+a-a/4,E)+h.line(D+a/2,E)+h.line(D+a/2,P)+h.line(D+a,P)+h.line(D+a,R)+h.line(D,R)+h.line(D,P+c/2),h.move(D,R)+h.line(D+a,R)+h.line(D+a,N)+h.line(D+a/2,N)+h.line(D+a/2,M)+h.line(D+a-a/4,M)+h.line(D+a/4,M)+h.line(D+a/2,M)+h.line(D+a/2,N)+h.line(D,N)+h.line(D,R)+"z"]:[h.move(D,N)+h.line(D+a/2,N)+h.line(D+a/2,E)+h.line(D+a/2,N)+h.line(D+a,N)+h.line(D+a,P)+h.line(D+a/2,P)+h.line(D+a/2,M)+h.line(D+a/2,P)+h.line(D,P)+h.line(D,N-c/2)],q+=h.move(D,P),u.globals.isXNumeric||(s+=o),{pathTo:V,pathFrom:q,x:s,y:N,goalY:this.barHelpers.getGoalValues("y",null,l,d,f,r.translationsIndex),barXPosition:D,color:O}}},{key:"drawHorizontalBoxPaths",value:function(n){var r=n.indexes;n.x;var s=n.y,o=n.yDivision,a=n.barHeight,l=n.zeroW,c=n.strokeWidth,u=this.w,h=new ae(this.ctx),d=r.i,f=r.j,p=this.boxOptions.colors.lower;this.isBoxPlot&&(p=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var m=this.invertedYRatio,b=r.realIndex,y=this.getOHLCValue(b,f),w=l,C=l,T=Math.min(y.o,y.c),k=Math.max(y.o,y.c),E=y.m;u.globals.isXNumeric&&(s=(u.globals.seriesX[b][f]-u.globals.minX)/this.invertedXRatio-a/2);var M=s+a*this.visibleI;this.series[d][f]===void 0||this.series[d][f]===null?(T=l,k=l):(T=l+T/m,k=l+k/m,w=l+y.h/m,C=l+y.l/m,E=l+y.m/m);var O=h.move(l,M),P=h.move(T,M+a/2);return u.globals.previousPaths.length>0&&(P=this.getPreviousPath(b,f,!0)),O=[h.move(T,M)+h.line(T,M+a/2)+h.line(w,M+a/2)+h.line(w,M+a/2-a/4)+h.line(w,M+a/2+a/4)+h.line(w,M+a/2)+h.line(T,M+a/2)+h.line(T,M+a)+h.line(E,M+a)+h.line(E,M)+h.line(T+c/2,M),h.move(E,M)+h.line(E,M+a)+h.line(k,M+a)+h.line(k,M+a/2)+h.line(C,M+a/2)+h.line(C,M+a-a/4)+h.line(C,M+a/4)+h.line(C,M+a/2)+h.line(k,M+a/2)+h.line(k,M)+h.line(E,M)+"z"],P+=h.move(T,M),u.globals.isXNumeric||(s+=o),{pathTo:O,pathFrom:P,x:k,y:s,goalX:this.barHelpers.getGoalValues("x",l,null,d,f),barYPosition:M,color:p}}},{key:"getOHLCValue",value:function(n,r){var s=this.w,o=new Yt(this.ctx,s),a=o.getLogValAtSeriesIndex(s.globals.seriesCandleH[n][r],n),l=o.getLogValAtSeriesIndex(s.globals.seriesCandleO[n][r],n),c=o.getLogValAtSeriesIndex(s.globals.seriesCandleM[n][r],n),u=o.getLogValAtSeriesIndex(s.globals.seriesCandleC[n][r],n),h=o.getLogValAtSeriesIndex(s.globals.seriesCandleL[n][r],n);return{o:this.isBoxPlot?a:l,h:this.isBoxPlot?l:a,m:c,l:this.isBoxPlot?u:h,c:this.isBoxPlot?h:u}}}]),t}(),_y=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"checkColorRange",value:function(){var e=this.w,t=!1,n=e.config.plotOptions[e.config.chart.type];return n.colorScale.ranges.length>0&&n.colorScale.ranges.map(function(r,s){r.from<=0&&(t=!0)}),t}},{key:"getShadeColor",value:function(e,t,n,r){var s=this.w,o=1,a=s.config.plotOptions[e].shadeIntensity,l=this.determineColor(e,t,n);s.globals.hasNegs||r?o=s.config.plotOptions[e].reverseNegativeShade?l.percent<0?l.percent/100*(1.25*a):(1-l.percent/100)*(1.25*a):l.percent<=0?1-(1+l.percent/100)*a:(1-l.percent/100)*a:(o=1-l.percent/100,e==="treemap"&&(o=(1-l.percent/100)*(1.25*a)));var c=l.color,u=new H;if(s.config.plotOptions[e].enableShades)if(this.w.config.theme.mode==="dark"){var h=u.shadeColor(-1*o,l.color);c=H.hexToRgba(H.isColorHex(h)?h:H.rgb2hex(h),s.config.fill.opacity)}else{var d=u.shadeColor(o,l.color);c=H.hexToRgba(H.isColorHex(d)?d:H.rgb2hex(d),s.config.fill.opacity)}return{color:c,colorProps:l}}},{key:"determineColor",value:function(e,t,n){var r=this.w,s=r.globals.series[t][n],o=r.config.plotOptions[e],a=o.colorScale.inverse?n:t;o.distributed&&r.config.chart.type==="treemap"&&(a=n);var l=r.globals.colors[a],c=null,u=Math.min.apply(Math,Zt(r.globals.series[t])),h=Math.max.apply(Math,Zt(r.globals.series[t]));o.distributed||e!=="heatmap"||(u=r.globals.minY,h=r.globals.maxY),o.colorScale.min!==void 0&&(u=o.colorScale.min<r.globals.minY?o.colorScale.min:r.globals.minY,h=o.colorScale.max>r.globals.maxY?o.colorScale.max:r.globals.maxY);var d=Math.abs(h)+Math.abs(u),f=100*s/(d===0?d-1e-6:d);return o.colorScale.ranges.length>0&&o.colorScale.ranges.map(function(p,m){if(s>=p.from&&s<=p.to){l=p.color,c=p.foreColor?p.foreColor:null,u=p.from,h=p.to;var b=Math.abs(h)+Math.abs(u);f=100*s/(b===0?b-1e-6:b)}}),{color:l,foreColor:c,percent:f}}},{key:"calculateDataLabels",value:function(e){var t=e.text,n=e.x,r=e.y,s=e.i,o=e.j,a=e.colorProps,l=e.fontSize,c=this.w.config.dataLabels,u=new ae(this.ctx),h=new Po(this.ctx),d=null;if(c.enabled){d=u.group({class:"apexcharts-data-labels"});var f=c.offsetX,p=c.offsetY,m=n+f,b=r+parseFloat(c.style.fontSize)/3+p;h.plotDataLabelsText({x:m,y:b,text:t,i:s,j:o,color:a.foreColor,parent:d,fontSize:l,dataLabelsConfig:c})}return d}},{key:"addListeners",value:function(e){var t=new ae(this.ctx);e.node.addEventListener("mouseenter",t.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",t.pathMouseLeave.bind(this,e)),e.node.addEventListener("mousedown",t.pathMouseDown.bind(this,e))}}]),i}(),ZM=function(){function i(e,t){Ee(this,i),this.ctx=e,this.w=e.w,this.xRatio=t.xRatio,this.yRatio=t.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new _y(e),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return Oe(i,[{key:"draw",value:function(e){var t=this.w,n=new ae(this.ctx),r=n.group({class:"apexcharts-heatmap"});r.attr("clip-path","url(#gridRectMask".concat(t.globals.cuid,")"));var s=t.globals.gridWidth/t.globals.dataPoints,o=t.globals.gridHeight/t.globals.series.length,a=0,l=!1;this.negRange=this.helpers.checkColorRange();var c=e.slice();t.config.yaxis[0].reversed&&(l=!0,c.reverse());for(var u=l?0:c.length-1;l?u<c.length:u>=0;l?u++:u--){var h=n.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:H.escapeString(t.globals.seriesNames[u]),rel:u+1,"data:realIndex":u});if(this.ctx.series.addCollapsedClassToSeries(h,u),t.config.chart.dropShadow.enabled){var d=t.config.chart.dropShadow;new fn(this.ctx).dropShadow(h,d,u)}for(var f=0,p=t.config.plotOptions.heatmap.shadeIntensity,m=0,b=0;b<t.globals.dataPoints;b++)if(t.globals.seriesX.length&&!t.globals.allSeriesHasEqualX&&t.globals.minX+t.globals.minXDiff*b<t.globals.seriesX[u][m])f+=s;else{if(m>=c[u].length)break;var y=this.helpers.getShadeColor(t.config.chart.type,u,m,this.negRange),w=y.color,C=y.colorProps;t.config.fill.type==="image"&&(w=new Pi(this.ctx).fillPath({seriesNumber:u,dataPointIndex:m,opacity:t.globals.hasNegs?C.percent<0?1-(1+C.percent/100):p+C.percent/100:C.percent/100,patternID:H.randomId(),width:t.config.fill.image.width?t.config.fill.image.width:s,height:t.config.fill.image.height?t.config.fill.image.height:o}));var T=this.rectRadius,k=n.drawRect(f,a,s,o,T);if(k.attr({cx:f,cy:a}),k.node.classList.add("apexcharts-heatmap-rect"),h.add(k),k.attr({fill:w,i:u,index:u,j:m,val:e[u][m],"stroke-width":this.strokeWidth,stroke:t.config.plotOptions.heatmap.useFillColorAsStroke?w:t.globals.stroke.colors[0],color:w}),this.helpers.addListeners(k),t.config.chart.animations.enabled&&!t.globals.dataChanged){var E=1;t.globals.resized||(E=t.config.chart.animations.speed),this.animateHeatMap(k,f,a,s,o,E)}if(t.globals.dataChanged){var M=1;if(this.dynamicAnim.enabled&&t.globals.shouldAnimate){M=this.dynamicAnim.speed;var O=t.globals.previousPaths[u]&&t.globals.previousPaths[u][m]&&t.globals.previousPaths[u][m].color;O||(O="rgba(255, 255, 255, 0)"),this.animateHeatColor(k,H.isColorHex(O)?O:H.rgb2hex(O),H.isColorHex(w)?w:H.rgb2hex(w),M)}}var P=(0,t.config.dataLabels.formatter)(t.globals.series[u][m],{value:t.globals.series[u][m],seriesIndex:u,dataPointIndex:m,w:t}),N=this.helpers.calculateDataLabels({text:P,x:f+s/2,y:a+o/2,i:u,j:m,colorProps:C,series:c});N!==null&&h.add(N),f+=s,m++}a+=o,r.add(h)}var R=t.globals.yAxisScale[0].result.slice();return t.config.yaxis[0].reversed?R.unshift(""):R.push(""),t.globals.yAxisScale[0].result=R,r}},{key:"animateHeatMap",value:function(e,t,n,r,s,o){var a=new ko(this.ctx);a.animateRect(e,{x:t+r/2,y:n+s/2,width:0,height:0},{x:t,y:n,width:r,height:s},o,function(){a.animationCompleted(e)})}},{key:"animateHeatColor",value:function(e,t,n,r){e.attr({fill:t}).animate(r).attr({fill:n})}}]),i}(),Dy=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"drawYAxisTexts",value:function(e,t,n,r){var s=this.w,o=s.config.yaxis[0],a=s.globals.yLabelFormatters[0];return new ae(this.ctx).drawText({x:e+o.labels.offsetX,y:t+o.labels.offsetY,text:a(r,n),textAnchor:"middle",fontSize:o.labels.style.fontSize,fontFamily:o.labels.style.fontFamily,foreColor:Array.isArray(o.labels.style.colors)?o.labels.style.colors[n]:o.labels.style.colors})}}]),i}(),Ny=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w;var t=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=Math.min(t.globals.gridWidth,t.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=t.globals.gridWidth/2,t.config.chart.type==="radialBar"?this.fullAngle=360:this.fullAngle=Math.abs(t.config.plotOptions.pie.endAngle-t.config.plotOptions.pie.startAngle),this.initialAngle=t.config.plotOptions.pie.startAngle%this.fullAngle,t.globals.radialSize=this.defaultSize/2.05-t.config.stroke.width-(t.config.chart.sparkline.enabled?0:t.config.chart.dropShadow.blur),this.donutSize=t.globals.radialSize*parseInt(t.config.plotOptions.pie.donut.size,10)/100;var n=t.config.plotOptions.pie.customScale,r=t.globals.gridWidth/2,s=t.globals.gridHeight/2;this.translateX=r-r*n,this.translateY=s-s*n,this.dataLabelsGroup=new ae(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(n,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return Oe(i,[{key:"draw",value:function(e){var t=this,n=this.w,r=new ae(this.ctx),s=r.group({class:"apexcharts-pie"});if(n.globals.noData)return s;for(var o=0,a=0;a<e.length;a++)o+=H.negToZero(e[a]);var l=[],c=r.group();o===0&&(o=1e-5),e.forEach(function(C){t.maxY=Math.max(t.maxY,C)}),n.config.yaxis[0].max&&(this.maxY=n.config.yaxis[0].max),n.config.grid.position==="back"&&this.chartType==="polarArea"&&this.drawPolarElements(s);for(var u=0;u<e.length;u++){var h=this.fullAngle*H.negToZero(e[u])/o;l.push(h),this.chartType==="polarArea"?(l[u]=this.fullAngle/e.length,this.sliceSizes.push(n.globals.radialSize*e[u]/this.maxY)):this.sliceSizes.push(n.globals.radialSize)}if(n.globals.dataChanged){for(var d,f=0,p=0;p<n.globals.previousPaths.length;p++)f+=H.negToZero(n.globals.previousPaths[p]);for(var m=0;m<n.globals.previousPaths.length;m++)d=this.fullAngle*H.negToZero(n.globals.previousPaths[m])/f,this.prevSectorAngleArr.push(d)}if(this.donutSize<0&&(this.donutSize=0),this.chartType==="donut"){var b=r.drawCircle(this.donutSize);b.attr({cx:this.centerX,cy:this.centerY,fill:n.config.plotOptions.pie.donut.background?n.config.plotOptions.pie.donut.background:"transparent"}),c.add(b)}var y=this.drawArcs(l,e);if(this.sliceLabels.forEach(function(C){y.add(C)}),c.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(n.config.plotOptions.pie.customScale,")")}),c.add(y),s.add(c),this.donutDataLabels.show){var w=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});s.add(w)}return n.config.grid.position==="front"&&this.chartType==="polarArea"&&this.drawPolarElements(s),s}},{key:"drawArcs",value:function(e,t){var n=this.w,r=new fn(this.ctx),s=new ae(this.ctx),o=new Pi(this.ctx),a=s.group({class:"apexcharts-slices"}),l=this.initialAngle,c=this.initialAngle,u=this.initialAngle,h=this.initialAngle;this.strokeWidth=n.config.stroke.show?n.config.stroke.width:0;for(var d=0;d<e.length;d++){var f=s.group({class:"apexcharts-series apexcharts-pie-series",seriesName:H.escapeString(n.globals.seriesNames[d]),rel:d+1,"data:realIndex":d});a.add(f),c=h,u=(l=u)+e[d],h=c+this.prevSectorAngleArr[d];var p=u<l?this.fullAngle+u-l:u-l,m=o.fillPath({seriesNumber:d,size:this.sliceSizes[d],value:t[d]}),b=this.getChangedPath(c,h),y=s.drawPath({d:b,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[d]:this.lineColorArr,strokeWidth:0,fill:m,fillOpacity:n.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(d)});if(y.attr({index:0,j:d}),r.setSelectionFilter(y,0,d),n.config.chart.dropShadow.enabled){var w=n.config.chart.dropShadow;r.dropShadow(y,w,d)}this.addListeners(y,this.donutDataLabels),ae.setAttrs(y.node,{"data:angle":p,"data:startAngle":l,"data:strokeWidth":this.strokeWidth,"data:value":t[d]});var C={x:0,y:0};this.chartType==="pie"||this.chartType==="polarArea"?C=H.polarToCartesian(this.centerX,this.centerY,n.globals.radialSize/1.25+n.config.plotOptions.pie.dataLabels.offset,(l+p/2)%this.fullAngle):this.chartType==="donut"&&(C=H.polarToCartesian(this.centerX,this.centerY,(n.globals.radialSize+this.donutSize)/2+n.config.plotOptions.pie.dataLabels.offset,(l+p/2)%this.fullAngle)),f.add(y);var T=0;if(!this.initialAnim||n.globals.resized||n.globals.dataChanged?this.animBeginArr.push(0):((T=p/this.fullAngle*n.config.chart.animations.speed)===0&&(T=1),this.animDur=T+this.animDur,this.animBeginArr.push(this.animDur)),this.dynamicAnim&&n.globals.dataChanged?this.animatePaths(y,{size:this.sliceSizes[d],endAngle:u,startAngle:l,prevStartAngle:c,prevEndAngle:h,animateStartingPos:!0,i:d,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:n.config.chart.animations.dynamicAnimation.speed}):this.animatePaths(y,{size:this.sliceSizes[d],endAngle:u,startAngle:l,i:d,totalItems:e.length-1,animBeginArr:this.animBeginArr,dur:T}),n.config.plotOptions.pie.expandOnClick&&this.chartType!=="polarArea"&&y.node.addEventListener("mouseup",this.pieClicked.bind(this,d)),n.globals.selectedDataPoints[0]!==void 0&&n.globals.selectedDataPoints[0].indexOf(d)>-1&&this.pieClicked(d),n.config.dataLabels.enabled){var k=C.x,E=C.y,M=100*p/this.fullAngle+"%";if(p!==0&&n.config.plotOptions.pie.dataLabels.minAngleToShowLabel<e[d]){var O=n.config.dataLabels.formatter;O!==void 0&&(M=O(n.globals.seriesPercent[d][0],{seriesIndex:d,w:n}));var P=n.globals.dataLabels.style.colors[d],N=s.group({class:"apexcharts-datalabels"}),R=s.drawText({x:k,y:E,text:M,textAnchor:"middle",fontSize:n.config.dataLabels.style.fontSize,fontFamily:n.config.dataLabels.style.fontFamily,fontWeight:n.config.dataLabels.style.fontWeight,foreColor:P});if(N.add(R),n.config.dataLabels.dropShadow.enabled){var D=n.config.dataLabels.dropShadow;r.dropShadow(R,D)}R.node.classList.add("apexcharts-pie-label"),n.config.chart.animations.animate&&n.globals.resized===!1&&(R.node.classList.add("apexcharts-pie-label-delay"),R.node.style.animationDelay=n.config.chart.animations.speed/940+"s"),this.sliceLabels.push(N)}}}return a}},{key:"addListeners",value:function(e,t){var n=new ae(this.ctx);e.node.addEventListener("mouseenter",n.pathMouseEnter.bind(this,e)),e.node.addEventListener("mouseleave",n.pathMouseLeave.bind(this,e)),e.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",n.pathMouseDown.bind(this,e)),this.donutDataLabels.total.showAlways||(e.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,e.node,t)),e.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,e.node,t)))}},{key:"animatePaths",value:function(e,t){var n=this.w,r=t.endAngle<t.startAngle?this.fullAngle+t.endAngle-t.startAngle:t.endAngle-t.startAngle,s=r,o=t.startAngle,a=t.startAngle;t.prevStartAngle!==void 0&&t.prevEndAngle!==void 0&&(o=t.prevEndAngle,s=t.prevEndAngle<t.prevStartAngle?this.fullAngle+t.prevEndAngle-t.prevStartAngle:t.prevEndAngle-t.prevStartAngle),t.i===n.config.series.length-1&&(r+a>this.fullAngle?t.endAngle=t.endAngle-(r+a):r+a<this.fullAngle&&(t.endAngle=t.endAngle+(this.fullAngle-(r+a)))),r===this.fullAngle&&(r=this.fullAngle-.01),this.animateArc(e,o,a,r,s,t)}},{key:"animateArc",value:function(e,t,n,r,s,o){var a,l=this,c=this.w,u=new ko(this.ctx),h=o.size;(isNaN(t)||isNaN(s))&&(t=n,s=r,o.dur=0);var d=r,f=n,p=t<n?this.fullAngle+t-n:t-n;c.globals.dataChanged&&o.shouldSetPrevPaths&&o.prevEndAngle&&(a=l.getPiePath({me:l,startAngle:o.prevStartAngle,angle:o.prevEndAngle<o.prevStartAngle?this.fullAngle+o.prevEndAngle-o.prevStartAngle:o.prevEndAngle-o.prevStartAngle,size:h}),e.attr({d:a})),o.dur!==0?e.animate(o.dur,o.animBeginArr[o.i]).after(function(){l.chartType!=="pie"&&l.chartType!=="donut"&&l.chartType!=="polarArea"||this.animate(c.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":l.strokeWidth}),o.i===c.config.series.length-1&&u.animationCompleted(e)}).during(function(m){d=p+(r-p)*m,o.animateStartingPos&&(d=s+(r-s)*m,f=t-s+(n-(t-s))*m),a=l.getPiePath({me:l,startAngle:f,angle:d,size:h}),e.node.setAttribute("data:pathOrig",a),e.attr({d:a})}):(a=l.getPiePath({me:l,startAngle:f,angle:r,size:h}),o.isTrack||(c.globals.animationEnded=!0),e.node.setAttribute("data:pathOrig",a),e.attr({d:a,"stroke-width":l.strokeWidth}))}},{key:"pieClicked",value:function(e){var t,n=this.w,r=this,s=r.sliceSizes[e]+(n.config.plotOptions.pie.expandOnClick?4:0),o=n.globals.dom.Paper.findOne(".apexcharts-".concat(r.chartType.toLowerCase(),"-slice-").concat(e));if(o.attr("data:pieClicked")!=="true"){var a=n.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(a,function(h){h.setAttribute("data:pieClicked","false");var d=h.getAttribute("data:pathOrig");d&&h.setAttribute("d",d)}),n.globals.capturedDataPointIndex=e,o.attr("data:pieClicked","true");var l=parseInt(o.attr("data:startAngle"),10),c=parseInt(o.attr("data:angle"),10);t=r.getPiePath({me:r,startAngle:l,angle:c,size:s}),c!==360&&o.plot(t)}else{o.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(o.node,this.donutDataLabels);var u=o.attr("data:pathOrig");o.attr({d:u})}}},{key:"getChangedPath",value:function(e,t){var n="";return this.dynamicAnim&&this.w.globals.dataChanged&&(n=this.getPiePath({me:this,startAngle:e,angle:t-e,size:this.size})),n}},{key:"getPiePath",value:function(e){var t,n=e.me,r=e.startAngle,s=e.angle,o=e.size,a=new ae(this.ctx),l=r,c=Math.PI*(l-90)/180,u=s+r;Math.ceil(u)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(u=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(u)>this.fullAngle&&(u-=this.fullAngle);var h=Math.PI*(u-90)/180,d=n.centerX+o*Math.cos(c),f=n.centerY+o*Math.sin(c),p=n.centerX+o*Math.cos(h),m=n.centerY+o*Math.sin(h),b=H.polarToCartesian(n.centerX,n.centerY,n.donutSize,u),y=H.polarToCartesian(n.centerX,n.centerY,n.donutSize,l),w=s>180?1:0,C=["M",d,f,"A",o,o,0,w,1,p,m];return t=n.chartType==="donut"?[].concat(C,["L",b.x,b.y,"A",n.donutSize,n.donutSize,0,w,0,y.x,y.y,"L",d,f,"z"]).join(" "):n.chartType==="pie"||n.chartType==="polarArea"?[].concat(C,["L",n.centerX,n.centerY,"L",d,f]).join(" "):[].concat(C).join(" "),a.roundPathCorners(t,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(e){var t=this.w,n=new Ty(this.ctx),r=new ae(this.ctx),s=new Dy(this.ctx),o=r.group(),a=r.group(),l=n.niceScale(0,Math.ceil(this.maxY),0),c=l.result.reverse(),u=l.result.length;this.maxY=l.niceMax;for(var h=t.globals.radialSize,d=h/(u-1),f=0;f<u-1;f++){var p=r.drawCircle(h);if(p.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":t.config.plotOptions.polarArea.rings.strokeWidth,stroke:t.config.plotOptions.polarArea.rings.strokeColor}),t.config.yaxis[0].show){var m=s.drawYAxisTexts(this.centerX,this.centerY-h+parseInt(t.config.yaxis[0].labels.style.fontSize,10)/2,f,c[f]);a.add(m)}o.add(p),h-=d}this.drawSpokes(e),e.add(o),e.add(a)}},{key:"renderInnerDataLabels",value:function(e,t,n){var r=this.w,s=new ae(this.ctx),o=t.total.show;e.node.innerHTML="",e.node.style.opacity=n.opacity;var a,l,c=n.centerX,u=this.donutDataLabels.total.label?n.centerY:n.centerY-n.centerY/6;a=t.name.color===void 0?r.globals.colors[0]:t.name.color;var h=t.name.fontSize,d=t.name.fontFamily,f=t.name.fontWeight;l=t.value.color===void 0?r.config.chart.foreColor:t.value.color;var p=t.value.formatter,m="",b="";if(o?(a=t.total.color,h=t.total.fontSize,d=t.total.fontFamily,f=t.total.fontWeight,b=this.donutDataLabels.total.label?t.total.label:"",m=t.total.formatter(r)):r.globals.series.length===1&&(m=p(r.globals.series[0],r),b=r.globals.seriesNames[0]),b&&(b=t.name.formatter(b,t.total.show,r)),t.name.show){var y=s.drawText({x:c,y:u+parseFloat(t.name.offsetY),text:b,textAnchor:"middle",foreColor:a,fontSize:h,fontWeight:f,fontFamily:d});y.node.classList.add("apexcharts-datalabel-label"),e.add(y)}if(t.value.show){var w=t.name.show?parseFloat(t.value.offsetY)+16:t.value.offsetY,C=s.drawText({x:c,y:u+w,text:m,textAnchor:"middle",foreColor:l,fontWeight:t.value.fontWeight,fontSize:t.value.fontSize,fontFamily:t.value.fontFamily});C.node.classList.add("apexcharts-datalabel-value"),e.add(C)}return e}},{key:"printInnerLabels",value:function(e,t,n,r){var s,o=this.w;r?s=e.name.color===void 0?o.globals.colors[parseInt(r.parentNode.getAttribute("rel"),10)-1]:e.name.color:o.globals.series.length>1&&e.total.show&&(s=e.total.color);var a=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),l=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");n=(0,e.value.formatter)(n,o),r||typeof e.total.formatter!="function"||(n=e.total.formatter(o));var c=t===e.total.label;t=this.donutDataLabels.total.label?e.name.formatter(t,c,o):"",a!==null&&(a.textContent=t),l!==null&&(l.textContent=n),a!==null&&(a.style.fill=s)}},{key:"printDataLabelsInner",value:function(e,t){var n=this.w,r=e.getAttribute("data:value"),s=n.globals.seriesNames[parseInt(e.parentNode.getAttribute("rel"),10)-1];n.globals.series.length>1&&this.printInnerLabels(t,s,r,e);var o=n.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");o!==null&&(o.style.opacity=1)}},{key:"drawSpokes",value:function(e){var t=this,n=this.w,r=new ae(this.ctx),s=n.config.plotOptions.polarArea.spokes;if(s.strokeWidth!==0){for(var o=[],a=360/n.globals.series.length,l=0;l<n.globals.series.length;l++)o.push(H.polarToCartesian(this.centerX,this.centerY,n.globals.radialSize,n.config.plotOptions.pie.startAngle+a*l));o.forEach(function(c,u){var h=r.drawLine(c.x,c.y,t.centerX,t.centerY,Array.isArray(s.connectorColors)?s.connectorColors[u]:s.connectorColors);e.add(h)})}}},{key:"revertDataLabelsInner",value:function(){var e=this.w;if(this.donutDataLabels.show){var t=e.globals.dom.Paper.findOne(".apexcharts-datalabels-group"),n=this.renderInnerDataLabels(t,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});e.globals.dom.Paper.findOne(".apexcharts-radialbar, .apexcharts-pie").add(n)}}}]),i}(),QM=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var t=this.w;this.graphics=new ae(this.ctx),this.lineColorArr=t.globals.stroke.colors!==void 0?t.globals.stroke.colors:t.globals.colors,this.defaultSize=t.globals.svgHeight<t.globals.svgWidth?t.globals.gridHeight:t.globals.gridWidth,this.isLog=t.config.yaxis[0].logarithmic,this.logBase=t.config.yaxis[0].logBase,this.coreUtils=new Yt(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,t.globals.maxY,0):t.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):t.globals.minY,this.polygons=t.config.plotOptions.radar.polygons,this.strokeWidth=t.config.stroke.show?t.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-t.config.chart.dropShadow.blur,t.config.xaxis.labels.show&&(this.size=this.size-t.globals.xAxisLabelsWidth/1.75),t.config.plotOptions.radar.size!==void 0&&(this.size=t.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return Oe(i,[{key:"draw",value:function(e){var t=this,n=this.w,r=new Pi(this.ctx),s=[],o=new Po(this.ctx);e.length&&(this.dataPointsLen=e[n.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var a=n.globals.gridWidth/2,l=n.globals.gridHeight/2,c=a+n.config.plotOptions.radar.offsetX,u=l+n.config.plotOptions.radar.offsetY,h=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(c||0,", ").concat(u||0,")")}),d=[],f=null,p=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),e.forEach(function(b,y){var w=b.length===n.globals.dataPoints,C=t.graphics.group().attr({class:"apexcharts-series","data:longestSeries":w,seriesName:H.escapeString(n.globals.seriesNames[y]),rel:y+1,"data:realIndex":y});t.dataRadiusOfPercent[y]=[],t.dataRadius[y]=[],t.angleArr[y]=[],b.forEach(function(V,q){var re=Math.abs(t.maxValue-t.minValue);V-=t.minValue,t.isLog&&(V=t.coreUtils.getLogVal(t.logBase,V,0)),t.dataRadiusOfPercent[y][q]=V/re,t.dataRadius[y][q]=t.dataRadiusOfPercent[y][q]*t.size,t.angleArr[y][q]=q*t.disAngle}),d=t.getDataPointsPos(t.dataRadius[y],t.angleArr[y]);var T=t.createPaths(d,{x:0,y:0});f=t.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),p=t.graphics.group({class:"apexcharts-datalabels","data:realIndex":y}),n.globals.delayedElements.push({el:f.node,index:y});var k={i:y,realIndex:y,animationDelay:y,initialSpeed:n.config.chart.animations.speed,dataChangeSpeed:n.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:n.globals.stroke.colors[y],strokeLineCap:n.config.stroke.lineCap},E=null;n.globals.previousPaths.length>0&&(E=t.getPreviousPath(y));for(var M=0;M<T.linePathsTo.length;M++){var O=t.graphics.renderPaths(be(be({},k),{},{pathFrom:E===null?T.linePathsFrom[M]:E,pathTo:T.linePathsTo[M],strokeWidth:Array.isArray(t.strokeWidth)?t.strokeWidth[y]:t.strokeWidth,fill:"none",drawShadow:!1}));C.add(O);var P=r.fillPath({seriesNumber:y}),N=t.graphics.renderPaths(be(be({},k),{},{pathFrom:E===null?T.areaPathsFrom[M]:E,pathTo:T.areaPathsTo[M],strokeWidth:0,fill:P,drawShadow:!1}));if(n.config.chart.dropShadow.enabled){var R=new fn(t.ctx),D=n.config.chart.dropShadow;R.dropShadow(N,Object.assign({},D,{noUserSpaceOnUse:!0}),y)}C.add(N)}b.forEach(function(V,q){var re=new Io(t.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:y,dataPointIndex:q}),te=t.graphics.drawMarker(d[q].x,d[q].y,re);te.attr("rel",q),te.attr("j",q),te.attr("index",y),te.node.setAttribute("default-marker-size",re.pSize);var ie=t.graphics.group({class:"apexcharts-series-markers"});ie&&ie.add(te),f.add(ie),C.add(f);var se=n.config.dataLabels;if(se.enabled){var ve=se.formatter(n.globals.series[y][q],{seriesIndex:y,dataPointIndex:q,w:n});o.plotDataLabelsText({x:d[q].x,y:d[q].y,text:ve,textAnchor:"middle",i:y,j:y,parent:p,offsetCorrection:!1,dataLabelsConfig:be({},se)})}C.add(p)}),s.push(C)}),this.drawPolygons({parent:h}),n.config.xaxis.labels.show){var m=this.drawXAxisTexts();h.add(m)}return s.forEach(function(b){h.add(b)}),h.add(this.yaxisLabels),h}},{key:"drawPolygons",value:function(e){for(var t=this,n=this.w,r=e.parent,s=new Dy(this.ctx),o=n.globals.yAxisScale[0].result.reverse(),a=o.length,l=[],c=this.size/(a-1),u=0;u<a;u++)l[u]=c*u;l.reverse();var h=[],d=[];l.forEach(function(f,p){var m=H.getPolygonPos(f,t.dataPointsLen),b="";m.forEach(function(y,w){if(p===0){var C=t.graphics.drawLine(y.x,y.y,0,0,Array.isArray(t.polygons.connectorColors)?t.polygons.connectorColors[w]:t.polygons.connectorColors);d.push(C)}w===0&&t.yaxisLabelsTextsPos.push({x:y.x,y:y.y}),b+=y.x+","+y.y+" "}),h.push(b)}),h.forEach(function(f,p){var m=t.polygons.strokeColors,b=t.polygons.strokeWidth,y=t.graphics.drawPolygon(f,Array.isArray(m)?m[p]:m,Array.isArray(b)?b[p]:b,n.globals.radarPolygons.fill.colors[p]);r.add(y)}),d.forEach(function(f){r.add(f)}),n.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(f,p){var m=s.drawYAxisTexts(f.x,f.y,p,o[p]);t.yaxisLabels.add(m)})}},{key:"drawXAxisTexts",value:function(){var e=this,t=this.w,n=t.config.xaxis.labels,r=this.graphics.group({class:"apexcharts-xaxis"}),s=H.getPolygonPos(this.size,this.dataPointsLen);return t.globals.labels.forEach(function(o,a){var l=t.config.xaxis.labels.formatter,c=new Po(e.ctx);if(s[a]){var u=e.getTextPos(s[a],e.size),h=l(o,{seriesIndex:-1,dataPointIndex:a,w:t});c.plotDataLabelsText({x:u.newX,y:u.newY,text:h,textAnchor:u.textAnchor,i:a,j:a,parent:r,className:"apexcharts-xaxis-label",color:Array.isArray(n.style.colors)&&n.style.colors[a]?n.style.colors[a]:"#a8a8a8",dataLabelsConfig:be({textAnchor:u.textAnchor,dropShadow:{enabled:!1}},n),offsetCorrection:!1}).on("click",function(d){if(typeof t.config.chart.events.xAxisLabelClick=="function"){var f=Object.assign({},t,{labelIndex:a});t.config.chart.events.xAxisLabelClick(d,e.ctx,f)}})}}),r}},{key:"createPaths",value:function(e,t){var n=this,r=[],s=[],o=[],a=[];if(e.length){s=[this.graphics.move(t.x,t.y)],a=[this.graphics.move(t.x,t.y)];var l=this.graphics.move(e[0].x,e[0].y),c=this.graphics.move(e[0].x,e[0].y);e.forEach(function(u,h){l+=n.graphics.line(u.x,u.y),c+=n.graphics.line(u.x,u.y),h===e.length-1&&(l+="Z",c+="Z")}),r.push(l),o.push(c)}return{linePathsFrom:s,linePathsTo:r,areaPathsFrom:a,areaPathsTo:o}}},{key:"getTextPos",value:function(e,t){var n="middle",r=e.x,s=e.y;return Math.abs(e.x)>=10?e.x>0?(n="start",r+=10):e.x<0&&(n="end",r-=10):n="middle",Math.abs(e.y)>=t-10&&(e.y<0?s-=10:e.y>0&&(s+=10)),{textAnchor:n,newX:r,newY:s}}},{key:"getPreviousPath",value:function(e){for(var t=this.w,n=null,r=0;r<t.globals.previousPaths.length;r++){var s=t.globals.previousPaths[r];s.paths.length>0&&parseInt(s.realIndex,10)===parseInt(e,10)&&t.globals.previousPaths[r].paths[0]!==void 0&&(n=t.globals.previousPaths[r].paths[0].d)}return n}},{key:"getDataPointsPos",value:function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.dataPointsLen;e=e||[],t=t||[];for(var r=[],s=0;s<n;s++){var o={};o.x=e[s]*Math.sin(t[s]),o.y=-e[s]*Math.cos(t[s]),r.push(o)}return r}}]),i}(),eT=function(i){Fa(t,Ny);var e=Na(t);function t(n){var r;Ee(this,t),(r=e.call(this,n)).ctx=n,r.w=n.w,r.animBeginArr=[0],r.animDur=0;var s=r.w;return r.startAngle=s.config.plotOptions.radialBar.startAngle,r.endAngle=s.config.plotOptions.radialBar.endAngle,r.totalAngle=Math.abs(s.config.plotOptions.radialBar.endAngle-s.config.plotOptions.radialBar.startAngle),r.trackStartAngle=s.config.plotOptions.radialBar.track.startAngle,r.trackEndAngle=s.config.plotOptions.radialBar.track.endAngle,r.barLabels=r.w.config.plotOptions.radialBar.barLabels,r.donutDataLabels=r.w.config.plotOptions.radialBar.dataLabels,r.radialDataLabels=r.donutDataLabels,r.trackStartAngle||(r.trackStartAngle=r.startAngle),r.trackEndAngle||(r.trackEndAngle=r.endAngle),r.endAngle===360&&(r.endAngle=359.99),r.margin=parseInt(s.config.plotOptions.radialBar.track.margin,10),r.onBarLabelClick=r.onBarLabelClick.bind(_b(r)),r}return Oe(t,[{key:"draw",value:function(n){var r=this.w,s=new ae(this.ctx),o=s.group({class:"apexcharts-radialbar"});if(r.globals.noData)return o;var a=s.group(),l=this.defaultSize/2,c=r.globals.gridWidth/2,u=this.defaultSize/2.05;r.config.chart.sparkline.enabled||(u=u-r.config.stroke.width-r.config.chart.dropShadow.blur);var h=r.globals.fill.colors;if(r.config.plotOptions.radialBar.track.show){var d=this.drawTracks({size:u,centerX:c,centerY:l,colorArr:h,series:n});a.add(d)}var f=this.drawArcs({size:u,centerX:c,centerY:l,colorArr:h,series:n}),p=360;r.config.plotOptions.radialBar.startAngle<0&&(p=this.totalAngle);var m=(360-p)/360;if(r.globals.radialSize=u-u*m,this.radialDataLabels.value.show){var b=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);r.globals.radialSize+=b*m}return a.add(f.g),r.config.plotOptions.radialBar.hollow.position==="front"&&(f.g.add(f.elHollow),f.dataLabels&&f.g.add(f.dataLabels)),o.add(a),o}},{key:"drawTracks",value:function(n){var r=this.w,s=new ae(this.ctx),o=s.group({class:"apexcharts-tracks"}),a=new fn(this.ctx),l=new Pi(this.ctx),c=this.getStrokeWidth(n);n.size=n.size-c/2;for(var u=0;u<n.series.length;u++){var h=s.group({class:"apexcharts-radialbar-track apexcharts-track"});o.add(h),h.attr({rel:u+1}),n.size=n.size-c-this.margin;var d=r.config.plotOptions.radialBar.track,f=l.fillPath({seriesNumber:0,size:n.size,fillColors:Array.isArray(d.background)?d.background[u]:d.background,solid:!0}),p=this.trackStartAngle,m=this.trackEndAngle;Math.abs(m)+Math.abs(p)>=360&&(m=360-Math.abs(this.startAngle)-.1);var b=s.drawPath({d:"",stroke:f,strokeWidth:c*parseInt(d.strokeWidth,10)/100,fill:"none",strokeOpacity:d.opacity,classes:"apexcharts-radialbar-area"});if(d.dropShadow.enabled){var y=d.dropShadow;a.dropShadow(b,y)}h.add(b),b.attr("id","apexcharts-radialbarTrack-"+u),this.animatePaths(b,{centerX:n.centerX,centerY:n.centerY,endAngle:m,startAngle:p,size:n.size,i:u,totalItems:2,animBeginArr:0,dur:0,isTrack:!0})}return o}},{key:"drawArcs",value:function(n){var r=this.w,s=new ae(this.ctx),o=new Pi(this.ctx),a=new fn(this.ctx),l=s.group(),c=this.getStrokeWidth(n);n.size=n.size-c/2;var u=r.config.plotOptions.radialBar.hollow.background,h=n.size-c*n.series.length-this.margin*n.series.length-c*parseInt(r.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,d=h-r.config.plotOptions.radialBar.hollow.margin;r.config.plotOptions.radialBar.hollow.image!==void 0&&(u=this.drawHollowImage(n,l,h,u));var f=this.drawHollow({size:d,centerX:n.centerX,centerY:n.centerY,fill:u||"transparent"});if(r.config.plotOptions.radialBar.hollow.dropShadow.enabled){var p=r.config.plotOptions.radialBar.hollow.dropShadow;a.dropShadow(f,p)}var m=1;!this.radialDataLabels.total.show&&r.globals.series.length>1&&(m=0);var b=null;if(this.radialDataLabels.show){var y=r.globals.dom.Paper.findOne(".apexcharts-datalabels-group");b=this.renderInnerDataLabels(y,this.radialDataLabels,{hollowSize:h,centerX:n.centerX,centerY:n.centerY,opacity:m})}r.config.plotOptions.radialBar.hollow.position==="back"&&(l.add(f),b&&l.add(b));var w=!1;r.config.plotOptions.radialBar.inverseOrder&&(w=!0);for(var C=w?n.series.length-1:0;w?C>=0:C<n.series.length;w?C--:C++){var T=s.group({class:"apexcharts-series apexcharts-radial-series",seriesName:H.escapeString(r.globals.seriesNames[C])});l.add(T),T.attr({rel:C+1,"data:realIndex":C}),this.ctx.series.addCollapsedClassToSeries(T,C),n.size=n.size-c-this.margin;var k=o.fillPath({seriesNumber:C,size:n.size,value:n.series[C]}),E=this.startAngle,M=void 0,O=H.negToZero(n.series[C]>100?100:n.series[C])/100,P=Math.round(this.totalAngle*O)+this.startAngle,N=void 0;r.globals.dataChanged&&(M=this.startAngle,N=Math.round(this.totalAngle*H.negToZero(r.globals.previousPaths[C])/100)+M),Math.abs(P)+Math.abs(E)>360&&(P-=.01),Math.abs(N)+Math.abs(M)>360&&(N-=.01);var R=P-E,D=Array.isArray(r.config.stroke.dashArray)?r.config.stroke.dashArray[C]:r.config.stroke.dashArray,V=s.drawPath({d:"",stroke:k,strokeWidth:c,fill:"none",fillOpacity:r.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+C,strokeDashArray:D});if(ae.setAttrs(V.node,{"data:angle":R,"data:value":n.series[C]}),r.config.chart.dropShadow.enabled){var q=r.config.chart.dropShadow;a.dropShadow(V,q,C)}if(a.setSelectionFilter(V,0,C),this.addListeners(V,this.radialDataLabels),T.add(V),V.attr({index:0,j:C}),this.barLabels.enabled){var re=H.polarToCartesian(n.centerX,n.centerY,n.size,E),te=this.barLabels.formatter(r.globals.seriesNames[C],{seriesIndex:C,w:r}),ie=["apexcharts-radialbar-label"];this.barLabels.onClick||ie.push("apexcharts-no-click");var se=this.barLabels.useSeriesColors?r.globals.colors[C]:r.config.chart.foreColor;se||(se=r.config.chart.foreColor);var ve=re.x+this.barLabels.offsetX,_e=re.y+this.barLabels.offsetY,ze=s.drawText({x:ve,y:_e,text:te,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:se,cssClass:ie.join(" ")});ze.on("click",this.onBarLabelClick),ze.attr({rel:C+1}),E!==0&&ze.attr({"transform-origin":"".concat(ve," ").concat(_e),transform:"rotate(".concat(E," 0 0)")}),T.add(ze)}var nt=0;!this.initialAnim||r.globals.resized||r.globals.dataChanged||(nt=r.config.chart.animations.speed),r.globals.dataChanged&&(nt=r.config.chart.animations.dynamicAnimation.speed),this.animDur=nt/(1.2*n.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(V,{centerX:n.centerX,centerY:n.centerY,endAngle:P,startAngle:E,prevEndAngle:N,prevStartAngle:M,size:n.size,i:C,totalItems:2,animBeginArr:this.animBeginArr,dur:nt,shouldSetPrevPaths:!0})}return{g:l,elHollow:f,dataLabels:b}}},{key:"drawHollow",value:function(n){var r=new ae(this.ctx).drawCircle(2*n.size);return r.attr({class:"apexcharts-radialbar-hollow",cx:n.centerX,cy:n.centerY,r:n.size,fill:n.fill}),r}},{key:"drawHollowImage",value:function(n,r,s,o){var a=this.w,l=new Pi(this.ctx),c=H.randomId(),u=a.config.plotOptions.radialBar.hollow.image;if(a.config.plotOptions.radialBar.hollow.imageClipped)l.clippedImgArea({width:s,height:s,image:u,patternID:"pattern".concat(a.globals.cuid).concat(c)}),o="url(#pattern".concat(a.globals.cuid).concat(c,")");else{var h=a.config.plotOptions.radialBar.hollow.imageWidth,d=a.config.plotOptions.radialBar.hollow.imageHeight;if(h===void 0&&d===void 0){var f=a.globals.dom.Paper.image(u,function(m){this.move(n.centerX-m.width/2+a.config.plotOptions.radialBar.hollow.imageOffsetX,n.centerY-m.height/2+a.config.plotOptions.radialBar.hollow.imageOffsetY)});r.add(f)}else{var p=a.globals.dom.Paper.image(u,function(m){this.move(n.centerX-h/2+a.config.plotOptions.radialBar.hollow.imageOffsetX,n.centerY-d/2+a.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(h,d)});r.add(p)}}return o}},{key:"getStrokeWidth",value:function(n){var r=this.w;return n.size*(100-parseInt(r.config.plotOptions.radialBar.hollow.size,10))/100/(n.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(n){var r=parseInt(n.target.getAttribute("rel"),10)-1,s=this.barLabels.onClick,o=this.w;s&&s(o.globals.seriesNames[r],{w:o,seriesIndex:r})}}]),t}(),tT=function(i){Fa(t,Lo);var e=Na(t);function t(){return Ee(this,t),e.apply(this,arguments)}return Oe(t,[{key:"draw",value:function(n,r){var s=this.w,o=new ae(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=n,this.seriesRangeStart=s.globals.seriesRangeStart,this.seriesRangeEnd=s.globals.seriesRangeEnd,this.barHelpers.initVariables(n);for(var a=o.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),l=0;l<n.length;l++){var c,u,h,d,f=void 0,p=void 0,m=s.globals.comboCharts?r[l]:l,b=this.barHelpers.getGroupIndex(m).columnGroupIndex,y=o.group({class:"apexcharts-series",seriesName:H.escapeString(s.globals.seriesNames[m]),rel:l+1,"data:realIndex":m});this.ctx.series.addCollapsedClassToSeries(y,m),n[l].length>0&&(this.visibleI=this.visibleI+1);var w=0,C=0,T=0;this.yRatio.length>1&&(this.yaxisIndex=s.globals.seriesYAxisReverseMap[m][0],T=m);var k=this.barHelpers.initialPositions(m);p=k.y,d=k.zeroW,f=k.x,C=k.barWidth,w=k.barHeight,c=k.xDivision,u=k.yDivision,h=k.zeroH;for(var E=o.group({class:"apexcharts-datalabels","data:realIndex":m}),M=o.group({class:"apexcharts-rangebar-goals-markers"}),O=0;O<s.globals.dataPoints;O++){var P=this.barHelpers.getStrokeWidth(l,O,m),N=this.seriesRangeStart[l][O],R=this.seriesRangeEnd[l][O],D=null,V=null,q=null,re={x:f,y:p,strokeWidth:P,elSeries:y},te=this.seriesLen;if(s.config.plotOptions.bar.rangeBarGroupRows&&(te=1),s.config.series[l].data[O]===void 0)break;if(this.isHorizontal){q=p+w*this.visibleI;var ie=(u-w*te)/2;if(s.config.series[l].data[O].x){var se=this.detectOverlappingBars({i:l,j:O,barYPosition:q,srty:ie,barHeight:w,yDivision:u,initPositions:k});w=se.barHeight,q=se.barYPosition}C=(D=this.drawRangeBarPaths(be({indexes:{i:l,j:O,realIndex:m},barHeight:w,barYPosition:q,zeroW:d,yDivision:u,y1:N,y2:R},re))).barWidth}else{s.globals.isXNumeric&&(f=(s.globals.seriesX[l][O]-s.globals.minX)/this.xRatio-C/2),V=f+C*this.visibleI;var ve=(c-C*te)/2;if(s.config.series[l].data[O].x){var _e=this.detectOverlappingBars({i:l,j:O,barXPosition:V,srtx:ve,barWidth:C,xDivision:c,initPositions:k});C=_e.barWidth,V=_e.barXPosition}w=(D=this.drawRangeColumnPaths(be({indexes:{i:l,j:O,realIndex:m,translationsIndex:T},barWidth:C,barXPosition:V,zeroH:h,xDivision:c},re))).barHeight}var ze=this.barHelpers.drawGoalLine({barXPosition:D.barXPosition,barYPosition:q,goalX:D.goalX,goalY:D.goalY,barHeight:w,barWidth:C});ze&&M.add(ze),p=D.y,f=D.x;var nt=this.barHelpers.getPathFillColor(n,l,O,m);this.renderSeries({realIndex:m,pathFill:nt.color,lineFill:nt.useRangeColor?nt.color:s.globals.stroke.colors[m],j:O,i:l,x:f,y:p,y1:N,y2:R,pathFrom:D.pathFrom,pathTo:D.pathTo,strokeWidth:P,elSeries:y,series:n,barHeight:w,barWidth:C,barXPosition:V,barYPosition:q,columnGroupIndex:b,elDataLabelsWrap:E,elGoalsMarkers:M,visibleSeries:this.visibleI,type:"rangebar"})}a.add(y)}return a}},{key:"detectOverlappingBars",value:function(n){var r=n.i,s=n.j,o=n.barYPosition,a=n.barXPosition,l=n.srty,c=n.srtx,u=n.barHeight,h=n.barWidth,d=n.yDivision,f=n.xDivision,p=n.initPositions,m=this.w,b=[],y=m.config.series[r].data[s].rangeName,w=m.config.series[r].data[s].x,C=Array.isArray(w)?w.join(" "):w,T=m.globals.labels.map(function(E){return Array.isArray(E)?E.join(" "):E}).indexOf(C),k=m.globals.seriesRange[r].findIndex(function(E){return E.x===C&&E.overlaps.length>0});return this.isHorizontal?(o=m.config.plotOptions.bar.rangeBarGroupRows?l+d*T:l+u*this.visibleI+d*T,k>-1&&!m.config.plotOptions.bar.rangeBarOverlap&&(b=m.globals.seriesRange[r][k].overlaps).indexOf(y)>-1&&(o=(u=p.barHeight/b.length)*this.visibleI+d*(100-parseInt(this.barOptions.barHeight,10))/100/2+u*(this.visibleI+b.indexOf(y))+d*T)):(T>-1&&!m.globals.timescaleLabels.length&&(a=m.config.plotOptions.bar.rangeBarGroupRows?c+f*T:c+h*this.visibleI+f*T),k>-1&&!m.config.plotOptions.bar.rangeBarOverlap&&(b=m.globals.seriesRange[r][k].overlaps).indexOf(y)>-1&&(a=(h=p.barWidth/b.length)*this.visibleI+f*(100-parseInt(this.barOptions.barWidth,10))/100/2+h*(this.visibleI+b.indexOf(y))+f*T)),{barYPosition:o,barXPosition:a,barHeight:u,barWidth:h}}},{key:"drawRangeColumnPaths",value:function(n){var r=n.indexes,s=n.x,o=n.xDivision,a=n.barWidth,l=n.barXPosition,c=n.zeroH,u=this.w,h=r.i,d=r.j,f=r.realIndex,p=r.translationsIndex,m=this.yRatio[p],b=this.getRangeValue(f,d),y=Math.min(b.start,b.end),w=Math.max(b.start,b.end);this.series[h][d]===void 0||this.series[h][d]===null?y=c:(y=c-y/m,w=c-w/m);var C=Math.abs(w-y),T=this.barHelpers.getColumnPaths({barXPosition:l,barWidth:a,y1:y,y2:w,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:f,i:f,j:d,w:u});if(u.globals.isXNumeric){var k=this.getBarXForNumericXAxis({x:s,j:d,realIndex:f,barWidth:a});s=k.x,l=k.barXPosition}else s+=o;return{pathTo:T.pathTo,pathFrom:T.pathFrom,barHeight:C,x:s,y:b.start<0&&b.end<0?y:w,goalY:this.barHelpers.getGoalValues("y",null,c,h,d,p),barXPosition:l}}},{key:"preventBarOverflow",value:function(n){var r=this.w;return n<0&&(n=0),n>r.globals.gridWidth&&(n=r.globals.gridWidth),n}},{key:"drawRangeBarPaths",value:function(n){var r=n.indexes,s=n.y,o=n.y1,a=n.y2,l=n.yDivision,c=n.barHeight,u=n.barYPosition,h=n.zeroW,d=this.w,f=r.realIndex,p=r.j,m=this.preventBarOverflow(h+o/this.invertedYRatio),b=this.preventBarOverflow(h+a/this.invertedYRatio),y=this.getRangeValue(f,p),w=Math.abs(b-m),C=this.barHelpers.getBarpaths({barYPosition:u,barHeight:c,x1:m,x2:b,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:f,realIndex:f,j:p,w:d});return d.globals.isXNumeric||(s+=l),{pathTo:C.pathTo,pathFrom:C.pathFrom,barWidth:w,x:y.start<0&&y.end<0?m:b,goalX:this.barHelpers.getGoalValues("x",h,null,f,p),y:s}}},{key:"getRangeValue",value:function(n,r){var s=this.w;return{start:s.globals.seriesRangeStart[n][r],end:s.globals.seriesRangeEnd[n][r]}}}]),t}(),nT=function(){function i(e){Ee(this,i),this.w=e.w,this.lineCtx=e}return Oe(i,[{key:"sameValueSeriesFix",value:function(e,t){var n=this.w;if((n.config.fill.type==="gradient"||n.config.fill.type[e]==="gradient")&&new Yt(this.lineCtx.ctx,n).seriesHaveSameValues(e)){var r=t[e].slice();r[r.length-1]=r[r.length-1]+1e-6,t[e]=r}return t}},{key:"calculatePoints",value:function(e){var t=e.series,n=e.realIndex,r=e.x,s=e.y,o=e.i,a=e.j,l=e.prevY,c=this.w,u=[],h=[],d=this.lineCtx.categoryAxisCorrection+c.config.markers.offsetX;return c.globals.isXNumeric&&(d=(c.globals.seriesX[n][0]-c.globals.minX)/this.lineCtx.xRatio+c.config.markers.offsetX),a===0&&(u.push(d),h.push(H.isNumber(t[o][0])?l+c.config.markers.offsetY:null)),u.push(r+c.config.markers.offsetX),h.push(H.isNumber(t[o][a+1])?s+c.config.markers.offsetY:null),{x:u,y:h}}},{key:"checkPreviousPaths",value:function(e){for(var t=e.pathFromLine,n=e.pathFromArea,r=e.realIndex,s=this.w,o=0;o<s.globals.previousPaths.length;o++){var a=s.globals.previousPaths[o];(a.type==="line"||a.type==="area")&&a.paths.length>0&&parseInt(a.realIndex,10)===parseInt(r,10)&&(a.type==="line"?(this.lineCtx.appendPathFrom=!1,t=s.globals.previousPaths[o].paths[0].d):a.type==="area"&&(this.lineCtx.appendPathFrom=!1,n=s.globals.previousPaths[o].paths[0].d,s.config.stroke.show&&s.globals.previousPaths[o].paths[1]&&(t=s.globals.previousPaths[o].paths[1].d)))}return{pathFromLine:t,pathFromArea:n}}},{key:"determineFirstPrevY",value:function(e){var t,n,r,s=e.i,o=e.realIndex,a=e.series,l=e.prevY,c=e.lineYPosition,u=e.translationsIndex,h=this.w,d=h.config.chart.stacked&&!h.globals.comboCharts||h.config.chart.stacked&&h.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[o])===null||t===void 0?void 0:t.type)==="bar"||((n=this.w.config.series[o])===null||n===void 0?void 0:n.type)==="column");if(((r=a[s])===null||r===void 0?void 0:r[0])!==void 0)l=(c=d&&s>0?this.lineCtx.prevSeriesY[s-1][0]:this.lineCtx.zeroY)-a[s][0]/this.lineCtx.yRatio[u]+2*(this.lineCtx.isReversed?a[s][0]/this.lineCtx.yRatio[u]:0);else if(d&&s>0&&a[s][0]===void 0){for(var f=s-1;f>=0;f--)if(a[f][0]!==null&&a[f][0]!==void 0){l=c=this.lineCtx.prevSeriesY[f][0];break}}return{prevY:l,lineYPosition:c}}}]),i}(),iT=function(i){for(var e,t,n,r,s=function(u){for(var h=[],d=u[0],f=u[1],p=h[0]=Pf(d,f),m=1,b=u.length-1;m<b;m++)d=f,f=u[m+1],h[m]=.5*(p+(p=Pf(d,f)));return h[m]=p,h}(i),o=i.length-1,a=[],l=0;l<o;l++)n=Pf(i[l],i[l+1]),Math.abs(n)<1e-6?s[l]=s[l+1]=0:(r=(e=s[l]/n)*e+(t=s[l+1]/n)*t)>9&&(r=3*n/Math.sqrt(r),s[l]=r*e,s[l+1]=r*t);for(var c=0;c<=o;c++)r=(i[Math.min(o,c+1)][0]-i[Math.max(0,c-1)][0])/(6*(1+s[c]*s[c])),a.push([r||0,s[c]*r||0]);return a},rT=function(i){var e=iT(i),t=i[1],n=i[0],r=[],s=e[1],o=e[0];r.push(n,[n[0]+o[0],n[1]+o[1],t[0]-s[0],t[1]-s[1],t[0],t[1]]);for(var a=2,l=e.length;a<l;a++){var c=i[a],u=e[a];r.push([c[0]-u[0],c[1]-u[1],c[0],c[1]])}return r},sT=function(i,e,t){var n=i.slice(e,t);if(e){if(t-e>1&&n[1].length<6){var r=n[0].length;n[1]=[2*n[0][r-2]-n[0][r-4],2*n[0][r-1]-n[0][r-3]].concat(n[1])}n[0]=n[0].slice(-2)}return n};function Pf(i,e){return(e[1]-i[1])/(e[0]-i[0])}var Lf=function(){function i(e,t,n){Ee(this,i),this.ctx=e,this.w=e.w,this.xyRatios=t,this.pointsChart=!(this.w.config.chart.type!=="bubble"&&this.w.config.chart.type!=="scatter")||n,this.scatter=new Ay(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new nT(this),this.markers=new Io(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return Oe(i,[{key:"draw",value:function(e,t,n,r){var s,o=this.w,a=new ae(this.ctx),l=o.globals.comboCharts?t:o.config.chart.type,c=a.group({class:"apexcharts-".concat(l,"-series apexcharts-plot-series")}),u=new Yt(this.ctx,o);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,e=u.getLogSeries(e),this.yRatio=u.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var h=[],d=0;d<e.length;d++){e=this.lineHelpers.sameValueSeriesFix(d,e);var f=o.globals.comboCharts?n[d]:d,p=this.yRatio.length>1?f:0;this._initSerieVariables(e,d,f);var m=[],b=[],y=[],w=o.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,f),o.globals.isXNumeric&&o.globals.seriesX.length>0&&(w=(o.globals.seriesX[f][0]-o.globals.minX)/this.xRatio),y.push(w);var C,T=w,k=void 0,E=T,M=this.zeroY,O=this.zeroY;M=this.lineHelpers.determineFirstPrevY({i:d,realIndex:f,series:e,prevY:M,lineYPosition:0,translationsIndex:p}).prevY,o.config.stroke.curve==="monotoneCubic"&&e[d][0]===null?m.push(null):m.push(M),C=M,l==="rangeArea"&&(k=O=this.lineHelpers.determineFirstPrevY({i:d,realIndex:f,series:r,prevY:O,lineYPosition:0,translationsIndex:p}).prevY,b.push(m[0]!==null?O:null));var P=this._calculatePathsFrom({type:l,series:e,i:d,realIndex:f,translationsIndex:p,prevX:E,prevY:M,prevY2:O}),N=[m[0]],R=[b[0]],D={type:l,series:e,realIndex:f,translationsIndex:p,i:d,x:w,y:1,pX:T,pY:C,pathsFrom:P,linePaths:[],areaPaths:[],seriesIndex:n,lineYPosition:0,xArrj:y,yArrj:m,y2Arrj:b,seriesRangeEnd:r},V=this._iterateOverDataPoints(be(be({},D),{},{iterations:l==="rangeArea"?e[d].length-1:void 0,isRangeStart:!0}));if(l==="rangeArea"){for(var q=this._calculatePathsFrom({series:r,i:d,realIndex:f,prevX:E,prevY:O}),re=this._iterateOverDataPoints(be(be({},D),{},{series:r,xArrj:[w],yArrj:N,y2Arrj:R,pY:k,areaPaths:V.areaPaths,pathsFrom:q,iterations:r[d].length-1,isRangeStart:!1})),te=V.linePaths.length/2,ie=0;ie<te;ie++)V.linePaths[ie]=re.linePaths[ie+te]+V.linePaths[ie];V.linePaths.splice(te),V.pathFromLine=re.pathFromLine+V.pathFromLine}else V.pathFromArea+="z";this._handlePaths({type:l,realIndex:f,i:d,paths:V}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),h.push(this.elSeries)}if(((s=o.config.series[0])===null||s===void 0?void 0:s.zIndex)!==void 0&&h.sort(function(_e,ze){return Number(_e.node.getAttribute("zIndex"))-Number(ze.node.getAttribute("zIndex"))}),o.config.chart.stacked)for(var se=h.length-1;se>=0;se--)c.add(h[se]);else for(var ve=0;ve<h.length;ve++)c.add(h[ve]);return c}},{key:"_initSerieVariables",value:function(e,t,n){var r=this.w,s=new ae(this.ctx);this.xDivision=r.globals.gridWidth/(r.globals.dataPoints-(r.config.xaxis.tickPlacement==="on"?1:0)),this.strokeWidth=Array.isArray(r.config.stroke.width)?r.config.stroke.width[n]:r.config.stroke.width;var o=0;if(this.yRatio.length>1&&(this.yaxisIndex=r.globals.seriesYAxisReverseMap[n],o=n),this.isReversed=r.config.yaxis[this.yaxisIndex]&&r.config.yaxis[this.yaxisIndex].reversed,this.zeroY=r.globals.gridHeight-this.baseLineY[o]-(this.isReversed?r.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[o]:0),this.areaBottomY=this.zeroY,(this.zeroY>r.globals.gridHeight||r.config.plotOptions.area.fillTo==="end")&&(this.areaBottomY=r.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=s.group({class:"apexcharts-series",zIndex:r.config.series[n].zIndex!==void 0?r.config.series[n].zIndex:n,seriesName:H.escapeString(r.globals.seriesNames[n])}),this.elPointsMain=s.group({class:"apexcharts-series-markers-wrap","data:realIndex":n}),r.globals.hasNullValues){var a=this.markers.plotChartMarkers({pointsPos:{x:[0],y:[r.globals.gridHeight+r.globals.markers.largestSize]},seriesIndex:t,j:0,pSize:.1,alwaysDrawMarker:!0,isVirtualPoint:!0});a!==null&&this.elPointsMain.add(a)}this.elDataLabelsWrap=s.group({class:"apexcharts-datalabels","data:realIndex":n});var l=e[t].length===r.globals.dataPoints;this.elSeries.attr({"data:longestSeries":l,rel:t+1,"data:realIndex":n}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(e){var t,n,r,s,o=e.type,a=e.series,l=e.i,c=e.realIndex,u=e.translationsIndex,h=e.prevX,d=e.prevY,f=e.prevY2,p=this.w,m=new ae(this.ctx);if(a[l][0]===null){for(var b=0;b<a[l].length;b++)if(a[l][b]!==null){h=this.xDivision*b,d=this.zeroY-a[l][b]/this.yRatio[u],t=m.move(h,d),n=m.move(h,this.areaBottomY);break}}else t=m.move(h,d),o==="rangeArea"&&(t=m.move(h,f)+m.line(h,d)),n=m.move(h,this.areaBottomY)+m.line(h,d);if(r=m.move(0,this.areaBottomY)+m.line(0,this.areaBottomY),s=m.move(0,this.areaBottomY)+m.line(0,this.areaBottomY),p.globals.previousPaths.length>0){var y=this.lineHelpers.checkPreviousPaths({pathFromLine:r,pathFromArea:s,realIndex:c});r=y.pathFromLine,s=y.pathFromArea}return{prevX:h,prevY:d,linePath:t,areaPath:n,pathFromLine:r,pathFromArea:s}}},{key:"_handlePaths",value:function(e){var t=e.type,n=e.realIndex,r=e.i,s=e.paths,o=this.w,a=new ae(this.ctx),l=new Pi(this.ctx);this.prevSeriesY.push(s.yArrj),o.globals.seriesXvalues[n]=s.xArrj,o.globals.seriesYvalues[n]=s.yArrj;var c=o.config.forecastDataPoints;if(c.count>0&&t!=="rangeArea"){var u=o.globals.seriesXvalues[n][o.globals.seriesXvalues[n].length-c.count-1],h=a.drawRect(u,0,o.globals.gridWidth,o.globals.gridHeight,0);o.globals.dom.elForecastMask.appendChild(h.node);var d=a.drawRect(0,0,u,o.globals.gridHeight,0);o.globals.dom.elNonForecastMask.appendChild(d.node)}this.pointsChart||o.globals.delayedElements.push({el:this.elPointsMain.node,index:n});var f={i:r,realIndex:n,animationDelay:r,initialSpeed:o.config.chart.animations.speed,dataChangeSpeed:o.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(t)};if(t==="area")for(var p=l.fillPath({seriesNumber:n}),m=0;m<s.areaPaths.length;m++){var b=a.renderPaths(be(be({},f),{},{pathFrom:s.pathFromArea,pathTo:s.areaPaths[m],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:p}));this.elSeries.add(b)}if(o.config.stroke.show&&!this.pointsChart){var y=null;if(t==="line")y=l.fillPath({seriesNumber:n,i:r});else if(o.config.stroke.fill.type==="solid")y=o.globals.stroke.colors[n];else{var w=o.config.fill;o.config.fill=o.config.stroke.fill,y=l.fillPath({seriesNumber:n,i:r}),o.config.fill=w}for(var C=0;C<s.linePaths.length;C++){var T=y;t==="rangeArea"&&(T=l.fillPath({seriesNumber:n}));var k=be(be({},f),{},{pathFrom:s.pathFromLine,pathTo:s.linePaths[C],stroke:y,strokeWidth:this.strokeWidth,strokeLineCap:o.config.stroke.lineCap,fill:t==="rangeArea"?T:"none"}),E=a.renderPaths(k);if(this.elSeries.add(E),E.attr("fill-rule","evenodd"),c.count>0&&t!=="rangeArea"){var M=a.renderPaths(k);M.node.setAttribute("stroke-dasharray",c.dashArray),c.strokeWidth&&M.node.setAttribute("stroke-width",c.strokeWidth),this.elSeries.add(M),M.attr("clip-path","url(#forecastMask".concat(o.globals.cuid,")")),E.attr("clip-path","url(#nonForecastMask".concat(o.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(e){var t,n,r=this,s=e.type,o=e.series,a=e.iterations,l=e.realIndex,c=e.translationsIndex,u=e.i,h=e.x,d=e.y,f=e.pX,p=e.pY,m=e.pathsFrom,b=e.linePaths,y=e.areaPaths,w=e.seriesIndex,C=e.lineYPosition,T=e.xArrj,k=e.yArrj,E=e.y2Arrj,M=e.isRangeStart,O=e.seriesRangeEnd,P=this.w,N=new ae(this.ctx),R=this.yRatio,D=m.prevY,V=m.linePath,q=m.areaPath,re=m.pathFromLine,te=m.pathFromArea,ie=H.isNumber(P.globals.minYArr[l])?P.globals.minYArr[l]:P.globals.minY;a||(a=P.globals.dataPoints>1?P.globals.dataPoints-1:P.globals.dataPoints);var se=function(Ae,Rt){return Rt-Ae/R[c]+2*(r.isReversed?Ae/R[c]:0)},ve=d,_e=P.config.chart.stacked&&!P.globals.comboCharts||P.config.chart.stacked&&P.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||((t=this.w.config.series[l])===null||t===void 0?void 0:t.type)==="bar"||((n=this.w.config.series[l])===null||n===void 0?void 0:n.type)==="column"),ze=P.config.stroke.curve;Array.isArray(ze)&&(ze=Array.isArray(w)?ze[w[u]]:ze[u]);for(var nt,lt=0,Ue=0;Ue<a&&o[u].length!==0;Ue++){var Lt=o[u][Ue+1]===void 0||o[u][Ue+1]===null;if(P.globals.isXNumeric){var Je=P.globals.seriesX[l][Ue+1];P.globals.seriesX[l][Ue+1]===void 0&&(Je=P.globals.seriesX[l][a-1]),h=(Je-P.globals.minX)/this.xRatio}else h+=this.xDivision;_e?u>0&&P.globals.collapsedSeries.length<P.config.series.length-1?C=this.prevSeriesY[function(Ae){for(var Rt=Ae;Rt>0;Rt--){if(!(P.globals.collapsedSeriesIndices.indexOf((w==null?void 0:w[Rt])||Rt)>-1))return Rt;Rt--}return 0}(u-1)][Ue+1]:C=this.zeroY:C=this.zeroY,Lt?d=se(ie,C):(d=se(o[u][Ue+1],C),s==="rangeArea"&&(ve=se(O[u][Ue+1],C))),T.push(o[u][Ue+1]===null?null:h),!Lt||P.config.stroke.curve!=="smooth"&&P.config.stroke.curve!=="monotoneCubic"?(k.push(d),E.push(ve)):(k.push(null),E.push(null));var Ge=this.lineHelpers.calculatePoints({series:o,x:h,y:d,realIndex:l,i:u,j:Ue,prevY:D}),ut=this._createPaths({type:s,series:o,i:u,realIndex:l,j:Ue,x:h,y:d,y2:ve,xArrj:T,yArrj:k,y2Arrj:E,pX:f,pY:p,pathState:lt,segmentStartX:nt,linePath:V,areaPath:q,linePaths:b,areaPaths:y,curve:ze,isRangeStart:M});y=ut.areaPaths,b=ut.linePaths,f=ut.pX,p=ut.pY,lt=ut.pathState,nt=ut.segmentStartX,q=ut.areaPath,V=ut.linePath,!this.appendPathFrom||P.globals.hasNullValues||ze==="monotoneCubic"&&s==="rangeArea"||(re+=N.line(h,this.areaBottomY),te+=N.line(h,this.areaBottomY)),this.handleNullDataPoints(o,Ge,u,Ue,l),this._handleMarkersAndLabels({type:s,pointsPos:Ge,i:u,j:Ue,realIndex:l,isRangeStart:M})}return{yArrj:k,xArrj:T,pathFromArea:te,areaPaths:y,pathFromLine:re,linePaths:b,linePath:V,areaPath:q}}},{key:"_handleMarkersAndLabels",value:function(e){var t=e.type,n=e.pointsPos,r=e.isRangeStart,s=e.i,o=e.j,a=e.realIndex,l=this.w,c=new Po(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,o,{realIndex:a,pointsPos:n,zRatio:this.zRatio,elParent:this.elPointsMain});else{l.globals.series[s].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var u=this.markers.plotChartMarkers({pointsPos:n,seriesIndex:a,j:o+1});u!==null&&this.elPointsMain.add(u)}var h=c.drawDataLabel({type:t,isRangeStart:r,pos:n,i:a,j:o+1});h!==null&&this.elDataLabelsWrap.add(h)}},{key:"_createPaths",value:function(e){var t=e.type,n=e.series,r=e.i;e.realIndex;var s,o=e.j,a=e.x,l=e.y,c=e.xArrj,u=e.yArrj,h=e.y2,d=e.y2Arrj,f=e.pX,p=e.pY,m=e.pathState,b=e.segmentStartX,y=e.linePath,w=e.areaPath,C=e.linePaths,T=e.areaPaths,k=e.curve,E=e.isRangeStart,M=new ae(this.ctx),O=this.areaBottomY,P=t==="rangeArea",N=t==="rangeArea"&&E;switch(k){case"monotoneCubic":var R=E?u:d;switch(m){case 0:if(R[o+1]===null)break;m=1;case 1:if(!(P?c.length===n[r].length:o===n[r].length-2))break;case 2:var D=E?c:c.slice().reverse(),V=E?R:R.slice().reverse(),q=(s=V,D.map(function(Je,Ge){return[Je,s[Ge]]}).filter(function(Je){return Je[1]!==null})),re=q.length>1?rT(q):q,te=[];P&&(N?T=q:te=T.reverse());var ie=0,se=0;if(function(Je,Ge){for(var ut=function(pt){var _=[],B=0;return pt.forEach(function(ne){ne!==null?B++:B>0&&(_.push(B),B=0)}),B>0&&_.push(B),_}(Je),Ae=[],Rt=0,_t=0;Rt<ut.length;_t+=ut[Rt++])Ae[Rt]=sT(Ge,_t,_t+ut[Rt]);return Ae}(V,re).forEach(function(Je){ie++;var Ge=function(Rt){for(var _t="",pt=0;pt<Rt.length;pt++){var _=Rt[pt],B=_.length;B>4?(_t+="C".concat(_[0],", ").concat(_[1]),_t+=", ".concat(_[2],", ").concat(_[3]),_t+=", ".concat(_[4],", ").concat(_[5])):B>2&&(_t+="S".concat(_[0],", ").concat(_[1]),_t+=", ".concat(_[2],", ").concat(_[3]))}return _t}(Je),ut=se,Ae=(se+=Je.length)-1;N?y=M.move(q[ut][0],q[ut][1])+Ge:P?y=M.move(te[ut][0],te[ut][1])+M.line(q[ut][0],q[ut][1])+Ge+M.line(te[Ae][0],te[Ae][1]):(y=M.move(q[ut][0],q[ut][1])+Ge,w=y+M.line(q[Ae][0],O)+M.line(q[ut][0],O)+"z",T.push(w)),C.push(y)}),P&&ie>1&&!N){var ve=C.slice(ie).reverse();C.splice(ie),ve.forEach(function(Je){return C.push(Je)})}m=0}break;case"smooth":var _e=.35*(a-f);if(n[r][o]===null)m=0;else switch(m){case 0:if(b=f,y=N?M.move(f,d[o])+M.line(f,p):M.move(f,p),w=M.move(f,p),n[r][o+1]===null||n[r][o+1]===void 0){C.push(y),T.push(w);break}if(m=1,o<n[r].length-2){var ze=M.curve(f+_e,p,a-_e,l,a,l);y+=ze,w+=ze;break}case 1:if(n[r][o+1]===null)y+=N?M.line(f,h):M.move(f,p),w+=M.line(f,O)+M.line(b,O)+"z",C.push(y),T.push(w),m=-1;else{var nt=M.curve(f+_e,p,a-_e,l,a,l);y+=nt,w+=nt,o>=n[r].length-2&&(N&&(y+=M.curve(a,l,a,l,a,h)+M.move(a,h)),w+=M.curve(a,l,a,l,a,O)+M.line(b,O)+"z",C.push(y),T.push(w),m=-1)}}f=a,p=l;break;default:var lt=function(Je,Ge,ut){var Ae=[];switch(Je){case"stepline":Ae=M.line(Ge,null,"H")+M.line(null,ut,"V");break;case"linestep":Ae=M.line(null,ut,"V")+M.line(Ge,null,"H");break;case"straight":Ae=M.line(Ge,ut)}return Ae};if(n[r][o]===null)m=0;else switch(m){case 0:if(b=f,y=N?M.move(f,d[o])+M.line(f,p):M.move(f,p),w=M.move(f,p),n[r][o+1]===null||n[r][o+1]===void 0){C.push(y),T.push(w);break}if(m=1,o<n[r].length-2){var Ue=lt(k,a,l);y+=Ue,w+=Ue;break}case 1:if(n[r][o+1]===null)y+=N?M.line(f,h):M.move(f,p),w+=M.line(f,O)+M.line(b,O)+"z",C.push(y),T.push(w),m=-1;else{var Lt=lt(k,a,l);y+=Lt,w+=Lt,o>=n[r].length-2&&(N&&(y+=M.line(a,h)),w+=M.line(a,O)+M.line(b,O)+"z",C.push(y),T.push(w),m=-1)}}f=a,p=l}return{linePaths:C,areaPaths:T,pX:f,pY:p,pathState:m,segmentStartX:b,linePath:y,areaPath:w}}},{key:"handleNullDataPoints",value:function(e,t,n,r,s){var o=this.w;if(e[n][r]===null&&o.config.markers.showNullDataPoints||e[n].length===1){var a=this.strokeWidth-o.config.markers.strokeWidth/2;a>0||(a=0);var l=this.markers.plotChartMarkers({pointsPos:t,seriesIndex:s,j:r+1,pSize:a,alwaysDrawMarker:!0});l!==null&&this.elPointsMain.add(l)}}}]),i}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function i(a,l,c,u){this.xoffset=a,this.yoffset=l,this.height=u,this.width=c,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(h){var d,f=[],p=this.xoffset,m=this.yoffset,b=s(h)/this.height,y=s(h)/this.width;if(this.width>=this.height)for(d=0;d<h.length;d++)f.push([p,m,p+b,m+h[d]/b]),m+=h[d]/b;else for(d=0;d<h.length;d++)f.push([p,m,p+h[d]/y,m+y]),p+=h[d]/y;return f},this.cutArea=function(h){var d;if(this.width>=this.height){var f=h/this.height,p=this.width-f;d=new i(this.xoffset+f,this.yoffset,p,this.height)}else{var m=h/this.width,b=this.height-m;d=new i(this.xoffset,this.yoffset+m,this.width,b)}return d}}function e(a,l,c,u,h){u=u===void 0?0:u,h=h===void 0?0:h;var d=t(function(f,p){var m,b=[],y=p/s(f);for(m=0;m<f.length;m++)b[m]=f[m]*y;return b}(a,l*c),[],new i(u,h,l,c),[]);return function(f){var p,m,b=[];for(p=0;p<f.length;p++)for(m=0;m<f[p].length;m++)b.push(f[p][m]);return b}(d)}function t(a,l,c,u){var h,d,f;if(a.length!==0)return h=c.shortestEdge(),function(p,m,b){var y;if(p.length===0)return!0;(y=p.slice()).push(m);var w=n(p,b),C=n(y,b);return w>=C}(l,d=a[0],h)?(l.push(d),t(a.slice(1),l,c,u)):(f=c.cutArea(s(l),u),u.push(c.getCoordinates(l)),t(a,[],f,u)),u;u.push(c.getCoordinates(l))}function n(a,l){var c=Math.min.apply(Math,a),u=Math.max.apply(Math,a),h=s(a);return Math.max(Math.pow(l,2)*u/Math.pow(h,2),Math.pow(h,2)/(Math.pow(l,2)*c))}function r(a){return a&&a.constructor===Array}function s(a){var l,c=0;for(l=0;l<a.length;l++)c+=a[l];return c}function o(a){var l,c=0;if(r(a[0]))for(l=0;l<a.length;l++)c+=o(a[l]);else c=s(a);return c}return function a(l,c,u,h,d){h=h===void 0?0:h,d=d===void 0?0:d;var f,p,m=[],b=[];if(r(l[0])){for(p=0;p<l.length;p++)m[p]=o(l[p]);for(f=e(m,c,u,h,d),p=0;p<l.length;p++)b.push(a(l[p],f[p][2]-f[p][0],f[p][3]-f[p][1],f[p][0],f[p][1]))}else b=e(l,c,u,h,d);return b}}();var oT=function(){function i(e,t){Ee(this,i),this.ctx=e,this.w=e.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new _y(e),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return Oe(i,[{key:"draw",value:function(e){var t=this,n=this.w,r=new ae(this.ctx),s=new Pi(this.ctx),o=r.group({class:"apexcharts-treemap"});if(n.globals.noData)return o;var a=[];return e.forEach(function(l){var c=l.map(function(u){return Math.abs(u)});a.push(c)}),this.negRange=this.helpers.checkColorRange(),n.config.series.forEach(function(l,c){l.data.forEach(function(u){Array.isArray(t.labels[c])||(t.labels[c]=[]),t.labels[c].push(u.x)})}),window.TreemapSquared.generate(a,n.globals.gridWidth,n.globals.gridHeight).forEach(function(l,c){var u=r.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:H.escapeString(n.globals.seriesNames[c]),rel:c+1,"data:realIndex":c});if(n.config.chart.dropShadow.enabled){var h=n.config.chart.dropShadow;new fn(t.ctx).dropShadow(o,h,c)}var d=r.group({class:"apexcharts-data-labels"}),f={xMin:1/0,yMin:1/0,xMax:-1/0,yMax:-1/0};l.forEach(function(re,te){var ie=re[0],se=re[1],ve=re[2],_e=re[3];f.xMin=Math.min(f.xMin,ie),f.yMin=Math.min(f.yMin,se),f.xMax=Math.max(f.xMax,ve),f.yMax=Math.max(f.yMax,_e);var ze=t.helpers.getShadeColor(n.config.chart.type,c,te,t.negRange),nt=ze.color,lt=s.fillPath({color:nt,seriesNumber:c,dataPointIndex:te}),Ue=r.drawRect(ie,se,ve-ie,_e-se,n.config.plotOptions.treemap.borderRadius,"#fff",1,t.strokeWidth,n.config.plotOptions.treemap.useFillColorAsStroke?nt:n.globals.stroke.colors[c]);Ue.attr({cx:ie,cy:se,index:c,i:c,j:te,width:ve-ie,height:_e-se,fill:lt}),Ue.node.classList.add("apexcharts-treemap-rect"),t.helpers.addListeners(Ue);var Lt={x:ie+(ve-ie)/2,y:se+(_e-se)/2,width:0,height:0},Je={x:ie,y:se,width:ve-ie,height:_e-se};if(n.config.chart.animations.enabled&&!n.globals.dataChanged){var Ge=1;n.globals.resized||(Ge=n.config.chart.animations.speed),t.animateTreemap(Ue,Lt,Je,Ge)}if(n.globals.dataChanged){var ut=1;t.dynamicAnim.enabled&&n.globals.shouldAnimate&&(ut=t.dynamicAnim.speed,n.globals.previousPaths[c]&&n.globals.previousPaths[c][te]&&n.globals.previousPaths[c][te].rect&&(Lt=n.globals.previousPaths[c][te].rect),t.animateTreemap(Ue,Lt,Je,ut))}var Ae=t.getFontSize(re),Rt=n.config.dataLabels.formatter(t.labels[c][te],{value:n.globals.series[c][te],seriesIndex:c,dataPointIndex:te,w:n});n.config.plotOptions.treemap.dataLabels.format==="truncate"&&(Ae=parseInt(n.config.dataLabels.style.fontSize,10),Rt=t.truncateLabels(Rt,Ae,ie,se,ve,_e));var _t=null;n.globals.series[c][te]&&(_t=t.helpers.calculateDataLabels({text:Rt,x:(ie+ve)/2,y:(se+_e)/2+t.strokeWidth/2+Ae/3,i:c,j:te,colorProps:ze,fontSize:Ae,series:e})),n.config.dataLabels.enabled&&_t&&t.rotateToFitLabel(_t,Ae,Rt,ie,se,ve,_e),u.add(Ue),_t!==null&&u.add(_t)});var p=n.config.plotOptions.treemap.seriesTitle;if(n.config.series.length>1&&p&&p.show){var m=n.config.series[c].name||"";if(m&&f.xMin<1/0&&f.yMin<1/0){var b=p.offsetX,y=p.offsetY,w=p.borderColor,C=p.borderWidth,T=p.borderRadius,k=p.style,E=k.color||n.config.chart.foreColor,M={left:k.padding.left,right:k.padding.right,top:k.padding.top,bottom:k.padding.bottom},O=r.getTextRects(m,k.fontSize,k.fontFamily),P=O.width+M.left+M.right,N=O.height+M.top+M.bottom,R=f.xMin+(b||0),D=f.yMin+(y||0),V=r.drawRect(R,D,P,N,T,k.background,1,C,w),q=r.drawText({x:R+M.left,y:D+M.top+.75*O.height,text:m,fontSize:k.fontSize,fontFamily:k.fontFamily,fontWeight:k.fontWeight,foreColor:E,cssClass:k.cssClass||""});u.add(V),u.add(q)}}u.add(d),o.add(u)}),o}},{key:"getFontSize",value:function(e){var t=this.w,n=function r(s){var o,a=0;if(Array.isArray(s[0]))for(o=0;o<s.length;o++)a+=r(s[o]);else for(o=0;o<s.length;o++)a+=s[o].length;return a}(this.labels)/function r(s){var o,a=0;if(Array.isArray(s[0]))for(o=0;o<s.length;o++)a+=r(s[o]);else for(o=0;o<s.length;o++)a+=1;return a}(this.labels);return function(r,s){var o=r*s,a=Math.pow(o,.5);return Math.min(a/n,parseInt(t.config.dataLabels.style.fontSize,10))}(e[2]-e[0],e[3]-e[1])}},{key:"rotateToFitLabel",value:function(e,t,n,r,s,o,a){var l=new ae(this.ctx),c=l.getTextRects(n,t);if(c.width+this.w.config.stroke.width+5>o-r&&c.width<=a-s){var u=l.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(-90 ".concat(u.x," ").concat(u.y,") translate(").concat(c.height/3,")"))}}},{key:"truncateLabels",value:function(e,t,n,r,s,o){var a=new ae(this.ctx),l=a.getTextRects(e,t).width+this.w.config.stroke.width+5>s-n&&o-r>s-n?o-r:s-n,c=a.getTextBasedOnMaxWidth({text:e,maxWidth:l,fontSize:t});return e.length!==c.length&&l/t<5?"":c}},{key:"animateTreemap",value:function(e,t,n,r){var s=new ko(this.ctx);s.animateRect(e,t,n,r,function(){s.animationCompleted(e)})}}]),i}(),Fy=86400,aT=10/Fy,lT=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return Oe(i,[{key:"calculateTimeScaleTicks",value:function(e,t){var n=this,r=this.w;if(r.globals.allSeriesCollapsed)return r.globals.labels=[],r.globals.timescaleLabels=[],[];var s=new pn(this.ctx),o=(t-e)/864e5;this.determineInterval(o),r.globals.disableZoomIn=!1,r.globals.disableZoomOut=!1,o<aT?r.globals.disableZoomIn=!0:o>5e4&&(r.globals.disableZoomOut=!0);var a=s.getTimeUnitsfromTimestamp(e,t,this.utc),l=r.globals.gridWidth/o,c=l/24,u=c/60,h=u/60,d=Math.floor(24*o),f=Math.floor(1440*o),p=Math.floor(o*Fy),m=Math.floor(o),b=Math.floor(o/30),y=Math.floor(o/365),w={minMillisecond:a.minMillisecond,minSecond:a.minSecond,minMinute:a.minMinute,minHour:a.minHour,minDate:a.minDate,minMonth:a.minMonth,minYear:a.minYear},C={firstVal:w,currentMillisecond:w.minMillisecond,currentSecond:w.minSecond,currentMinute:w.minMinute,currentHour:w.minHour,currentMonthDate:w.minDate,currentDate:w.minDate,currentMonth:w.minMonth,currentYear:w.minYear,daysWidthOnXAxis:l,hoursWidthOnXAxis:c,minutesWidthOnXAxis:u,secondsWidthOnXAxis:h,numberOfSeconds:p,numberOfMinutes:f,numberOfHours:d,numberOfDays:m,numberOfMonths:b,numberOfYears:y};switch(this.tickInterval){case"years":this.generateYearScale(C);break;case"months":case"half_year":this.generateMonthScale(C);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(C);break;case"hours":this.generateHourScale(C);break;case"minutes_fives":case"minutes":this.generateMinuteScale(C);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(C)}var T=this.timeScaleArray.map(function(k){var E={position:k.position,unit:k.unit,year:k.year,day:k.day?k.day:1,hour:k.hour?k.hour:0,month:k.month+1};return k.unit==="month"?be(be({},E),{},{day:1,value:k.value+1}):k.unit==="day"||k.unit==="hour"?be(be({},E),{},{value:k.value}):k.unit==="minute"?be(be({},E),{},{value:k.value,minute:k.value}):k.unit==="second"?be(be({},E),{},{value:k.value,minute:k.minute,second:k.second}):k});return T.filter(function(k){var E=1,M=Math.ceil(r.globals.gridWidth/120),O=k.value;r.config.xaxis.tickAmount!==void 0&&(M=r.config.xaxis.tickAmount),T.length>M&&(E=Math.floor(T.length/M));var P=!1,N=!1;switch(n.tickInterval){case"years":k.unit==="year"&&(P=!0);break;case"half_year":E=7,k.unit==="year"&&(P=!0);break;case"months":E=1,k.unit==="year"&&(P=!0);break;case"months_fortnight":E=15,k.unit!=="year"&&k.unit!=="month"||(P=!0),O===30&&(N=!0);break;case"months_days":E=10,k.unit==="month"&&(P=!0),O===30&&(N=!0);break;case"week_days":E=8,k.unit==="month"&&(P=!0);break;case"days":E=1,k.unit==="month"&&(P=!0);break;case"hours":k.unit==="day"&&(P=!0);break;case"minutes_fives":case"seconds_fives":O%5!=0&&(N=!0);break;case"seconds_tens":O%10!=0&&(N=!0)}if(n.tickInterval==="hours"||n.tickInterval==="minutes_fives"||n.tickInterval==="seconds_tens"||n.tickInterval==="seconds_fives"){if(!N)return!0}else if((O%E==0||P)&&!N)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(e,t){var n=this.w,r=this.formatDates(e),s=this.removeOverlappingTS(r);n.globals.timescaleLabels=s.slice(),new $c(this.ctx).plotCoords()}},{key:"determineInterval",value:function(e){var t=24*e,n=60*t;switch(!0){case e/365>5:this.tickInterval="years";break;case e>800:this.tickInterval="half_year";break;case e>180:this.tickInterval="months";break;case e>90:this.tickInterval="months_fortnight";break;case e>60:this.tickInterval="months_days";break;case e>30:this.tickInterval="week_days";break;case e>2:this.tickInterval="days";break;case t>2.4:this.tickInterval="hours";break;case n>15:this.tickInterval="minutes_fives";break;case n>5:this.tickInterval="minutes";break;case n>1:this.tickInterval="seconds_tens";break;case 60*n>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(e){var t=e.firstVal,n=e.currentMonth,r=e.currentYear,s=e.daysWidthOnXAxis,o=e.numberOfYears,a=t.minYear,l=0,c=new pn(this.ctx),u="year";if(t.minDate>1||t.minMonth>0){var h=c.determineRemainingDaysOfYear(t.minYear,t.minMonth,t.minDate);l=(c.determineDaysOfYear(t.minYear)-h+1)*s,a=t.minYear+1,this.timeScaleArray.push({position:l,value:a,unit:u,year:a,month:H.monthMod(n+1)})}else t.minDate===1&&t.minMonth===0&&this.timeScaleArray.push({position:l,value:a,unit:u,year:r,month:H.monthMod(n+1)});for(var d=a,f=l,p=0;p<o;p++)d++,f=c.determineDaysOfYear(d-1)*s+f,this.timeScaleArray.push({position:f,value:d,unit:u,year:d,month:1})}},{key:"generateMonthScale",value:function(e){var t=e.firstVal,n=e.currentMonthDate,r=e.currentMonth,s=e.currentYear,o=e.daysWidthOnXAxis,a=e.numberOfMonths,l=r,c=0,u=new pn(this.ctx),h="month",d=0;if(t.minDate>1){c=(u.determineDaysOfMonths(r+1,t.minYear)-n+1)*o,l=H.monthMod(r+1);var f=s+d,p=H.monthMod(l),m=l;l===0&&(h="year",m=f,p=1,f+=d+=1),this.timeScaleArray.push({position:c,value:m,unit:h,year:f,month:p})}else this.timeScaleArray.push({position:c,value:l,unit:h,year:s,month:H.monthMod(r)});for(var b=l+1,y=c,w=0,C=1;w<a;w++,C++){(b=H.monthMod(b))===0?(h="year",d+=1):h="month";var T=this._getYear(s,b,d);y=u.determineDaysOfMonths(b,T)*o+y;var k=b===0?T:b;this.timeScaleArray.push({position:y,value:k,unit:h,year:T,month:b===0?1:b}),b++}}},{key:"generateDayScale",value:function(e){var t=e.firstVal,n=e.currentMonth,r=e.currentYear,s=e.hoursWidthOnXAxis,o=e.numberOfDays,a=new pn(this.ctx),l="day",c=t.minDate+1,u=c,h=function(C,T,k){return C>a.determineDaysOfMonths(T+1,k)&&(u=1,l="month",f=T+=1),T},d=(24-t.minHour)*s,f=c,p=h(u,n,r);t.minHour===0&&t.minDate===1?(d=0,f=H.monthMod(t.minMonth),l="month",u=t.minDate):t.minDate!==1&&t.minHour===0&&t.minMinute===0&&(d=0,c=t.minDate,f=c,p=h(u=c,n,r),f!==1&&(l="day")),this.timeScaleArray.push({position:d,value:f,unit:l,year:this._getYear(r,p,0),month:H.monthMod(p),day:u});for(var m=d,b=0;b<o;b++){l="day",p=h(u+=1,p,this._getYear(r,p,0));var y=this._getYear(r,p,0);m=24*s+m;var w=u===1?H.monthMod(p):u;this.timeScaleArray.push({position:m,value:w,unit:l,year:y,month:H.monthMod(p),day:w})}}},{key:"generateHourScale",value:function(e){var t=e.firstVal,n=e.currentDate,r=e.currentMonth,s=e.currentYear,o=e.minutesWidthOnXAxis,a=e.numberOfHours,l=new pn(this.ctx),c="hour",u=function(E,M){return E>l.determineDaysOfMonths(M+1,s)&&(b=1,M+=1),{month:M,date:b}},h=function(E,M){return E>l.determineDaysOfMonths(M+1,s)?M+=1:M},d=60-(t.minMinute+t.minSecond/60),f=d*o,p=t.minHour+1,m=p;d===60&&(f=0,m=p=t.minHour);var b=n;m>=24&&(m=0,c="day",p=b+=1);var y=u(b,r).month;y=h(b,y),p>31&&(p=b=1),this.timeScaleArray.push({position:f,value:p,unit:c,day:b,hour:m,year:s,month:H.monthMod(y)}),m++;for(var w=f,C=0;C<a;C++){c="hour",m>=24&&(m=0,c="day",y=u(b+=1,y).month,y=h(b,y));var T=this._getYear(s,y,0);w=60*o+w;var k=m===0?b:m;this.timeScaleArray.push({position:w,value:k,unit:c,hour:m,day:b,year:T,month:H.monthMod(y)}),m++}}},{key:"generateMinuteScale",value:function(e){for(var t=e.currentMillisecond,n=e.currentSecond,r=e.currentMinute,s=e.currentHour,o=e.currentDate,a=e.currentMonth,l=e.currentYear,c=e.minutesWidthOnXAxis,u=e.secondsWidthOnXAxis,h=e.numberOfMinutes,d=r+1,f=o,p=a,m=l,b=s,y=(60-n-t/1e3)*u,w=0;w<h;w++)d>=60&&(d=0,(b+=1)===24&&(b=0)),this.timeScaleArray.push({position:y,value:d,unit:"minute",hour:b,minute:d,day:f,year:this._getYear(m,p,0),month:H.monthMod(p)}),y+=c,d++}},{key:"generateSecondScale",value:function(e){for(var t=e.currentMillisecond,n=e.currentSecond,r=e.currentMinute,s=e.currentHour,o=e.currentDate,a=e.currentMonth,l=e.currentYear,c=e.secondsWidthOnXAxis,u=e.numberOfSeconds,h=n+1,d=r,f=o,p=a,m=l,b=s,y=(1e3-t)/1e3*c,w=0;w<u;w++)h>=60&&(h=0,++d>=60&&(d=0,++b===24&&(b=0))),this.timeScaleArray.push({position:y,value:h,unit:"second",hour:b,minute:d,second:h,day:f,year:this._getYear(m,p,0),month:H.monthMod(p)}),y+=c,h++}},{key:"createRawDateString",value:function(e,t){var n=e.year;return e.month===0&&(e.month=1),n+="-"+("0"+e.month.toString()).slice(-2),e.unit==="day"?n+=e.unit==="day"?"-"+("0"+t).slice(-2):"-01":n+="-"+("0"+(e.day?e.day:"1")).slice(-2),e.unit==="hour"?n+=e.unit==="hour"?"T"+("0"+t).slice(-2):"T00":n+="T"+("0"+(e.hour?e.hour:"0")).slice(-2),e.unit==="minute"?n+=":"+("0"+t).slice(-2):n+=":"+(e.minute?("0"+e.minute).slice(-2):"00"),e.unit==="second"?n+=":"+("0"+t).slice(-2):n+=":00",this.utc&&(n+=".000Z"),n}},{key:"formatDates",value:function(e){var t=this,n=this.w;return e.map(function(r){var s=r.value.toString(),o=new pn(t.ctx),a=t.createRawDateString(r,s),l=o.getDate(o.parseDate(a));if(t.utc||(l=o.getDate(o.parseDateWithTimezone(a))),n.config.xaxis.labels.format===void 0){var c="dd MMM",u=n.config.xaxis.labels.datetimeFormatter;r.unit==="year"&&(c=u.year),r.unit==="month"&&(c=u.month),r.unit==="day"&&(c=u.day),r.unit==="hour"&&(c=u.hour),r.unit==="minute"&&(c=u.minute),r.unit==="second"&&(c=u.second),s=o.formatDate(l,c)}else s=o.formatDate(l,n.config.xaxis.labels.format);return{dateString:a,position:r.position,value:s,unit:r.unit,year:r.year,month:r.month}})}},{key:"removeOverlappingTS",value:function(e){var t,n=this,r=new ae(this.ctx),s=!1;e.length>0&&e[0].value&&e.every(function(l){return l.value.length===e[0].value.length})&&(s=!0,t=r.getTextRects(e[0].value).width);var o=0,a=e.map(function(l,c){if(c>0&&n.w.config.xaxis.labels.hideOverlappingLabels){var u=s?t:r.getTextRects(e[o].value).width,h=e[o].position;return l.position>h+u+10?(o=c,l):null}return l});return a=a.filter(function(l){return l!==null})}},{key:"_getYear",value:function(e,t,n){return e+Math.floor(t/12)+n}}]),i}(),cT=function(){function i(e,t){Ee(this,i),this.ctx=t,this.w=t.w,this.el=e}return Oe(i,[{key:"setupElements",value:function(){var e=this.w,t=e.globals,n=e.config,r=n.chart.type;t.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(r),t.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(r),t.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(r)&&n.plotOptions.bar.horizontal,t.chartClass=".apexcharts".concat(t.chartID),t.dom.baseEl=this.el,t.dom.elWrap=document.createElement("div"),ae.setAttrs(t.dom.elWrap,{id:t.chartClass.substring(1),class:"apexcharts-canvas ".concat(t.chartClass.substring(1))}),this.el.appendChild(t.dom.elWrap),t.dom.Paper=window.SVG().addTo(t.dom.elWrap),t.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(n.chart.offsetX,", ").concat(n.chart.offsetY,")")}),t.dom.Paper.node.style.background=n.theme.mode!=="dark"||n.chart.background?n.theme.mode!=="light"||n.chart.background?n.chart.background:"#fff":"#424242",this.setSVGDimensions(),t.dom.elLegendForeign=document.createElementNS(t.SVGNS,"foreignObject"),ae.setAttrs(t.dom.elLegendForeign,{x:0,y:0,width:t.svgWidth,height:t.svgHeight}),t.dom.elLegendWrap=document.createElement("div"),t.dom.elLegendWrap.classList.add("apexcharts-legend"),t.dom.elWrap.appendChild(t.dom.elLegendWrap),t.dom.Paper.node.appendChild(t.dom.elLegendForeign),t.dom.elGraphical=t.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),t.dom.elDefs=t.dom.Paper.defs(),t.dom.Paper.add(t.dom.elGraphical),t.dom.elGraphical.add(t.dom.elDefs)}},{key:"plotChartType",value:function(e,t){var n=this.w,r=this.ctx,s=n.config,o=n.globals,a={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},bar:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},l=s.chart.type||"line",c=null,u=0;o.series.forEach(function(E,M){var O=e[M].type==="column"?"bar":e[M].type||(l==="column"?"bar":l);a[O]?(O==="rangeArea"?(a[O].series.push(o.seriesRangeStart[M]),a[O].seriesRangeEnd.push(o.seriesRangeEnd[M])):a[O].series.push(E),a[O].i.push(M),O==="bar"&&(n.globals.columnSeries=a.bar)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(O)?c=O:console.warn("You have specified an unrecognized series type (".concat(O,").")),l!==O&&O!=="scatter"&&u++}),u>0&&(c&&console.warn("Chart or series type ".concat(c," cannot appear with other chart or series types.")),a.bar.series.length>0&&s.plotOptions.bar.horizontal&&(u-=a.bar.series.length,a.bar={series:[],i:[]},n.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),o.comboCharts||(o.comboCharts=u>0);var h=new Lf(r,t),d=new If(r,t);r.pie=new Ny(r);var f=new eT(r);r.rangeBar=new tT(r,t);var p=new QM(r),m=[];if(o.comboCharts){var b,y,w=new Yt(r);if(a.area.series.length>0&&(b=m).push.apply(b,Zt(w.drawSeriesByGroup(a.area,o.areaGroups,"area",h))),a.bar.series.length>0)if(s.chart.stacked){var C=new Ry(r,t);m.push(C.draw(a.bar.series,a.bar.i))}else r.bar=new Lo(r,t),m.push(r.bar.draw(a.bar.series,a.bar.i));if(a.rangeArea.series.length>0&&m.push(h.draw(a.rangeArea.series,"rangeArea",a.rangeArea.i,a.rangeArea.seriesRangeEnd)),a.line.series.length>0&&(y=m).push.apply(y,Zt(w.drawSeriesByGroup(a.line,o.lineGroups,"line",h))),a.candlestick.series.length>0&&m.push(d.draw(a.candlestick.series,"candlestick",a.candlestick.i)),a.boxPlot.series.length>0&&m.push(d.draw(a.boxPlot.series,"boxPlot",a.boxPlot.i)),a.rangeBar.series.length>0&&m.push(r.rangeBar.draw(a.rangeBar.series,a.rangeBar.i)),a.scatter.series.length>0){var T=new Lf(r,t,!0);m.push(T.draw(a.scatter.series,"scatter",a.scatter.i))}if(a.bubble.series.length>0){var k=new Lf(r,t,!0);m.push(k.draw(a.bubble.series,"bubble",a.bubble.i))}}else switch(s.chart.type){case"line":m=h.draw(o.series,"line");break;case"area":m=h.draw(o.series,"area");break;case"bar":s.chart.stacked?m=new Ry(r,t).draw(o.series):(r.bar=new Lo(r,t),m=r.bar.draw(o.series));break;case"candlestick":m=new If(r,t).draw(o.series,"candlestick");break;case"boxPlot":m=new If(r,t).draw(o.series,s.chart.type);break;case"rangeBar":m=r.rangeBar.draw(o.series);break;case"rangeArea":m=h.draw(o.seriesRangeStart,"rangeArea",void 0,o.seriesRangeEnd);break;case"heatmap":m=new ZM(r,t).draw(o.series);break;case"treemap":m=new oT(r,t).draw(o.series);break;case"pie":case"donut":case"polarArea":m=r.pie.draw(o.series);break;case"radialBar":m=f.draw(o.series);break;case"radar":m=p.draw(o.series);break;default:m=h.draw(o.series)}return m}},{key:"setSVGDimensions",value:function(){var e=this.w,t=e.globals,n=e.config;n.chart.width=n.chart.width||"100%",n.chart.height=n.chart.height||"auto",t.svgWidth=n.chart.width,t.svgHeight=n.chart.height;var r=H.getDimensions(this.el),s=n.chart.width.toString().split(/[0-9]+/g).pop();s==="%"?H.isNumber(r[0])&&(r[0].width===0&&(r=H.getDimensions(this.el.parentNode)),t.svgWidth=r[0]*parseInt(n.chart.width,10)/100):s!=="px"&&s!==""||(t.svgWidth=parseInt(n.chart.width,10));var o=String(n.chart.height).toString().split(/[0-9]+/g).pop();if(t.svgHeight!=="auto"&&t.svgHeight!=="")if(o==="%"){var a=H.getDimensions(this.el.parentNode);t.svgHeight=a[1]*parseInt(n.chart.height,10)/100}else t.svgHeight=parseInt(n.chart.height,10);else t.svgHeight=t.axisCharts?t.svgWidth/1.61:t.svgWidth/1.2;if(t.svgWidth=Math.max(t.svgWidth,0),t.svgHeight=Math.max(t.svgHeight,0),ae.setAttrs(t.dom.Paper.node,{width:t.svgWidth,height:t.svgHeight}),o!=="%"){var l=n.chart.sparkline.enabled?0:t.axisCharts?n.chart.parentHeightOffset:0;t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(t.svgHeight+l,"px")}t.dom.elWrap.style.width="".concat(t.svgWidth,"px"),t.dom.elWrap.style.height="".concat(t.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var e=this.w.globals,t=e.translateY,n=e.translateX;ae.setAttrs(e.dom.elGraphical.node,{transform:"translate(".concat(n,", ").concat(t,")")})}},{key:"resizeNonAxisCharts",value:function(){var e=this.w,t=e.globals,n=0,r=e.config.chart.sparkline.enabled?1:15;r+=e.config.grid.padding.bottom,["top","bottom"].includes(e.config.legend.position)&&e.config.legend.show&&!e.config.legend.floating&&(n=new Ey(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var s=e.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),o=2.05*e.globals.radialSize;if(s&&!e.config.chart.sparkline.enabled&&e.config.plotOptions.radialBar.startAngle!==0){var a=H.getBoundingClientRect(s);o=a.bottom;var l=a.bottom-a.top;o=Math.max(2.05*e.globals.radialSize,l)}var c=Math.ceil(o+t.translateY+n+r);t.dom.elLegendForeign&&t.dom.elLegendForeign.setAttribute("height",c),e.config.chart.height&&String(e.config.chart.height).includes("%")||(t.dom.elWrap.style.height="".concat(c,"px"),ae.setAttrs(t.dom.Paper.node,{height:c}),t.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(c,"px"))}},{key:"coreCalculations",value:function(){new Tf(this.ctx).init()}},{key:"resetGlobals",value:function(){var e=this,t=function(){return e.w.config.series.map(function(){return[]})},n=new Cy,r=this.w.globals;n.initGlobalVars(r),r.seriesXvalues=t(),r.seriesYvalues=t()}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var e=this.w,t=null;if(e.globals.axisCharts){if(e.config.xaxis.crosshairs.position==="back"&&new Of(this.ctx).drawXCrosshairs(),e.config.yaxis[0].crosshairs.position==="back"&&new Of(this.ctx).drawYCrosshairs(),e.config.xaxis.type==="datetime"&&e.config.xaxis.labels.formatter===void 0){this.ctx.timeScale=new lT(this.ctx);var n=[];isFinite(e.globals.minX)&&isFinite(e.globals.maxX)&&!e.globals.isBarHorizontal?n=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minX,e.globals.maxX):e.globals.isBarHorizontal&&(n=this.ctx.timeScale.calculateTimeScaleTicks(e.globals.minY,e.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(n)}t=new Yt(this.ctx).getCalculatedRatios()}return t}},{key:"updateSourceChart",value:function(e){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:e.w.globals.minX,max:e.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var e=this,t=this.ctx,n=this.w;if(n.config.chart.brush.enabled&&typeof n.config.chart.events.selection!="function"){var r=Array.isArray(n.config.chart.brush.targets)?n.config.chart.brush.targets:[n.config.chart.brush.target];r.forEach(function(s){var o=t.constructor.getChartByID(s);o.w.globals.brushSource=e.ctx,typeof o.w.config.chart.events.zoomed!="function"&&(o.w.config.chart.events.zoomed=function(){return e.updateSourceChart(o)}),typeof o.w.config.chart.events.scrolled!="function"&&(o.w.config.chart.events.scrolled=function(){return e.updateSourceChart(o)})}),n.config.chart.events.selection=function(s,o){r.forEach(function(a){t.constructor.getChartByID(a).ctx.updateHelpers._updateOptions({xaxis:{min:o.xaxis.min,max:o.xaxis.max}},!1,!1,!1,!1)})}}}}]),i}(),uT=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"_updateOptions",value:function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],s=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],o=arguments.length>4&&arguments[4]!==void 0&&arguments[4];return new Promise(function(a){var l=[t.ctx];s&&(l=t.ctx.getSyncedCharts()),t.ctx.w.globals.isExecCalled&&(l=[t.ctx],t.ctx.w.globals.isExecCalled=!1),l.forEach(function(c,u){var h=c.w;if(h.globals.shouldAnimate=r,n||(h.globals.resized=!0,h.globals.dataChanged=!0,r&&c.series.getPreviousPaths()),e&&wo(e)==="object"&&(c.config=new qa(e),e=Yt.extendArrayProps(c.config,e,h),c.w.globals.chartID!==t.ctx.w.globals.chartID&&delete e.series,h.config=H.extend(h.config,e),o&&(h.globals.lastXAxis=e.xaxis?H.clone(e.xaxis):[],h.globals.lastYAxis=e.yaxis?H.clone(e.yaxis):[],h.globals.initialConfig=H.extend({},h.config),h.globals.initialSeries=H.clone(h.config.series),e.series))){for(var d=0;d<h.globals.collapsedSeriesIndices.length;d++){var f=h.config.series[h.globals.collapsedSeriesIndices[d]];h.globals.collapsedSeries[d].data=h.globals.axisCharts?f.data.slice():f}for(var p=0;p<h.globals.ancillaryCollapsedSeriesIndices.length;p++){var m=h.config.series[h.globals.ancillaryCollapsedSeriesIndices[p]];h.globals.ancillaryCollapsedSeries[p].data=h.globals.axisCharts?m.data.slice():m}c.series.emptyCollapsedSeries(h.config.series)}return c.update(e).then(function(){u===l.length-1&&a(c)})})})}},{key:"_updateSeries",value:function(e,t){var n=this,r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return new Promise(function(s){var o,a=n.w;return a.globals.shouldAnimate=t,a.globals.dataChanged=!0,t&&n.ctx.series.getPreviousPaths(),a.globals.axisCharts?((o=e.map(function(l,c){return n._extendSeries(l,c)})).length===0&&(o=[{data:[]}]),a.config.series=o):a.config.series=e.slice(),r&&(a.globals.initialConfig.series=H.clone(a.config.series),a.globals.initialSeries=H.clone(a.config.series)),n.ctx.update().then(function(){s(n.ctx)})})}},{key:"_extendSeries",value:function(e,t){var n=this.w,r=n.config.series[t];return be(be({},n.config.series[t]),{},{name:e.name?e.name:r==null?void 0:r.name,color:e.color?e.color:r==null?void 0:r.color,type:e.type?e.type:r==null?void 0:r.type,group:e.group?e.group:r==null?void 0:r.group,hidden:e.hidden!==void 0?e.hidden:r==null?void 0:r.hidden,data:e.data?e.data:r==null?void 0:r.data,zIndex:e.zIndex!==void 0?e.zIndex:t})}},{key:"toggleDataPointSelection",value:function(e,t){var n=this.w,r=null,s=".apexcharts-series[data\\:realIndex='".concat(e,"']");return n.globals.axisCharts?r=n.globals.dom.Paper.findOne("".concat(s," path[j='").concat(t,"'], ").concat(s," circle[j='").concat(t,"'], ").concat(s," rect[j='").concat(t,"']")):t===void 0&&(r=n.globals.dom.Paper.findOne("".concat(s," path[j='").concat(e,"']")),n.config.chart.type!=="pie"&&n.config.chart.type!=="polarArea"&&n.config.chart.type!=="donut"||this.ctx.pie.pieClicked(e)),r?(new ae(this.ctx).pathMouseDown(r,null),r.node?r.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(e){var t=this.w;if(["min","max"].forEach(function(r){e.xaxis[r]!==void 0&&(t.config.xaxis[r]=e.xaxis[r],t.globals.lastXAxis[r]=e.xaxis[r])}),e.xaxis.categories&&e.xaxis.categories.length&&(t.config.xaxis.categories=e.xaxis.categories),t.config.xaxis.convertedCatToNumeric){var n=new Ga(e);e=n.convertCatToNumericXaxis(e,this.ctx)}return e}},{key:"forceYAxisUpdate",value:function(e){return e.chart&&e.chart.stacked&&e.chart.stackType==="100%"&&(Array.isArray(e.yaxis)?e.yaxis.forEach(function(t,n){e.yaxis[n].min=0,e.yaxis[n].max=100}):(e.yaxis.min=0,e.yaxis.max=100)),e}},{key:"revertDefaultAxisMinMax",value:function(e){var t=this,n=this.w,r=n.globals.lastXAxis,s=n.globals.lastYAxis;e&&e.xaxis&&(r=e.xaxis),e&&e.yaxis&&(s=e.yaxis),n.config.xaxis.min=r.min,n.config.xaxis.max=r.max;var o=function(a){s[a]!==void 0&&(n.config.yaxis[a].min=s[a].min,n.config.yaxis[a].max=s[a].max)};n.config.yaxis.map(function(a,l){n.globals.zoomed||s[l]!==void 0?o(l):t.ctx.opts.yaxis[l]!==void 0&&(a.min=t.ctx.opts.yaxis[l].min,a.max=t.ctx.opts.yaxis[l].max)})}}]),i}();(function(){function i(){for(var s=arguments.length>0&&arguments[0]!==h?arguments[0]:[],o=arguments.length>1?arguments[1]:h,a=arguments.length>2?arguments[2]:h,l=arguments.length>3?arguments[3]:h,c=arguments.length>4?arguments[4]:h,u=arguments.length>5?arguments[5]:h,h=arguments.length>6?arguments[6]:h,d=s.slice(o,a||h),f=l.slice(c,u||h),p=0,m={pos:[0,0],start:[0,0]},b={pos:[0,0],start:[0,0]};d[p]=e.call(m,d[p]),f[p]=e.call(b,f[p]),d[p][0]!=f[p][0]||d[p][0]=="M"||d[p][0]=="A"&&(d[p][4]!=f[p][4]||d[p][5]!=f[p][5])?(Array.prototype.splice.apply(d,[p,1].concat(n.call(m,d[p]))),Array.prototype.splice.apply(f,[p,1].concat(n.call(b,f[p])))):(d[p]=t.call(m,d[p]),f[p]=t.call(b,f[p])),!(++p==d.length&&p==f.length);)p==d.length&&d.push(["C",m.pos[0],m.pos[1],m.pos[0],m.pos[1],m.pos[0],m.pos[1]]),p==f.length&&f.push(["C",b.pos[0],b.pos[1],b.pos[0],b.pos[1],b.pos[0],b.pos[1]]);return{start:d,dest:f}}function e(s){switch(s[0]){case"z":case"Z":s[0]="L",s[1]=this.start[0],s[2]=this.start[1];break;case"H":s[0]="L",s[2]=this.pos[1];break;case"V":s[0]="L",s[2]=s[1],s[1]=this.pos[0];break;case"T":s[0]="Q",s[3]=s[1],s[4]=s[2],s[1]=this.reflection[1],s[2]=this.reflection[0];break;case"S":s[0]="C",s[6]=s[4],s[5]=s[3],s[4]=s[2],s[3]=s[1],s[2]=this.reflection[1],s[1]=this.reflection[0]}return s}function t(s){var o=s.length;return this.pos=[s[o-2],s[o-1]],"SCQT".indexOf(s[0])!=-1&&(this.reflection=[2*this.pos[0]-s[o-4],2*this.pos[1]-s[o-3]]),s}function n(s){var o=[s];switch(s[0]){case"M":return this.pos=this.start=[s[1],s[2]],o;case"L":s[5]=s[3]=s[1],s[6]=s[4]=s[2],s[1]=this.pos[0],s[2]=this.pos[1];break;case"Q":s[6]=s[4],s[5]=s[3],s[4]=1*s[4]/3+2*s[2]/3,s[3]=1*s[3]/3+2*s[1]/3,s[2]=1*this.pos[1]/3+2*s[2]/3,s[1]=1*this.pos[0]/3+2*s[1]/3;break;case"A":o=function(a,l){var c,u,h,d,f,p,m,b,y,w,C,T,k,E,M,O,P,N,R,D,V,q,re,te,ie,se,ve=Math.abs(l[1]),_e=Math.abs(l[2]),ze=l[3]%360,nt=l[4],lt=l[5],Ue=l[6],Lt=l[7],Je=new St(a),Ge=new St(Ue,Lt),ut=[];if(ve===0||_e===0||Je.x===Ge.x&&Je.y===Ge.y)return[["C",Je.x,Je.y,Ge.x,Ge.y,Ge.x,Ge.y]];for(c=new St((Je.x-Ge.x)/2,(Je.y-Ge.y)/2).transform(new He().rotate(ze)),u=c.x*c.x/(ve*ve)+c.y*c.y/(_e*_e),u>1&&(ve*=u=Math.sqrt(u),_e*=u),h=new He().rotate(ze).scale(1/ve,1/_e).rotate(-ze),Je=Je.transform(h),Ge=Ge.transform(h),d=[Ge.x-Je.x,Ge.y-Je.y],p=d[0]*d[0]+d[1]*d[1],f=Math.sqrt(p),d[0]/=f,d[1]/=f,m=p<4?Math.sqrt(1-p/4):0,nt===lt&&(m*=-1),b=new St((Ge.x+Je.x)/2+m*-d[1],(Ge.y+Je.y)/2+m*d[0]),y=new St(Je.x-b.x,Je.y-b.y),w=new St(Ge.x-b.x,Ge.y-b.y),C=Math.acos(y.x/Math.sqrt(y.x*y.x+y.y*y.y)),y.y<0&&(C*=-1),T=Math.acos(w.x/Math.sqrt(w.x*w.x+w.y*w.y)),w.y<0&&(T*=-1),lt&&C>T&&(T+=2*Math.PI),!lt&&C<T&&(T-=2*Math.PI),E=Math.ceil(2*Math.abs(C-T)/Math.PI),O=[],P=C,k=(T-C)/E,M=4*Math.tan(k/4)/3,V=0;V<=E;V++)R=Math.cos(P),N=Math.sin(P),D=new St(b.x+R,b.y+N),O[V]=[new St(D.x+M*N,D.y-M*R),D,new St(D.x-M*N,D.y+M*R)],P+=k;for(O[0][0]=O[0][1].clone(),O[O.length-1][2]=O[O.length-1][1].clone(),h=new He().rotate(ze).scale(ve,_e).rotate(-ze),V=0,q=O.length;V<q;V++)O[V][0]=O[V][0].transform(h),O[V][1]=O[V][1].transform(h),O[V][2]=O[V][2].transform(h);for(V=1,q=O.length;V<q;V++)re=(D=O[V-1][2]).x,te=D.y,ie=(D=O[V][0]).x,se=D.y,Ue=(D=O[V][1]).x,Lt=D.y,ut.push(["C",re,te,ie,se,Ue,Lt]);return ut}(this.pos,s),s=o[0]}return s[0]="C",this.pos=[s[5],s[6]],this.reflection=[2*s[5]-s[3],2*s[6]-s[4]],o}function r(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=arguments.length>1?arguments[1]:void 0;if(o===!1)return!1;for(var a=o,l=s.length;a<l;++a)if(s[a][0]=="M")return a;return!1}je(Oi,{morph:function(s,o,a,l,c){for(var u=this.parse(s),h=this.parse(o),d=0,f=0,p=!1,m=!1;d!==!1||f!==!1;){var b;p=r(u,d!==!1&&d+1),m=r(h,f!==!1&&f+1),d===!1&&(d=(b=new Oi(y.start).bbox()).height==0||b.width==0?u.push(u[0])-1:u.push(["M",b.x+b.width/2,b.y+b.height/2])-1),f===!1&&(f=(b=new Oi(y.dest).bbox()).height==0||b.width==0?h.push(h[0])-1:h.push(["M",b.x+b.width/2,b.y+b.height/2])-1);var y=i(u,d,p,h,f,m);u=u.slice(0,d).concat(y.start,p===!1?[]:u.slice(p)),h=h.slice(0,f).concat(y.dest,m===!1?[]:h.slice(m)),d=p!==!1&&d+y.start.length,f=m!==!1&&f+y.dest.length}this._array=u,this.destination=new Oi,this.destination._array=h;var w=this.fromArray(u.map(function(C,T){var k=h[T].map(function(E,M){return M===0?E:l.step(C[M],h[T][M],a,c[T],c)});return k}));return w}})})();const zy=i=>(i.changedTouches&&(i=i.changedTouches[0]),{x:i.clientX,y:i.clientY});class hT{constructor(e){e.remember("_draggable",this),this.el=e,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(e){e?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(e){const t=!e.type.indexOf("mouse");if(t&&e.which!==1&&e.buttons!==0||this.el.dispatch("beforedrag",{event:e,handler:this}).defaultPrevented)return;e.preventDefault(),e.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(zy(e));const n=(t?"mouseup":"touchend")+".drag";mr(window,(t?"mousemove":"touchmove")+".drag",this.drag,this,{passive:!1}),mr(window,n,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:e,handler:this,box:this.box})}drag(e){const{box:t,lastClick:n}=this,r=this.el.point(zy(e)),s=r.x-n.x,o=r.y-n.y;if(!s&&!o)return t;const a=t.x+s,l=t.y+o;this.box=new Xt(a,l,t.w,t.h),this.lastClick=r,this.el.dispatch("dragmove",{event:e,handler:this,box:this.box}).defaultPrevented||this.move(a,l)}move(e,t){this.el.type==="svg"?zr.prototype.move.call(this.el,e,t):this.el.move(e,t)}endDrag(e){this.drag(e),this.el.fire("dragend",{event:e,handler:this,box:this.box}),fi(window,"mousemove.drag"),fi(window,"touchmove.drag"),fi(window,"mouseup.drag"),fi(window,"touchend.drag"),this.init(!0)}}/*!
  * @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
  * @version 4.0.1
  * https://github.com/svgdotjs/svg.select.js
  *
  * @copyright Ulrich-Matthias Schfer
  * @license MIT
  *
  * BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
  */function Rf(i,e,t,n=null){return function(r){r.preventDefault(),r.stopPropagation();var s=r.pageX||r.touches[0].pageX,o=r.pageY||r.touches[0].pageY;e.fire(i,{x:s,y:o,event:r,index:n,points:t})}}function _f([i,e],{a:t,b:n,c:r,d:s,e:o,f:a}){return[i*t+e*r+o,i*n+e*s+a]}je(dn,{draggable(i=!0){return(this.remember("_draggable")||new hT(this)).init(i),this}});let By=class{constructor(e){this.el=e,e.remember("_selectHandler",this),this.selection=new zr,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const t=za();this.observer=new t.MutationObserver(this.mutationHandler)}init(e){this.createHandle=e.createHandle||this.createHandleFn,this.createRot=e.createRot||this.createRotFn,this.updateHandle=e.updateHandle||this.updateHandleFn,this.updateRot=e.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(e,t){if(!e)return this.selection.clear().remove(),void this.observer.disconnect();this.init(t)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((e,t,n)=>{const r=this.order[t];this.createHandle.call(this,this.selection,e,t,n,r),this.selection.get(t+1).addClass("svg_select_handle svg_select_handle_"+r).on("mousedown.selection touchstart.selection",Rf(r,this.el,this.handlePoints,t))})}createHandleFn(e){e.polyline()}updateHandleFn(e,t,n,r){const s=r.at(n-1),o=r[(n+1)%r.length],a=t,l=[a[0]-s[0],a[1]-s[1]],c=[a[0]-o[0],a[1]-o[1]],u=Math.sqrt(l[0]*l[0]+l[1]*l[1]),h=Math.sqrt(c[0]*c[0]+c[1]*c[1]),d=[l[0]/u,l[1]/u],f=[c[0]/h,c[1]/h],p=[a[0]-10*d[0],a[1]-10*d[1]],m=[a[0]-10*f[0],a[1]-10*f[1]];e.plot([p,a,m])}updateResizeHandles(){this.handlePoints.forEach((e,t,n)=>{const r=this.order[t];this.updateHandle.call(this,this.selection.get(t+1),e,t,n,r)})}createRotFn(e){e.line(),e.circle(5)}getPoint(e){return this.handlePoints[this.order.indexOf(e)]}getPointHandle(e){return this.selection.get(this.order.indexOf(e)+1)}updateRotFn(e,t){const n=this.getPoint("t");e.get(0).plot(n[0],n[1],t[0],t[1]),e.get(1).center(t[0],t[1])}createRotationHandle(){const e=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",Rf("rot",this.el,this.handlePoints));this.createRot.call(this,e)}updateRotationHandle(){const e=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(e,this.rotationPoint,this.handlePoints)}updatePoints(){const e=this.el.bbox(),t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(e).map(n=>_f(n,t)),this.rotationPoint=_f(this.getRotationPoint(e),t)}getHandlePoints({x:e,x2:t,y:n,y2:r,cx:s,cy:o}=this.el.bbox()){return[[e,n],[s,n],[t,n],[t,o],[t,r],[s,r],[e,r],[e,o]]}getRotationPoint({y:e,cx:t}=this.el.bbox()){return[t,e-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}};const Hy=i=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let n=this.remember("_"+i.name);return n||(e.prototype instanceof By?(n=new e(this),e=!0):n=new i(this),this.remember("_"+i.name,n)),n.active(e,t),this};/*!
  * @svgdotjs/svg.resize.js - An extension for svg.js which allows to resize elements which are selected
  * @version 2.0.4
  * https://github.com/svgdotjs/svg.resize.js
  *
  * @copyright [object Object]
  * @license MIT
  *
  * BUILT: Fri Sep 13 2024 12:43:14 GMT+0200 (Central European Summer Time)
  *//*!
  * @svgdotjs/svg.select.js - An extension of svg.js which allows to select elements with mouse
  * @version 4.0.1
  * https://github.com/svgdotjs/svg.select.js
  *
  * @copyright Ulrich-Matthias Schfer
  * @license MIT
  *
  * BUILT: Mon Jul 01 2024 15:04:42 GMT+0200 (Central European Summer Time)
  */function Df(i,e,t,n=null){return function(r){r.preventDefault(),r.stopPropagation();var s=r.pageX||r.touches[0].pageX,o=r.pageY||r.touches[0].pageY;e.fire(i,{x:s,y:o,event:r,index:n,points:t})}}function Nf([i,e],{a:t,b:n,c:r,d:s,e:o,f:a}){return[i*t+e*r+o,i*n+e*s+a]}je(dn,{select:Hy(By)}),je([_s,Ds,Ps],{pointSelect:Hy(class{constructor(i){this.el=i,i.remember("_pointSelectHandler",this),this.selection=new zr,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=za();this.observer=new e.MutationObserver(this.mutationHandler)}init(i){this.createHandle=i.createHandle||this.createHandleFn,this.updateHandle=i.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(i,e){if(!i)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((i,e,t)=>{this.createHandle.call(this,this.selection,i,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",Rf("point",this.el,this.points,e))})}createHandleFn(i){i.circle(5)}updateHandleFn(i,e){i.center(e[0],e[1])}updatePointHandles(){this.points.forEach((i,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),i,e,t)})}updatePoints(){const i=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>_f(e,i))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});class Wy{constructor(e){this.el=e,e.remember("_selectHandler",this),this.selection=new zr,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const t=za();this.observer=new t.MutationObserver(this.mutationHandler)}init(e){this.createHandle=e.createHandle||this.createHandleFn,this.createRot=e.createRot||this.createRotFn,this.updateHandle=e.updateHandle||this.updateHandleFn,this.updateRot=e.updateRot||this.updateRotFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createResizeHandles(),this.updateResizeHandles(),this.createRotationHandle(),this.updateRotationHandle(),this.observer.observe(this.el.node,{attributes:!0})}active(e,t){if(!e)return this.selection.clear().remove(),void this.observer.disconnect();this.init(t)}createSelection(){this.selection.polygon(this.handlePoints).addClass("svg_select_shape")}updateSelection(){this.selection.get(0).plot(this.handlePoints)}createResizeHandles(){this.handlePoints.forEach((e,t,n)=>{const r=this.order[t];this.createHandle.call(this,this.selection,e,t,n,r),this.selection.get(t+1).addClass("svg_select_handle svg_select_handle_"+r).on("mousedown.selection touchstart.selection",Df(r,this.el,this.handlePoints,t))})}createHandleFn(e){e.polyline()}updateHandleFn(e,t,n,r){const s=r.at(n-1),o=r[(n+1)%r.length],a=t,l=[a[0]-s[0],a[1]-s[1]],c=[a[0]-o[0],a[1]-o[1]],u=Math.sqrt(l[0]*l[0]+l[1]*l[1]),h=Math.sqrt(c[0]*c[0]+c[1]*c[1]),d=[l[0]/u,l[1]/u],f=[c[0]/h,c[1]/h],p=[a[0]-10*d[0],a[1]-10*d[1]],m=[a[0]-10*f[0],a[1]-10*f[1]];e.plot([p,a,m])}updateResizeHandles(){this.handlePoints.forEach((e,t,n)=>{const r=this.order[t];this.updateHandle.call(this,this.selection.get(t+1),e,t,n,r)})}createRotFn(e){e.line(),e.circle(5)}getPoint(e){return this.handlePoints[this.order.indexOf(e)]}getPointHandle(e){return this.selection.get(this.order.indexOf(e)+1)}updateRotFn(e,t){const n=this.getPoint("t");e.get(0).plot(n[0],n[1],t[0],t[1]),e.get(1).center(t[0],t[1])}createRotationHandle(){const e=this.selection.group().addClass("svg_select_handle_rot").on("mousedown.selection touchstart.selection",Df("rot",this.el,this.handlePoints));this.createRot.call(this,e)}updateRotationHandle(){const e=this.selection.findOne("g.svg_select_handle_rot");this.updateRot(e,this.rotationPoint,this.handlePoints)}updatePoints(){const e=this.el.bbox(),t=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.handlePoints=this.getHandlePoints(e).map(n=>Nf(n,t)),this.rotationPoint=Nf(this.getRotationPoint(e),t)}getHandlePoints({x:e,x2:t,y:n,y2:r,cx:s,cy:o}=this.el.bbox()){return[[e,n],[s,n],[t,n],[t,o],[t,r],[s,r],[e,r],[e,o]]}getRotationPoint({y:e,cx:t}=this.el.bbox()){return[t,e-20]}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updateResizeHandles(),this.updateRotationHandle()}}const Xy=i=>function(e=!0,t={}){typeof e=="object"&&(t=e,e=!0);let n=this.remember("_"+i.name);return n||(e.prototype instanceof Wy?(n=new e(this),e=!0):n=new i(this),this.remember("_"+i.name,n)),n.active(e,t),this};je(dn,{select:Xy(Wy)}),je([_s,Ds,Ps],{pointSelect:Xy(class{constructor(i){this.el=i,i.remember("_pointSelectHandler",this),this.selection=new zr,this.order=["lt","t","rt","r","rb","b","lb","l","rot"],this.mutationHandler=this.mutationHandler.bind(this);const e=za();this.observer=new e.MutationObserver(this.mutationHandler)}init(i){this.createHandle=i.createHandle||this.createHandleFn,this.updateHandle=i.updateHandle||this.updateHandleFn,this.el.root().put(this.selection),this.updatePoints(),this.createSelection(),this.createPointHandles(),this.updatePointHandles(),this.observer.observe(this.el.node,{attributes:!0})}active(i,e){if(!i)return this.selection.clear().remove(),void this.observer.disconnect();this.init(e)}createSelection(){this.selection.polygon(this.points).addClass("svg_select_shape_pointSelect")}updateSelection(){this.selection.get(0).plot(this.points)}createPointHandles(){this.points.forEach((i,e,t)=>{this.createHandle.call(this,this.selection,i,e,t),this.selection.get(e+1).addClass("svg_select_handle_point").on("mousedown.selection touchstart.selection",Df("point",this.el,this.points,e))})}createHandleFn(i){i.circle(5)}updateHandleFn(i,e){i.center(e[0],e[1])}updatePointHandles(){this.points.forEach((i,e,t)=>{this.updateHandle.call(this,this.selection.get(e+1),i,e,t)})}updatePoints(){const i=this.el.parent().screenCTM().inverseO().multiplyO(this.el.screenCTM());this.points=this.el.array().map(e=>Nf(e,i))}mutationHandler(){this.updatePoints(),this.updateSelection(),this.updatePointHandles()}})});const Gc=i=>(i.changedTouches&&(i=i.changedTouches[0]),{x:i.clientX,y:i.clientY}),Yy=i=>{let e=1/0,t=1/0,n=-1/0,r=-1/0;for(let s=0;s<i.length;s++){const o=i[s];e=Math.min(e,o[0]),t=Math.min(t,o[1]),n=Math.max(n,o[0]),r=Math.max(r,o[1])}return new Xt(e,t,n-e,r-t)};class jy{constructor(e){this.el=e,e.remember("_ResizeHandler",this),this.lastCoordinates=null,this.eventType="",this.lastEvent=null,this.handleResize=this.handleResize.bind(this),this.resize=this.resize.bind(this),this.endResize=this.endResize.bind(this),this.rotate=this.rotate.bind(this),this.movePoint=this.movePoint.bind(this)}active(e,t){this.preserveAspectRatio=t.preserveAspectRatio??!1,this.aroundCenter=t.aroundCenter??!1,this.grid=t.grid??0,this.degree=t.degree??0,this.el.off(".resize"),e&&(this.el.on(["lt.resize","rt.resize","rb.resize","lb.resize","t.resize","r.resize","b.resize","l.resize","rot.resize","point.resize"],this.handleResize),this.lastEvent&&(this.eventType==="rot"?this.rotate(this.lastEvent):this.eventType==="point"?this.movePoint(this.lastEvent):this.resize(this.lastEvent)))}handleResize(e){this.eventType=e.type;const{event:t,index:n,points:r}=e.detail,s=!t.type.indexOf("mouse");if(s&&(t.which||t.buttons)!==1||this.el.dispatch("beforeresize",{event:e,handler:this}).defaultPrevented)return;this.box=this.el.bbox(),this.startPoint=this.el.point(Gc(t)),this.index=n,this.points=r.slice();const o=(s?"mousemove":"touchmove")+".resize",a=(s?"mouseup":"touchcancel.resize touchend")+".resize";e.type==="point"?mr(window,o,this.movePoint):e.type==="rot"?mr(window,o,this.rotate):mr(window,o,this.resize),mr(window,a,this.endResize)}resize(e){this.lastEvent=e;const t=this.snapToGrid(this.el.point(Gc(e)));let n=t.x-this.startPoint.x,r=t.y-this.startPoint.y;this.preserveAspectRatio&&this.aroundCenter&&(n*=2,r*=2);const s=this.box.x+n,o=this.box.y+r,a=this.box.x2+n,l=this.box.y2+r;let c=new Xt(this.box);if(this.eventType.includes("l")&&(c.x=Math.min(s,this.box.x2),c.x2=Math.max(s,this.box.x2)),this.eventType.includes("r")&&(c.x=Math.min(a,this.box.x),c.x2=Math.max(a,this.box.x)),this.eventType.includes("t")&&(c.y=Math.min(o,this.box.y2),c.y2=Math.max(o,this.box.y2)),this.eventType.includes("b")&&(c.y=Math.min(l,this.box.y),c.y2=Math.max(l,this.box.y)),c.width=c.x2-c.x,c.height=c.y2-c.y,this.preserveAspectRatio){const u=c.width/this.box.width,h=c.height/this.box.height,d=["lt","t","rt","r","rb","b","lb","l"],f=(d.indexOf(this.eventType)+4)%d.length,p=this.aroundCenter?[this.box.cx,this.box.cy]:this.points[f];let m=this.eventType.includes("t")||this.eventType.includes("b")?h:u;m=this.eventType.length===2?Math.max(u,h):m,c=function(b,y,w){const C=[[b.x,b.y],[b.x+b.width,b.y],[b.x+b.width,b.y+b.height],[b.x,b.y+b.height]].map(([T,k])=>{const E=T-y[0],M=(k-y[1])*w;return[E*w+y[0],M+y[1]]});return Yy(C)}(this.box,p,m)}this.el.dispatch("resize",{box:new Xt(c),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.size(c.width,c.height).move(c.x,c.y)}movePoint(e){this.lastEvent=e;const{x:t,y:n}=this.snapToGrid(this.el.point(Gc(e))),r=this.el.array().slice();r[this.index]=[t,n],this.el.dispatch("resize",{box:Yy(r),angle:0,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.plot(r)}rotate(e){this.lastEvent=e;const t=this.startPoint,n=this.el.point(Gc(e)),{cx:r,cy:s}=this.box,o=t.x-r,a=t.y-s,l=n.x-r,c=n.y-s,u=Math.sqrt(o*o+a*a)*Math.sqrt(l*l+c*c);if(u===0)return;let h=Math.acos((o*l+a*c)/u)/Math.PI*180;if(!h)return;n.x<t.x&&(h=-h);const d=new He(this.el),{x:f,y:p}=new St(r,s).transformO(d),{rotate:m}=d.decompose(),b=this.snapToAngle(m+h)-m;this.el.dispatch("resize",{box:this.box,angle:b,eventType:this.eventType,event:e,handler:this}).defaultPrevented||this.el.transform(d.rotateO(b,f,p))}endResize(e){this.eventType!=="rot"&&this.eventType!=="point"&&this.resize(e),this.lastEvent=null,this.eventType="",fi(window,"mousemove.resize touchmove.resize"),fi(window,"mouseup.resize touchend.resize")}snapToGrid(e){return this.grid&&(e.x=Math.round(e.x/this.grid)*this.grid,e.y=Math.round(e.y/this.grid)*this.grid),e}snapToAngle(e){return this.degree&&(e=Math.round(e/this.degree)*this.degree),e}}je(dn,{resize:function(i=!0,e={}){typeof i=="object"&&(e=i,i=!0);let t=this.remember("_ResizeHandler");return t||(i.prototype instanceof jy?(t=new i(this),i=!0):t=new jy(this),this.remember("_resizeHandler",t)),t.active(i,e),this}}),window.SVG===void 0&&(window.SVG=TM),window.Apex===void 0&&(window.Apex={});var Vy=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new ko(this.ctx),this.ctx.axes=new NM(this.ctx),this.ctx.core=new cT(this.ctx.el,this.ctx),this.ctx.config=new qa({}),this.ctx.data=new Mf(this.ctx),this.ctx.grid=new My(this.ctx),this.ctx.graphics=new ae(this.ctx),this.ctx.coreUtils=new Yt(this.ctx),this.ctx.crosshairs=new Of(this.ctx),this.ctx.events=new _M(this.ctx),this.ctx.exports=new Ua(this.ctx),this.ctx.fill=new Pi(this.ctx),this.ctx.localization=new DM(this.ctx),this.ctx.options=new Ns,this.ctx.responsive=new FM(this.ctx),this.ctx.series=new gi(this.ctx),this.ctx.theme=new zM(this.ctx),this.ctx.formatters=new $a(this.ctx),this.ctx.titleSubtitle=new BM(this.ctx),this.ctx.legend=new Ey(this.ctx),this.ctx.toolbar=new Oy(this.ctx),this.ctx.tooltip=new Ly(this.ctx),this.ctx.dimensions=new $c(this.ctx),this.ctx.updateHelpers=new uT(this.ctx),this.ctx.zoomPanSelection=new VM(this.ctx),this.ctx.w.globals.tooltip=new Ly(this.ctx)}}]),i}(),$y=function(){function i(e){Ee(this,i),this.ctx=e,this.w=e.w}return Oe(i,[{key:"clear",value:function(e){var t=e.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:t})}},{key:"killSVG",value:function(e){e.each(function(){this.removeClass("*"),this.off()},!0),e.clear()}},{key:"clearDomElements",value:function(e){var t=this,n=e.isUpdating,r=this.w.globals.dom.Paper.node;r.parentNode&&r.parentNode.parentNode&&!n&&(r.parentNode.parentNode.style.minHeight="unset");var s=this.w.globals.dom.baseEl;s&&this.ctx.eventList.forEach(function(a){s.removeEventListener(a,t.ctx.events.documentEvent)});var o=this.w.globals.dom;if(this.ctx.el!==null)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(o.Paper),o.Paper.remove(),o.elWrap=null,o.elGraphical=null,o.elLegendWrap=null,o.elLegendForeign=null,o.baseEl=null,o.elGridRect=null,o.elGridRectMask=null,o.elGridRectBarMask=null,o.elGridRectMarkerMask=null,o.elForecastMask=null,o.elNonForecastMask=null,o.elDefs=null}}]),i}(),Ff=new WeakMap,Gy=function(){function i(e,t){Ee(this,i),this.opts=t,this.ctx=this,this.w=new RM(t).init(),this.el=e,this.w.globals.cuid=H.randomId(),this.w.globals.chartID=this.w.config.chart.id?H.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Vy(this).initModules(),this.create=H.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return Oe(i,[{key:"render",value:function(){var e=this;return new Promise(function(t,n){if(H.elementExists(e.el)){Apex._chartInstances===void 0&&(Apex._chartInstances=[]),e.w.config.chart.id&&Apex._chartInstances.push({id:e.w.globals.chartID,group:e.w.config.chart.group,chart:e}),e.setLocale(e.w.config.chart.defaultLocale);var r=e.w.config.chart.events.beforeMount;typeof r=="function"&&r(e,e.w),e.events.fireEvent("beforeMount",[e,e.w]),window.addEventListener("resize",e.windowResizeHandler),function(d,f){var p=!1;if(d.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var m=d.getBoundingClientRect();d.style.display!=="none"&&m.width!==0||(p=!0)}var b=new ResizeObserver(function(y){p&&f.call(d,y),p=!0});d.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(d.children).forEach(function(y){return b.observe(y)}):b.observe(d),Ff.set(f,b)}(e.el.parentNode,e.parentResizeHandler);var s=e.el.getRootNode&&e.el.getRootNode(),o=H.is("ShadowRoot",s),a=e.el.ownerDocument,l=o?s.getElementById("apexcharts-css"):a.getElementById("apexcharts-css");if(!l){var c;(l=document.createElement("style")).id="apexcharts-css",l.textContent=`@keyframes opaque {
    0% {
      opacity: 0
    }
  
    to {
      opacity: 1
    }
  }
  
  @keyframes resizeanim {
  
    0%,
    to {
      opacity: 0
    }
  }
  
  .apexcharts-canvas {
    position: relative;
    direction: ltr !important;
    user-select: none
  }
  
  .apexcharts-canvas ::-webkit-scrollbar {
    -webkit-appearance: none;
    width: 6px
  }
  
  .apexcharts-canvas ::-webkit-scrollbar-thumb {
    border-radius: 4px;
    background-color: rgba(0, 0, 0, .5);
    box-shadow: 0 0 1px rgba(255, 255, 255, .5);
    -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)
  }
  
  .apexcharts-inner {
    position: relative
  }
  
  .apexcharts-text tspan {
    font-family: inherit
  }
  
  rect.legend-mouseover-inactive,
  .legend-mouseover-inactive rect,
  .legend-mouseover-inactive path,
  .legend-mouseover-inactive circle,
  .legend-mouseover-inactive line,
  .legend-mouseover-inactive text.apexcharts-yaxis-title-text,
  .legend-mouseover-inactive text.apexcharts-yaxis-label {
    transition: .15s ease all;
    opacity: .2
  }
  
  .apexcharts-legend-text {
    padding-left: 15px;
    margin-left: -15px;
  }
  
  .apexcharts-series-collapsed {
    opacity: 0
  }
  
  .apexcharts-tooltip {
    border-radius: 5px;
    box-shadow: 2px 2px 6px -4px #999;
    cursor: default;
    font-size: 14px;
    left: 62px;
    opacity: 0;
    pointer-events: none;
    position: absolute;
    top: 20px;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    white-space: nowrap;
    z-index: 12;
    transition: .15s ease all
  }
  
  .apexcharts-tooltip.apexcharts-active {
    opacity: 1;
    transition: .15s ease all
  }
  
  .apexcharts-tooltip.apexcharts-theme-light {
    border: 1px solid #e3e3e3;
    background: rgba(255, 255, 255, .96)
  }
  
  .apexcharts-tooltip.apexcharts-theme-dark {
    color: #fff;
    background: rgba(30, 30, 30, .8)
  }
  
  .apexcharts-tooltip * {
    font-family: inherit
  }
  
  .apexcharts-tooltip-title {
    padding: 6px;
    font-size: 15px;
    margin-bottom: 4px
  }
  
  .apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {
    background: #eceff1;
    border-bottom: 1px solid #ddd
  }
  
  .apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {
    background: rgba(0, 0, 0, .7);
    border-bottom: 1px solid #333
  }
  
  .apexcharts-tooltip-text-goals-value,
  .apexcharts-tooltip-text-y-value,
  .apexcharts-tooltip-text-z-value {
    display: inline-block;
    margin-left: 5px;
    font-weight: 600
  }
  
  .apexcharts-tooltip-text-goals-label:empty,
  .apexcharts-tooltip-text-goals-value:empty,
  .apexcharts-tooltip-text-y-label:empty,
  .apexcharts-tooltip-text-y-value:empty,
  .apexcharts-tooltip-text-z-value:empty,
  .apexcharts-tooltip-title:empty {
    display: none
  }
  
  .apexcharts-tooltip-text-goals-label,
  .apexcharts-tooltip-text-goals-value {
    padding: 6px 0 5px
  }
  
  .apexcharts-tooltip-goals-group,
  .apexcharts-tooltip-text-goals-label,
  .apexcharts-tooltip-text-goals-value {
    display: flex
  }
  
  .apexcharts-tooltip-text-goals-label:not(:empty),
  .apexcharts-tooltip-text-goals-value:not(:empty) {
    margin-top: -6px
  }
  
  .apexcharts-tooltip-marker {
    display: inline-block;
    position: relative;
    width: 16px;
    height: 16px;
    font-size: 16px;
    line-height: 16px;
    margin-right: 4px;
    text-align: center;
    vertical-align: middle;
    color: inherit;
  }
  
  .apexcharts-tooltip-marker::before {
    content: "";
    display: inline-block;
    width: 100%;
    text-align: center;
    color: currentcolor;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    font-size: 26px;
    font-family: Arial, Helvetica, sans-serif;
    line-height: 14px;
    font-weight: 900;
  }
  
  .apexcharts-tooltip-marker[shape="circle"]::before {
    content: "\\25CF";
  }
  
  .apexcharts-tooltip-marker[shape="square"]::before,
  .apexcharts-tooltip-marker[shape="rect"]::before {
    content: "\\25A0";
    transform: translate(-1px, -2px);
  }
  
  .apexcharts-tooltip-marker[shape="line"]::before {
    content: "\\2500";
  }
  
  .apexcharts-tooltip-marker[shape="diamond"]::before {
    content: "\\25C6";
    font-size: 28px;
  }
  
  .apexcharts-tooltip-marker[shape="triangle"]::before {
    content: "\\25B2";
    font-size: 22px;
  }
  
  .apexcharts-tooltip-marker[shape="cross"]::before {
    content: "\\2715";
    font-size: 18px;
  }
  
  .apexcharts-tooltip-marker[shape="plus"]::before {
    content: "\\2715";
    transform: rotate(45deg) translate(-1px, -1px);
    font-size: 18px;
  }
  
  .apexcharts-tooltip-marker[shape="star"]::before {
    content: "\\2605";
    font-size: 18px;
  }
  
  .apexcharts-tooltip-marker[shape="sparkle"]::before {
    content: "\\2726";
    font-size: 20px;
  }
  
  .apexcharts-tooltip-series-group {
    padding: 0 10px;
    display: none;
    text-align: left;
    justify-content: left;
    align-items: center
  }
  
  .apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {
    opacity: 1
  }
  
  .apexcharts-tooltip-series-group.apexcharts-active,
  .apexcharts-tooltip-series-group:last-child {
    padding-bottom: 4px
  }
  
  .apexcharts-tooltip-y-group {
    padding: 6px 0 5px
  }
  
  .apexcharts-custom-tooltip,
  .apexcharts-tooltip-box {
    padding: 4px 8px
  }
  
  .apexcharts-tooltip-boxPlot {
    display: flex;
    flex-direction: column-reverse
  }
  
  .apexcharts-tooltip-box>div {
    margin: 4px 0
  }
  
  .apexcharts-tooltip-box span.value {
    font-weight: 700
  }
  
  .apexcharts-tooltip-rangebar {
    padding: 5px 8px
  }
  
  .apexcharts-tooltip-rangebar .category {
    font-weight: 600;
    color: #777
  }
  
  .apexcharts-tooltip-rangebar .series-name {
    font-weight: 700;
    display: block;
    margin-bottom: 5px
  }
  
  .apexcharts-xaxistooltip,
  .apexcharts-yaxistooltip {
    opacity: 0;
    pointer-events: none;
    color: #373d3f;
    font-size: 13px;
    text-align: center;
    border-radius: 2px;
    position: absolute;
    z-index: 10;
    background: #eceff1;
    border: 1px solid #90a4ae
  }
  
  .apexcharts-xaxistooltip {
    padding: 9px 10px;
    transition: .15s ease all
  }
  
  .apexcharts-xaxistooltip.apexcharts-theme-dark {
    background: rgba(0, 0, 0, .7);
    border: 1px solid rgba(0, 0, 0, .5);
    color: #fff
  }
  
  .apexcharts-xaxistooltip:after,
  .apexcharts-xaxistooltip:before {
    left: 50%;
    border: solid transparent;
    content: " ";
    height: 0;
    width: 0;
    position: absolute;
    pointer-events: none
  }
  
  .apexcharts-xaxistooltip:after {
    border-color: transparent;
    border-width: 6px;
    margin-left: -6px
  }
  
  .apexcharts-xaxistooltip:before {
    border-color: transparent;
    border-width: 7px;
    margin-left: -7px
  }
  
  .apexcharts-xaxistooltip-bottom:after,
  .apexcharts-xaxistooltip-bottom:before {
    bottom: 100%
  }
  
  .apexcharts-xaxistooltip-top:after,
  .apexcharts-xaxistooltip-top:before {
    top: 100%
  }
  
  .apexcharts-xaxistooltip-bottom:after {
    border-bottom-color: #eceff1
  }
  
  .apexcharts-xaxistooltip-bottom:before {
    border-bottom-color: #90a4ae
  }
  
  .apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,
  .apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {
    border-bottom-color: rgba(0, 0, 0, .5)
  }
  
  .apexcharts-xaxistooltip-top:after {
    border-top-color: #eceff1
  }
  
  .apexcharts-xaxistooltip-top:before {
    border-top-color: #90a4ae
  }
  
  .apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,
  .apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {
    border-top-color: rgba(0, 0, 0, .5)
  }
  
  .apexcharts-xaxistooltip.apexcharts-active {
    opacity: 1;
    transition: .15s ease all
  }
  
  .apexcharts-yaxistooltip {
    padding: 4px 10px
  }
  
  .apexcharts-yaxistooltip.apexcharts-theme-dark {
    background: rgba(0, 0, 0, .7);
    border: 1px solid rgba(0, 0, 0, .5);
    color: #fff
  }
  
  .apexcharts-yaxistooltip:after,
  .apexcharts-yaxistooltip:before {
    top: 50%;
    border: solid transparent;
    content: " ";
    height: 0;
    width: 0;
    position: absolute;
    pointer-events: none
  }
  
  .apexcharts-yaxistooltip:after {
    border-color: transparent;
    border-width: 6px;
    margin-top: -6px
  }
  
  .apexcharts-yaxistooltip:before {
    border-color: transparent;
    border-width: 7px;
    margin-top: -7px
  }
  
  .apexcharts-yaxistooltip-left:after,
  .apexcharts-yaxistooltip-left:before {
    left: 100%
  }
  
  .apexcharts-yaxistooltip-right:after,
  .apexcharts-yaxistooltip-right:before {
    right: 100%
  }
  
  .apexcharts-yaxistooltip-left:after {
    border-left-color: #eceff1
  }
  
  .apexcharts-yaxistooltip-left:before {
    border-left-color: #90a4ae
  }
  
  .apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,
  .apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {
    border-left-color: rgba(0, 0, 0, .5)
  }
  
  .apexcharts-yaxistooltip-right:after {
    border-right-color: #eceff1
  }
  
  .apexcharts-yaxistooltip-right:before {
    border-right-color: #90a4ae
  }
  
  .apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,
  .apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {
    border-right-color: rgba(0, 0, 0, .5)
  }
  
  .apexcharts-yaxistooltip.apexcharts-active {
    opacity: 1
  }
  
  .apexcharts-yaxistooltip-hidden {
    display: none
  }
  
  .apexcharts-xcrosshairs,
  .apexcharts-ycrosshairs {
    pointer-events: none;
    opacity: 0;
    transition: .15s ease all
  }
  
  .apexcharts-xcrosshairs.apexcharts-active,
  .apexcharts-ycrosshairs.apexcharts-active {
    opacity: 1;
    transition: .15s ease all
  }
  
  .apexcharts-ycrosshairs-hidden {
    opacity: 0
  }
  
  .apexcharts-selection-rect {
    cursor: move
  }
  
  .svg_select_shape {
    stroke-width: 1;
    stroke-dasharray: 10 10;
    stroke: black;
    stroke-opacity: 0.1;
    pointer-events: none;
    fill: none;
  }
  
  .svg_select_handle {
    stroke-width: 3;
    stroke: black;
    fill: none;
  }
  
  .svg_select_handle_r {
    cursor: e-resize;
  }
  
  .svg_select_handle_l {
    cursor: w-resize;
  }
  
  .apexcharts-svg.apexcharts-zoomable.hovering-zoom {
    cursor: crosshair
  }
  
  .apexcharts-svg.apexcharts-zoomable.hovering-pan {
    cursor: move
  }
  
  .apexcharts-menu-icon,
  .apexcharts-pan-icon,
  .apexcharts-reset-icon,
  .apexcharts-selection-icon,
  .apexcharts-toolbar-custom-icon,
  .apexcharts-zoom-icon,
  .apexcharts-zoomin-icon,
  .apexcharts-zoomout-icon {
    cursor: pointer;
    width: 20px;
    height: 20px;
    line-height: 24px;
    color: #6e8192;
    text-align: center
  }
  
  .apexcharts-menu-icon svg,
  .apexcharts-reset-icon svg,
  .apexcharts-zoom-icon svg,
  .apexcharts-zoomin-icon svg,
  .apexcharts-zoomout-icon svg {
    fill: #6e8192
  }
  
  .apexcharts-selection-icon svg {
    fill: #444;
    transform: scale(.76)
  }
  
  .apexcharts-theme-dark .apexcharts-menu-icon svg,
  .apexcharts-theme-dark .apexcharts-pan-icon svg,
  .apexcharts-theme-dark .apexcharts-reset-icon svg,
  .apexcharts-theme-dark .apexcharts-selection-icon svg,
  .apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,
  .apexcharts-theme-dark .apexcharts-zoom-icon svg,
  .apexcharts-theme-dark .apexcharts-zoomin-icon svg,
  .apexcharts-theme-dark .apexcharts-zoomout-icon svg {
    fill: #f3f4f5
  }
  
  .apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,
  .apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,
  .apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {
    fill: #008ffb
  }
  
  .apexcharts-theme-light .apexcharts-menu-icon:hover svg,
  .apexcharts-theme-light .apexcharts-reset-icon:hover svg,
  .apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,
  .apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,
  .apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,
  .apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {
    fill: #333
  }
  
  .apexcharts-menu-icon,
  .apexcharts-selection-icon {
    position: relative
  }
  
  .apexcharts-reset-icon {
    margin-left: 5px
  }
  
  .apexcharts-menu-icon,
  .apexcharts-reset-icon,
  .apexcharts-zoom-icon {
    transform: scale(.85)
  }
  
  .apexcharts-zoomin-icon,
  .apexcharts-zoomout-icon {
    transform: scale(.7)
  }
  
  .apexcharts-zoomout-icon {
    margin-right: 3px
  }
  
  .apexcharts-pan-icon {
    transform: scale(.62);
    position: relative;
    left: 1px;
    top: 0
  }
  
  .apexcharts-pan-icon svg {
    fill: #fff;
    stroke: #6e8192;
    stroke-width: 2
  }
  
  .apexcharts-pan-icon.apexcharts-selected svg {
    stroke: #008ffb
  }
  
  .apexcharts-pan-icon:not(.apexcharts-selected):hover svg {
    stroke: #333
  }
  
  .apexcharts-toolbar {
    position: absolute;
    z-index: 11;
    max-width: 176px;
    text-align: right;
    border-radius: 3px;
    padding: 0 6px 2px;
    display: flex;
    justify-content: space-between;
    align-items: center
  }
  
  .apexcharts-menu {
    background: #fff;
    position: absolute;
    top: 100%;
    border: 1px solid #ddd;
    border-radius: 3px;
    padding: 3px;
    right: 10px;
    opacity: 0;
    min-width: 110px;
    transition: .15s ease all;
    pointer-events: none
  }
  
  .apexcharts-menu.apexcharts-menu-open {
    opacity: 1;
    pointer-events: all;
    transition: .15s ease all
  }
  
  .apexcharts-menu-item {
    padding: 6px 7px;
    font-size: 12px;
    cursor: pointer
  }
  
  .apexcharts-theme-light .apexcharts-menu-item:hover {
    background: #eee
  }
  
  .apexcharts-theme-dark .apexcharts-menu {
    background: rgba(0, 0, 0, .7);
    color: #fff
  }
  
  @media screen and (min-width:768px) {
    .apexcharts-canvas:hover .apexcharts-toolbar {
      opacity: 1
    }
  }
  
  .apexcharts-canvas .apexcharts-element-hidden,
  .apexcharts-datalabel.apexcharts-element-hidden,
  .apexcharts-hide .apexcharts-series-points {
    opacity: 0;
  }
  
  .apexcharts-hidden-element-shown {
    opacity: 1;
    transition: 0.25s ease all;
  }
  
  .apexcharts-datalabel,
  .apexcharts-datalabel-label,
  .apexcharts-datalabel-value,
  .apexcharts-datalabels,
  .apexcharts-pie-label {
    cursor: default;
    pointer-events: none
  }
  
  .apexcharts-pie-label-delay {
    opacity: 0;
    animation-name: opaque;
    animation-duration: .3s;
    animation-fill-mode: forwards;
    animation-timing-function: ease
  }
  
  .apexcharts-radialbar-label {
    cursor: pointer;
  }
  
  .apexcharts-annotation-rect,
  .apexcharts-area-series .apexcharts-area,
  .apexcharts-gridline,
  .apexcharts-line,
  .apexcharts-point-annotation-label,
  .apexcharts-radar-series path:not(.apexcharts-marker),
  .apexcharts-radar-series polygon,
  .apexcharts-toolbar svg,
  .apexcharts-tooltip .apexcharts-marker,
  .apexcharts-xaxis-annotation-label,
  .apexcharts-yaxis-annotation-label,
  .apexcharts-zoom-rect,
  .no-pointer-events {
    pointer-events: none
  }
  
  .apexcharts-tooltip-active .apexcharts-marker {
    transition: .15s ease all
  }
  
  .apexcharts-radar-series .apexcharts-yaxis {
    pointer-events: none;
  }
  
  .resize-triggers {
    animation: 1ms resizeanim;
    visibility: hidden;
    opacity: 0;
    height: 100%;
    width: 100%;
    overflow: hidden
  }
  
  .contract-trigger:before,
  .resize-triggers,
  .resize-triggers>div {
    content: " ";
    display: block;
    position: absolute;
    top: 0;
    left: 0
  }
  
  .resize-triggers>div {
    height: 100%;
    width: 100%;
    background: #eee;
    overflow: auto
  }
  
  .contract-trigger:before {
    overflow: hidden;
    width: 200%;
    height: 200%
  }
  
  .apexcharts-bar-goals-markers {
    pointer-events: none
  }
  
  .apexcharts-bar-shadows {
    pointer-events: none
  }
  
  .apexcharts-rangebar-goals-markers {
    pointer-events: none
  }`;var u=((c=e.opts.chart)===null||c===void 0?void 0:c.nonce)||e.w.config.chart.nonce;u&&l.setAttribute("nonce",u),o?s.prepend(l):a.head.appendChild(l)}var h=e.create(e.w.config.series,{});if(!h)return t(e);e.mount(h).then(function(){typeof e.w.config.chart.events.mounted=="function"&&e.w.config.chart.events.mounted(e,e.w),e.events.fireEvent("mounted",[e,e.w]),t(h)}).catch(function(d){n(d)})}else n(new Error("Element not found"))})}},{key:"create",value:function(e,t){var n=this,r=this.w;new Vy(this).initModules();var s=this.w.globals;if(s.noData=!1,s.animationEnded=!1,!H.elementExists(this.el))return s.animationEnded=!0,this.destroy(),null;if(this.responsive.checkResponsiveConfig(t),r.config.xaxis.convertedCatToNumeric&&new Ga(r.config).convertCatToNumericXaxis(r.config,this.ctx),this.core.setupElements(),r.config.chart.type==="treemap"&&(r.config.grid.show=!1,r.config.yaxis[0].show=!1),s.svgWidth===0)return s.animationEnded=!0,null;var o=e;e.forEach(function(d,f){d.hidden&&(o=n.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:f}))});var a=Yt.checkComboSeries(o,r.config.chart.type);s.comboCharts=a.comboCharts,s.comboBarCount=a.comboBarCount;var l=o.every(function(d){return d.data&&d.data.length===0});(o.length===0||l&&s.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(o),this.theme.init(),new Io(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),s.noData&&s.collapsedSeries.length!==s.series.length&&!r.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),s.axisCharts&&(this.core.coreCalculations(),r.config.xaxis.type!=="category"&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=r.globals.minX,this.ctx.toolbar.maxX=r.globals.maxX),this.formatters.heatmapLabelFormatters(),new Yt(this).getLargestMarkerSize(),this.dimensions.plotCoords();var c=this.core.xySettings();this.grid.createGridMask();var u=this.core.plotChartType(o,c),h=new Po(this);return h.bringForward(),r.config.dataLabels.background.enabled&&h.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:u,xyRatios:c,dimensions:{plot:{left:r.globals.translateX,top:r.globals.translateY,width:r.globals.gridWidth,height:r.globals.gridHeight}}}}},{key:"mount",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=this,r=n.w;return new Promise(function(s,o){if(n.el===null)return o(new Error("Not enough data to display or target element not found"));(t===null||r.globals.allSeriesCollapsed)&&n.series.handleNoData(),n.grid=new My(n);var a,l,c=n.grid.drawGrid();if(n.annotations=new LM(n),n.annotations.drawImageAnnos(),n.annotations.drawTextAnnos(),r.config.grid.position==="back"&&(c&&r.globals.dom.elGraphical.add(c.el),c!=null&&(a=c.elGridBorders)!==null&&a!==void 0&&a.node&&r.globals.dom.elGraphical.add(c.elGridBorders)),Array.isArray(t.elGraph))for(var u=0;u<t.elGraph.length;u++)r.globals.dom.elGraphical.add(t.elGraph[u]);else r.globals.dom.elGraphical.add(t.elGraph);r.config.grid.position==="front"&&(c&&r.globals.dom.elGraphical.add(c.el),c!=null&&(l=c.elGridBorders)!==null&&l!==void 0&&l.node&&r.globals.dom.elGraphical.add(c.elGridBorders)),r.config.xaxis.crosshairs.position==="front"&&n.crosshairs.drawXCrosshairs(),r.config.yaxis[0].crosshairs.position==="front"&&n.crosshairs.drawYCrosshairs(),r.config.chart.type!=="treemap"&&n.axes.drawAxis(r.config.chart.type,c);var h=new Ka(e.ctx,c),d=new Ef(e.ctx,c);if(c!==null&&(h.xAxisLabelCorrections(c.xAxisTickWidth),d.setYAxisTextAlignments(),r.config.yaxis.map(function(p,m){r.globals.ignoreYAxisIndexes.indexOf(m)===-1&&d.yAxisTitleRotate(m,p.opposite)})),n.annotations.drawAxesAnnotations(),!r.globals.noData){if(r.config.tooltip.enabled&&!r.globals.noData&&n.w.globals.tooltip.drawTooltip(t.xyRatios),r.globals.axisCharts&&(r.globals.isXNumeric||r.config.xaxis.convertedCatToNumeric||r.globals.isRangeBar))(r.config.chart.zoom.enabled||r.config.chart.selection&&r.config.chart.selection.enabled||r.config.chart.pan&&r.config.chart.pan.enabled)&&n.zoomPanSelection.init({xyRatios:t.xyRatios});else{var f=r.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(p){f[p]=!1})}r.config.chart.toolbar.show&&!r.globals.allSeriesCollapsed&&n.toolbar.createToolbar()}r.globals.memory.methodsToExec.length>0&&r.globals.memory.methodsToExec.forEach(function(p){p.method(p.params,!1,p.context)}),r.globals.axisCharts||r.globals.noData||n.core.resizeNonAxisCharts(),s(n)})}},{key:"destroy",value:function(){window.removeEventListener("resize",this.windowResizeHandler),function(t,n){var r=Ff.get(n);r&&(r.disconnect(),Ff.delete(n))}(this.el.parentNode,this.parentResizeHandler);var e=this.w.config.chart.id;e&&Apex._chartInstances.forEach(function(t,n){t.id===H.escapeString(e)&&Apex._chartInstances.splice(n,1)}),new $y(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(e){var t=this,n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],s=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],o=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],a=this.w;return a.globals.selection=void 0,e.series&&(this.series.resetSeries(!1,!0,!1),e.series.length&&e.series[0].data&&(e.series=e.series.map(function(l,c){return t.updateHelpers._extendSeries(l,c)})),this.updateHelpers.revertDefaultAxisMinMax()),e.xaxis&&(e=this.updateHelpers.forceXAxisUpdate(e)),e.yaxis&&(e=this.updateHelpers.forceYAxisUpdate(e)),a.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),e.theme&&(e=this.theme.updateThemeOptions(e)),this.updateHelpers._updateOptions(e,n,r,s,o)}},{key:"updateSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(e,t,n)}},{key:"appendSeries",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=this.w.config.series.slice();return r.push(e),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(r,t,n)}},{key:"appendData",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=this;n.w.globals.dataChanged=!0,n.series.getPreviousPaths();for(var r=n.w.config.series.slice(),s=0;s<r.length;s++)if(e[s]!==null&&e[s]!==void 0)for(var o=0;o<e[s].data.length;o++)r[s].data.push(e[s].data[o]);return n.w.config.series=r,t&&(n.w.globals.initialSeries=H.clone(n.w.config.series)),this.update()}},{key:"update",value:function(e){var t=this;return new Promise(function(n,r){new $y(t.ctx).clear({isUpdating:!0});var s=t.create(t.w.config.series,e);if(!s)return n(t);t.mount(s).then(function(){typeof t.w.config.chart.events.updated=="function"&&t.w.config.chart.events.updated(t,t.w),t.events.fireEvent("updated",[t,t.w]),t.w.globals.isDirty=!0,n(t)}).catch(function(o){r(o)})})}},{key:"getSyncedCharts",value:function(){var e=this.getGroupedCharts(),t=[this];return e.length&&(t=[],e.forEach(function(n){t.push(n)})),t}},{key:"getGroupedCharts",value:function(){var e=this;return Apex._chartInstances.filter(function(t){if(t.group)return!0}).map(function(t){return e.w.config.chart.group===t.group?t.chart:e})}},{key:"toggleSeries",value:function(e){return this.series.toggleSeries(e)}},{key:"highlightSeriesOnLegendHover",value:function(e,t){return this.series.toggleSeriesOnHover(e,t)}},{key:"showSeries",value:function(e){this.series.showSeries(e)}},{key:"hideSeries",value:function(e){this.series.hideSeries(e)}},{key:"highlightSeries",value:function(e){this.series.highlightSeries(e)}},{key:"isSeriesHidden",value:function(e){this.series.isSeriesHidden(e)}},{key:"resetSeries",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.series.resetSeries(e,t)}},{key:"addEventListener",value:function(e,t){this.events.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.events.removeEventListener(e,t)}},{key:"addXaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=this;n&&(r=n),r.annotations.addXaxisAnnotationExternal(e,t,r)}},{key:"addYaxisAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=this;n&&(r=n),r.annotations.addYaxisAnnotationExternal(e,t,r)}},{key:"addPointAnnotation",value:function(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r=this;n&&(r=n),r.annotations.addPointAnnotationExternal(e,t,r)}},{key:"clearAnnotations",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,t=this;e&&(t=e),t.annotations.clearAnnotations(t)}},{key:"removeAnnotation",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,n=this;t&&(n=t),n.annotations.removeAnnotation(n,e)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(e,t){return this.coreUtils.getSeriesTotalsXRange(e,t)}},{key:"getHighestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Tf(this.ctx).getMinYMaxY(e).highestY}},{key:"getLowestValueInSeries",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Tf(this.ctx).getMinYMaxY(e).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(e,t){return this.updateHelpers.toggleDataPointSelection(e,t)}},{key:"zoomX",value:function(e,t){this.ctx.toolbar.zoomUpdateOptions(e,t)}},{key:"setLocale",value:function(e){this.localization.setCurrentLocaleValues(e)}},{key:"dataURI",value:function(e){return new Ua(this.ctx).dataURI(e)}},{key:"getSvgString",value:function(e){return new Ua(this.ctx).getSvgString(e)}},{key:"exportToCSV",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Ua(this.ctx).exportToCSV(e)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var e=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){e.w.globals.resized=!0,e.w.globals.dataChanged=!1,e.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var e=this.w.config.chart.redrawOnWindowResize;typeof e=="function"&&(e=e()),e&&this._windowResize()}}],[{key:"getChartByID",value:function(e){var t=H.escapeString(e);if(Apex._chartInstances){var n=Apex._chartInstances.filter(function(r){return r.id===t})[0];return n&&n.chart}}},{key:"initOnLoad",value:function(){for(var e=document.querySelectorAll("[data-apexcharts]"),t=0;t<e.length;t++)new i(e[t],JSON.parse(e[t].getAttribute("data-options"))).render()}},{key:"exec",value:function(e,t){var n=this.getChartByID(e);if(n){n.w.globals.isExecCalled=!0;var r=null;if(n.publicMethods.indexOf(t)!==-1){for(var s=arguments.length,o=new Array(s>2?s-2:0),a=2;a<s;a++)o[a-2]=arguments[a];r=n[t].apply(n,o)}return r}}},{key:"merge",value:function(e,t){return H.extend(e,t)}}]),i}();const qy=["animationEnd","beforeMount","mounted","updated","click","mouseMove","mouseLeave","legendClick","markerClick","selection","dataPointSelection","dataPointMouseEnter","dataPointMouseLeave","beforeZoom","beforeResetZoom","zoomed","scrolled","brushScrolled"],qc=Ir({name:"apexchart",props:{options:{type:Object},type:{type:String},series:{type:Array,required:!0},width:{default:"100%"},height:{default:"auto"}},emits:qy,setup(i,{emit:e}){const t=qe(null),n=qe(null),r=R=>R&&typeof R=="object"&&!Array.isArray(R)&&R!=null,s=(R,D)=>{typeof Object.assign!="function"&&function(){Object.assign=function(q){if(q==null)throw new TypeError("Cannot convert undefined or null to object");let re=Object(q);for(let te=1;te<arguments.length;te++){let ie=arguments[te];if(ie!=null)for(let se in ie)ie.hasOwnProperty(se)&&(re[se]=ie[se])}return re}}();let V=Object.assign({},R);return r(R)&&r(D)&&Object.keys(D).forEach(q=>{r(D[q])?q in R?V[q]=s(R[q],D[q]):Object.assign(V,{[q]:D[q]}):Object.assign(V,{[q]:D[q]})}),V},o=async()=>{if(await ur(),n.value)return;const R={chart:{type:i.type||i.options.chart.type||"line",height:i.height,width:i.width,events:{}},series:i.series},D=i.options.chart?i.options.chart.events:null;qy.forEach(q=>{let re=(...te)=>e(q,...te);R.chart.events[q]=(...te)=>{re(...te),D&&D.hasOwnProperty(q)&&D[q](...te)}});const V=s(i.options,R);return n.value=new Gy(t.value,V),n.value.render()},a=()=>(l(),o()),l=()=>{n.value.destroy(),n.value=null},c=(R,D)=>n.value.updateSeries(R,D),u=(R,D,V,q)=>n.value.updateOptions(R,D,V,q),h=R=>n.value.toggleSeries(R),d=R=>{n.value.showSeries(R)},f=R=>{n.value.hideSeries(R)},p=(R,D)=>n.value.appendSeries(R,D),m=()=>{n.value.resetSeries()},b=(R,D)=>{n.value.toggleDataPointSelection(R,D)},y=R=>n.value.appendData(R),w=(R,D)=>n.value.zoomX(R,D),C=R=>n.value.dataURI(R),T=R=>n.value.setLocale(R),k=(R,D)=>{n.value.addXaxisAnnotation(R,D)},E=(R,D)=>{n.value.addYaxisAnnotation(R,D)},M=(R,D)=>{n.value.addPointAnnotation(R,D)},O=(R,D)=>{n.value.removeAnnotation(R,D)},P=()=>{n.value.clearAnnotations()};vx(()=>{window.ApexCharts=Gy}),Pr(()=>{t.value=Ia().proxy.$el,o()}),po(()=>{n.value&&l()});const N=nS(i);return qn(N.options,()=>{!n.value&&i.options?o():n.value.updateOptions(i.options)}),qn(N.series,()=>{!n.value&&i.series?o():n.value.updateSeries(i.series)},{deep:!0}),qn(N.type,()=>{a()}),qn(N.width,()=>{a()}),qn(N.height,()=>{a()}),{chart:n,init:o,refresh:a,destroy:l,updateOptions:u,updateSeries:c,toggleSeries:h,showSeries:d,hideSeries:f,resetSeries:m,zoomX:w,toggleDataPointSelection:b,appendData:y,appendSeries:p,addXaxisAnnotation:k,addYaxisAnnotation:E,addPointAnnotation:M,removeAnnotation:O,clearAnnotations:P,setLocale:T,dataURI:C}},render(){return yo("div",{class:"vue-apexcharts"})}}),dT=i=>{i.component(qc.name,qc)};qc.install=dT;var fT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Uc={exports:{}},gT=Uc.exports,Uy;function mT(){return Uy||(Uy=1,function(i,e){(function(t,n){i.exports=n()})(gT,function(){var t=function(g,x){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,S){v.__proto__=S}||function(v,S){for(var A in S)Object.prototype.hasOwnProperty.call(S,A)&&(v[A]=S[A])})(g,x)},n=function(){return(n=Object.assign||function(g){for(var x,v=1,S=arguments.length;v<S;v++)for(var A in x=arguments[v])Object.prototype.hasOwnProperty.call(x,A)&&(g[A]=x[A]);return g}).apply(this,arguments)};function r(g,x,v){for(var S,A=0,I=x.length;A<I;A++)!S&&A in x||((S=S||Array.prototype.slice.call(x,0,A))[A]=x[A]);return g.concat(S||Array.prototype.slice.call(x))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:fT,o=Object.keys,a=Array.isArray;function l(g,x){return typeof x!="object"||o(x).forEach(function(v){g[v]=x[v]}),g}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var c=Object.getPrototypeOf,u={}.hasOwnProperty;function h(g,x){return u.call(g,x)}function d(g,x){typeof x=="function"&&(x=x(c(g))),(typeof Reflect>"u"?o:Reflect.ownKeys)(x).forEach(function(v){p(g,v,x[v])})}var f=Object.defineProperty;function p(g,x,v,S){f(g,x,l(v&&h(v,"get")&&typeof v.get=="function"?{get:v.get,set:v.set,configurable:!0}:{value:v,configurable:!0,writable:!0},S))}function m(g){return{from:function(x){return g.prototype=Object.create(x.prototype),p(g.prototype,"constructor",g),{extend:d.bind(null,g.prototype)}}}}var b=Object.getOwnPropertyDescriptor,y=[].slice;function w(g,x,v){return y.call(g,x,v)}function C(g,x){return x(g)}function T(g){if(!g)throw new Error("Assertion Failed")}function k(g){s.setImmediate?setImmediate(g):setTimeout(g,0)}function E(g,x){if(typeof x=="string"&&h(g,x))return g[x];if(!x)return g;if(typeof x!="string"){for(var v=[],S=0,A=x.length;S<A;++S){var I=E(g,x[S]);v.push(I)}return v}var L=x.indexOf(".");if(L!==-1){var F=g[x.substr(0,L)];return F==null?void 0:E(F,x.substr(L+1))}}function M(g,x,v){if(g&&x!==void 0&&!("isFrozen"in Object&&Object.isFrozen(g)))if(typeof x!="string"&&"length"in x){T(typeof v!="string"&&"length"in v);for(var S=0,A=x.length;S<A;++S)M(g,x[S],v[S])}else{var I,L,F=x.indexOf(".");F!==-1?(I=x.substr(0,F),(L=x.substr(F+1))===""?v===void 0?a(g)&&!isNaN(parseInt(I))?g.splice(I,1):delete g[I]:g[I]=v:M(F=!(F=g[I])||!h(g,I)?g[I]={}:F,L,v)):v===void 0?a(g)&&!isNaN(parseInt(x))?g.splice(x,1):delete g[x]:g[x]=v}}function O(g){var x,v={};for(x in g)h(g,x)&&(v[x]=g[x]);return v}var P=[].concat;function N(g){return P.apply([],g)}var Ye="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(N([8,16,32,64].map(function(g){return["Int","Uint","Float"].map(function(x){return x+g+"Array"})}))).filter(function(g){return s[g]}),R=new Set(Ye.map(function(g){return s[g]})),D=null;function V(g){return D=new WeakMap,g=function x(v){if(!v||typeof v!="object")return v;var S=D.get(v);if(S)return S;if(a(v)){S=[],D.set(v,S);for(var A=0,I=v.length;A<I;++A)S.push(x(v[A]))}else if(R.has(v.constructor))S=v;else{var L,F=c(v);for(L in S=F===Object.prototype?{}:Object.create(F),D.set(v,S),v)h(v,L)&&(S[L]=x(v[L]))}return S}(g),D=null,g}var q={}.toString;function re(g){return q.call(g).slice(8,-1)}var te=typeof Symbol<"u"?Symbol.iterator:"@@iterator",ie=typeof te=="symbol"?function(g){var x;return g!=null&&(x=g[te])&&x.apply(g)}:function(){return null};function se(g,x){return x=g.indexOf(x),0<=x&&g.splice(x,1),0<=x}var ve={};function _e(g){var x,v,S,A;if(arguments.length===1){if(a(g))return g.slice();if(this===ve&&typeof g=="string")return[g];if(A=ie(g)){for(v=[];!(S=A.next()).done;)v.push(S.value);return v}if(g==null)return[g];if(typeof(x=g.length)!="number")return[g];for(v=new Array(x);x--;)v[x]=g[x];return v}for(x=arguments.length,v=new Array(x);x--;)v[x]=arguments[x];return v}var ze=typeof Symbol<"u"?function(g){return g[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Be=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Si=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Be),nt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function lt(g,x){this.name=g,this.message=x}function Ue(g,x){return g+". Errors: "+Object.keys(x).map(function(v){return x[v].toString()}).filter(function(v,S,A){return A.indexOf(v)===S}).join(`
  `)}function Lt(g,x,v,S){this.failures=x,this.failedKeys=S,this.successCount=v,this.message=Ue(g,x)}function Je(g,x){this.name="BulkError",this.failures=Object.keys(x).map(function(v){return x[v]}),this.failuresByPos=x,this.message=Ue(g,this.failures)}m(lt).from(Error).extend({toString:function(){return this.name+": "+this.message}}),m(Lt).from(lt),m(Je).from(lt);var Ge=Si.reduce(function(g,x){return g[x]=x+"Error",g},{}),ut=lt,Ae=Si.reduce(function(g,x){var v=x+"Error";function S(A,I){this.name=v,A?typeof A=="string"?(this.message="".concat(A).concat(I?`
   `+I:""),this.inner=I||null):typeof A=="object"&&(this.message="".concat(A.name," ").concat(A.message),this.inner=A):(this.message=nt[x]||v,this.inner=null)}return m(S).from(ut),g[x]=S,g},{});Ae.Syntax=SyntaxError,Ae.Type=TypeError,Ae.Range=RangeError;var Rt=Be.reduce(function(g,x){return g[x+"Error"]=Ae[x],g},{}),_t=Si.reduce(function(g,x){return["Syntax","Type","Range"].indexOf(x)===-1&&(g[x+"Error"]=Ae[x]),g},{});function pt(){}function _(g){return g}function B(g,x){return g==null||g===_?x:function(v){return x(g(v))}}function ne(g,x){return function(){g.apply(this,arguments),x.apply(this,arguments)}}function de(g,x){return g===pt?x:function(){var v=g.apply(this,arguments);v!==void 0&&(arguments[0]=v);var S=this.onsuccess,A=this.onerror;this.onsuccess=null,this.onerror=null;var I=x.apply(this,arguments);return S&&(this.onsuccess=this.onsuccess?ne(S,this.onsuccess):S),A&&(this.onerror=this.onerror?ne(A,this.onerror):A),I!==void 0?I:v}}function le(g,x){return g===pt?x:function(){g.apply(this,arguments);var v=this.onsuccess,S=this.onerror;this.onsuccess=this.onerror=null,x.apply(this,arguments),v&&(this.onsuccess=this.onsuccess?ne(v,this.onsuccess):v),S&&(this.onerror=this.onerror?ne(S,this.onerror):S)}}function ce(g,x){return g===pt?x:function(v){var S=g.apply(this,arguments);l(v,S);var A=this.onsuccess,I=this.onerror;return this.onsuccess=null,this.onerror=null,v=x.apply(this,arguments),A&&(this.onsuccess=this.onsuccess?ne(A,this.onsuccess):A),I&&(this.onerror=this.onerror?ne(I,this.onerror):I),S===void 0?v===void 0?void 0:v:l(S,v)}}function Se(g,x){return g===pt?x:function(){return x.apply(this,arguments)!==!1&&g.apply(this,arguments)}}function ye(g,x){return g===pt?x:function(){var v=g.apply(this,arguments);if(v&&typeof v.then=="function"){for(var S=this,A=arguments.length,I=new Array(A);A--;)I[A]=arguments[A];return v.then(function(){return x.apply(S,I)})}return x.apply(this,arguments)}}_t.ModifyError=Lt,_t.DexieError=lt,_t.BulkError=Je;var fe=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function he(g){fe=g}var We={},Me=100,Ye=typeof Promise>"u"?[]:function(){var g=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[g,c(g),g];var x=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[x,c(x),g]}(),Be=Ye[0],Si=Ye[1],Ye=Ye[2],Si=Si&&Si.then,it=Be&&Be.constructor,Ct=!!Ye,gt=function(g,x){En.push([g,x]),en&&(queueMicrotask(N_),en=!1)},yn=!0,en=!0,cn=[],Vn=[],Ar=_,Fi={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:pt,pgp:!1,env:{},finalize:pt},Ie=Fi,En=[],tr=0,kh=[];function Le(g){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var x=this._PSD=Ie;if(typeof g!="function"){if(g!==We)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Lg(this,this._value))}this._state=null,this._value=null,++x.ref,function v(S,A){try{A(function(I){if(S._state===null){if(I===S)throw new TypeError("A promise cannot be resolved with itself.");var L=S._lib&&ea();I&&typeof I.then=="function"?v(S,function(F,W){I instanceof Le?I._then(F,W):I.then(F,W)}):(S._state=!0,S._value=I,_1(S)),L&&ta()}},Lg.bind(null,S))}catch(I){Lg(S,I)}}(this,g)}var Pg={get:function(){var g=Ie,x=Mh;function v(S,A){var I=this,L=!g.global&&(g!==Ie||x!==Mh),F=L&&!as(),W=new Le(function(Y,U){Rg(I,new R1(N1(S,g,L,F),N1(A,g,L,F),Y,U,g))});return this._consoleTask&&(W._consoleTask=this._consoleTask),W}return v.prototype=We,v},set:function(g){p(this,"then",g&&g.prototype===We?Pg:{get:function(){return g},set:Pg.set})}};function R1(g,x,v,S,A){this.onFulfilled=typeof g=="function"?g:null,this.onRejected=typeof x=="function"?x:null,this.resolve=v,this.reject=S,this.psd=A}function Lg(g,x){var v,S;Vn.push(x),g._state===null&&(v=g._lib&&ea(),x=Ar(x),g._state=!1,g._value=x,S=g,cn.some(function(A){return A._value===S._value})||cn.push(S),_1(g),v&&ta())}function _1(g){var x=g._listeners;g._listeners=[];for(var v=0,S=x.length;v<S;++v)Rg(g,x[v]);var A=g._PSD;--A.ref||A.finalize(),tr===0&&(++tr,gt(function(){--tr==0&&_g()},[]))}function Rg(g,x){if(g._state!==null){var v=g._state?x.onFulfilled:x.onRejected;if(v===null)return(g._state?x.resolve:x.reject)(g._value);++x.psd.ref,++tr,gt(D_,[v,g,x])}else g._listeners.push(x)}function D_(g,x,v){try{var S,A=x._value;!x._state&&Vn.length&&(Vn=[]),S=fe&&x._consoleTask?x._consoleTask.run(function(){return g(A)}):g(A),x._state||Vn.indexOf(A)!==-1||function(I){for(var L=cn.length;L;)if(cn[--L]._value===I._value)return cn.splice(L,1)}(x),v.resolve(S)}catch(I){v.reject(I)}finally{--tr==0&&_g(),--v.psd.ref||v.psd.finalize()}}function N_(){no(Fi,function(){ea()&&ta()})}function ea(){var g=yn;return en=yn=!1,g}function ta(){var g,x,v;do for(;0<En.length;)for(g=En,En=[],v=g.length,x=0;x<v;++x){var S=g[x];S[0].apply(null,S[1])}while(0<En.length);en=yn=!0}function _g(){var g=cn;cn=[],g.forEach(function(S){S._PSD.onunhandled.call(null,S._value,S)});for(var x=kh.slice(0),v=x.length;v;)x[--v]()}function Sh(g){return new Le(We,!1,g)}function Wt(g,x){var v=Ie;return function(){var S=ea(),A=Ie;try{return ls(v,!0),g.apply(this,arguments)}catch(I){x&&x(I)}finally{ls(A,!1),S&&ta()}}}d(Le.prototype,{then:Pg,_then:function(g,x){Rg(this,new R1(null,null,g,x,Ie))},catch:function(g){if(arguments.length===1)return this.then(null,g);var x=g,v=arguments[1];return typeof x=="function"?this.then(null,function(S){return(S instanceof x?v:Sh)(S)}):this.then(null,function(S){return(S&&S.name===x?v:Sh)(S)})},finally:function(g){return this.then(function(x){return Le.resolve(g()).then(function(){return x})},function(x){return Le.resolve(g()).then(function(){return Sh(x)})})},timeout:function(g,x){var v=this;return g<1/0?new Le(function(S,A){var I=setTimeout(function(){return A(new Ae.Timeout(x))},g);v.then(S,A).finally(clearTimeout.bind(null,I))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&p(Le.prototype,Symbol.toStringTag,"Dexie.Promise"),Fi.env=D1(),d(Le,{all:function(){var g=_e.apply(null,arguments).map(Th);return new Le(function(x,v){g.length===0&&x([]);var S=g.length;g.forEach(function(A,I){return Le.resolve(A).then(function(L){g[I]=L,--S||x(g)},v)})})},resolve:function(g){return g instanceof Le?g:g&&typeof g.then=="function"?new Le(function(x,v){g.then(x,v)}):new Le(We,!0,g)},reject:Sh,race:function(){var g=_e.apply(null,arguments).map(Th);return new Le(function(x,v){g.map(function(S){return Le.resolve(S).then(x,v)})})},PSD:{get:function(){return Ie},set:function(g){return Ie=g}},totalEchoes:{get:function(){return Mh}},newPSD:ss,usePSD:no,scheduler:{get:function(){return gt},set:function(g){gt=g}},rejectionMapper:{get:function(){return Ar},set:function(g){Ar=g}},follow:function(g,x){return new Le(function(v,S){return ss(function(A,I){var L=Ie;L.unhandleds=[],L.onunhandled=I,L.finalize=ne(function(){var F,W=this;F=function(){W.unhandleds.length===0?A():I(W.unhandleds[0])},kh.push(function Y(){F(),kh.splice(kh.indexOf(Y),1)}),++tr,gt(function(){--tr==0&&_g()},[])},L.finalize),g()},x,v,S)})}}),it&&(it.allSettled&&p(Le,"allSettled",function(){var g=_e.apply(null,arguments).map(Th);return new Le(function(x){g.length===0&&x([]);var v=g.length,S=new Array(v);g.forEach(function(A,I){return Le.resolve(A).then(function(L){return S[I]={status:"fulfilled",value:L}},function(L){return S[I]={status:"rejected",reason:L}}).then(function(){return--v||x(S)})})})}),it.any&&typeof AggregateError<"u"&&p(Le,"any",function(){var g=_e.apply(null,arguments).map(Th);return new Le(function(x,v){g.length===0&&v(new AggregateError([]));var S=g.length,A=new Array(S);g.forEach(function(I,L){return Le.resolve(I).then(function(F){return x(F)},function(F){A[L]=F,--S||v(new AggregateError(A))})})})}),it.withResolvers&&(Le.withResolvers=it.withResolvers));var un={awaits:0,echoes:0,id:0},F_=0,Ch=[],Ah=0,Mh=0,z_=0;function ss(g,x,v,S){var A=Ie,I=Object.create(A);return I.parent=A,I.ref=0,I.global=!1,I.id=++z_,Fi.env,I.env=Ct?{Promise:Le,PromiseProp:{value:Le,configurable:!0,writable:!0},all:Le.all,race:Le.race,allSettled:Le.allSettled,any:Le.any,resolve:Le.resolve,reject:Le.reject}:{},x&&l(I,x),++A.ref,I.finalize=function(){--this.parent.ref||this.parent.finalize()},S=no(I,g,v,S),I.ref===0&&I.finalize(),S}function na(){return un.id||(un.id=++F_),++un.awaits,un.echoes+=Me,un.id}function as(){return!!un.awaits&&(--un.awaits==0&&(un.id=0),un.echoes=un.awaits*Me,!0)}function Th(g){return un.echoes&&g&&g.constructor===it?(na(),g.then(function(x){return as(),x},function(x){return as(),Gt(x)})):g}function B_(){var g=Ch[Ch.length-1];Ch.pop(),ls(g,!1)}function ls(g,x){var v,S=Ie;(x?!un.echoes||Ah++&&g===Ie:!Ah||--Ah&&g===Ie)||queueMicrotask(x?(function(A){++Mh,un.echoes&&--un.echoes!=0||(un.echoes=un.awaits=un.id=0),Ch.push(Ie),ls(A,!0)}).bind(null,g):B_),g!==Ie&&(Ie=g,S===Fi&&(Fi.env=D1()),Ct&&(v=Fi.env.Promise,x=g.env,(S.global||g.global)&&(Object.defineProperty(s,"Promise",x.PromiseProp),v.all=x.all,v.race=x.race,v.resolve=x.resolve,v.reject=x.reject,x.allSettled&&(v.allSettled=x.allSettled),x.any&&(v.any=x.any))))}function D1(){var g=s.Promise;return Ct?{Promise:g,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:g.all,race:g.race,allSettled:g.allSettled,any:g.any,resolve:g.resolve,reject:g.reject}:{}}function no(g,x,v,S,A){var I=Ie;try{return ls(g,!0),x(v,S,A)}finally{ls(I,!1)}}function N1(g,x,v,S){return typeof g!="function"?g:function(){var A=Ie;v&&na(),ls(x,!0);try{return g.apply(this,arguments)}finally{ls(A,!1),S&&queueMicrotask(as)}}}function Dg(g){Promise===it&&un.echoes===0?Ah===0?g():enqueueNativeMicroTask(g):setTimeout(g,0)}(""+Si).indexOf("[native code]")===-1&&(na=as=pt);var Gt=Le.reject,io="",Mr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",F1="String expected.",ia=[],Eh="__dbnames",Ng="readonly",Fg="readwrite";function ro(g,x){return g?x?function(){return g.apply(this,arguments)&&x.apply(this,arguments)}:g:x}var z1={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Oh(g){return typeof g!="string"||/\./.test(g)?function(x){return x}:function(x){return x[g]===void 0&&g in x&&delete(x=V(x))[g],x}}function B1(){throw Ae.Type()}function mt(g,x){try{var v=H1(g),S=H1(x);if(v!==S)return v==="Array"?1:S==="Array"?-1:v==="binary"?1:S==="binary"?-1:v==="string"?1:S==="string"?-1:v==="Date"?1:S!=="Date"?NaN:-1;switch(v){case"number":case"Date":case"string":return x<g?1:g<x?-1:0;case"binary":return function(A,I){for(var L=A.length,F=I.length,W=L<F?L:F,Y=0;Y<W;++Y)if(A[Y]!==I[Y])return A[Y]<I[Y]?-1:1;return L===F?0:L<F?-1:1}(W1(g),W1(x));case"Array":return function(A,I){for(var L=A.length,F=I.length,W=L<F?L:F,Y=0;Y<W;++Y){var U=mt(A[Y],I[Y]);if(U!==0)return U}return L===F?0:L<F?-1:1}(g,x)}}catch{}return NaN}function H1(g){var x=typeof g;return x!="object"?x:ArrayBuffer.isView(g)?"binary":(g=re(g),g==="ArrayBuffer"?"binary":g)}function W1(g){return g instanceof Uint8Array?g:ArrayBuffer.isView(g)?new Uint8Array(g.buffer,g.byteOffset,g.byteLength):new Uint8Array(g)}var X1=(zt.prototype._trans=function(g,x,v){var S=this._tx||Ie.trans,A=this.name,I=fe&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(g==="readonly"?"read":"write"," ").concat(this.name));function L(Y,U,z){if(!z.schema[A])throw new Ae.NotFound("Table "+A+" not part of transaction");return x(z.idbtrans,z)}var F=ea();try{var W=S&&S.db._novip===this.db._novip?S===Ie.trans?S._promise(g,L,v):ss(function(){return S._promise(g,L,v)},{trans:S,transless:Ie.transless||Ie}):function Y(U,z,J,X){if(U.idbdb&&(U._state.openComplete||Ie.letThrough||U._vip)){var G=U._createTransaction(z,J,U._dbSchema);try{G.create(),U._state.PR1398_maxLoop=3}catch(K){return K.name===Ge.InvalidState&&U.isOpen()&&0<--U._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),U.close({disableAutoOpen:!1}),U.open().then(function(){return Y(U,z,J,X)})):Gt(K)}return G._promise(z,function(K,$){return ss(function(){return Ie.trans=G,X(K,$,G)})}).then(function(K){if(z==="readwrite")try{G.idbtrans.commit()}catch{}return z==="readonly"?K:G._completion.then(function(){return K})})}if(U._state.openComplete)return Gt(new Ae.DatabaseClosed(U._state.dbOpenError));if(!U._state.isBeingOpened){if(!U._state.autoOpen)return Gt(new Ae.DatabaseClosed);U.open().catch(pt)}return U._state.dbReadyPromise.then(function(){return Y(U,z,J,X)})}(this.db,g,[this.name],L);return I&&(W._consoleTask=I,W=W.catch(function(Y){return console.trace(Y),Gt(Y)})),W}finally{F&&ta()}},zt.prototype.get=function(g,x){var v=this;return g&&g.constructor===Object?this.where(g).first(x):g==null?Gt(new Ae.Type("Invalid argument to Table.get()")):this._trans("readonly",function(S){return v.core.get({trans:S,key:g}).then(function(A){return v.hook.reading.fire(A)})}).then(x)},zt.prototype.where=function(g){if(typeof g=="string")return new this.db.WhereClause(this,g);if(a(g))return new this.db.WhereClause(this,"[".concat(g.join("+"),"]"));var x=o(g);if(x.length===1)return this.where(x[0]).equals(g[x[0]]);var v=this.schema.indexes.concat(this.schema.primKey).filter(function(F){if(F.compound&&x.every(function(Y){return 0<=F.keyPath.indexOf(Y)})){for(var W=0;W<x.length;++W)if(x.indexOf(F.keyPath[W])===-1)return!1;return!0}return!1}).sort(function(F,W){return F.keyPath.length-W.keyPath.length})[0];if(v&&this.db._maxKey!==io){var I=v.keyPath.slice(0,x.length);return this.where(I).equals(I.map(function(W){return g[W]}))}!v&&fe&&console.warn("The query ".concat(JSON.stringify(g)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(x.join("+"),"]"));var S=this.schema.idxByName;function A(F,W){return mt(F,W)===0}var L=x.reduce(function(z,W){var Y=z[0],U=z[1],z=S[W],J=g[W];return[Y||z,Y||!z?ro(U,z&&z.multi?function(X){return X=E(X,W),a(X)&&X.some(function(G){return A(J,G)})}:function(X){return A(J,E(X,W))}):U]},[null,null]),I=L[0],L=L[1];return I?this.where(I.name).equals(g[I.keyPath]).filter(L):v?this.filter(L):this.where(x).equals("")},zt.prototype.filter=function(g){return this.toCollection().and(g)},zt.prototype.count=function(g){return this.toCollection().count(g)},zt.prototype.offset=function(g){return this.toCollection().offset(g)},zt.prototype.limit=function(g){return this.toCollection().limit(g)},zt.prototype.each=function(g){return this.toCollection().each(g)},zt.prototype.toArray=function(g){return this.toCollection().toArray(g)},zt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},zt.prototype.orderBy=function(g){return new this.db.Collection(new this.db.WhereClause(this,a(g)?"[".concat(g.join("+"),"]"):g))},zt.prototype.reverse=function(){return this.toCollection().reverse()},zt.prototype.mapToClass=function(g){var x,v=this.db,S=this.name;function A(){return x!==null&&x.apply(this,arguments)||this}(this.schema.mappedClass=g).prototype instanceof B1&&(function(W,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Class extends value "+String(Y)+" is not a constructor or null");function U(){this.constructor=W}t(W,Y),W.prototype=Y===null?Object.create(Y):(U.prototype=Y.prototype,new U)}(A,x=g),Object.defineProperty(A.prototype,"db",{get:function(){return v},enumerable:!1,configurable:!0}),A.prototype.table=function(){return S},g=A);for(var I=new Set,L=g.prototype;L;L=c(L))Object.getOwnPropertyNames(L).forEach(function(W){return I.add(W)});function F(W){if(!W)return W;var Y,U=Object.create(g.prototype);for(Y in W)if(!I.has(Y))try{U[Y]=W[Y]}catch{}return U}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=F,this.hook("reading",F),g},zt.prototype.defineClass=function(){return this.mapToClass(function(g){l(this,g)})},zt.prototype.add=function(g,x){var v=this,S=this.schema.primKey,A=S.auto,I=S.keyPath,L=g;return I&&A&&(L=Oh(I)(g)),this._trans("readwrite",function(F){return v.core.mutate({trans:F,type:"add",keys:x!=null?[x]:null,values:[L]})}).then(function(F){return F.numFailures?Le.reject(F.failures[0]):F.lastResult}).then(function(F){if(I)try{M(g,I,F)}catch{}return F})},zt.prototype.update=function(g,x){return typeof g!="object"||a(g)?this.where(":id").equals(g).modify(x):(g=E(g,this.schema.primKey.keyPath),g===void 0?Gt(new Ae.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(g).modify(x))},zt.prototype.put=function(g,x){var v=this,S=this.schema.primKey,A=S.auto,I=S.keyPath,L=g;return I&&A&&(L=Oh(I)(g)),this._trans("readwrite",function(F){return v.core.mutate({trans:F,type:"put",values:[L],keys:x!=null?[x]:null})}).then(function(F){return F.numFailures?Le.reject(F.failures[0]):F.lastResult}).then(function(F){if(I)try{M(g,I,F)}catch{}return F})},zt.prototype.delete=function(g){var x=this;return this._trans("readwrite",function(v){return x.core.mutate({trans:v,type:"delete",keys:[g]})}).then(function(v){return v.numFailures?Le.reject(v.failures[0]):void 0})},zt.prototype.clear=function(){var g=this;return this._trans("readwrite",function(x){return g.core.mutate({trans:x,type:"deleteRange",range:z1})}).then(function(x){return x.numFailures?Le.reject(x.failures[0]):void 0})},zt.prototype.bulkGet=function(g){var x=this;return this._trans("readonly",function(v){return x.core.getMany({keys:g,trans:v}).then(function(S){return S.map(function(A){return x.hook.reading.fire(A)})})})},zt.prototype.bulkAdd=function(g,x,v){var S=this,A=Array.isArray(x)?x:void 0,I=(v=v||(A?void 0:x))?v.allKeys:void 0;return this._trans("readwrite",function(L){var Y=S.schema.primKey,F=Y.auto,Y=Y.keyPath;if(Y&&A)throw new Ae.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(A&&A.length!==g.length)throw new Ae.InvalidArgument("Arguments objects and keys must have the same length");var W=g.length,Y=Y&&F?g.map(Oh(Y)):g;return S.core.mutate({trans:L,type:"add",keys:A,values:Y,wantResults:I}).then(function(G){var z=G.numFailures,J=G.results,X=G.lastResult,G=G.failures;if(z===0)return I?J:X;throw new Je("".concat(S.name,".bulkAdd(): ").concat(z," of ").concat(W," operations failed"),G)})})},zt.prototype.bulkPut=function(g,x,v){var S=this,A=Array.isArray(x)?x:void 0,I=(v=v||(A?void 0:x))?v.allKeys:void 0;return this._trans("readwrite",function(L){var Y=S.schema.primKey,F=Y.auto,Y=Y.keyPath;if(Y&&A)throw new Ae.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(A&&A.length!==g.length)throw new Ae.InvalidArgument("Arguments objects and keys must have the same length");var W=g.length,Y=Y&&F?g.map(Oh(Y)):g;return S.core.mutate({trans:L,type:"put",keys:A,values:Y,wantResults:I}).then(function(G){var z=G.numFailures,J=G.results,X=G.lastResult,G=G.failures;if(z===0)return I?J:X;throw new Je("".concat(S.name,".bulkPut(): ").concat(z," of ").concat(W," operations failed"),G)})})},zt.prototype.bulkUpdate=function(g){var x=this,v=this.core,S=g.map(function(L){return L.key}),A=g.map(function(L){return L.changes}),I=[];return this._trans("readwrite",function(L){return v.getMany({trans:L,keys:S,cache:"clone"}).then(function(F){var W=[],Y=[];g.forEach(function(z,J){var X=z.key,G=z.changes,K=F[J];if(K){for(var $=0,Z=Object.keys(G);$<Z.length;$++){var Q=Z[$],ee=G[Q];if(Q===x.schema.primKey.keyPath){if(mt(ee,X)!==0)throw new Ae.Constraint("Cannot update primary key in bulkUpdate()")}else M(K,Q,ee)}I.push(J),W.push(X),Y.push(K)}});var U=W.length;return v.mutate({trans:L,type:"put",keys:W,values:Y,updates:{keys:S,changeSpecs:A}}).then(function(z){var J=z.numFailures,X=z.failures;if(J===0)return U;for(var G=0,K=Object.keys(X);G<K.length;G++){var $,Z=K[G],Q=I[Number(Z)];Q!=null&&($=X[Z],delete X[Z],X[Q]=$)}throw new Je("".concat(x.name,".bulkUpdate(): ").concat(J," of ").concat(U," operations failed"),X)})})})},zt.prototype.bulkDelete=function(g){var x=this,v=g.length;return this._trans("readwrite",function(S){return x.core.mutate({trans:S,type:"delete",keys:g})}).then(function(L){var A=L.numFailures,I=L.lastResult,L=L.failures;if(A===0)return I;throw new Je("".concat(x.name,".bulkDelete(): ").concat(A," of ").concat(v," operations failed"),L)})},zt);function zt(){}function Rl(g){function x(L,F){if(F){for(var W=arguments.length,Y=new Array(W-1);--W;)Y[W-1]=arguments[W];return v[L].subscribe.apply(null,Y),g}if(typeof L=="string")return v[L]}var v={};x.addEventType=I;for(var S=1,A=arguments.length;S<A;++S)I(arguments[S]);return x;function I(L,F,W){if(typeof L!="object"){var Y;F=F||Se;var U={subscribers:[],fire:W=W||pt,subscribe:function(z){U.subscribers.indexOf(z)===-1&&(U.subscribers.push(z),U.fire=F(U.fire,z))},unsubscribe:function(z){U.subscribers=U.subscribers.filter(function(J){return J!==z}),U.fire=U.subscribers.reduce(F,W)}};return v[L]=x[L]=U}o(Y=L).forEach(function(z){var J=Y[z];if(a(J))I(z,Y[z][0],Y[z][1]);else{if(J!=="asap")throw new Ae.InvalidArgument("Invalid event config");var X=I(z,_,function(){for(var G=arguments.length,K=new Array(G);G--;)K[G]=arguments[G];X.subscribers.forEach(function($){k(function(){$.apply(null,K)})})})}})}}function _l(g,x){return m(x).from({prototype:g}),x}function ra(g,x){return!(g.filter||g.algorithm||g.or)&&(x?g.justLimit:!g.replayFilter)}function zg(g,x){g.filter=ro(g.filter,x)}function Bg(g,x,v){var S=g.replayFilter;g.replayFilter=S?function(){return ro(S(),x())}:x,g.justLimit=v&&!S}function Ih(g,x){if(g.isPrimKey)return x.primaryKey;var v=x.getIndexByKeyPath(g.index);if(!v)throw new Ae.Schema("KeyPath "+g.index+" on object store "+x.name+" is not indexed");return v}function Y1(g,x,v){var S=Ih(g,x.schema);return x.openCursor({trans:v,values:!g.keysOnly,reverse:g.dir==="prev",unique:!!g.unique,query:{index:S,range:g.range}})}function Ph(g,x,v,S){var A=g.replayFilter?ro(g.filter,g.replayFilter()):g.filter;if(g.or){var I={},L=function(F,W,Y){var U,z;A&&!A(W,Y,function(J){return W.stop(J)},function(J){return W.fail(J)})||((z=""+(U=W.primaryKey))=="[object ArrayBuffer]"&&(z=""+new Uint8Array(U)),h(I,z)||(I[z]=!0,x(F,W,Y)))};return Promise.all([g.or._iterate(L,v),j1(Y1(g,S,v),g.algorithm,L,!g.keysOnly&&g.valueMapper)])}return j1(Y1(g,S,v),ro(g.algorithm,A),x,!g.keysOnly&&g.valueMapper)}function j1(g,x,v,S){var A=Wt(S?function(I,L,F){return v(S(I),L,F)}:v);return g.then(function(I){if(I)return I.start(function(){var L=function(){return I.continue()};x&&!x(I,function(F){return L=F},function(F){I.stop(F),L=pt},function(F){I.fail(F),L=pt})||A(I.value,I,function(F){return L=F}),L()})})}var Dl=(V1.prototype.execute=function(g){var x=this["@@propmod"];if(x.add!==void 0){var v=x.add;if(a(v))return r(r([],a(g)?g:[],!0),v).sort();if(typeof v=="number")return(Number(g)||0)+v;if(typeof v=="bigint")try{return BigInt(g)+v}catch{return BigInt(0)+v}throw new TypeError("Invalid term ".concat(v))}if(x.remove!==void 0){var S=x.remove;if(a(S))return a(g)?g.filter(function(A){return!S.includes(A)}).sort():[];if(typeof S=="number")return Number(g)-S;if(typeof S=="bigint")try{return BigInt(g)-S}catch{return BigInt(0)-S}throw new TypeError("Invalid subtrahend ".concat(S))}return v=(v=x.replacePrefix)===null||v===void 0?void 0:v[0],v&&typeof g=="string"&&g.startsWith(v)?x.replacePrefix[1]+g.substring(v.length):g},V1);function V1(g){this["@@propmod"]=g}var H_=(kt.prototype._read=function(g,x){var v=this._ctx;return v.error?v.table._trans(null,Gt.bind(null,v.error)):v.table._trans("readonly",g).then(x)},kt.prototype._write=function(g){var x=this._ctx;return x.error?x.table._trans(null,Gt.bind(null,x.error)):x.table._trans("readwrite",g,"locked")},kt.prototype._addAlgorithm=function(g){var x=this._ctx;x.algorithm=ro(x.algorithm,g)},kt.prototype._iterate=function(g,x){return Ph(this._ctx,g,x,this._ctx.table.core)},kt.prototype.clone=function(g){var x=Object.create(this.constructor.prototype),v=Object.create(this._ctx);return g&&l(v,g),x._ctx=v,x},kt.prototype.raw=function(){return this._ctx.valueMapper=null,this},kt.prototype.each=function(g){var x=this._ctx;return this._read(function(v){return Ph(x,g,v,x.table.core)})},kt.prototype.count=function(g){var x=this;return this._read(function(v){var S=x._ctx,A=S.table.core;if(ra(S,!0))return A.count({trans:v,query:{index:Ih(S,A.schema),range:S.range}}).then(function(L){return Math.min(L,S.limit)});var I=0;return Ph(S,function(){return++I,!1},v,A).then(function(){return I})}).then(g)},kt.prototype.sortBy=function(g,x){var v=g.split(".").reverse(),S=v[0],A=v.length-1;function I(W,Y){return Y?I(W[v[Y]],Y-1):W[S]}var L=this._ctx.dir==="next"?1:-1;function F(W,Y){return mt(I(W,A),I(Y,A))*L}return this.toArray(function(W){return W.sort(F)}).then(x)},kt.prototype.toArray=function(g){var x=this;return this._read(function(v){var S=x._ctx;if(S.dir==="next"&&ra(S,!0)&&0<S.limit){var A=S.valueMapper,I=Ih(S,S.table.core.schema);return S.table.core.query({trans:v,limit:S.limit,values:!0,query:{index:I,range:S.range}}).then(function(F){return F=F.result,A?F.map(A):F})}var L=[];return Ph(S,function(F){return L.push(F)},v,S.table.core).then(function(){return L})},g)},kt.prototype.offset=function(g){var x=this._ctx;return g<=0||(x.offset+=g,ra(x)?Bg(x,function(){var v=g;return function(S,A){return v===0||(v===1?--v:A(function(){S.advance(v),v=0}),!1)}}):Bg(x,function(){var v=g;return function(){return--v<0}})),this},kt.prototype.limit=function(g){return this._ctx.limit=Math.min(this._ctx.limit,g),Bg(this._ctx,function(){var x=g;return function(v,S,A){return--x<=0&&S(A),0<=x}},!0),this},kt.prototype.until=function(g,x){return zg(this._ctx,function(v,S,A){return!g(v.value)||(S(A),x)}),this},kt.prototype.first=function(g){return this.limit(1).toArray(function(x){return x[0]}).then(g)},kt.prototype.last=function(g){return this.reverse().first(g)},kt.prototype.filter=function(g){var x;return zg(this._ctx,function(v){return g(v.value)}),(x=this._ctx).isMatch=ro(x.isMatch,g),this},kt.prototype.and=function(g){return this.filter(g)},kt.prototype.or=function(g){return new this.db.WhereClause(this._ctx.table,g,this)},kt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},kt.prototype.desc=function(){return this.reverse()},kt.prototype.eachKey=function(g){var x=this._ctx;return x.keysOnly=!x.isMatch,this.each(function(v,S){g(S.key,S)})},kt.prototype.eachUniqueKey=function(g){return this._ctx.unique="unique",this.eachKey(g)},kt.prototype.eachPrimaryKey=function(g){var x=this._ctx;return x.keysOnly=!x.isMatch,this.each(function(v,S){g(S.primaryKey,S)})},kt.prototype.keys=function(g){var x=this._ctx;x.keysOnly=!x.isMatch;var v=[];return this.each(function(S,A){v.push(A.key)}).then(function(){return v}).then(g)},kt.prototype.primaryKeys=function(g){var x=this._ctx;if(x.dir==="next"&&ra(x,!0)&&0<x.limit)return this._read(function(S){var A=Ih(x,x.table.core.schema);return x.table.core.query({trans:S,values:!1,limit:x.limit,query:{index:A,range:x.range}})}).then(function(S){return S.result}).then(g);x.keysOnly=!x.isMatch;var v=[];return this.each(function(S,A){v.push(A.primaryKey)}).then(function(){return v}).then(g)},kt.prototype.uniqueKeys=function(g){return this._ctx.unique="unique",this.keys(g)},kt.prototype.firstKey=function(g){return this.limit(1).keys(function(x){return x[0]}).then(g)},kt.prototype.lastKey=function(g){return this.reverse().firstKey(g)},kt.prototype.distinct=function(){var g=this._ctx,g=g.index&&g.table.schema.idxByName[g.index];if(!g||!g.multi)return this;var x={};return zg(this._ctx,function(A){var S=A.primaryKey.toString(),A=h(x,S);return x[S]=!0,!A}),this},kt.prototype.modify=function(g){var x=this,v=this._ctx;return this._write(function(S){var A,I,L;L=typeof g=="function"?g:(A=o(g),I=A.length,function($){for(var Z=!1,Q=0;Q<I;++Q){var ee=A[Q],oe=g[ee],me=E($,ee);oe instanceof Dl?(M($,ee,oe.execute(me)),Z=!0):me!==oe&&(M($,ee,oe),Z=!0)}return Z});var F=v.table.core,z=F.schema.primaryKey,W=z.outbound,Y=z.extractKey,U=200,z=x.db._options.modifyChunkSize;z&&(U=typeof z=="object"?z[F.name]||z["*"]||200:z);function J($,ee){var Q=ee.failures,ee=ee.numFailures;G+=$-ee;for(var oe=0,me=o(Q);oe<me.length;oe++){var Ce=me[oe];X.push(Q[Ce])}}var X=[],G=0,K=[];return x.clone().primaryKeys().then(function($){function Z(ee){var oe=Math.min(U,$.length-ee);return F.getMany({trans:S,keys:$.slice(ee,ee+oe),cache:"immutable"}).then(function(me){for(var Ce=[],xe=[],we=W?[]:null,Te=[],ke=0;ke<oe;++ke){var De=me[ke],rt={value:V(De),primKey:$[ee+ke]};L.call(rt,rt.value,rt)!==!1&&(rt.value==null?Te.push($[ee+ke]):W||mt(Y(De),Y(rt.value))===0?(xe.push(rt.value),W&&we.push($[ee+ke])):(Te.push($[ee+ke]),Ce.push(rt.value)))}return Promise.resolve(0<Ce.length&&F.mutate({trans:S,type:"add",values:Ce}).then(function(ht){for(var dt in ht.failures)Te.splice(parseInt(dt),1);J(Ce.length,ht)})).then(function(){return(0<xe.length||Q&&typeof g=="object")&&F.mutate({trans:S,type:"put",keys:we,values:xe,criteria:Q,changeSpec:typeof g!="function"&&g,isAdditionalChunk:0<ee}).then(function(ht){return J(xe.length,ht)})}).then(function(){return(0<Te.length||Q&&g===Hg)&&F.mutate({trans:S,type:"delete",keys:Te,criteria:Q,isAdditionalChunk:0<ee}).then(function(ht){return J(Te.length,ht)})}).then(function(){return $.length>ee+oe&&Z(ee+U)})})}var Q=ra(v)&&v.limit===1/0&&(typeof g!="function"||g===Hg)&&{index:v.index,range:v.range};return Z(0).then(function(){if(0<X.length)throw new Lt("Error modifying one or more objects",X,G,K);return $.length})})})},kt.prototype.delete=function(){var g=this._ctx,x=g.range;return ra(g)&&(g.isPrimKey||x.type===3)?this._write(function(v){var S=g.table.core.schema.primaryKey,A=x;return g.table.core.count({trans:v,query:{index:S,range:A}}).then(function(I){return g.table.core.mutate({trans:v,type:"deleteRange",range:A}).then(function(L){var F=L.failures;if(L.lastResult,L.results,L=L.numFailures,L)throw new Lt("Could not delete some values",Object.keys(F).map(function(W){return F[W]}),I-L);return I-L})})}):this.modify(Hg)},kt);function kt(){}var Hg=function(g,x){return x.value=null};function W_(g,x){return g<x?-1:g===x?0:1}function X_(g,x){return x<g?-1:g===x?0:1}function ai(g,x,v){return g=g instanceof G1?new g.Collection(g):g,g._ctx.error=new(v||TypeError)(x),g}function sa(g){return new g.Collection(g,function(){return $1("")}).limit(0)}function Lh(g,x,v,S){var A,I,L,F,W,Y,U,z=v.length;if(!v.every(function(G){return typeof G=="string"}))return ai(g,F1);function J(G){A=G==="next"?function($){return $.toUpperCase()}:function($){return $.toLowerCase()},I=G==="next"?function($){return $.toLowerCase()}:function($){return $.toUpperCase()},L=G==="next"?W_:X_;var K=v.map(function($){return{lower:I($),upper:A($)}}).sort(function($,Z){return L($.lower,Z.lower)});F=K.map(function($){return $.upper}),W=K.map(function($){return $.lower}),U=(Y=G)==="next"?"":S}J("next"),g=new g.Collection(g,function(){return cs(F[0],W[z-1]+S)}),g._ondirectionchange=function(G){J(G)};var X=0;return g._addAlgorithm(function(G,K,$){var Z=G.key;if(typeof Z!="string")return!1;var Q=I(Z);if(x(Q,W,X))return!0;for(var ee=null,oe=X;oe<z;++oe){var me=function(Ce,xe,we,Te,ke,De){for(var rt=Math.min(Ce.length,Te.length),ht=-1,dt=0;dt<rt;++dt){var li=xe[dt];if(li!==Te[dt])return ke(Ce[dt],we[dt])<0?Ce.substr(0,dt)+we[dt]+we.substr(dt+1):ke(Ce[dt],Te[dt])<0?Ce.substr(0,dt)+Te[dt]+we.substr(dt+1):0<=ht?Ce.substr(0,ht)+xe[ht]+we.substr(ht+1):null;ke(Ce[dt],li)<0&&(ht=dt)}return rt<Te.length&&De==="next"?Ce+we.substr(Ce.length):rt<Ce.length&&De==="prev"?Ce.substr(0,we.length):ht<0?null:Ce.substr(0,ht)+Te[ht]+we.substr(ht+1)}(Z,Q,F[oe],W[oe],L,Y);me===null&&ee===null?X=oe+1:(ee===null||0<L(ee,me))&&(ee=me)}return K(ee!==null?function(){G.continue(ee+U)}:$),!1}),g}function cs(g,x,v,S){return{type:2,lower:g,upper:x,lowerOpen:v,upperOpen:S}}function $1(g){return{type:1,lower:g,upper:g}}var G1=(Object.defineProperty(hn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),hn.prototype.between=function(g,x,v,S){v=v!==!1,S=S===!0;try{return 0<this._cmp(g,x)||this._cmp(g,x)===0&&(v||S)&&(!v||!S)?sa(this):new this.Collection(this,function(){return cs(g,x,!v,!S)})}catch{return ai(this,Mr)}},hn.prototype.equals=function(g){return g==null?ai(this,Mr):new this.Collection(this,function(){return $1(g)})},hn.prototype.above=function(g){return g==null?ai(this,Mr):new this.Collection(this,function(){return cs(g,void 0,!0)})},hn.prototype.aboveOrEqual=function(g){return g==null?ai(this,Mr):new this.Collection(this,function(){return cs(g,void 0,!1)})},hn.prototype.below=function(g){return g==null?ai(this,Mr):new this.Collection(this,function(){return cs(void 0,g,!1,!0)})},hn.prototype.belowOrEqual=function(g){return g==null?ai(this,Mr):new this.Collection(this,function(){return cs(void 0,g)})},hn.prototype.startsWith=function(g){return typeof g!="string"?ai(this,F1):this.between(g,g+io,!0,!0)},hn.prototype.startsWithIgnoreCase=function(g){return g===""?this.startsWith(g):Lh(this,function(x,v){return x.indexOf(v[0])===0},[g],io)},hn.prototype.equalsIgnoreCase=function(g){return Lh(this,function(x,v){return x===v[0]},[g],"")},hn.prototype.anyOfIgnoreCase=function(){var g=_e.apply(ve,arguments);return g.length===0?sa(this):Lh(this,function(x,v){return v.indexOf(x)!==-1},g,"")},hn.prototype.startsWithAnyOfIgnoreCase=function(){var g=_e.apply(ve,arguments);return g.length===0?sa(this):Lh(this,function(x,v){return v.some(function(S){return x.indexOf(S)===0})},g,io)},hn.prototype.anyOf=function(){var g=this,x=_e.apply(ve,arguments),v=this._cmp;try{x.sort(v)}catch{return ai(this,Mr)}if(x.length===0)return sa(this);var S=new this.Collection(this,function(){return cs(x[0],x[x.length-1])});S._ondirectionchange=function(I){v=I==="next"?g._ascending:g._descending,x.sort(v)};var A=0;return S._addAlgorithm(function(I,L,F){for(var W=I.key;0<v(W,x[A]);)if(++A===x.length)return L(F),!1;return v(W,x[A])===0||(L(function(){I.continue(x[A])}),!1)}),S},hn.prototype.notEqual=function(g){return this.inAnyRange([[-1/0,g],[g,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},hn.prototype.noneOf=function(){var g=_e.apply(ve,arguments);if(g.length===0)return new this.Collection(this);try{g.sort(this._ascending)}catch{return ai(this,Mr)}var x=g.reduce(function(v,S){return v?v.concat([[v[v.length-1][1],S]]):[[-1/0,S]]},null);return x.push([g[g.length-1],this.db._maxKey]),this.inAnyRange(x,{includeLowers:!1,includeUppers:!1})},hn.prototype.inAnyRange=function(Z,x){var v=this,S=this._cmp,A=this._ascending,I=this._descending,L=this._min,F=this._max;if(Z.length===0)return sa(this);if(!Z.every(function(Q){return Q[0]!==void 0&&Q[1]!==void 0&&A(Q[0],Q[1])<=0}))return ai(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ae.InvalidArgument);var W=!x||x.includeLowers!==!1,Y=x&&x.includeUppers===!0,U,z=A;function J(Q,ee){return z(Q[0],ee[0])}try{(U=Z.reduce(function(Q,ee){for(var oe=0,me=Q.length;oe<me;++oe){var Ce=Q[oe];if(S(ee[0],Ce[1])<0&&0<S(ee[1],Ce[0])){Ce[0]=L(Ce[0],ee[0]),Ce[1]=F(Ce[1],ee[1]);break}}return oe===me&&Q.push(ee),Q},[])).sort(J)}catch{return ai(this,Mr)}var X=0,G=Y?function(Q){return 0<A(Q,U[X][1])}:function(Q){return 0<=A(Q,U[X][1])},K=W?function(Q){return 0<I(Q,U[X][0])}:function(Q){return 0<=I(Q,U[X][0])},$=G,Z=new this.Collection(this,function(){return cs(U[0][0],U[U.length-1][1],!W,!Y)});return Z._ondirectionchange=function(Q){z=Q==="next"?($=G,A):($=K,I),U.sort(J)},Z._addAlgorithm(function(Q,ee,oe){for(var me,Ce=Q.key;$(Ce);)if(++X===U.length)return ee(oe),!1;return!G(me=Ce)&&!K(me)||(v._cmp(Ce,U[X][1])===0||v._cmp(Ce,U[X][0])===0||ee(function(){z===A?Q.continue(U[X][0]):Q.continue(U[X][1])}),!1)}),Z},hn.prototype.startsWithAnyOf=function(){var g=_e.apply(ve,arguments);return g.every(function(x){return typeof x=="string"})?g.length===0?sa(this):this.inAnyRange(g.map(function(x){return[x,x+io]})):ai(this,"startsWithAnyOf() only works with strings")},hn);function hn(){}function nr(g){return Wt(function(x){return Nl(x),g(x.target.error),!1})}function Nl(g){g.stopPropagation&&g.stopPropagation(),g.preventDefault&&g.preventDefault()}var Fl="storagemutated",Wg="x-storagemutated-1",us=Rl(null,Fl),Y_=(ir.prototype._lock=function(){return T(!Ie.global),++this._reculock,this._reculock!==1||Ie.global||(Ie.lockOwnerFor=this),this},ir.prototype._unlock=function(){if(T(!Ie.global),--this._reculock==0)for(Ie.global||(Ie.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var g=this._blockedFuncs.shift();try{no(g[1],g[0])}catch{}}return this},ir.prototype._locked=function(){return this._reculock&&Ie.lockOwnerFor!==this},ir.prototype.create=function(g){var x=this;if(!this.mode)return this;var v=this.db.idbdb,S=this.db._state.dbOpenError;if(T(!this.idbtrans),!g&&!v)switch(S&&S.name){case"DatabaseClosedError":throw new Ae.DatabaseClosed(S);case"MissingAPIError":throw new Ae.MissingAPI(S.message,S);default:throw new Ae.OpenFailed(S)}if(!this.active)throw new Ae.TransactionInactive;return T(this._completion._state===null),(g=this.idbtrans=g||(this.db.core||v).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Wt(function(A){Nl(A),x._reject(g.error)}),g.onabort=Wt(function(A){Nl(A),x.active&&x._reject(new Ae.Abort(g.error)),x.active=!1,x.on("abort").fire(A)}),g.oncomplete=Wt(function(){x.active=!1,x._resolve(),"mutatedParts"in g&&us.storagemutated.fire(g.mutatedParts)}),this},ir.prototype._promise=function(g,x,v){var S=this;if(g==="readwrite"&&this.mode!=="readwrite")return Gt(new Ae.ReadOnly("Transaction is readonly"));if(!this.active)return Gt(new Ae.TransactionInactive);if(this._locked())return new Le(function(I,L){S._blockedFuncs.push([function(){S._promise(g,x,v).then(I,L)},Ie])});if(v)return ss(function(){var I=new Le(function(L,F){S._lock();var W=x(L,F,S);W&&W.then&&W.then(L,F)});return I.finally(function(){return S._unlock()}),I._lib=!0,I});var A=new Le(function(I,L){var F=x(I,L,S);F&&F.then&&F.then(I,L)});return A._lib=!0,A},ir.prototype._root=function(){return this.parent?this.parent._root():this},ir.prototype.waitFor=function(g){var x,v=this._root(),S=Le.resolve(g);v._waitingFor?v._waitingFor=v._waitingFor.then(function(){return S}):(v._waitingFor=S,v._waitingQueue=[],x=v.idbtrans.objectStore(v.storeNames[0]),function I(){for(++v._spinCount;v._waitingQueue.length;)v._waitingQueue.shift()();v._waitingFor&&(x.get(-1/0).onsuccess=I)}());var A=v._waitingFor;return new Le(function(I,L){S.then(function(F){return v._waitingQueue.push(Wt(I.bind(null,F)))},function(F){return v._waitingQueue.push(Wt(L.bind(null,F)))}).finally(function(){v._waitingFor===A&&(v._waitingFor=null)})})},ir.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ae.Abort))},ir.prototype.table=function(g){var x=this._memoizedTables||(this._memoizedTables={});if(h(x,g))return x[g];var v=this.schema[g];if(!v)throw new Ae.NotFound("Table "+g+" not part of transaction");return v=new this.db.Table(g,v,this),v.core=this.db.core.table(g),x[g]=v},ir);function ir(){}function Xg(g,x,v,S,A,I,L){return{name:g,keyPath:x,unique:v,multi:S,auto:A,compound:I,src:(v&&!L?"&":"")+(S?"*":"")+(A?"++":"")+q1(x)}}function q1(g){return typeof g=="string"?g:g?"["+[].join.call(g,"+")+"]":""}function Yg(g,x,v){return{name:g,primKey:x,indexes:v,mappedClass:null,idxByName:(S=function(A){return[A.name,A]},v.reduce(function(A,I,L){return L=S(I,L),L&&(A[L[0]]=L[1]),A},{}))};var S}var zl=function(g){try{return g.only([[]]),zl=function(){return[[]]},[[]]}catch{return zl=function(){return io},io}};function jg(g){return g==null?function(){}:typeof g=="string"?(x=g).split(".").length===1?function(v){return v[x]}:function(v){return E(v,x)}:function(v){return E(v,g)};var x}function U1(g){return[].slice.call(g)}var j_=0;function Bl(g){return g==null?":id":typeof g=="string"?g:"[".concat(g.join("+"),"]")}function V_(g,x,W){function S($){if($.type===3)return null;if($.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var X=$.lower,G=$.upper,K=$.lowerOpen,$=$.upperOpen;return X===void 0?G===void 0?null:x.upperBound(G,!!$):G===void 0?x.lowerBound(X,!!K):x.bound(X,G,!!K,!!$)}function A(J){var X,G=J.name;return{name:G,schema:J,mutate:function(K){var $=K.trans,Z=K.type,Q=K.keys,ee=K.values,oe=K.range;return new Promise(function(me,Ce){me=Wt(me);var xe=$.objectStore(G),we=xe.keyPath==null,Te=Z==="put"||Z==="add";if(!Te&&Z!=="delete"&&Z!=="deleteRange")throw new Error("Invalid operation type: "+Z);var ke,De=(Q||ee||{length:1}).length;if(Q&&ee&&Q.length!==ee.length)throw new Error("Given keys array must have same length as given values array.");if(De===0)return me({numFailures:0,failures:{},results:[],lastResult:void 0});function rt($n){++li,Nl($n)}var ht=[],dt=[],li=0;if(Z==="deleteRange"){if(oe.type===4)return me({numFailures:li,failures:dt,results:[],lastResult:void 0});oe.type===3?ht.push(ke=xe.clear()):ht.push(ke=xe.delete(S(oe)))}else{var we=Te?we?[ee,Q]:[ee,null]:[Q,null],Ze=we[0],In=we[1];if(Te)for(var Pn=0;Pn<De;++Pn)ht.push(ke=In&&In[Pn]!==void 0?xe[Z](Ze[Pn],In[Pn]):xe[Z](Ze[Pn])),ke.onerror=rt;else for(Pn=0;Pn<De;++Pn)ht.push(ke=xe[Z](Ze[Pn])),ke.onerror=rt}function Vh($n){$n=$n.target.result,ht.forEach(function(ao,lm){return ao.error!=null&&(dt[lm]=ao.error)}),me({numFailures:li,failures:dt,results:Z==="delete"?Q:ht.map(function(ao){return ao.result}),lastResult:$n})}ke.onerror=function($n){rt($n),Vh($n)},ke.onsuccess=Vh})},getMany:function(K){var $=K.trans,Z=K.keys;return new Promise(function(Q,ee){Q=Wt(Q);for(var oe,me=$.objectStore(G),Ce=Z.length,xe=new Array(Ce),we=0,Te=0,ke=function(ht){ht=ht.target,xe[ht._pos]=ht.result,++Te===we&&Q(xe)},De=nr(ee),rt=0;rt<Ce;++rt)Z[rt]!=null&&((oe=me.get(Z[rt]))._pos=rt,oe.onsuccess=ke,oe.onerror=De,++we);we===0&&Q(xe)})},get:function(K){var $=K.trans,Z=K.key;return new Promise(function(Q,ee){Q=Wt(Q);var oe=$.objectStore(G).get(Z);oe.onsuccess=function(me){return Q(me.target.result)},oe.onerror=nr(ee)})},query:(X=Y,function(K){return new Promise(function($,Z){$=Wt($);var Q,ee,oe,we=K.trans,me=K.values,Ce=K.limit,ke=K.query,xe=Ce===1/0?void 0:Ce,Te=ke.index,ke=ke.range,we=we.objectStore(G),Te=Te.isPrimaryKey?we:we.index(Te.name),ke=S(ke);if(Ce===0)return $({result:[]});X?((xe=me?Te.getAll(ke,xe):Te.getAllKeys(ke,xe)).onsuccess=function(De){return $({result:De.target.result})},xe.onerror=nr(Z)):(Q=0,ee=!me&&"openKeyCursor"in Te?Te.openKeyCursor(ke):Te.openCursor(ke),oe=[],ee.onsuccess=function(De){var rt=ee.result;return rt?(oe.push(me?rt.value:rt.primaryKey),++Q===Ce?$({result:oe}):void rt.continue()):$({result:oe})},ee.onerror=nr(Z))})}),openCursor:function(K){var $=K.trans,Z=K.values,Q=K.query,ee=K.reverse,oe=K.unique;return new Promise(function(me,Ce){me=Wt(me);var Te=Q.index,xe=Q.range,we=$.objectStore(G),we=Te.isPrimaryKey?we:we.index(Te.name),Te=ee?oe?"prevunique":"prev":oe?"nextunique":"next",ke=!Z&&"openKeyCursor"in we?we.openKeyCursor(S(xe),Te):we.openCursor(S(xe),Te);ke.onerror=nr(Ce),ke.onsuccess=Wt(function(De){var rt,ht,dt,li,Ze=ke.result;Ze?(Ze.___id=++j_,Ze.done=!1,rt=Ze.continue.bind(Ze),ht=(ht=Ze.continuePrimaryKey)&&ht.bind(Ze),dt=Ze.advance.bind(Ze),li=function(){throw new Error("Cursor not stopped")},Ze.trans=$,Ze.stop=Ze.continue=Ze.continuePrimaryKey=Ze.advance=function(){throw new Error("Cursor not started")},Ze.fail=Wt(Ce),Ze.next=function(){var In=this,Pn=1;return this.start(function(){return Pn--?In.continue():In.stop()}).then(function(){return In})},Ze.start=function(In){function Pn(){if(ke.result)try{In()}catch($n){Ze.fail($n)}else Ze.done=!0,Ze.start=function(){throw new Error("Cursor behind last entry")},Ze.stop()}var Vh=new Promise(function($n,ao){$n=Wt($n),ke.onerror=nr(ao),Ze.fail=ao,Ze.stop=function(lm){Ze.stop=Ze.continue=Ze.continuePrimaryKey=Ze.advance=li,$n(lm)}});return ke.onsuccess=Wt(function($n){ke.onsuccess=Pn,Pn()}),Ze.continue=rt,Ze.continuePrimaryKey=ht,Ze.advance=dt,Pn(),Vh},me(Ze)):me(null)},Ce)})},count:function(K){var $=K.query,Z=K.trans,Q=$.index,ee=$.range;return new Promise(function(oe,me){var Ce=Z.objectStore(G),xe=Q.isPrimaryKey?Ce:Ce.index(Q.name),Ce=S(ee),xe=Ce?xe.count(Ce):xe.count();xe.onsuccess=Wt(function(we){return oe(we.target.result)}),xe.onerror=nr(me)})}}}var I,L,F,U=(L=W,F=U1((I=g).objectStoreNames),{schema:{name:I.name,tables:F.map(function(J){return L.objectStore(J)}).map(function(J){var X=J.keyPath,$=J.autoIncrement,G=a(X),K={},$={name:J.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:X==null,compound:G,keyPath:X,autoIncrement:$,unique:!0,extractKey:jg(X)},indexes:U1(J.indexNames).map(function(Z){return J.index(Z)}).map(function(oe){var Q=oe.name,ee=oe.unique,me=oe.multiEntry,oe=oe.keyPath,me={name:Q,compound:a(oe),keyPath:oe,unique:ee,multiEntry:me,extractKey:jg(oe)};return K[Bl(oe)]=me}),getIndexByKeyPath:function(Z){return K[Bl(Z)]}};return K[":id"]=$.primaryKey,X!=null&&(K[Bl(X)]=$.primaryKey),$})},hasGetAll:0<F.length&&"getAll"in L.objectStore(F[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),W=U.schema,Y=U.hasGetAll,U=W.tables.map(A),z={};return U.forEach(function(J){return z[J.name]=J}),{stack:"dbcore",transaction:g.transaction.bind(g),table:function(J){if(!z[J])throw new Error("Table '".concat(J,"' not found"));return z[J]},MIN_KEY:-1/0,MAX_KEY:zl(x),schema:W}}function $_(g,x,v,S){var A=v.IDBKeyRange;return v.indexedDB,{dbcore:(S=V_(x,A,S),g.dbcore.reduce(function(I,L){return L=L.create,n(n({},I),L(I))},S))}}function Rh(g,S){var v=S.db,S=$_(g._middlewares,v,g._deps,S);g.core=S.dbcore,g.tables.forEach(function(A){var I=A.name;g.core.schema.tables.some(function(L){return L.name===I})&&(A.core=g.core.table(I),g[I]instanceof g.Table&&(g[I].core=A.core))})}function _h(g,x,v,S){v.forEach(function(A){var I=S[A];x.forEach(function(L){var F=function W(Y,U){return b(Y,U)||(Y=c(Y))&&W(Y,U)}(L,A);(!F||"value"in F&&F.value===void 0)&&(L===g.Transaction.prototype||L instanceof g.Transaction?p(L,A,{get:function(){return this.table(A)},set:function(W){f(this,A,{value:W,writable:!0,configurable:!0,enumerable:!0})}}):L[A]=new g.Table(A,I))})})}function Vg(g,x){x.forEach(function(v){for(var S in v)v[S]instanceof g.Table&&delete v[S]})}function G_(g,x){return g._cfg.version-x._cfg.version}function q_(g,x,v,S){var A=g._dbSchema;v.objectStoreNames.contains("$meta")&&!A.$meta&&(A.$meta=Yg("$meta",J1("")[0],[]),g._storeNames.push("$meta"));var I=g._createTransaction("readwrite",g._storeNames,A);I.create(v),I._completion.catch(S);var L=I._reject.bind(I),F=Ie.transless||Ie;ss(function(){return Ie.trans=I,Ie.transless=F,x!==0?(Rh(g,v),Y=x,((W=I).storeNames.includes("$meta")?W.table("$meta").get("version").then(function(U){return U??Y}):Le.resolve(Y)).then(function(U){return J=U,X=I,G=v,K=[],U=(z=g)._versions,$=z._dbSchema=Nh(0,z.idbdb,G),(U=U.filter(function(Z){return Z._cfg.version>=J})).length!==0?(U.forEach(function(Z){K.push(function(){var Q=$,ee=Z._cfg.dbschema;Fh(z,Q,G),Fh(z,ee,G),$=z._dbSchema=ee;var oe=$g(Q,ee);oe.add.forEach(function(Te){Gg(G,Te[0],Te[1].primKey,Te[1].indexes)}),oe.change.forEach(function(Te){if(Te.recreate)throw new Ae.Upgrade("Not yet support for changing primary key");var ke=G.objectStore(Te.name);Te.add.forEach(function(De){return Dh(ke,De)}),Te.change.forEach(function(De){ke.deleteIndex(De.name),Dh(ke,De)}),Te.del.forEach(function(De){return ke.deleteIndex(De)})});var me=Z._cfg.contentUpgrade;if(me&&Z._cfg.version>J){Rh(z,G),X._memoizedTables={};var Ce=O(ee);oe.del.forEach(function(Te){Ce[Te]=Q[Te]}),Vg(z,[z.Transaction.prototype]),_h(z,[z.Transaction.prototype],o(Ce),Ce),X.schema=Ce;var xe,we=ze(me);return we&&na(),oe=Le.follow(function(){var Te;(xe=me(X))&&we&&(Te=as.bind(null,null),xe.then(Te,Te))}),xe&&typeof xe.then=="function"?Le.resolve(xe):oe.then(function(){return xe})}}),K.push(function(Q){var ee,oe,me=Z._cfg.dbschema;ee=me,oe=Q,[].slice.call(oe.db.objectStoreNames).forEach(function(Ce){return ee[Ce]==null&&oe.db.deleteObjectStore(Ce)}),Vg(z,[z.Transaction.prototype]),_h(z,[z.Transaction.prototype],z._storeNames,z._dbSchema),X.schema=z._dbSchema}),K.push(function(Q){z.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(z.idbdb.version/10)===Z._cfg.version?(z.idbdb.deleteObjectStore("$meta"),delete z._dbSchema.$meta,z._storeNames=z._storeNames.filter(function(ee){return ee!=="$meta"})):Q.objectStore("$meta").put(Z._cfg.version,"version"))})}),function Z(){return K.length?Le.resolve(K.shift()(X.idbtrans)).then(Z):Le.resolve()}().then(function(){K1($,G)})):Le.resolve();var z,J,X,G,K,$}).catch(L)):(o(A).forEach(function(U){Gg(v,U,A[U].primKey,A[U].indexes)}),Rh(g,v),void Le.follow(function(){return g.on.populate.fire(I)}).catch(L));var W,Y})}function U_(g,x){K1(g._dbSchema,x),x.db.version%10!=0||x.objectStoreNames.contains("$meta")||x.db.createObjectStore("$meta").add(Math.ceil(x.db.version/10-1),"version");var v=Nh(0,g.idbdb,x);Fh(g,g._dbSchema,x);for(var S=0,A=$g(v,g._dbSchema).change;S<A.length;S++){var I=function(L){if(L.change.length||L.recreate)return console.warn("Unable to patch indexes of table ".concat(L.name," because it has changes on the type of index or primary key.")),{value:void 0};var F=x.objectStore(L.name);L.add.forEach(function(W){fe&&console.debug("Dexie upgrade patch: Creating missing index ".concat(L.name,".").concat(W.src)),Dh(F,W)})}(A[S]);if(typeof I=="object")return I.value}}function $g(g,x){var v,S={del:[],add:[],change:[]};for(v in g)x[v]||S.del.push(v);for(v in x){var A=g[v],I=x[v];if(A){var L={name:v,def:I,recreate:!1,del:[],add:[],change:[]};if(""+(A.primKey.keyPath||"")!=""+(I.primKey.keyPath||"")||A.primKey.auto!==I.primKey.auto)L.recreate=!0,S.change.push(L);else{var F=A.idxByName,W=I.idxByName,Y=void 0;for(Y in F)W[Y]||L.del.push(Y);for(Y in W){var U=F[Y],z=W[Y];U?U.src!==z.src&&L.change.push(z):L.add.push(z)}(0<L.del.length||0<L.add.length||0<L.change.length)&&S.change.push(L)}}else S.add.push([v,I])}return S}function Gg(g,x,v,S){var A=g.db.createObjectStore(x,v.keyPath?{keyPath:v.keyPath,autoIncrement:v.auto}:{autoIncrement:v.auto});return S.forEach(function(I){return Dh(A,I)}),A}function K1(g,x){o(g).forEach(function(v){x.db.objectStoreNames.contains(v)||(fe&&console.debug("Dexie: Creating missing table",v),Gg(x,v,g[v].primKey,g[v].indexes))})}function Dh(g,x){g.createIndex(x.name,x.keyPath,{unique:x.unique,multiEntry:x.multi})}function Nh(g,x,v){var S={};return w(x.objectStoreNames,0).forEach(function(A){for(var I=v.objectStore(A),L=Xg(q1(Y=I.keyPath),Y||"",!0,!1,!!I.autoIncrement,Y&&typeof Y!="string",!0),F=[],W=0;W<I.indexNames.length;++W){var U=I.index(I.indexNames[W]),Y=U.keyPath,U=Xg(U.name,Y,!!U.unique,!!U.multiEntry,!1,Y&&typeof Y!="string",!1);F.push(U)}S[A]=Yg(A,L,F)}),S}function Fh(g,x,v){for(var S=v.db.objectStoreNames,A=0;A<S.length;++A){var I=S[A],L=v.objectStore(I);g._hasGetAll="getAll"in L;for(var F=0;F<L.indexNames.length;++F){var W=L.indexNames[F],Y=L.index(W).keyPath,U=typeof Y=="string"?Y:"["+w(Y).join("+")+"]";!x[I]||(Y=x[I].idxByName[U])&&(Y.name=W,delete x[I].idxByName[U],x[I].idxByName[W]=Y)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(g._hasGetAll=!1)}function J1(g){return g.split(",").map(function(x,v){var S=(x=x.trim()).replace(/([&*]|\+\+)/g,""),A=/^\[/.test(S)?S.match(/^\[(.*)\]$/)[1].split("+"):S;return Xg(S,A||null,/\&/.test(x),/\*/.test(x),/\+\+/.test(x),a(A),v===0)})}var K_=(zh.prototype._parseStoresSpec=function(g,x){o(g).forEach(function(v){if(g[v]!==null){var S=J1(g[v]),A=S.shift();if(A.unique=!0,A.multi)throw new Ae.Schema("Primary key cannot be multi-valued");S.forEach(function(I){if(I.auto)throw new Ae.Schema("Only primary key can be marked as autoIncrement (++)");if(!I.keyPath)throw new Ae.Schema("Index must have a name and cannot be an empty string")}),x[v]=Yg(v,A,S)}})},zh.prototype.stores=function(v){var x=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,v):v;var v=x._versions,S={},A={};return v.forEach(function(I){l(S,I._cfg.storesSource),A=I._cfg.dbschema={},I._parseStoresSpec(S,A)}),x._dbSchema=A,Vg(x,[x._allTables,x,x.Transaction.prototype]),_h(x,[x._allTables,x,x.Transaction.prototype,this._cfg.tables],o(A),A),x._storeNames=o(A),this},zh.prototype.upgrade=function(g){return this._cfg.contentUpgrade=ye(this._cfg.contentUpgrade||pt,g),this},zh);function zh(){}function qg(g,x){var v=g._dbNamesDB;return v||(v=g._dbNamesDB=new Tr(Eh,{addons:[],indexedDB:g,IDBKeyRange:x})).version(1).stores({dbnames:"name"}),v.table("dbnames")}function Ug(g){return g&&typeof g.databases=="function"}function Kg(g){return ss(function(){return Ie.letThrough=!0,g()})}function Jg(g){return!("from"in g)}var On=function(g,x){if(!this){var v=new On;return g&&"d"in g&&l(v,g),v}l(this,arguments.length?{d:1,from:g,to:1<arguments.length?x:g}:{d:0})};function Hl(g,x,v){var S=mt(x,v);if(!isNaN(S)){if(0<S)throw RangeError();if(Jg(g))return l(g,{from:x,to:v,d:1});var A=g.l,S=g.r;if(mt(v,g.from)<0)return A?Hl(A,x,v):g.l={from:x,to:v,d:1,l:null,r:null},Q1(g);if(0<mt(x,g.to))return S?Hl(S,x,v):g.r={from:x,to:v,d:1,l:null,r:null},Q1(g);mt(x,g.from)<0&&(g.from=x,g.l=null,g.d=S?S.d+1:1),0<mt(v,g.to)&&(g.to=v,g.r=null,g.d=g.l?g.l.d+1:1),v=!g.r,A&&!g.l&&Wl(g,A),S&&v&&Wl(g,S)}}function Wl(g,x){Jg(x)||function v(S,W){var I=W.from,L=W.to,F=W.l,W=W.r;Hl(S,I,L),F&&v(S,F),W&&v(S,W)}(g,x)}function Z1(g,x){var v=Bh(x),S=v.next();if(S.done)return!1;for(var A=S.value,I=Bh(g),L=I.next(A.from),F=L.value;!S.done&&!L.done;){if(mt(F.from,A.to)<=0&&0<=mt(F.to,A.from))return!0;mt(A.from,F.from)<0?A=(S=v.next(F.from)).value:F=(L=I.next(A.from)).value}return!1}function Bh(g){var x=Jg(g)?null:{s:0,n:g};return{next:function(v){for(var S=0<arguments.length;x;)switch(x.s){case 0:if(x.s=1,S)for(;x.n.l&&mt(v,x.n.from)<0;)x={up:x,n:x.n.l,s:1};else for(;x.n.l;)x={up:x,n:x.n.l,s:1};case 1:if(x.s=2,!S||mt(v,x.n.to)<=0)return{value:x.n,done:!1};case 2:if(x.n.r){x.s=3,x={up:x,n:x.n.r,s:0};continue}case 3:x=x.up}return{done:!0}}}}function Q1(g){var x,v,S=(((x=g.r)===null||x===void 0?void 0:x.d)||0)-(((v=g.l)===null||v===void 0?void 0:v.d)||0),A=1<S?"r":S<-1?"l":"";A&&(x=A=="r"?"l":"r",v=n({},g),S=g[A],g.from=S.from,g.to=S.to,g[A]=S[A],v[A]=S[x],(g[x]=v).d=ek(v)),g.d=ek(g)}function ek(v){var x=v.r,v=v.l;return(x?v?Math.max(x.d,v.d):x.d:v?v.d:0)+1}function Hh(g,x){return o(x).forEach(function(v){g[v]?Wl(g[v],x[v]):g[v]=function S(A){var I,L,F={};for(I in A)h(A,I)&&(L=A[I],F[I]=!L||typeof L!="object"||R.has(L.constructor)?L:S(L));return F}(x[v])}),g}function Zg(g,x){return g.all||x.all||Object.keys(g).some(function(v){return x[v]&&Z1(x[v],g[v])})}d(On.prototype,((Si={add:function(g){return Wl(this,g),this},addKey:function(g){return Hl(this,g,g),this},addKeys:function(g){var x=this;return g.forEach(function(v){return Hl(x,v,v)}),this},hasKey:function(g){var x=Bh(this).next(g).value;return x&&mt(x.from,g)<=0&&0<=mt(x.to,g)}})[te]=function(){return Bh(this)},Si));var so={},Qg={},em=!1;function Wh(g){Hh(Qg,g),em||(em=!0,setTimeout(function(){em=!1,tm(Qg,!(Qg={}))},0))}function tm(g,x){x===void 0&&(x=!1);var v=new Set;if(g.all)for(var S=0,A=Object.values(so);S<A.length;S++)tk(L=A[S],g,v,x);else for(var I in g){var L,F=/^idb\:\/\/(.*)\/(.*)\//.exec(I);F&&(I=F[1],F=F[2],(L=so["idb://".concat(I,"/").concat(F)])&&tk(L,g,v,x))}v.forEach(function(W){return W()})}function tk(g,x,v,S){for(var A=[],I=0,L=Object.entries(g.queries.query);I<L.length;I++){for(var F=L[I],W=F[0],Y=[],U=0,z=F[1];U<z.length;U++){var J=z[U];Zg(x,J.obsSet)?J.subscribers.forEach(function($){return v.add($)}):S&&Y.push(J)}S&&A.push([W,Y])}if(S)for(var X=0,G=A;X<G.length;X++){var K=G[X],W=K[0],Y=K[1];g.queries.query[W]=Y}}function J_(g){var x=g._state,v=g._deps.indexedDB;if(x.isBeingOpened||g.idbdb)return x.dbReadyPromise.then(function(){return x.dbOpenError?Gt(x.dbOpenError):g});x.isBeingOpened=!0,x.dbOpenError=null,x.openComplete=!1;var S=x.openCanceller,A=Math.round(10*g.verno),I=!1;function L(){if(x.openCanceller!==S)throw new Ae.DatabaseClosed("db.open() was cancelled")}function F(){return new Le(function(J,X){if(L(),!v)throw new Ae.MissingAPI;var G=g.name,K=x.autoSchema||!A?v.open(G):v.open(G,A);if(!K)throw new Ae.MissingAPI;K.onerror=nr(X),K.onblocked=Wt(g._fireOnBlocked),K.onupgradeneeded=Wt(function($){var Z;U=K.transaction,x.autoSchema&&!g._options.allowEmptyDB?(K.onerror=Nl,U.abort(),K.result.close(),(Z=v.deleteDatabase(G)).onsuccess=Z.onerror=Wt(function(){X(new Ae.NoSuchDatabase("Database ".concat(G," doesnt exist")))})):(U.onerror=nr(X),$=$.oldVersion>Math.pow(2,62)?0:$.oldVersion,z=$<1,g.idbdb=K.result,I&&U_(g,U),q_(g,$/10,U,X))},X),K.onsuccess=Wt(function(){U=null;var $,Z,Q,ee,oe,me=g.idbdb=K.result,Ce=w(me.objectStoreNames);if(0<Ce.length)try{var xe=me.transaction((ee=Ce).length===1?ee[0]:ee,"readonly");if(x.autoSchema)Z=me,Q=xe,($=g).verno=Z.version/10,Q=$._dbSchema=Nh(0,Z,Q),$._storeNames=w(Z.objectStoreNames,0),_h($,[$._allTables],o(Q),Q);else if(Fh(g,g._dbSchema,xe),((oe=$g(Nh(0,(oe=g).idbdb,xe),oe._dbSchema)).add.length||oe.change.some(function(we){return we.add.length||we.change.length}))&&!I)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),me.close(),A=me.version+1,I=!0,J(F());Rh(g,xe)}catch{}ia.push(g),me.onversionchange=Wt(function(we){x.vcFired=!0,g.on("versionchange").fire(we)}),me.onclose=Wt(function(we){g.on("close").fire(we)}),z&&(oe=g._deps,xe=G,me=oe.indexedDB,oe=oe.IDBKeyRange,Ug(me)||xe===Eh||qg(me,oe).put({name:xe}).catch(pt)),J()},X)}).catch(function(J){switch(J==null?void 0:J.name){case"UnknownError":if(0<x.PR1398_maxLoop)return x.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),F();break;case"VersionError":if(0<A)return A=0,F()}return Le.reject(J)})}var W,Y=x.dbReadyResolve,U=null,z=!1;return Le.race([S,(typeof navigator>"u"?Le.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(J){function X(){return indexedDB.databases().finally(J)}W=setInterval(X,100),X()}).finally(function(){return clearInterval(W)}):Promise.resolve()).then(F)]).then(function(){return L(),x.onReadyBeingFired=[],Le.resolve(Kg(function(){return g.on.ready.fire(g.vip)})).then(function J(){if(0<x.onReadyBeingFired.length){var X=x.onReadyBeingFired.reduce(ye,pt);return x.onReadyBeingFired=[],Le.resolve(Kg(function(){return X(g.vip)})).then(J)}})}).finally(function(){x.openCanceller===S&&(x.onReadyBeingFired=null,x.isBeingOpened=!1)}).catch(function(J){x.dbOpenError=J;try{U&&U.abort()}catch{}return S===x.openCanceller&&g._close(),Gt(J)}).finally(function(){x.openComplete=!0,Y()}).then(function(){var J;return z&&(J={},g.tables.forEach(function(X){X.schema.indexes.forEach(function(G){G.name&&(J["idb://".concat(g.name,"/").concat(X.name,"/").concat(G.name)]=new On(-1/0,[[[]]]))}),J["idb://".concat(g.name,"/").concat(X.name,"/")]=J["idb://".concat(g.name,"/").concat(X.name,"/:dels")]=new On(-1/0,[[[]]])}),us(Fl).fire(J),tm(J,!0)),g})}function nm(g){function x(I){return g.next(I)}var v=A(x),S=A(function(I){return g.throw(I)});function A(I){return function(W){var F=I(W),W=F.value;return F.done?W:W&&typeof W.then=="function"?W.then(v,S):a(W)?Promise.all(W).then(v,S):v(W)}}return A(x)()}function Xh(g,x,v){for(var S=a(g)?g.slice():[g],A=0;A<v;++A)S.push(x);return S}var Z_={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(g){return n(n({},g),{table:function(x){var v=g.table(x),S=v.schema,A={},I=[];function L(z,J,X){var G=Bl(z),K=A[G]=A[G]||[],$=z==null?0:typeof z=="string"?1:z.length,Z=0<J,Z=n(n({},X),{name:Z?"".concat(G,"(virtual-from:").concat(X.name,")"):X.name,lowLevelIndex:X,isVirtual:Z,keyTail:J,keyLength:$,extractKey:jg(z),unique:!Z&&X.unique});return K.push(Z),Z.isPrimaryKey||I.push(Z),1<$&&L($===2?z[0]:z.slice(0,$-1),J+1,X),K.sort(function(Q,ee){return Q.keyTail-ee.keyTail}),Z}x=L(S.primaryKey.keyPath,0,S.primaryKey),A[":id"]=[x];for(var F=0,W=S.indexes;F<W.length;F++){var Y=W[F];L(Y.keyPath,0,Y)}function U(z){var J,X=z.query.index;return X.isVirtual?n(n({},z),{query:{index:X.lowLevelIndex,range:(J=z.query.range,X=X.keyTail,{type:J.type===1?2:J.type,lower:Xh(J.lower,J.lowerOpen?g.MAX_KEY:g.MIN_KEY,X),lowerOpen:!0,upper:Xh(J.upper,J.upperOpen?g.MIN_KEY:g.MAX_KEY,X),upperOpen:!0})}}):z}return n(n({},v),{schema:n(n({},S),{primaryKey:x,indexes:I,getIndexByKeyPath:function(z){return(z=A[Bl(z)])&&z[0]}}),count:function(z){return v.count(U(z))},query:function(z){return v.query(U(z))},openCursor:function(z){var J=z.query.index,X=J.keyTail,G=J.isVirtual,K=J.keyLength;return G?v.openCursor(U(z)).then(function(Z){return Z&&$(Z)}):v.openCursor(z);function $(Z){return Object.create(Z,{continue:{value:function(Q){Q!=null?Z.continue(Xh(Q,z.reverse?g.MAX_KEY:g.MIN_KEY,X)):z.unique?Z.continue(Z.key.slice(0,K).concat(z.reverse?g.MIN_KEY:g.MAX_KEY,X)):Z.continue()}},continuePrimaryKey:{value:function(Q,ee){Z.continuePrimaryKey(Xh(Q,g.MAX_KEY,X),ee)}},primaryKey:{get:function(){return Z.primaryKey}},key:{get:function(){var Q=Z.key;return K===1?Q[0]:Q.slice(0,K)}},value:{get:function(){return Z.value}}})}}})}})}};function im(g,x,v,S){return v=v||{},S=S||"",o(g).forEach(function(A){var I,L,F;h(x,A)?(I=g[A],L=x[A],typeof I=="object"&&typeof L=="object"&&I&&L?(F=re(I))!==re(L)?v[S+A]=x[A]:F==="Object"?im(I,L,v,S+A+"."):I!==L&&(v[S+A]=x[A]):I!==L&&(v[S+A]=x[A])):v[S+A]=void 0}),o(x).forEach(function(A){h(g,A)||(v[S+A]=x[A])}),v}function rm(g,x){return x.type==="delete"?x.keys:x.keys||x.values.map(g.extractKey)}var Q_={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(g){return n(n({},g),{table:function(x){var v=g.table(x),S=v.schema.primaryKey;return n(n({},v),{mutate:function(A){var I=Ie.trans,L=I.table(x).hook,F=L.deleting,W=L.creating,Y=L.updating;switch(A.type){case"add":if(W.fire===pt)break;return I._promise("readwrite",function(){return U(A)},!0);case"put":if(W.fire===pt&&Y.fire===pt)break;return I._promise("readwrite",function(){return U(A)},!0);case"delete":if(F.fire===pt)break;return I._promise("readwrite",function(){return U(A)},!0);case"deleteRange":if(F.fire===pt)break;return I._promise("readwrite",function(){return function z(J,X,G){return v.query({trans:J,values:!1,query:{index:S,range:X},limit:G}).then(function(K){var $=K.result;return U({type:"delete",keys:$,trans:J}).then(function(Z){return 0<Z.numFailures?Promise.reject(Z.failures[0]):$.length<G?{failures:[],numFailures:0,lastResult:void 0}:z(J,n(n({},X),{lower:$[$.length-1],lowerOpen:!0}),G)})})}(A.trans,A.range,1e4)},!0)}return v.mutate(A);function U(z){var J,X,G,K=Ie.trans,$=z.keys||rm(S,z);if(!$)throw new Error("Keys missing");return(z=z.type==="add"||z.type==="put"?n(n({},z),{keys:$}):n({},z)).type!=="delete"&&(z.values=r([],z.values)),z.keys&&(z.keys=r([],z.keys)),J=v,G=$,((X=z).type==="add"?Promise.resolve([]):J.getMany({trans:X.trans,keys:G,cache:"immutable"})).then(function(Z){var Q=$.map(function(ee,oe){var me,Ce,xe,we=Z[oe],Te={onerror:null,onsuccess:null};return z.type==="delete"?F.fire.call(Te,ee,we,K):z.type==="add"||we===void 0?(me=W.fire.call(Te,ee,z.values[oe],K),ee==null&&me!=null&&(z.keys[oe]=ee=me,S.outbound||M(z.values[oe],S.keyPath,ee))):(me=im(we,z.values[oe]),(Ce=Y.fire.call(Te,me,ee,we,K))&&(xe=z.values[oe],Object.keys(Ce).forEach(function(ke){h(xe,ke)?xe[ke]=Ce[ke]:M(xe,ke,Ce[ke])}))),Te});return v.mutate(z).then(function(ee){for(var oe=ee.failures,me=ee.results,Ce=ee.numFailures,ee=ee.lastResult,xe=0;xe<$.length;++xe){var we=(me||$)[xe],Te=Q[xe];we==null?Te.onerror&&Te.onerror(oe[xe]):Te.onsuccess&&Te.onsuccess(z.type==="put"&&Z[xe]?z.values[xe]:we)}return{failures:oe,results:me,numFailures:Ce,lastResult:ee}}).catch(function(ee){return Q.forEach(function(oe){return oe.onerror&&oe.onerror(ee)}),Promise.reject(ee)})})}}})}})}};function nk(g,x,v){try{if(!x||x.keys.length<g.length)return null;for(var S=[],A=0,I=0;A<x.keys.length&&I<g.length;++A)mt(x.keys[A],g[I])===0&&(S.push(v?V(x.values[A]):x.values[A]),++I);return S.length===g.length?S:null}catch{return null}}var eD={stack:"dbcore",level:-1,create:function(g){return{table:function(x){var v=g.table(x);return n(n({},v),{getMany:function(S){if(!S.cache)return v.getMany(S);var A=nk(S.keys,S.trans._cache,S.cache==="clone");return A?Le.resolve(A):v.getMany(S).then(function(I){return S.trans._cache={keys:S.keys,values:S.cache==="clone"?V(I):I},I})},mutate:function(S){return S.type!=="add"&&(S.trans._cache=null),v.mutate(S)}})}}}};function ik(g,x){return g.trans.mode==="readonly"&&!!g.subscr&&!g.trans.explicit&&g.trans.db._options.cache!=="disabled"&&!x.schema.primaryKey.outbound}function rk(g,x){switch(g){case"query":return x.values&&!x.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var tD={stack:"dbcore",level:0,name:"Observability",create:function(g){var x=g.schema.name,v=new On(g.MIN_KEY,g.MAX_KEY);return n(n({},g),{transaction:function(S,A,I){if(Ie.subscr&&A!=="readonly")throw new Ae.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ie.querier));return g.transaction(S,A,I)},table:function(S){var A=g.table(S),I=A.schema,L=I.primaryKey,z=I.indexes,F=L.extractKey,W=L.outbound,Y=L.autoIncrement&&z.filter(function(X){return X.compound&&X.keyPath.includes(L.keyPath)}),U=n(n({},A),{mutate:function(X){function G(ke){return ke="idb://".concat(x,"/").concat(S,"/").concat(ke),ee[ke]||(ee[ke]=new On)}var K,$,Z,Q=X.trans,ee=X.mutatedParts||(X.mutatedParts={}),oe=G(""),me=G(":dels"),Ce=X.type,Te=X.type==="deleteRange"?[X.range]:X.type==="delete"?[X.keys]:X.values.length<50?[rm(L,X).filter(function(ke){return ke}),X.values]:[],xe=Te[0],we=Te[1],Te=X.trans._cache;return a(xe)?(oe.addKeys(xe),(Te=Ce==="delete"||xe.length===we.length?nk(xe,Te):null)||me.addKeys(xe),(Te||we)&&(K=G,$=Te,Z=we,I.indexes.forEach(function(ke){var De=K(ke.name||"");function rt(dt){return dt!=null?ke.extractKey(dt):null}function ht(dt){return ke.multiEntry&&a(dt)?dt.forEach(function(li){return De.addKey(li)}):De.addKey(dt)}($||Z).forEach(function(dt,In){var Ze=$&&rt($[In]),In=Z&&rt(Z[In]);mt(Ze,In)!==0&&(Ze!=null&&ht(Ze),In!=null&&ht(In))})}))):xe?(we={from:(we=xe.lower)!==null&&we!==void 0?we:g.MIN_KEY,to:(we=xe.upper)!==null&&we!==void 0?we:g.MAX_KEY},me.add(we),oe.add(we)):(oe.add(v),me.add(v),I.indexes.forEach(function(ke){return G(ke.name).add(v)})),A.mutate(X).then(function(ke){return!xe||X.type!=="add"&&X.type!=="put"||(oe.addKeys(ke.results),Y&&Y.forEach(function(De){for(var rt=X.values.map(function(Ze){return De.extractKey(Ze)}),ht=De.keyPath.findIndex(function(Ze){return Ze===L.keyPath}),dt=0,li=ke.results.length;dt<li;++dt)rt[dt][ht]=ke.results[dt];G(De.name).addKeys(rt)})),Q.mutatedParts=Hh(Q.mutatedParts||{},ee),ke})}}),z=function(G){var K=G.query,G=K.index,K=K.range;return[G,new On((G=K.lower)!==null&&G!==void 0?G:g.MIN_KEY,(K=K.upper)!==null&&K!==void 0?K:g.MAX_KEY)]},J={get:function(X){return[L,new On(X.key)]},getMany:function(X){return[L,new On().addKeys(X.keys)]},count:z,query:z,openCursor:z};return o(J).forEach(function(X){U[X]=function(G){var K=Ie.subscr,$=!!K,Z=ik(Ie,A)&&rk(X,G)?G.obsSet={}:K;if($){var Q=function(we){return we="idb://".concat(x,"/").concat(S,"/").concat(we),Z[we]||(Z[we]=new On)},ee=Q(""),oe=Q(":dels"),K=J[X](G),$=K[0],K=K[1];if((X==="query"&&$.isPrimaryKey&&!G.values?oe:Q($.name||"")).add(K),!$.isPrimaryKey){if(X!=="count"){var me=X==="query"&&W&&G.values&&A.query(n(n({},G),{values:!1}));return A[X].apply(this,arguments).then(function(we){if(X==="query"){if(W&&G.values)return me.then(function(rt){return rt=rt.result,ee.addKeys(rt),we});var Te=G.values?we.result.map(F):we.result;(G.values?ee:oe).addKeys(Te)}else if(X==="openCursor"){var ke=we,De=G.values;return ke&&Object.create(ke,{key:{get:function(){return oe.addKey(ke.primaryKey),ke.key}},primaryKey:{get:function(){var rt=ke.primaryKey;return oe.addKey(rt),rt}},value:{get:function(){return De&&ee.addKey(ke.primaryKey),ke.value}}})}return we})}oe.add(v)}}return A[X].apply(this,arguments)}}),U}})}};function sk(g,x,v){if(v.numFailures===0)return x;if(x.type==="deleteRange")return null;var S=x.keys?x.keys.length:"values"in x&&x.values?x.values.length:1;return v.numFailures===S?null:(x=n({},x),a(x.keys)&&(x.keys=x.keys.filter(function(A,I){return!(I in v.failures)})),"values"in x&&a(x.values)&&(x.values=x.values.filter(function(A,I){return!(I in v.failures)})),x)}function sm(g,x){return v=g,((S=x).lower===void 0||(S.lowerOpen?0<mt(v,S.lower):0<=mt(v,S.lower)))&&(g=g,(x=x).upper===void 0||(x.upperOpen?mt(g,x.upper)<0:mt(g,x.upper)<=0));var v,S}function ok(g,x,J,S,A,I){if(!J||J.length===0)return g;var L=x.query.index,F=L.multiEntry,W=x.query.range,Y=S.schema.primaryKey.extractKey,U=L.extractKey,z=(L.lowLevelIndex||L).extractKey,J=J.reduce(function(X,G){var K=X,$=[];if(G.type==="add"||G.type==="put")for(var Z=new On,Q=G.values.length-1;0<=Q;--Q){var ee,oe=G.values[Q],me=Y(oe);Z.hasKey(me)||(ee=U(oe),(F&&a(ee)?ee.some(function(ke){return sm(ke,W)}):sm(ee,W))&&(Z.addKey(me),$.push(oe)))}switch(G.type){case"add":var Ce=new On().addKeys(x.values?X.map(function(De){return Y(De)}):X),K=X.concat(x.values?$.filter(function(De){return De=Y(De),!Ce.hasKey(De)&&(Ce.addKey(De),!0)}):$.map(function(De){return Y(De)}).filter(function(De){return!Ce.hasKey(De)&&(Ce.addKey(De),!0)}));break;case"put":var xe=new On().addKeys(G.values.map(function(De){return Y(De)}));K=X.filter(function(De){return!xe.hasKey(x.values?Y(De):De)}).concat(x.values?$:$.map(function(De){return Y(De)}));break;case"delete":var we=new On().addKeys(G.keys);K=X.filter(function(De){return!we.hasKey(x.values?Y(De):De)});break;case"deleteRange":var Te=G.range;K=X.filter(function(De){return!sm(Y(De),Te)})}return K},g);return J===g?g:(J.sort(function(X,G){return mt(z(X),z(G))||mt(Y(X),Y(G))}),x.limit&&x.limit<1/0&&(J.length>x.limit?J.length=x.limit:g.length===x.limit&&J.length<x.limit&&(A.dirty=!0)),I?Object.freeze(J):J)}function ak(g,x){return mt(g.lower,x.lower)===0&&mt(g.upper,x.upper)===0&&!!g.lowerOpen==!!x.lowerOpen&&!!g.upperOpen==!!x.upperOpen}function nD(g,x){return function(v,S,A,I){if(v===void 0)return S!==void 0?-1:0;if(S===void 0)return 1;if((S=mt(v,S))===0){if(A&&I)return 0;if(A)return 1;if(I)return-1}return S}(g.lower,x.lower,g.lowerOpen,x.lowerOpen)<=0&&0<=function(v,S,A,I){if(v===void 0)return S!==void 0?1:0;if(S===void 0)return-1;if((S=mt(v,S))===0){if(A&&I)return 0;if(A)return-1;if(I)return 1}return S}(g.upper,x.upper,g.upperOpen,x.upperOpen)}function iD(g,x,v,S){g.subscribers.add(v),S.addEventListener("abort",function(){var A,I;g.subscribers.delete(v),g.subscribers.size===0&&(A=g,I=x,setTimeout(function(){A.subscribers.size===0&&se(I,A)},3e3))})}var rD={stack:"dbcore",level:0,name:"Cache",create:function(g){var x=g.schema.name;return n(n({},g),{transaction:function(v,S,A){var I,L,F=g.transaction(v,S,A);return S==="readwrite"&&(L=(I=new AbortController).signal,A=function(W){return function(){if(I.abort(),S==="readwrite"){for(var Y=new Set,U=0,z=v;U<z.length;U++){var J=z[U],X=so["idb://".concat(x,"/").concat(J)];if(X){var G=g.table(J),K=X.optimisticOps.filter(function(De){return De.trans===F});if(F._explicit&&W&&F.mutatedParts)for(var $=0,Z=Object.values(X.queries.query);$<Z.length;$++)for(var Q=0,ee=(Ce=Z[$]).slice();Q<ee.length;Q++)Zg((xe=ee[Q]).obsSet,F.mutatedParts)&&(se(Ce,xe),xe.subscribers.forEach(function(De){return Y.add(De)}));else if(0<K.length){X.optimisticOps=X.optimisticOps.filter(function(De){return De.trans!==F});for(var oe=0,me=Object.values(X.queries.query);oe<me.length;oe++)for(var Ce,xe,we,Te=0,ke=(Ce=me[oe]).slice();Te<ke.length;Te++)(xe=ke[Te]).res!=null&&F.mutatedParts&&(W&&!xe.dirty?(we=Object.isFrozen(xe.res),we=ok(xe.res,xe.req,K,G,xe,we),xe.dirty?(se(Ce,xe),xe.subscribers.forEach(function(De){return Y.add(De)})):we!==xe.res&&(xe.res=we,xe.promise=Le.resolve({result:we}))):(xe.dirty&&se(Ce,xe),xe.subscribers.forEach(function(De){return Y.add(De)})))}}}Y.forEach(function(De){return De()})}}},F.addEventListener("abort",A(!1),{signal:L}),F.addEventListener("error",A(!1),{signal:L}),F.addEventListener("complete",A(!0),{signal:L})),F},table:function(v){var S=g.table(v),A=S.schema.primaryKey;return n(n({},S),{mutate:function(I){var L=Ie.trans;if(A.outbound||L.db._options.cache==="disabled"||L.explicit||L.idbtrans.mode!=="readwrite")return S.mutate(I);var F=so["idb://".concat(x,"/").concat(v)];return F?(L=S.mutate(I),I.type!=="add"&&I.type!=="put"||!(50<=I.values.length||rm(A,I).some(function(W){return W==null}))?(F.optimisticOps.push(I),I.mutatedParts&&Wh(I.mutatedParts),L.then(function(W){0<W.numFailures&&(se(F.optimisticOps,I),(W=sk(0,I,W))&&F.optimisticOps.push(W),I.mutatedParts&&Wh(I.mutatedParts))}),L.catch(function(){se(F.optimisticOps,I),I.mutatedParts&&Wh(I.mutatedParts)})):L.then(function(W){var Y=sk(0,n(n({},I),{values:I.values.map(function(U,z){var J;return W.failures[z]?U:(U=(J=A.keyPath)!==null&&J!==void 0&&J.includes(".")?V(U):n({},U),M(U,A.keyPath,W.results[z]),U)})}),W);F.optimisticOps.push(Y),queueMicrotask(function(){return I.mutatedParts&&Wh(I.mutatedParts)})}),L):S.mutate(I)},query:function(I){if(!ik(Ie,S)||!rk("query",I))return S.query(I);var L=((Y=Ie.trans)===null||Y===void 0?void 0:Y.db._options.cache)==="immutable",z=Ie,F=z.requery,W=z.signal,Y=function(G,K,$,Z){var Q=so["idb://".concat(G,"/").concat(K)];if(!Q)return[];if(!(K=Q.queries[$]))return[null,!1,Q,null];var ee=K[(Z.query?Z.query.index.name:null)||""];if(!ee)return[null,!1,Q,null];switch($){case"query":var oe=ee.find(function(me){return me.req.limit===Z.limit&&me.req.values===Z.values&&ak(me.req.query.range,Z.query.range)});return oe?[oe,!0,Q,ee]:[ee.find(function(me){return("limit"in me.req?me.req.limit:1/0)>=Z.limit&&(!Z.values||me.req.values)&&nD(me.req.query.range,Z.query.range)}),!1,Q,ee];case"count":return oe=ee.find(function(me){return ak(me.req.query.range,Z.query.range)}),[oe,!!oe,Q,ee]}}(x,v,"query",I),U=Y[0],z=Y[1],J=Y[2],X=Y[3];return U&&z?U.obsSet=I.obsSet:(z=S.query(I).then(function(G){var K=G.result;if(U&&(U.res=K),L){for(var $=0,Z=K.length;$<Z;++$)Object.freeze(K[$]);Object.freeze(K)}else G.result=V(K);return G}).catch(function(G){return X&&U&&se(X,U),Promise.reject(G)}),U={obsSet:I.obsSet,promise:z,subscribers:new Set,type:"query",req:I,dirty:!1},X?X.push(U):(X=[U],(J=J||(so["idb://".concat(x,"/").concat(v)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[I.query.index.name||""]=X)),iD(U,X,F,W),U.promise.then(function(G){return{result:ok(G.result,I,J==null?void 0:J.optimisticOps,S,U,L)}})}})}})}};function Yh(g,x){return new Proxy(g,{get:function(v,S,A){return S==="db"?x:Reflect.get(v,S,A)}})}var Tr=(qt.prototype.version=function(g){if(isNaN(g)||g<.1)throw new Ae.Type("Given version is not a positive number");if(g=Math.round(10*g)/10,this.idbdb||this._state.isBeingOpened)throw new Ae.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,g);var x=this._versions,v=x.filter(function(S){return S._cfg.version===g})[0];return v||(v=new this.Version(g),x.push(v),x.sort(G_),v.stores({}),this._state.autoSchema=!1,v)},qt.prototype._whenReady=function(g){var x=this;return this.idbdb&&(this._state.openComplete||Ie.letThrough||this._vip)?g():new Le(function(v,S){if(x._state.openComplete)return S(new Ae.DatabaseClosed(x._state.dbOpenError));if(!x._state.isBeingOpened){if(!x._state.autoOpen)return void S(new Ae.DatabaseClosed);x.open().catch(pt)}x._state.dbReadyPromise.then(v,S)}).then(g)},qt.prototype.use=function(g){var x=g.stack,v=g.create,S=g.level,A=g.name;return A&&this.unuse({stack:x,name:A}),g=this._middlewares[x]||(this._middlewares[x]=[]),g.push({stack:x,create:v,level:S??10,name:A}),g.sort(function(I,L){return I.level-L.level}),this},qt.prototype.unuse=function(g){var x=g.stack,v=g.name,S=g.create;return x&&this._middlewares[x]&&(this._middlewares[x]=this._middlewares[x].filter(function(A){return S?A.create!==S:!!v&&A.name!==v})),this},qt.prototype.open=function(){var g=this;return no(Fi,function(){return J_(g)})},qt.prototype._close=function(){var g=this._state,x=ia.indexOf(this);if(0<=x&&ia.splice(x,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}g.isBeingOpened||(g.dbReadyPromise=new Le(function(v){g.dbReadyResolve=v}),g.openCanceller=new Le(function(v,S){g.cancelOpen=S}))},qt.prototype.close=function(v){var x=(v===void 0?{disableAutoOpen:!0}:v).disableAutoOpen,v=this._state;x?(v.isBeingOpened&&v.cancelOpen(new Ae.DatabaseClosed),this._close(),v.autoOpen=!1,v.dbOpenError=new Ae.DatabaseClosed):(this._close(),v.autoOpen=this._options.autoOpen||v.isBeingOpened,v.openComplete=!1,v.dbOpenError=null)},qt.prototype.delete=function(g){var x=this;g===void 0&&(g={disableAutoOpen:!0});var v=0<arguments.length&&typeof arguments[0]!="object",S=this._state;return new Le(function(A,I){function L(){x.close(g);var F=x._deps.indexedDB.deleteDatabase(x.name);F.onsuccess=Wt(function(){var W,Y,U;W=x._deps,Y=x.name,U=W.indexedDB,W=W.IDBKeyRange,Ug(U)||Y===Eh||qg(U,W).delete(Y).catch(pt),A()}),F.onerror=nr(I),F.onblocked=x._fireOnBlocked}if(v)throw new Ae.InvalidArgument("Invalid closeOptions argument to db.delete()");S.isBeingOpened?S.dbReadyPromise.then(L):L()})},qt.prototype.backendDB=function(){return this.idbdb},qt.prototype.isOpen=function(){return this.idbdb!==null},qt.prototype.hasBeenClosed=function(){var g=this._state.dbOpenError;return g&&g.name==="DatabaseClosed"},qt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},qt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(qt.prototype,"tables",{get:function(){var g=this;return o(this._allTables).map(function(x){return g._allTables[x]})},enumerable:!1,configurable:!0}),qt.prototype.transaction=function(){var g=(function(x,v,S){var A=arguments.length;if(A<2)throw new Ae.InvalidArgument("Too few arguments");for(var I=new Array(A-1);--A;)I[A-1]=arguments[A];return S=I.pop(),[x,N(I),S]}).apply(this,arguments);return this._transaction.apply(this,g)},qt.prototype._transaction=function(g,x,v){var S=this,A=Ie.trans;A&&A.db===this&&g.indexOf("!")===-1||(A=null);var I,L,F=g.indexOf("?")!==-1;g=g.replace("!","").replace("?","");try{if(L=x.map(function(Y){if(Y=Y instanceof S.Table?Y.name:Y,typeof Y!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Y}),g=="r"||g===Ng)I=Ng;else{if(g!="rw"&&g!=Fg)throw new Ae.InvalidArgument("Invalid transaction mode: "+g);I=Fg}if(A){if(A.mode===Ng&&I===Fg){if(!F)throw new Ae.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");A=null}A&&L.forEach(function(Y){if(A&&A.storeNames.indexOf(Y)===-1){if(!F)throw new Ae.SubTransaction("Table "+Y+" not included in parent transaction.");A=null}}),F&&A&&!A.active&&(A=null)}}catch(Y){return A?A._promise(null,function(U,z){z(Y)}):Gt(Y)}var W=(function Y(U,z,J,X,G){return Le.resolve().then(function(){var K=Ie.transless||Ie,$=U._createTransaction(z,J,U._dbSchema,X);if($.explicit=!0,K={trans:$,transless:K},X)$.idbtrans=X.idbtrans;else try{$.create(),$.idbtrans._explicit=!0,U._state.PR1398_maxLoop=3}catch(ee){return ee.name===Ge.InvalidState&&U.isOpen()&&0<--U._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),U.close({disableAutoOpen:!1}),U.open().then(function(){return Y(U,z,J,null,G)})):Gt(ee)}var Z,Q=ze(G);return Q&&na(),K=Le.follow(function(){var ee;(Z=G.call($,$))&&(Q?(ee=as.bind(null,null),Z.then(ee,ee)):typeof Z.next=="function"&&typeof Z.throw=="function"&&(Z=nm(Z)))},K),(Z&&typeof Z.then=="function"?Le.resolve(Z).then(function(ee){return $.active?ee:Gt(new Ae.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):K.then(function(){return Z})).then(function(ee){return X&&$._resolve(),$._completion.then(function(){return ee})}).catch(function(ee){return $._reject(ee),Gt(ee)})})}).bind(null,this,I,L,A,v);return A?A._promise(I,W,"lock"):Ie.trans?no(Ie.transless,function(){return S._whenReady(W)}):this._whenReady(W)},qt.prototype.table=function(g){if(!h(this._allTables,g))throw new Ae.InvalidTable("Table ".concat(g," does not exist"));return this._allTables[g]},qt);function qt(g,x){var v=this;this._middlewares={},this.verno=0;var S=qt.dependencies;this._options=x=n({addons:qt.addons,autoOpen:!0,indexedDB:S.indexedDB,IDBKeyRange:S.IDBKeyRange,cache:"cloned"},x),this._deps={indexedDB:x.indexedDB,IDBKeyRange:x.IDBKeyRange},S=x.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var A,I,L,F,W,Y={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:pt,dbReadyPromise:null,cancelOpen:pt,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:x.autoOpen};Y.dbReadyPromise=new Le(function(z){Y.dbReadyResolve=z}),Y.openCanceller=new Le(function(z,J){Y.cancelOpen=J}),this._state=Y,this.name=g,this.on=Rl(this,"populate","blocked","versionchange","close",{ready:[ye,pt]}),this.on.ready.subscribe=C(this.on.ready.subscribe,function(z){return function(J,X){qt.vip(function(){var G,K=v._state;K.openComplete?(K.dbOpenError||Le.resolve().then(J),X&&z(J)):K.onReadyBeingFired?(K.onReadyBeingFired.push(J),X&&z(J)):(z(J),G=v,X||z(function $(){G.on.ready.unsubscribe(J),G.on.ready.unsubscribe($)}))})}}),this.Collection=(A=this,_l(H_.prototype,function(Z,$){this.db=A;var X=z1,G=null;if($)try{X=$()}catch(Q){G=Q}var K=Z._ctx,$=K.table,Z=$.hook.reading.fire;this._ctx={table:$,index:K.index,isPrimKey:!K.index||$.schema.primKey.keyPath&&K.index===$.schema.primKey.name,range:X,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:G,or:K.or,valueMapper:Z!==_?Z:null}})),this.Table=(I=this,_l(X1.prototype,function(z,J,X){this.db=I,this._tx=X,this.name=z,this.schema=J,this.hook=I._allTables[z]?I._allTables[z].hook:Rl(null,{creating:[de,pt],reading:[B,_],updating:[ce,pt],deleting:[le,pt]})})),this.Transaction=(L=this,_l(Y_.prototype,function(z,J,X,G,K){var $=this;this.db=L,this.mode=z,this.storeNames=J,this.schema=X,this.chromeTransactionDurability=G,this.idbtrans=null,this.on=Rl(this,"complete","error","abort"),this.parent=K||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Le(function(Z,Q){$._resolve=Z,$._reject=Q}),this._completion.then(function(){$.active=!1,$.on.complete.fire()},function(Z){var Q=$.active;return $.active=!1,$.on.error.fire(Z),$.parent?$.parent._reject(Z):Q&&$.idbtrans&&$.idbtrans.abort(),Gt(Z)})})),this.Version=(F=this,_l(K_.prototype,function(z){this.db=F,this._cfg={version:z,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(W=this,_l(G1.prototype,function(z,J,X){if(this.db=W,this._ctx={table:z,index:J===":id"?null:J,or:X},this._cmp=this._ascending=mt,this._descending=function(G,K){return mt(K,G)},this._max=function(G,K){return 0<mt(G,K)?G:K},this._min=function(G,K){return mt(G,K)<0?G:K},this._IDBKeyRange=W._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ae.MissingAPI})),this.on("versionchange",function(z){0<z.newVersion?console.warn("Another connection wants to upgrade database '".concat(v.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(v.name,"'. Closing db now to resume the delete request.")),v.close({disableAutoOpen:!1})}),this.on("blocked",function(z){!z.newVersion||z.newVersion<z.oldVersion?console.warn("Dexie.delete('".concat(v.name,"') was blocked")):console.warn("Upgrade '".concat(v.name,"' blocked by other connection holding version ").concat(z.oldVersion/10))}),this._maxKey=zl(x.IDBKeyRange),this._createTransaction=function(z,J,X,G){return new v.Transaction(z,J,X,v._options.chromeTransactionDurability,G)},this._fireOnBlocked=function(z){v.on("blocked").fire(z),ia.filter(function(J){return J.name===v.name&&J!==v&&!J._state.vcFired}).map(function(J){return J.on("versionchange").fire(z)})},this.use(eD),this.use(rD),this.use(tD),this.use(Z_),this.use(Q_);var U=new Proxy(this,{get:function(z,J,X){if(J==="_vip")return!0;if(J==="table")return function(K){return Yh(v.table(K),U)};var G=Reflect.get(z,J,X);return G instanceof X1?Yh(G,U):J==="tables"?G.map(function(K){return Yh(K,U)}):J==="_createTransaction"?function(){return Yh(G.apply(this,arguments),U)}:G}});this.vip=U,S.forEach(function(z){return z(v)})}var jh,Si=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",sD=(om.prototype.subscribe=function(g,x,v){return this._subscribe(g&&typeof g!="function"?g:{next:g,error:x,complete:v})},om.prototype[Si]=function(){return this},om);function om(g){this._subscribe=g}try{jh={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{jh={indexedDB:null,IDBKeyRange:null}}function lk(g){var x,v=!1,S=new sD(function(A){var I=ze(g),L,F=!1,W={},Y={},U={get closed(){return F},unsubscribe:function(){F||(F=!0,L&&L.abort(),z&&us.storagemutated.unsubscribe(X))}};A.start&&A.start(U);var z=!1,J=function(){return Dg(G)},X=function(K){Hh(W,K),Zg(Y,W)&&J()},G=function(){var K,$,Z;!F&&jh.indexedDB&&(W={},K={},L&&L.abort(),L=new AbortController,Z=function(Q){var ee=ea();try{I&&na();var oe=ss(g,Q);return oe=I?oe.finally(as):oe}finally{ee&&ta()}}($={subscr:K,signal:L.signal,requery:J,querier:g,trans:null}),Promise.resolve(Z).then(function(Q){v=!0,x=Q,F||$.signal.aborted||(W={},function(ee){for(var oe in ee)if(h(ee,oe))return;return 1}(Y=K)||z||(us(Fl,X),z=!0),Dg(function(){return!F&&A.next&&A.next(Q)}))},function(Q){v=!1,["DatabaseClosedError","AbortError"].includes(Q==null?void 0:Q.name)||F||Dg(function(){F||A.error&&A.error(Q)})}))};return setTimeout(J,0),U});return S.hasValue=function(){return v},S.getValue=function(){return x},S}var oo=Tr;function am(g){var x=hs;try{hs=!0,us.storagemutated.fire(g),tm(g,!0)}finally{hs=x}}d(oo,n(n({},_t),{delete:function(g){return new oo(g,{addons:[]}).delete()},exists:function(g){return new oo(g,{addons:[]}).open().then(function(x){return x.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(g){try{return x=oo.dependencies,v=x.indexedDB,x=x.IDBKeyRange,(Ug(v)?Promise.resolve(v.databases()).then(function(S){return S.map(function(A){return A.name}).filter(function(A){return A!==Eh})}):qg(v,x).toCollection().primaryKeys()).then(g)}catch{return Gt(new Ae.MissingAPI)}var x,v},defineClass:function(){return function(g){l(this,g)}},ignoreTransaction:function(g){return Ie.trans?no(Ie.transless,g):g()},vip:Kg,async:function(g){return function(){try{var x=nm(g.apply(this,arguments));return x&&typeof x.then=="function"?x:Le.resolve(x)}catch(v){return Gt(v)}}},spawn:function(g,x,v){try{var S=nm(g.apply(v,x||[]));return S&&typeof S.then=="function"?S:Le.resolve(S)}catch(A){return Gt(A)}},currentTransaction:{get:function(){return Ie.trans||null}},waitFor:function(g,x){return x=Le.resolve(typeof g=="function"?oo.ignoreTransaction(g):g).timeout(x||6e4),Ie.trans?Ie.trans.waitFor(x):x},Promise:Le,debug:{get:function(){return fe},set:function(g){he(g)}},derive:m,extend:l,props:d,override:C,Events:Rl,on:us,liveQuery:lk,extendObservabilitySet:Hh,getByKeyPath:E,setByKeyPath:M,delByKeyPath:function(g,x){typeof x=="string"?M(g,x,void 0):"length"in x&&[].map.call(x,function(v){M(g,v,void 0)})},shallowClone:O,deepClone:V,getObjectDiff:im,cmp:mt,asap:k,minKey:-1/0,addons:[],connections:ia,errnames:Ge,dependencies:jh,cache:so,semVer:"4.0.11",version:"4.0.11".split(".").map(function(g){return parseInt(g)}).reduce(function(g,x,v){return g+x/Math.pow(10,2*v)})})),oo.maxKey=zl(oo.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(us(Fl,function(g){hs||(g=new CustomEvent(Wg,{detail:g}),hs=!0,dispatchEvent(g),hs=!1)}),addEventListener(Wg,function(g){g=g.detail,hs||am(g)}));var oa,hs=!1,ck=function(){};return typeof BroadcastChannel<"u"&&((ck=function(){(oa=new BroadcastChannel(Wg)).onmessage=function(g){return g.data&&am(g.data)}})(),typeof oa.unref=="function"&&oa.unref(),us(Fl,function(g){hs||oa.postMessage(g)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(g){if(!Tr.disableBfCache&&g.persisted){fe&&console.debug("Dexie: handling persisted pagehide"),oa!=null&&oa.close();for(var x=0,v=ia;x<v.length;x++)v[x].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(g){!Tr.disableBfCache&&g.persisted&&(fe&&console.debug("Dexie: handling persisted pageshow"),ck(),am({all:new On(-1/0,[[]])}))})),Le.rejectionMapper=function(g,x){return!g||g instanceof lt||g instanceof TypeError||g instanceof SyntaxError||!g.name||!Rt[g.name]?g:(x=new Rt[g.name](x||g.message,g),"stack"in g&&p(x,"stack",{get:function(){return this.inner.stack}}),x)},he(fe),n(Tr,Object.freeze({__proto__:null,Dexie:Tr,liveQuery:lk,Entity:B1,cmp:mt,PropModification:Dl,replacePrefix:function(g,x){return new Dl({replacePrefix:[g,x]})},add:function(g){return new Dl({add:g})},remove:function(g){return new Dl({remove:g})},default:Tr,RangeSet:On,mergeRanges:Wl,rangesOverlap:Z1}),{default:Tr}),Tr})}(Uc)),Uc.exports}var xT=mT();const zf=pT(xT),Ky=Symbol.for("Dexie"),Kc=globalThis[Ky]||(globalThis[Ky]=zf);if(zf.semVer!==Kc.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${zf.semVer} and ${Kc.semVer}`);const{liveQuery:dD,mergeRanges:fD,rangesOverlap:pD,RangeSet:gD,cmp:mD,Entity:xD,PropModification:bD,replacePrefix:yD,add:vD,remove:wD}=Kc;function Jc(){const i=new Kc("FAFIX");i.version(1).stores({statistics:"++id, title, link, chapters, words, reviews, recommendations, views, favorites, bookmarks, offlineLibraries, bookshelves, date, time"}),i.version(2).stores({statistics:"++id, title, link, chapters, words, reviews, recommendations, views, favorites, bookmarks, offlineLibraries, bookshelves, date, time",books:"++id, status, title, link, *category, *genres, chapters, words, created_at, updated_at"});async function e(n){const r=await n.text();let s=[];const o=n.name.toLowerCase(),a=o.endsWith(".json")||n.type==="application/json",l=o.endsWith(".csv")||n.type==="text/csv";if(a)try{s=JSON.parse(r)}catch(c){throw new Error("Ungltiges JSON-Format: "+c)}else if(l){const[c,...u]=r.split(`
  `).filter(d=>d.trim()!==""),h=c.split(";");s=u.map(d=>{const f=d.split(";").map(m=>m.trim().replace(/^"|"$/g,"").replace(/""/g,'"')),p={};return h.forEach((m,b)=>{p[m]=f[b]}),p})}else throw new Error("Unbekanntes Dateiformat. Bitte eine .json oder .csv Datei hochladen.");await i.statistics.clear(),await i.statistics.bulkAdd(s)}async function t(n="json"){const r=await i.statistics.toArray();if(n==="json"){const s=JSON.stringify(r,null,2);return new Blob([s],{type:"application/json"})}else if(n==="csv"){const o=(a=>{if(!a.length)return"";const l=Object.keys(a[0]),c=a.map(u=>l.map(h=>{const d=u[h];return typeof d=="string"?`"${d.replace(/"/g,'""')}"`:d}).join(";"));return[l.join(";"),...c].join(`
  `)})(r);return new Blob([o],{type:"text/csv"})}}return{db:i,importData:e,exportData:t}}function Jy(){const{db:i}=Jc();async function e(s){return await i.books.add(s)}async function t(s,o){return await i.books.update(s,o)}async function n(s){const o=await i.books.where({title:s.title,link:s.link}).first();return o?await i.books.update(o.id,s):await i.books.add(s)}async function r(){return await i.books.toArray()}return{insert:e,update:t,upsert:n,get:r}}function Bf(){const{db:i}=Jc();async function e(r,s,o,a){const l=a||new Date,c=f=>String(f).padStart(2,"0"),u=`${l.getFullYear()}-${c(l.getMonth()+1)}-${c(l.getDate())}`,h=`${c(l.getHours())}:${c(l.getMinutes())}:${c(l.getSeconds())}`,d=await i.statistics.where({title:r,date:u}).first();return d?await i.statistics.update(d.id,{time:h,...o}):await i.statistics.add({title:r,link:s,date:u,time:h,...o})}async function t(r){return await i.statistics.where({link:r}).sortBy("date")}async function n(){const o=(p=>`${p.getFullYear()}-${String(p.getMonth()+1).padStart(2,"0")}-${String(p.getDate()).padStart(2,"0")}`)(new Date),a=await i.statistics.where("date").equals(o).toArray(),l=await i.statistics.where("date").below(o).reverse().sortBy("date"),c=l.length>0?l[0].date:null,u=c?await i.statistics.where("date").equals(c).toArray():[],h=p=>p.reduce((m,b)=>(m.views+=parseInt(b.views||0),m.reviews+=parseInt(b.reviews||0),m.recommendations+=parseInt(b.recommendations||0),m.favorites+=parseInt(b.favorites||0),m.bookmarks+=parseInt(b.bookmarks||0),m.offlineLibraries+=parseInt(b.offlineLibraries||0),m.bookshelves+=parseInt(b.bookshelves||0),m),{views:0,reviews:0,recommendations:0,favorites:0,bookmarks:0,offlineLibraries:0,bookshelves:0}),d=h(a),f=h(u);return{newViews:d.views-f.views,newReviews:d.reviews-f.reviews,newRecommendations:d.recommendations-f.recommendations,newFavorites:d.favorites-f.favorites,newBookmarks:d.bookmarks-f.bookmarks,newOfflineLibraries:d.offlineLibraries-f.offlineLibraries,newBookshelves:d.bookshelves-f.bookshelves}}return{store:e,stats:t,deltaSummary:n}}class Zy{constructor(e=null,t=localStorage){$h(this,"prefix");$h(this,"engine");$h(this,"listeners");this.prefix=e===null?"":e,this.prefix.length>0&&!this.prefix.endsWith(":")&&(this.prefix+=":"),this.engine=t,this.listeners={}}prepare(e){return this.prefix.length===0||e.startsWith(this.prefix)?e:`${this.prefix}${e}`}encode(e){return typeof e>"u"||e===null?e="":typeof e=="boolean"?e=e===!0?"true":"false":typeof e=="object"?e=JSON.stringify(e):typeof e!="string"&&(e=e.toString()),e}decode(e){return typeof e!="string"?e:e===""?null:e.toLowerCase()==="true"?!0:e.toLowerCase()==="false"?!1:e[0]==="{"||e[0]==="["?JSON.parse(e):/^[0-9]+(\.[0-9]+)?$/.test(e)?e.indexOf(".")>=0?parseFloat(e):parseInt(e):e}exists(e){return this.engine.getItem(this.prepare(e))!==null}has(e){return this.exists(e)}get(e,t=null){const n=this.engine.getItem(this.prepare(e));return n===null?t:this.decode(n)}all(){const e={};for(let t=0;t<this.engine.length;t++){const n=this.engine.key(t);n!==null&&(this.prefix===""&&n.indexOf(":")<0?e[n]=this.encode(this.engine.getItem(n)):this.prefix.length>0&&n.startsWith(this.prefix)&&(e[n]=this.encode(this.engine.getItem(n))))}return e}set(e,t){const n=this.get(e,null);typeof this.listeners[e]<"u"&&this.listeners[e].forEach(r=>r(t,n,e,this)),typeof this.listeners._all<"u"&&this.listeners._all.forEach(r=>r(t,n,e,this)),this.engine.setItem(this.prepare(e),this.encode(t))}remove(e){const t=this.get(e,null);typeof this.listeners[e]<"u"&&this.listeners[e].forEach(n=>n(null,t,e,this)),typeof this.listeners._all<"u"&&this.listeners._all.forEach(n=>n(null,t,e,this)),this.engine.removeItem(this.prepare(e))}delete(e){return this.remove(this.prepare(e))}unset(e){return this.remove(this.prepare(e))}clear(){const e=[];for(let t=0;t<this.engine.length;t++){const n=this.engine.key(t);n!==null&&(this.prefix===""&&n.indexOf(":")<0||this.prefix.length>0&&n.startsWith(this.prefix))&&e.push(n)}e.map(t=>this.engine.removeItem(t))}listen(e){typeof this.listeners._all>"u"&&(this.listeners._all=[]),this.listeners._all.push(e)}listenTo(e,t){typeof this.listeners[e]>"u"&&(this.listeners[e]=[]),this.listeners[e].push(t)}}function Ja(){return{local:new Zy("FAFIX",localStorage),session:new Zy("FAFIX",sessionStorage)}}var Hf=(i=>(i.Reviews="#b45309",i.Recommendations="#c026d3",i.Favorites="#dc2626",i.Bookmarks="#16a34a",i.OfflineLibraries="#0891b2",i.Bookshelves="#4b5563",i))(Hf||{}),Qy=(i=>(i.Reviews='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="white" class="icon icon-tabler icons-tabler-filled icon-tabler-message-circle"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5.821 4.91c3.899 -2.765 9.468 -2.539 13.073 .535c3.667 3.129 4.168 8.238 1.152 11.898c-2.841 3.447 -7.965 4.583 -12.231 2.805l-.233 -.101l-4.374 .931l-.04 .006l-.035 .007h-.018l-.022 .005h-.038l-.033 .004l-.021 -.001l-.023 .001l-.033 -.003h-.035l-.022 -.004l-.022 -.002l-.035 -.007l-.034 -.005l-.016 -.004l-.024 -.005l-.049 -.016l-.024 -.005l-.011 -.005l-.022 -.007l-.045 -.02l-.03 -.012l-.011 -.006l-.014 -.006l-.031 -.018l-.045 -.024l-.016 -.011l-.037 -.026l-.04 -.027l-.002 -.004l-.013 -.009l-.043 -.04l-.025 -.02l-.006 -.007l-.056 -.062l-.013 -.014l-.011 -.014l-.039 -.056l-.014 -.019l-.005 -.01l-.042 -.073l-.007 -.012l-.004 -.008l-.007 -.012l-.014 -.038l-.02 -.042l-.004 -.016l-.004 -.01l-.017 -.061l-.007 -.018l-.002 -.015l-.005 -.019l-.005 -.033l-.008 -.042l-.002 -.031l-.003 -.01v-.016l-.004 -.054l.001 -.036l.001 -.023l.002 -.053l.004 -.025v-.019l.008 -.035l.005 -.034l.005 -.02l.004 -.02l.018 -.06l.003 -.013l1.15 -3.45l-.022 -.037c-2.21 -3.747 -1.209 -8.391 2.413 -11.119z" /></svg>',i.Recommendations='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="white" class="icon icon-tabler icons-tabler-filled icon-tabler-star"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M8.243 7.34l-6.38 .925l-.113 .023a1 1 0 0 0 -.44 1.684l4.622 4.499l-1.09 6.355l-.013 .11a1 1 0 0 0 1.464 .944l5.706 -3l5.693 3l.1 .046a1 1 0 0 0 1.352 -1.1l-1.091 -6.355l4.624 -4.5l.078 -.085a1 1 0 0 0 -.633 -1.62l-6.38 -.926l-2.852 -5.78a1 1 0 0 0 -1.794 0l-2.853 5.78z" /></svg>',i.Favorites='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="white" class="icon icon-tabler icons-tabler-filled icon-tabler-heart"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6.979 3.074a6 6 0 0 1 4.988 1.425l.037 .033l.034 -.03a6 6 0 0 1 4.733 -1.44l.246 .036a6 6 0 0 1 3.364 10.008l-.18 .185l-.048 .041l-7.45 7.379a1 1 0 0 1 -1.313 .082l-.094 -.082l-7.493 -7.422a6 6 0 0 1 3.176 -10.215z" /></svg>',i.Bookmarks='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="white" class="icon icon-tabler icons-tabler-filled icon-tabler-bookmark"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 2a5 5 0 0 1 5 5v14a1 1 0 0 1 -1.555 .832l-5.445 -3.63l-5.444 3.63a1 1 0 0 1 -1.55 -.72l-.006 -.112v-14a5 5 0 0 1 5 -5h4z" /></svg>',i.OfflineLibraries='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-device-mobile"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 5a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2v-14z" /><path d="M11 4h2" /><path d="M12 17v.01" /></svg>',i.Bookshelves='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-books"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 4m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z" /><path d="M9 4m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z" /><path d="M5 8h4" /><path d="M9 16h4" /><path d="M13.803 4.56l2.184 -.53c.562 -.135 1.133 .19 1.282 .732l3.695 13.418a1.02 1.02 0 0 1 -.634 1.219l-.133 .041l-2.184 .53c-.562 .135 -1.133 -.19 -1.282 -.732l-3.695 -13.418a1.02 1.02 0 0 1 .634 -1.219l.133 -.041z" /><path d="M14 9l4 -1" /><path d="M16 16l3.923 -.98" /></svg>',i))(Qy||{});const bT=["onClick"],yT={key:0,class:"relative ml-auto"},vT=["value","selected"],wT=Ir({__name:"ChartsNavbar",props:qS({tabs:{},modelValue:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(i){const e=i,t=TC(i,"modelValue"),n=qe(null),r=qe([]),s=qe(e.tabs.length),o=Un(()=>e.tabs.slice(0,s.value)),a=Un(()=>e.tabs.slice(s.value));Pr(()=>{window.addEventListener("resize",c)}),po(()=>{window.removeEventListener("resize",c)}),qn(e,async()=>{s.value=e.tabs.length,await ur(),c()},{immediate:!0});function l(u){let h=u.selectedOptions[0]||null;h?t.value=h.value=="-1"?null:h.value:t.value=null}async function c(){if(!n.value)return;await ur();let u=n.value.offsetWidth||0,h=0,d=0;for(const f of r.value){if(!f)continue;const p=f.offsetWidth;if(h+=p,h<u)d++;else{d--;break}}s.value=d}return(u,h)=>(tt(),vt("nav",{ref_key:"navbar",ref:n,class:"stats-nav"},[(tt(!0),vt(Bn,null,kx(o.value,(d,f)=>(tt(),vt("button",{key:d.link,ref_for:!0,ref:p=>r.value[f]=p,type:"button",class:wn(["nav-btn",d.value===t.value?"is-active":""]),onClick:p=>t.value=d.value},Qn(d.label),11,bT))),128)),a.value.length?(tt(),vt("div",yT,[Pe("select",{class:"nav-select",onChange:h[0]||(h[0]=d=>{l(d.target)})},[h[1]||(h[1]=Pe("option",{value:"-1"}," Andere Geschichten ",-1)),(tt(!0),vt(Bn,null,kx(a.value,d=>(tt(),vt("option",{key:d.value,value:d.value,selected:d.value==t.value},Qn(d.label),9,vT))),128))],32)])):Ht("",!0)],512))}}),Za=(i,e)=>{const t=i.__vccOpts||i;for(const[n,r]of e)t[n]=r;return t},kT=Za(wT,[["__scopeId","data-v-45f9f5f7"]]),Wf=Math.min,Ro=Math.max,Zc=Math.round,Qc=Math.floor,Vi=i=>({x:i,y:i}),ST={left:"right",right:"left",bottom:"top",top:"bottom"},CT={start:"end",end:"start"};function Xf(i,e){return typeof i=="function"?i(e):i}function _o(i){return i.split("-")[0]}function eu(i){return i.split("-")[1]}function AT(i){return i==="x"?"y":"x"}function ev(i){return i==="y"?"height":"width"}function Qa(i){return["top","bottom"].includes(_o(i))?"y":"x"}function tv(i){return AT(Qa(i))}function MT(i,e,t){t===void 0&&(t=!1);const n=eu(i),r=tv(i),s=ev(r);let o=r==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=tu(o)),[o,tu(o)]}function TT(i){const e=tu(i);return[Yf(i),e,Yf(e)]}function Yf(i){return i.replace(/start|end/g,e=>CT[e])}function ET(i,e,t){const n=["left","right"],r=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(i){case"top":case"bottom":return t?e?r:n:e?n:r;case"left":case"right":return e?s:o;default:return[]}}function OT(i,e,t,n){const r=eu(i);let s=ET(_o(i),t==="start",n);return r&&(s=s.map(o=>o+"-"+r),e&&(s=s.concat(s.map(Yf)))),s}function tu(i){return i.replace(/left|right|bottom|top/g,e=>ST[e])}function IT(i){return{top:0,right:0,bottom:0,left:0,...i}}function PT(i){return typeof i!="number"?IT(i):{top:i,right:i,bottom:i,left:i}}function nu(i){const{x:e,y:t,width:n,height:r}=i;return{width:n,height:r,top:t,left:e,right:e+n,bottom:t+r,x:e,y:t}}function nv(i,e,t){let{reference:n,floating:r}=i;const s=Qa(e),o=tv(e),a=ev(o),l=_o(e),c=s==="y",u=n.x+n.width/2-r.width/2,h=n.y+n.height/2-r.height/2,d=n[a]/2-r[a]/2;let f;switch(l){case"top":f={x:u,y:n.y-r.height};break;case"bottom":f={x:u,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:h};break;case"left":f={x:n.x-r.width,y:h};break;default:f={x:n.x,y:n.y}}switch(eu(e)){case"start":f[o]-=d*(t&&c?-1:1);break;case"end":f[o]+=d*(t&&c?-1:1);break}return f}const LT=async(i,e,t)=>{const{placement:n="bottom",strategy:r="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:i,floating:e,strategy:r}),{x:u,y:h}=nv(c,n,l),d=n,f={},p=0;for(let m=0;m<a.length;m++){const{name:b,fn:y}=a[m],{x:w,y:C,data:T,reset:k}=await y({x:u,y:h,initialPlacement:n,placement:d,strategy:r,middlewareData:f,rects:c,platform:o,elements:{reference:i,floating:e}});u=w??u,h=C??h,f={...f,[b]:{...f[b],...T}},k&&p<=50&&(p++,typeof k=="object"&&(k.placement&&(d=k.placement),k.rects&&(c=k.rects===!0?await o.getElementRects({reference:i,floating:e,strategy:r}):k.rects),{x:u,y:h}=nv(c,d,l)),m=-1)}return{x:u,y:h,placement:d,strategy:r,middlewareData:f}};async function RT(i,e){var t;e===void 0&&(e={});const{x:n,y:r,platform:s,rects:o,elements:a,strategy:l}=i,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:d=!1,padding:f=0}=Xf(e,i),p=PT(f),b=a[d?h==="floating"?"reference":"floating":h],y=nu(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(b)))==null||t?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),w=h==="floating"?{x:n,y:r,width:o.floating.width,height:o.floating.height}:o.reference,C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),T=await(s.isElement==null?void 0:s.isElement(C))?await(s.getScale==null?void 0:s.getScale(C))||{x:1,y:1}:{x:1,y:1},k=nu(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:C,strategy:l}):w);return{top:(y.top-k.top+p.top)/T.y,bottom:(k.bottom-y.bottom+p.bottom)/T.y,left:(y.left-k.left+p.left)/T.x,right:(k.right-y.right+p.right)/T.x}}const _T=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(e){var t,n;const{placement:r,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...b}=Xf(i,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const y=_o(r),w=Qa(a),C=_o(a)===a,T=await(l.isRTL==null?void 0:l.isRTL(c.floating)),k=d||(C||!m?[tu(a)]:TT(a)),E=p!=="none";!d&&E&&k.push(...OT(a,m,p,T));const M=[a,...k],O=await RT(e,b),P=[];let N=((n=s.flip)==null?void 0:n.overflows)||[];if(u&&P.push(O[y]),h){const q=MT(r,o,T);P.push(O[q[0]],O[q[1]])}if(N=[...N,{placement:r,overflows:P}],!P.every(q=>q<=0)){var R,D;const q=(((R=s.flip)==null?void 0:R.index)||0)+1,re=M[q];if(re)return{data:{index:q,overflows:N},reset:{placement:re}};let te=(D=N.filter(ie=>ie.overflows[0]<=0).sort((ie,se)=>ie.overflows[1]-se.overflows[1])[0])==null?void 0:D.placement;if(!te)switch(f){case"bestFit":{var V;const ie=(V=N.filter(se=>{if(E){const ve=Qa(se.placement);return ve===w||ve==="y"}return!0}).map(se=>[se.placement,se.overflows.filter(ve=>ve>0).reduce((ve,_e)=>ve+_e,0)]).sort((se,ve)=>se[1]-ve[1])[0])==null?void 0:V[0];ie&&(te=ie);break}case"initialPlacement":te=a;break}if(r!==te)return{reset:{placement:te}}}return{}}}};async function DT(i,e){const{placement:t,platform:n,elements:r}=i,s=await(n.isRTL==null?void 0:n.isRTL(r.floating)),o=_o(t),a=eu(t),l=Qa(t)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,h=Xf(e,i);let{mainAxis:d,crossAxis:f,alignmentAxis:p}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof p=="number"&&(f=a==="end"?p*-1:p),l?{x:f*u,y:d*c}:{x:d*c,y:f*u}}const NT=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(e){var t,n;const{x:r,y:s,placement:o,middlewareData:a}=e,l=await DT(e,i);return o===((t=a.offset)==null?void 0:t.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:o}}}}};function iu(){return typeof window<"u"}function Fs(i){return jf(i)?(i.nodeName||"").toLowerCase():"#document"}function ii(i){var e;return(i==null||(e=i.ownerDocument)==null?void 0:e.defaultView)||window}function $i(i){var e;return(e=(jf(i)?i.ownerDocument:i.document)||window.document)==null?void 0:e.documentElement}function jf(i){return iu()?i instanceof Node||i instanceof ii(i).Node:!1}function Li(i){return iu()?i instanceof Element||i instanceof ii(i).Element:!1}function Gi(i){return iu()?i instanceof HTMLElement||i instanceof ii(i).HTMLElement:!1}function iv(i){return!iu()||typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof ii(i).ShadowRoot}function el(i){const{overflow:e,overflowX:t,overflowY:n,display:r}=Ri(i);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!["inline","contents"].includes(r)}function FT(i){return["table","td","th"].includes(Fs(i))}function ru(i){return[":popover-open",":modal"].some(e=>{try{return i.matches(e)}catch{return!1}})}function Vf(i){const e=$f(),t=Li(i)?Ri(i):i;return["transform","translate","scale","rotate","perspective"].some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(t.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(t.contain||"").includes(n))}function zT(i){let e=Hr(i);for(;Gi(e)&&!Do(e);){if(Vf(e))return e;if(ru(e))return null;e=Hr(e)}return null}function $f(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Do(i){return["html","body","#document"].includes(Fs(i))}function Ri(i){return ii(i).getComputedStyle(i)}function su(i){return Li(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.scrollX,scrollTop:i.scrollY}}function Hr(i){if(Fs(i)==="html")return i;const e=i.assignedSlot||i.parentNode||iv(i)&&i.host||$i(i);return iv(e)?e.host:e}function rv(i){const e=Hr(i);return Do(e)?i.ownerDocument?i.ownerDocument.body:i.body:Gi(e)&&el(e)?e:rv(e)}function tl(i,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const r=rv(i),s=r===((n=i.ownerDocument)==null?void 0:n.body),o=ii(r);if(s){const a=Gf(o);return e.concat(o,o.visualViewport||[],el(r)?r:[],a&&t?tl(a):[])}return e.concat(r,tl(r,[],t))}function Gf(i){return i.parent&&Object.getPrototypeOf(i.parent)?i.frameElement:null}function sv(i){const e=Ri(i);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const r=Gi(i),s=r?i.offsetWidth:t,o=r?i.offsetHeight:n,a=Zc(t)!==s||Zc(n)!==o;return a&&(t=s,n=o),{width:t,height:n,$:a}}function qf(i){return Li(i)?i:i.contextElement}function No(i){const e=qf(i);if(!Gi(e))return Vi(1);const t=e.getBoundingClientRect(),{width:n,height:r,$:s}=sv(e);let o=(s?Zc(t.width):t.width)/n,a=(s?Zc(t.height):t.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const BT=Vi(0);function ov(i){const e=ii(i);return!$f()||!e.visualViewport?BT:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function HT(i,e,t){return e===void 0&&(e=!1),!t||e&&t!==ii(i)?!1:e}function zs(i,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=i.getBoundingClientRect(),s=qf(i);let o=Vi(1);e&&(n?Li(n)&&(o=No(n)):o=No(i));const a=HT(s,t,n)?ov(s):Vi(0);let l=(r.left+a.x)/o.x,c=(r.top+a.y)/o.y,u=r.width/o.x,h=r.height/o.y;if(s){const d=ii(s),f=n&&Li(n)?ii(n):n;let p=d,m=Gf(p);for(;m&&n&&f!==p;){const b=No(m),y=m.getBoundingClientRect(),w=Ri(m),C=y.left+(m.clientLeft+parseFloat(w.paddingLeft))*b.x,T=y.top+(m.clientTop+parseFloat(w.paddingTop))*b.y;l*=b.x,c*=b.y,u*=b.x,h*=b.y,l+=C,c+=T,p=ii(m),m=Gf(p)}}return nu({width:u,height:h,x:l,y:c})}function Uf(i,e){const t=su(i).scrollLeft;return e?e.left+t:zs($i(i)).left+t}function av(i,e,t){t===void 0&&(t=!1);const n=i.getBoundingClientRect(),r=n.left+e.scrollLeft-(t?0:Uf(i,n)),s=n.top+e.scrollTop;return{x:r,y:s}}function WT(i){let{elements:e,rect:t,offsetParent:n,strategy:r}=i;const s=r==="fixed",o=$i(n),a=e?ru(e.floating):!1;if(n===o||a&&s)return t;let l={scrollLeft:0,scrollTop:0},c=Vi(1);const u=Vi(0),h=Gi(n);if((h||!h&&!s)&&((Fs(n)!=="body"||el(o))&&(l=su(n)),Gi(n))){const f=zs(n);c=No(n),u.x=f.x+n.clientLeft,u.y=f.y+n.clientTop}const d=o&&!h&&!s?av(o,l,!0):Vi(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x+d.x,y:t.y*c.y-l.scrollTop*c.y+u.y+d.y}}function XT(i){return Array.from(i.getClientRects())}function YT(i){const e=$i(i),t=su(i),n=i.ownerDocument.body,r=Ro(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Ro(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-t.scrollLeft+Uf(i);const a=-t.scrollTop;return Ri(n).direction==="rtl"&&(o+=Ro(e.clientWidth,n.clientWidth)-r),{width:r,height:s,x:o,y:a}}function jT(i,e){const t=ii(i),n=$i(i),r=t.visualViewport;let s=n.clientWidth,o=n.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;const c=$f();(!c||c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a,y:l}}function VT(i,e){const t=zs(i,!0,e==="fixed"),n=t.top+i.clientTop,r=t.left+i.clientLeft,s=Gi(i)?No(i):Vi(1),o=i.clientWidth*s.x,a=i.clientHeight*s.y,l=r*s.x,c=n*s.y;return{width:o,height:a,x:l,y:c}}function lv(i,e,t){let n;if(e==="viewport")n=jT(i,t);else if(e==="document")n=YT($i(i));else if(Li(e))n=VT(e,t);else{const r=ov(i);n={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return nu(n)}function cv(i,e){const t=Hr(i);return t===e||!Li(t)||Do(t)?!1:Ri(t).position==="fixed"||cv(t,e)}function $T(i,e){const t=e.get(i);if(t)return t;let n=tl(i,[],!1).filter(a=>Li(a)&&Fs(a)!=="body"),r=null;const s=Ri(i).position==="fixed";let o=s?Hr(i):i;for(;Li(o)&&!Do(o);){const a=Ri(o),l=Vf(o);!l&&a.position==="fixed"&&(r=null),(s?!l&&!r:!l&&a.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||el(o)&&!l&&cv(i,o))?n=n.filter(u=>u!==o):r=a,o=Hr(o)}return e.set(i,n),n}function GT(i){let{element:e,boundary:t,rootBoundary:n,strategy:r}=i;const o=[...t==="clippingAncestors"?ru(e)?[]:$T(e,this._c):[].concat(t),n],a=o[0],l=o.reduce((c,u)=>{const h=lv(e,u,r);return c.top=Ro(h.top,c.top),c.right=Wf(h.right,c.right),c.bottom=Wf(h.bottom,c.bottom),c.left=Ro(h.left,c.left),c},lv(e,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function qT(i){const{width:e,height:t}=sv(i);return{width:e,height:t}}function UT(i,e,t){const n=Gi(e),r=$i(e),s=t==="fixed",o=zs(i,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Vi(0);if(n||!n&&!s)if((Fs(e)!=="body"||el(r))&&(a=su(e)),n){const d=zs(e,!0,s,e);l.x=d.x+e.clientLeft,l.y=d.y+e.clientTop}else r&&(l.x=Uf(r));const c=r&&!n&&!s?av(r,a):Vi(0),u=o.left+a.scrollLeft-l.x-c.x,h=o.top+a.scrollTop-l.y-c.y;return{x:u,y:h,width:o.width,height:o.height}}function Kf(i){return Ri(i).position==="static"}function uv(i,e){if(!Gi(i)||Ri(i).position==="fixed")return null;if(e)return e(i);let t=i.offsetParent;return $i(i)===t&&(t=t.ownerDocument.body),t}function hv(i,e){const t=ii(i);if(ru(i))return t;if(!Gi(i)){let r=Hr(i);for(;r&&!Do(r);){if(Li(r)&&!Kf(r))return r;r=Hr(r)}return t}let n=uv(i,e);for(;n&&FT(n)&&Kf(n);)n=uv(n,e);return n&&Do(n)&&Kf(n)&&!Vf(n)?t:n||zT(i)||t}const KT=async function(i){const e=this.getOffsetParent||hv,t=this.getDimensions,n=await t(i.floating);return{reference:UT(i.reference,await e(i.floating),i.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function JT(i){return Ri(i).direction==="rtl"}const ZT={convertOffsetParentRelativeRectToViewportRelativeRect:WT,getDocumentElement:$i,getClippingRect:GT,getOffsetParent:hv,getElementRects:KT,getClientRects:XT,getDimensions:qT,getScale:No,isElement:Li,isRTL:JT};function dv(i,e){return i.x===e.x&&i.y===e.y&&i.width===e.width&&i.height===e.height}function QT(i,e){let t=null,n;const r=$i(i);function s(){var a;clearTimeout(n),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=i.getBoundingClientRect(),{left:u,top:h,width:d,height:f}=c;if(a||e(),!d||!f)return;const p=Qc(h),m=Qc(r.clientWidth-(u+d)),b=Qc(r.clientHeight-(h+f)),y=Qc(u),C={rootMargin:-p+"px "+-m+"px "+-b+"px "+-y+"px",threshold:Ro(0,Wf(1,l))||1};let T=!0;function k(E){const M=E[0].intersectionRatio;if(M!==l){if(!T)return o();M?o(!1,M):n=setTimeout(()=>{o(!1,1e-7)},1e3)}M===1&&!dv(c,i.getBoundingClientRect())&&o(),T=!1}try{t=new IntersectionObserver(k,{...C,root:r.ownerDocument})}catch{t=new IntersectionObserver(k,C)}t.observe(i)}return o(!0),s}function eE(i,e,t,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=qf(i),u=r||s?[...c?tl(c):[],...tl(e)]:[];u.forEach(y=>{r&&y.addEventListener("scroll",t,{passive:!0}),s&&y.addEventListener("resize",t)});const h=c&&a?QT(c,t):null;let d=-1,f=null;o&&(f=new ResizeObserver(y=>{let[w]=y;w&&w.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var C;(C=f)==null||C.observe(e)})),t()}),c&&!l&&f.observe(c),f.observe(e));let p,m=l?zs(i):null;l&&b();function b(){const y=zs(i);m&&!dv(m,y)&&t(),m=y,p=requestAnimationFrame(b)}return t(),()=>{var y;u.forEach(w=>{r&&w.removeEventListener("scroll",t),s&&w.removeEventListener("resize",t)}),h==null||h(),(y=f)==null||y.disconnect(),f=null,l&&cancelAnimationFrame(p)}}const tE=NT,nE=_T,iE=(i,e,t)=>{const n=new Map,r={platform:ZT,...t},s={...r.platform,_c:n};return LT(i,e,{...r,platform:s})};function rE(i){return i!=null&&typeof i=="object"&&"$el"in i}function fv(i){if(rE(i)){const e=i.$el;return jf(e)&&Fs(e)==="#comment"?null:e}return i}function nl(i){return typeof i=="function"?i():Tt(i)}function pv(i){return typeof window>"u"?1:(i.ownerDocument.defaultView||window).devicePixelRatio||1}function gv(i,e){const t=pv(i);return Math.round(e*t)/t}function sE(i,e,t){t===void 0&&(t={});const n=t.whileElementsMounted,r=Un(()=>{var M;return(M=nl(t.open))!=null?M:!0}),s=Un(()=>nl(t.middleware)),o=Un(()=>{var M;return(M=nl(t.placement))!=null?M:"bottom"}),a=Un(()=>{var M;return(M=nl(t.strategy))!=null?M:"absolute"}),l=Un(()=>{var M;return(M=nl(t.transform))!=null?M:!0}),c=Un(()=>fv(i.value)),u=Un(()=>fv(e.value)),h=qe(0),d=qe(0),f=qe(a.value),p=qe(o.value),m=Zk({}),b=qe(!1),y=Un(()=>{const M={position:f.value,left:"0",top:"0"};if(!u.value)return M;const O=gv(u.value,h.value),P=gv(u.value,d.value);return l.value?{...M,transform:"translate("+O+"px, "+P+"px)",...pv(u.value)>=1.5&&{willChange:"transform"}}:{position:f.value,left:O+"px",top:P+"px"}});let w;function C(){if(c.value==null||u.value==null)return;const M=r.value;iE(c.value,u.value,{middleware:s.value,placement:o.value,strategy:a.value}).then(O=>{h.value=O.x,d.value=O.y,f.value=O.strategy,p.value=O.placement,m.value=O.middlewareData,b.value=M!==!1})}function T(){typeof w=="function"&&(w(),w=void 0)}function k(){if(T(),n===void 0){C();return}if(c.value!=null&&u.value!=null){w=n(c.value,u.value,C);return}}function E(){r.value||(b.value=!1)}return qn([s,o,a,r],C,{flush:"sync"}),qn([c,u],k,{flush:"sync"}),qn(r,E,{flush:"sync"}),vm()&&Pk(T),{x:kn(h),y:kn(d),strategy:kn(f),placement:kn(p),middlewareData:kn(m),isPositioned:kn(b),floatingStyles:y,update:C}}const oE={key:0},aE={key:1},lE={key:1},cE=Za(Ir({__name:"ChartsNote",props:{danger:{type:Boolean}},setup(i){const e=i,t=qe(!1),n=qe(null),r=qe(null),s=qe(null),{floatingStyles:o}=sE(r,s,{strategy:"absolute",placement:"top-end",middleware:[nE(),tE(10)],whileElementsMounted:eE});qn(r,()=>{r.value&&(document.removeEventListener("click",a),document.addEventListener("click",a))},{immediate:!0}),po(()=>{document.removeEventListener("click",a)});function a(l){const c=l.target;!(c instanceof HTMLElement)||!n.value||!c.parentElement||c===n.value||n.value.contains(c)||t.value&&(t.value=!1)}return(l,c)=>(tt(),vt("div",{ref_key:"outside",ref:n,class:"note"},[Pe("div",{ref_key:"reference",ref:r,class:wn(["note-badge",[e.danger?"badge-error":null,t.value?"is-visible":null]]),onClick:c[0]||(c[0]=u=>t.value=!t.value)},[t.value?(tt(),vt("span",lE,"Info-Popover schlieen")):(tt(),vt(Bn,{key:0},[e.danger?(tt(),vt("span",oE,"Warum werden keine Daten angezeigt?")):(tt(),vt("span",aE,"Wie funktioniert diese Statistik?"))],64))],2),ft(_d,{name:"fade"},{default:dc(()=>[t.value?(tt(),vt("div",{key:0,ref_key:"popover",ref:s,class:"note-popover",style:ql(Tt(o))},c[1]||(c[1]=[Pe("dl",null,[Pe("dt",null,"Warum werden noch keine Daten angezeigt?"),Pe("dd",null," Die Statistik zeigt tgliche Aufrufe & Events nach dem ersten erfassten Tag. Sptestens also nach 24 Stunden sollte der erste Punkt erscheinen, nach 48 Stunden dann die erste Linie. "),Pe("dt",null,"Wie funktioniert die Berechnung?"),Pe("dd",null," Die Seite muss tglich aufgerufen werden. Fehlt ein Tag, wird er aktuell dem aktuellen Tag zugerechnet. Eine geschtzte Verteilung ber ein oder mehrere verpasste Tage ist (noch) nicht implementiert. "),Pe("dt",null,"Kann ich die Daten exportieren oder lschen?"),Pe("dd",null," ber den FAFIX-Button unten rechts kannst du die Statistik importieren, exportieren oder zurcksetzen. Achtung: Beim Zurcksetzen gehen alle Daten dauerhaft verloren. ")],-1)]),4)):Ht("",!0)]),_:1})],512))}}),[["__scopeId","data-v-df1d16a8"]]),uE={class:"flex flex-row gap-2"},hE={class:"flex flex-row items-center gap-1.5 px-2 py-1 text-sm rounded bg-pink-50 text-pink-600"},dE=["textContent"],fE={class:"flex flex-row items-center gap-1.5 px-2 py-1 text-sm rounded bg-[#b45309]/10 text-[#b45309]"},pE=["textContent"],gE={class:"flex flex-row items-center gap-1.5 px-2 py-1 text-sm rounded bg-[#c026d3]/10 text-[#c026d3]"},mE=["textContent"],xE={class:"flex flex-row items-center gap-1.5 px-2 py-1 text-sm rounded bg-[#dc2626]/10 text-[#dc2626]"},bE=["textContent"],yE={class:"flex flex-row items-center gap-1.5 px-2 py-1 text-sm rounded bg-[#16a34a]/10 text-[#16a34a]"},vE=["textContent"],wE={class:"flex flex-row items-center gap-1.5 px-2 py-1 text-sm rounded bg-[#0891b2]/10 text-[#0891b2]"},kE=["textContent"],SE={class:"flex flex-row items-center gap-1.5 px-2 py-1 text-sm rounded bg-[#4b5563]/10 text-[#4b5563]"},CE=["textContent"],AE=Ir({__name:"ChartsSummary",setup(i){const e=Bf(),t=qe(),n=qe(),r=qe(),s=qe(),o=qe(),a=qe(),l=qe();return Pr(async()=>{const c=await e.deltaSummary();t.value=c.newViews,n.value=c.newReviews,r.value=c.newRecommendations,s.value=c.newFavorites,o.value=c.newBookmarks,a.value=c.newOfflineLibraries,l.value=c.newBookshelves}),(c,u)=>(tt(),vt("div",uE,[Pe("div",hE,[ft(Tt(XA),{class:"w-4 h-4"}),Pe("span",{textContent:Qn(t.value)},null,8,dE)]),Pe("div",fE,[ft(Tt(JA),{class:"w-4 h-4"}),Pe("span",{textContent:Qn(n.value)},null,8,pE)]),Pe("div",gE,[ft(Tt(ZA),{class:"w-4 h-4"}),Pe("span",{textContent:Qn(r.value)},null,8,mE)]),Pe("div",xE,[ft(Tt(KA),{class:"w-4 h-4"}),Pe("span",{textContent:Qn(s.value)},null,8,bE)]),Pe("div",yE,[ft(Tt(UA),{class:"w-4 h-4"}),Pe("span",{textContent:Qn(o.value)},null,8,vE)]),Pe("div",wE,[ft(Tt(HA),{class:"w-4 h-4"}),Pe("span",{textContent:Qn(a.value)},null,8,kE)]),Pe("div",SE,[ft(Tt(zA),{class:"w-4 h-4"}),Pe("span",{textContent:Qn(l.value)},null,8,CE)])]))}}),ME={class:"stats"},TE={class:"stats-chart"},EE={key:1,class:"stats-overlay"},OE={key:0,class:"stats-loading"},IE={class:"flex flex-row items-center justify-between mt-4"},PE=Za(Ir({__name:"Charts",setup(i){const e=qe(!1),t=qe(!1),n=qe([]),r=Un(()=>{const f=[];return n.value.forEach(p=>{f.push({label:p.title,value:p.link})}),f}),s=qe(null),o=qe(),a=qe(),l=Jy(),c=Bf(),u=Ja();Pr(async()=>{var f;n.value=await l.get(),s.value=u.local.get("statistics_current_book",r.value&&((f=r.value[0])==null?void 0:f.value)||null)}),qn(s,async f=>{if(!n.value||!f)return;u.local.set("statistics_current_book",f),e.value=!0,await new Promise(y=>setTimeout(y,150));const p=await c.stats(f);t.value=!(p&&p.length>1);const{seriesData:m,annotations:b}=p&&p.length>1?d(p):{seriesData:[],annotations:{}};o.value=[{name:"Aufrufe",data:m}],a.value={chart:{type:"line",height:350},annotations:b,stroke:{curve:"smooth"},xaxis:{type:"category",categories:o.value[0].data.map(y=>y.x)},yaxis:{forceNiceScale:!0},title:{text:"Tgliche Aufrufe & Events"},dataLabels:{enabled:!1},grid:{padding:{right:30,left:20}},tooltip:{y:{formatter:function(y,{seriesIndex:w,dataPointIndex:C,w:T}){var O;const E=((O=T.config.series[w].data[C].meta)==null?void 0:O.totalViews)??0,M=new Intl.NumberFormat("de-DE");return`${M.format(E)} (+${M.format(y)})`}}}},await new Promise(y=>setTimeout(y,150)),e.value=!1});function h(f){return new Date(f).toLocaleDateString("de-DE",{day:"2-digit",month:"long"})}function d(f){const p=[],m={xaxis:[],points:[]};for(let b=1;b<f.length;b++){const y=f[b],w=f[b-1],C=y.views-w.views,T=new Date(`${y.date}T${y.time}`).getTime();p.push({x:h(T),y:C,meta:{totalViews:y.views}});const k=y.chapters-w.chapters;k!==0&&m.xaxis.push({x:h(T),strokeDashArray:0,borderColor:"#9333ea",label:{borderColor:"#9333ea",style:{color:"#fff",background:"#9333ea"},text:`${k>0?"+":""}${k} Kapitel`}});const E=["reviews","recommendations","favorites","bookmarks","offlineLibraries","bookshelves"];let M=0;E.forEach(O=>{if(y[O]===w[O])return;const P=O[0].toUpperCase()+O.slice(1);m.points.push({x:h(T),y:C,marker:{size:10,offsetY:25*M,fillColor:Hf[P],strokeColor:Hf[P],cssClass:`apexcharts-icon-${O}`},image:{path:`data:image/svg+xml;base64,${btoa(Qy[P])}`,width:16,height:16,offsetY:25*M}}),M++})}return{seriesData:p,annotations:m}}return(f,p)=>(tt(),vt("div",ME,[r.value?(tt(),dr(kT,{key:0,tabs:r.value,modelValue:s.value,"onUpdate:modelValue":p[0]||(p[0]=m=>s.value=m)},null,8,["tabs","modelValue"])):Ht("",!0),Pe("div",TE,[a.value&&o.value?(tt(),dr(Tt(qc),{key:0,type:"line",height:"350",options:a.value,series:o.value},null,8,["options","series"])):Ht("",!0),!e.value&&t.value?(tt(),vt("div",EE,p[1]||(p[1]=[Pe("p",null,"Noch keine Daten verfgbar",-1)]))):Ht("",!0),ft(_d,{name:"fade"},{default:dc(()=>[e.value?(tt(),vt("div",OE,[ft(Tt(Bd),{class:"loading-circle"})])):Ht("",!0)]),_:1})]),Pe("div",IE,[ft(AE),ft(cE,{danger:t.value},null,8,["danger"])])]))}}),[["__scopeId","data-v-08afb474"]]);function gn(i){this.content=i}gn.prototype={constructor:gn,find:function(i){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===i)return e;return-1},get:function(i){var e=this.find(i);return e==-1?void 0:this.content[e+1]},update:function(i,e,t){var n=t&&t!=i?this.remove(t):this,r=n.find(i),s=n.content.slice();return r==-1?s.push(t||i,e):(s[r+1]=e,t&&(s[r]=t)),new gn(s)},remove:function(i){var e=this.find(i);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new gn(t)},addToStart:function(i,e){return new gn([i,e].concat(this.remove(i).content))},addToEnd:function(i,e){var t=this.remove(i).content.slice();return t.push(i,e),new gn(t)},addBefore:function(i,e,t){var n=this.remove(e),r=n.content.slice(),s=n.find(i);return r.splice(s==-1?r.length:s,0,e,t),new gn(r)},forEach:function(i){for(var e=0;e<this.content.length;e+=2)i(this.content[e],this.content[e+1])},prepend:function(i){return i=gn.from(i),i.size?new gn(i.content.concat(this.subtract(i).content)):this},append:function(i){return i=gn.from(i),i.size?new gn(this.subtract(i).content.concat(i.content)):this},subtract:function(i){var e=this;i=gn.from(i);for(var t=0;t<i.content.length;t+=2)e=e.remove(i.content[t]);return e},toObject:function(){var i={};return this.forEach(function(e,t){i[e]=t}),i},get size(){return this.content.length>>1}},gn.from=function(i){if(i instanceof gn)return i;var e=[];if(i)for(var t in i)e.push(t,i[t]);return new gn(e)};function mv(i,e,t){for(let n=0;;n++){if(n==i.childCount||n==e.childCount)return i.childCount==e.childCount?null:t;let r=i.child(n),s=e.child(n);if(r==s){t+=r.nodeSize;continue}if(!r.sameMarkup(s))return t;if(r.isText&&r.text!=s.text){for(let o=0;r.text[o]==s.text[o];o++)t++;return t}if(r.content.size||s.content.size){let o=mv(r.content,s.content,t+1);if(o!=null)return o}t+=r.nodeSize}}function xv(i,e,t,n){for(let r=i.childCount,s=e.childCount;;){if(r==0||s==0)return r==s?null:{a:t,b:n};let o=i.child(--r),a=e.child(--s),l=o.nodeSize;if(o==a){t-=l,n-=l;continue}if(!o.sameMarkup(a))return{a:t,b:n};if(o.isText&&o.text!=a.text){let c=0,u=Math.min(o.text.length,a.text.length);for(;c<u&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,t--,n--;return{a:t,b:n}}if(o.content.size||a.content.size){let c=xv(o.content,a.content,t-1,n-1);if(c)return c}t-=l,n-=l}}class ue{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,t,n,r=0,s){for(let o=0,a=0;a<t;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&n(l,r+a,s||null,o)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,t-u),n,r+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,r){let s="",o=!0;return this.nodesBetween(e,t,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,t-l):a.isLeaf?r?typeof r=="function"?r(a):r:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&n&&(o?o=!1:s+=n),s+=c},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,r=this.content.slice(),s=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),s=1);s<e.content.length;s++)r.push(e.content[s]);return new ue(r,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let n=[],r=0;if(t>e)for(let s=0,o=0;o<t;s++){let a=this.content[s],l=o+a.nodeSize;l>e&&((o<e||l>t)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,t-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,t-o-1))),n.push(a),r+=a.nodeSize),o=l}return new ue(n,r)}cutByIndex(e,t){return e==t?ue.empty:e==0&&t==this.content.length?this:new ue(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let r=this.content.slice(),s=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new ue(r,s)}addToStart(e){return new ue([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ue(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let r=this.content[t];e(r,n,t),n+=r.nodeSize}}findDiffStart(e,t=0){return mv(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return xv(this,e,t,n)}findIndex(e,t=-1){if(e==0)return ou(0,e);if(e==this.size)return ou(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let s=this.child(n),o=r+s.nodeSize;if(o>=e)return o==e||t>0?ou(n+1,o):ou(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return ue.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new ue(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ue.empty;let t,n=0;for(let r=0;r<e.length;r++){let s=e[r];n+=s.nodeSize,r&&s.isText&&e[r-1].sameMarkup(s)?(t||(t=e.slice(0,r)),t[t.length-1]=s.withText(t[t.length-1].text+s.text)):t&&t.push(s)}return new ue(t||e,n)}static from(e){if(!e)return ue.empty;if(e instanceof ue)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ue([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ue.empty=new ue([],0);const Jf={index:0,offset:0};function ou(i,e){return Jf.index=i,Jf.offset=e,Jf}function au(i,e){if(i===e)return!0;if(!(i&&typeof i=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(i);if(Array.isArray(e)!=t)return!1;if(t){if(i.length!=e.length)return!1;for(let n=0;n<i.length;n++)if(!au(i[n],e[n]))return!1}else{for(let n in i)if(!(n in e)||!au(i[n],e[n]))return!1;for(let n in e)if(!(n in i))return!1}return!0}let Pt=class cm{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let r=0;r<e.length;r++){let s=e[r];if(this.eq(s))return e;if(this.type.excludes(s.type))t||(t=e.slice(0,r));else{if(s.type.excludes(this.type))return e;!n&&s.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(s)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&au(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);let r=n.create(t.attrs);return n.checkAttrs(r.attrs),r}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return cm.none;if(e instanceof cm)return[e];let t=e.slice();return t.sort((n,r)=>n.type.rank-r.type.rank),t}};Pt.none=[];class lu extends Error{}class Re{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=yv(this.content,e+this.openStart,t);return n&&new Re(n,this.openStart,this.openEnd)}removeBetween(e,t){return new Re(bv(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return Re.empty;let n=t.openStart||0,r=t.openEnd||0;if(typeof n!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Re(ue.fromJSON(e,t.content),n,r)}static maxOpen(e,t=!0){let n=0,r=0;for(let s=e.firstChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.firstChild)n++;for(let s=e.lastChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.lastChild)r++;return new Re(e,n,r)}}Re.empty=new Re(ue.empty,0,0);function bv(i,e,t){let{index:n,offset:r}=i.findIndex(e),s=i.maybeChild(n),{index:o,offset:a}=i.findIndex(t);if(r==e||s.isText){if(a!=t&&!i.child(o).isText)throw new RangeError("Removing non-flat range");return i.cut(0,e).append(i.cut(t))}if(n!=o)throw new RangeError("Removing non-flat range");return i.replaceChild(n,s.copy(bv(s.content,e-r-1,t-r-1)))}function yv(i,e,t,n){let{index:r,offset:s}=i.findIndex(e),o=i.maybeChild(r);if(s==e||o.isText)return i.cut(0,e).append(t).append(i.cut(e));let a=yv(o.content,e-s-1,t);return a&&i.replaceChild(r,o.copy(a))}function LE(i,e,t){if(t.openStart>i.depth)throw new lu("Inserted content deeper than insertion position");if(i.depth-t.openStart!=e.depth-t.openEnd)throw new lu("Inconsistent open depths");return vv(i,e,t,0)}function vv(i,e,t,n){let r=i.index(n),s=i.node(n);if(r==e.index(n)&&n<i.depth-t.openStart){let o=vv(i,e,t,n+1);return s.copy(s.content.replaceChild(r,o))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&i.depth==n&&e.depth==n){let o=i.parent,a=o.content;return Hs(o,a.cut(0,i.parentOffset).append(t.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=RE(t,i);return Hs(s,kv(i,o,a,e,n))}else return Hs(s,cu(i,e,n))}function wv(i,e){if(!e.type.compatibleContent(i.type))throw new lu("Cannot join "+e.type.name+" onto "+i.type.name)}function Zf(i,e,t){let n=i.node(t);return wv(n,e.node(t)),n}function Bs(i,e){let t=e.length-1;t>=0&&i.isText&&i.sameMarkup(e[t])?e[t]=i.withText(e[t].text+i.text):e.push(i)}function il(i,e,t,n){let r=(e||i).node(t),s=0,o=e?e.index(t):r.childCount;i&&(s=i.index(t),i.depth>t?s++:i.textOffset&&(Bs(i.nodeAfter,n),s++));for(let a=s;a<o;a++)Bs(r.child(a),n);e&&e.depth==t&&e.textOffset&&Bs(e.nodeBefore,n)}function Hs(i,e){return i.type.checkContent(e),i.copy(e)}function kv(i,e,t,n,r){let s=i.depth>r&&Zf(i,e,r+1),o=n.depth>r&&Zf(t,n,r+1),a=[];return il(null,i,r,a),s&&o&&e.index(r)==t.index(r)?(wv(s,o),Bs(Hs(s,kv(i,e,t,n,r+1)),a)):(s&&Bs(Hs(s,cu(i,e,r+1)),a),il(e,t,r,a),o&&Bs(Hs(o,cu(t,n,r+1)),a)),il(n,null,r,a),new ue(a)}function cu(i,e,t){let n=[];if(il(null,i,t,n),i.depth>t){let r=Zf(i,e,t+1);Bs(Hs(r,cu(i,e,t+1)),n)}return il(e,null,t,n),new ue(n)}function RE(i,e){let t=e.depth-i.openStart,r=e.node(t).copy(i.content);for(let s=t-1;s>=0;s--)r=e.node(s).copy(ue.from(r));return{start:r.resolveNoCache(i.openStart+t),end:r.resolveNoCache(r.content.size-i.openEnd-t)}}class rl{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[t*3],r=t==0?0:this.path[t*3-1]+1;for(let s=0;s<e;s++)r+=n.child(s).nodeSize;return r}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return Pt.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){let a=n;n=r,r=a}let s=n.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!r||!s[o].isInSet(r.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,r=e.parent.maybeChild(e.index());for(var s=0;s<n.length;s++)n[s].type.spec.inclusive===!1&&(!r||!n[s].isInSet(r.marks))&&(n=n[s--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new uu(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],r=0,s=t;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(s),c=s-l;if(n.push(o,a,r+l),!c||(o=o.child(a),o.isText))break;s=c-1,r+=l+1}return new rl(t,n,s)}static resolveCached(e,t){let n=Sv.get(e);if(n)for(let s=0;s<n.elts.length;s++){let o=n.elts[s];if(o.pos==t)return o}else Sv.set(e,n=new _E);let r=n.elts[n.i]=rl.resolve(e,t);return n.i=(n.i+1)%DE,r}}class _E{constructor(){this.elts=[],this.i=0}}const DE=12,Sv=new WeakMap;class uu{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const NE=Object.create(null);let Wr=class um{constructor(e,t,n,r=Pt.none){this.type=e,this.attrs=t,this.marks=r,this.content=n||ue.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,r=0){this.content.nodesBetween(e,t,n,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,r){return this.content.textBetween(e,t,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&au(this.attrs,t||e.defaultAttrs||NE)&&Pt.sameSet(this.marks,n||Pt.none)}copy(e=null){return e==this.content?this:new um(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new um(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return Re.empty;let r=this.resolve(e),s=this.resolve(t),o=n?0:r.sharedDepth(t),a=r.start(o),c=r.node(o).content.cut(r.pos-a,s.pos-a);return new Re(c,r.depth-o,s.depth-o)}replace(e,t,n){return LE(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:r}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(r==e||t.isText)return t;e-=r+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let r=this.content.child(t-1);return{node:r,index:t-1,offset:n-r.nodeSize}}resolve(e){return rl.resolveCached(this,e)}resolveNoCache(e){return rl.resolve(this,e)}rangeHasMark(e,t,n){let r=!1;return t>e&&this.nodesBetween(e,t,s=>(n.isInSet(s.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Cv(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=ue.empty,r=0,s=n.childCount){let o=this.contentMatchAt(e).matchFragment(n,r,s),a=o&&o.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(let l=r;l<s;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;let s=this.contentMatchAt(e).matchType(n),o=s&&s.matchFragment(this.content,t);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Pt.none;for(let t=0;t<this.marks.length;t++){let n=this.marks[t];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!Pt.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let r=ue.fromJSON(e,t.content),s=e.nodeType(t.type).create(t.attrs,r,n);return s.type.checkAttrs(s.attrs),s}};Wr.prototype.text=void 0;class hu extends Wr{constructor(e,t,n,r){if(super(e,t,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Cv(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new hu(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new hu(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Cv(i,e){for(let t=i.length-1;t>=0;t--)e=i[t].type.name+"("+e+")";return e}class Ws{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new FE(e,t);if(n.next==null)return Ws.empty;let r=Av(n);n.next&&n.err("Unexpected trailing text");let s=jE(YE(r));return VE(s,n),s}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let r=this;for(let s=t;r&&s<n;s++)r=r.matchType(e.child(s).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let r=[this];function s(o,a){let l=o.matchFragment(e,n);if(l&&(!t||l.validEnd))return ue.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:u,next:h}=o.next[c];if(!(u.isText||u.hasRequiredAttrs())&&r.indexOf(h)==-1){r.push(h);let d=s(h,a.concat(u));if(d)return d}}return null}return s(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),s=r.match;if(s.matchType(e)){let o=[];for(let a=r;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in t)&&(!r.type||l.validEnd)&&(n.push({match:a.contentMatch,type:a,via:r}),t[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(n){e.push(n);for(let r=0;r<n.next.length;r++)e.indexOf(n.next[r].next)==-1&&t(n.next[r].next)}return t(this),e.map((n,r)=>{let s=r+(n.validEnd?"*":" ")+" ";for(let o=0;o<n.next.length;o++)s+=(o?", ":"")+n.next[o].type.name+"->"+e.indexOf(n.next[o].next);return s}).join(`
  `)}}Ws.empty=new Ws(!0);class FE{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Av(i){let e=[];do e.push(zE(i));while(i.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function zE(i){let e=[];do e.push(BE(i));while(i.next&&i.next!=")"&&i.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function BE(i){let e=XE(i);for(;;)if(i.eat("+"))e={type:"plus",expr:e};else if(i.eat("*"))e={type:"star",expr:e};else if(i.eat("?"))e={type:"opt",expr:e};else if(i.eat("{"))e=HE(i,e);else break;return e}function Mv(i){/\D/.test(i.next)&&i.err("Expected number, got '"+i.next+"'");let e=Number(i.next);return i.pos++,e}function HE(i,e){let t=Mv(i),n=t;return i.eat(",")&&(i.next!="}"?n=Mv(i):n=-1),i.eat("}")||i.err("Unclosed braced range"),{type:"range",min:t,max:n,expr:e}}function WE(i,e){let t=i.nodeTypes,n=t[e];if(n)return[n];let r=[];for(let s in t){let o=t[s];o.isInGroup(e)&&r.push(o)}return r.length==0&&i.err("No node type or group '"+e+"' found"),r}function XE(i){if(i.eat("(")){let e=Av(i);return i.eat(")")||i.err("Missing closing paren"),e}else if(/\W/.test(i.next))i.err("Unexpected token '"+i.next+"'");else{let e=WE(i,i.next).map(t=>(i.inline==null?i.inline=t.isInline:i.inline!=t.isInline&&i.err("Mixing inline and block content"),{type:"name",value:t}));return i.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function YE(i){let e=[[]];return r(s(i,0),t()),e;function t(){return e.push([])-1}function n(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function r(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(s(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=s(o.exprs[l],a);if(l==o.exprs.length-1)return c;r(c,a=t())}else if(o.type=="star"){let l=t();return n(a,l),r(s(o.expr,l),l),[n(l)]}else if(o.type=="plus"){let l=t();return r(s(o.expr,a),l),r(s(o.expr,l),l),[n(l)]}else{if(o.type=="opt")return[n(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let u=t();r(s(o.expr,l),u),l=u}if(o.max==-1)r(s(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let u=t();n(l,u),r(s(o.expr,l),u),l=u}return[n(l)]}else{if(o.type=="name")return[n(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function Tv(i,e){return e-i}function Ev(i,e){let t=[];return n(e),t.sort(Tv);function n(r){let s=i[r];if(s.length==1&&!s[0].term)return n(s[0].to);t.push(r);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&t.indexOf(l)==-1&&n(l)}}}function jE(i){let e=Object.create(null);return t(Ev(i,0));function t(n){let r=[];n.forEach(o=>{i[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<r.length;u++)r[u][0]==a&&(c=r[u][1]);Ev(i,l).forEach(u=>{c||r.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let s=e[n.join(",")]=new Ws(n.indexOf(i.length-1)>-1);for(let o=0;o<r.length;o++){let a=r[o][1].sort(Tv);s.next.push({type:r[o][0],next:e[a.join(",")]||t(a)})}return s}}function VE(i,e){for(let t=0,n=[i];t<n.length;t++){let r=n[t],s=!r.validEnd,o=[];for(let a=0;a<r.next.length;a++){let{type:l,next:c}=r.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),n.indexOf(c)==-1&&n.push(c)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Ov(i){let e=Object.create(null);for(let t in i){let n=i[t];if(!n.hasDefault)return null;e[t]=n.default}return e}function Iv(i,e){let t=Object.create(null);for(let n in i){let r=e&&e[n];if(r===void 0){let s=i[n];if(s.hasDefault)r=s.default;else throw new RangeError("No value supplied for attribute "+n)}t[n]=r}return t}function Pv(i,e,t,n){for(let r in e)if(!(r in i))throw new RangeError(`Unsupported attribute ${r} for ${t} of type ${r}`);for(let r in i){let s=i[r];s.validate&&s.validate(e[r])}}function Lv(i,e){let t=Object.create(null);if(e)for(let n in e)t[n]=new GE(i,n,e[n]);return t}let Rv=class uk{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=Lv(e,n.attrs),this.defaultAttrs=Ov(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ws.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Iv(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Wr(this,this.computeAttrs(e),ue.from(t),Pt.setFrom(n))}createChecked(e=null,t,n){return t=ue.from(t),this.checkContent(t),new Wr(this,this.computeAttrs(e),t,Pt.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),t=ue.from(t),t.size){let o=this.contentMatch.fillBefore(t);if(!o)return null;t=o.append(t)}let r=this.contentMatch.matchFragment(t),s=r&&r.fillBefore(ue.empty,!0);return s?new Wr(this,e,t.append(s),Pt.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Pv(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:Pt.none:e}static compile(e,t){let n=Object.create(null);e.forEach((s,o)=>n[s]=new uk(s,t,o));let r=t.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let s in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function $E(i,e,t){let n=t.split("|");return r=>{let s=r===null?"null":typeof r;if(n.indexOf(s)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${i}, got ${s}`)}}class GE{constructor(e,t,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?$E(e,t,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class du{constructor(e,t,n,r){this.name=e,this.rank=t,this.schema=n,this.spec=r,this.attrs=Lv(e,r.attrs),this.excluded=null;let s=Ov(this.attrs);this.instance=s?new Pt(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Pt(this,Iv(this.attrs,e))}static compile(e,t){let n=Object.create(null),r=0;return e.forEach((s,o)=>n[s]=new du(s,r++,t,o)),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){Pv(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class _v{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let r in e)t[r]=e[r];t.nodes=gn.from(e.nodes),t.marks=gn.from(e.marks||{}),this.nodes=Rv.compile(this.spec.nodes,this),this.marks=du.compile(this.spec.marks,this);let n=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let s=this.nodes[r],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=n[o]||(n[o]=Ws.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?Dv(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let r in this.marks){let s=this.marks[r],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:Dv(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,r){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Rv){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,n,r)}text(e,t){let n=this.nodes.text;return new hu(n,n.defaultAttrs,e,Pt.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Wr.fromJSON(this,e)}markFromJSON(e){return Pt.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function Dv(i,e){let t=[];for(let n=0;n<e.length;n++){let r=e[n],s=i.marks[r],o=s;if(s)t.push(s);else for(let a in i.marks){let l=i.marks[a];(r=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(r)>-1)&&t.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return t}function qE(i){return i.tag!=null}function UE(i){return i.style!=null}let sl=class hm{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let n=this.matchedStyles=[];t.forEach(r=>{if(qE(r))this.tags.push(r);else if(UE(r)){let s=/[^=]*/.exec(r.style)[0];n.indexOf(s)<0&&n.push(s),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let s=e.nodes[r.node];return s.contentMatch.matchType(s)})}parse(e,t={}){let n=new Bv(this,t,!1);return n.addAll(e,Pt.none,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new Bv(this,t,!0);return n.addAll(e,Pt.none,t.from,t.to),Re.maxOpen(n.finish())}matchTag(e,t,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let s=this.tags[r];if(ZE(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||t.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,t,n,r){for(let s=r?this.styles.indexOf(r)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!n.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=t))){if(o.getAttrs){let l=o.getAttrs(t);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let t=[];function n(r){let s=r.priority==null?50:r.priority,o=0;for(;o<t.length;o++){let a=t[o];if((a.priority==null?50:a.priority)<s)break}t.splice(o,0,r)}for(let r in e.marks){let s=e.marks[r].spec.parseDOM;s&&s.forEach(o=>{n(o=Hv(o)),o.mark||o.ignore||o.clearMark||(o.mark=r)})}for(let r in e.nodes){let s=e.nodes[r].spec.parseDOM;s&&s.forEach(o=>{n(o=Hv(o)),o.node||o.ignore||o.mark||(o.node=r)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new hm(e,hm.schemaRules(e)))}};const Nv={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},KE={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Fv={ol:!0,ul:!0},ol=1,Qf=2,fu=4;function zv(i,e,t){return e!=null?(e?ol:0)|(e==="full"?Qf:0):i&&i.whitespace=="pre"?ol|Qf:t&-5}class pu{constructor(e,t,n,r,s,o){this.type=e,this.attrs=t,this.marks=n,this.solid=r,this.options=o,this.content=[],this.activeMarks=Pt.none,this.match=s||(o&fu?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(ue.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let n=this.type.contentMatch,r;return(r=n.findWrapping(e.type))?(this.match=n,r):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&ol)){let n=this.content[this.content.length-1],r;if(n&&n.isText&&(r=/[ \t\r\n\u000c]+$/.exec(n.text))){let s=n;n.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-r[0].length))}}let t=ue.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(ue.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Nv.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Bv{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let r=t.topNode,s,o=zv(null,t.preserveWhitespace,0)|(n?fu:0);r?s=new pu(r.type,r.attrs,Pt.none,!0,t.topMatch||r.type.contentMatch,o):n?s=new pu(null,null,Pt.none,!0,null,o):s=new pu(e.schema.topNodeType,null,Pt.none,!0,null,o),this.nodes=[s],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let n=e.nodeValue,r=this.top,s=r.options&Qf?"full":this.localPreserveWS||(r.options&ol)>0;if(s==="full"||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(s)s!=="full"?n=n.replace(/\r?\n|\r/g," "):n=n.replace(/\r\n?/g,`
  `);else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let o=r.content[r.content.length-1],a=e.previousSibling;(!o||a&&a.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),t),this.findInText(e)}else this.findInside(e)}addElement(e,t,n){let r=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),a;Fv.hasOwnProperty(o)&&this.parser.normalizeLists&&JE(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(a=this.parser.matchTag(e,this,n));e:if(l?l.ignore:KE.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,t);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,u=this.needsBlock;if(Nv.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),c=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let h=l&&l.skip?t:this.readStyles(e,t);h&&this.addAll(e,h),c&&this.sync(s),this.needsBlock=u}else{let c=this.readStyles(e,t);c&&this.addElementByRule(e,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=r}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
  `),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t)}readStyles(e,t){let n=e.style;if(n&&n.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let s=this.parser.matchedStyles[r],o=n.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?t=t.filter(c=>!l.clearMark(c)):t=t.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return t}addElementByRule(e,t,n,r){let s,o;if(t.node)if(o=this.parser.schema.nodes[t.node],o.isLeaf)this.insertNode(o.create(t.attrs),n)||this.leafFallback(e,n);else{let l=this.enter(o,t.attrs||null,n,t.preserveWhitespace);l&&(s=!0,n=l)}else{let l=this.parser.schema.marks[t.mark];n=n.concat(l.create(t.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,n,r);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,n));else{let l=e;typeof t.contentElement=="string"?l=e.querySelector(t.contentElement):typeof t.contentElement=="function"?l=t.contentElement(e):t.contentElement&&(l=t.contentElement),this.findAround(e,l,!0),this.addAll(l,n),this.findAround(e,l,!1)}s&&this.sync(a)&&this.open--}addAll(e,t,n,r){let s=n||0;for(let o=n?e.childNodes[n]:e.firstChild,a=r==null?null:e.childNodes[r];o!=a;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,t);this.findAtPoint(e,s)}findPlace(e,t){let n,r;for(let s=this.open;s>=0;s--){let o=this.nodes[s],a=o.findWrapping(e);if(a&&(!n||n.length>a.length)&&(n=a,r=o,!a.length)||o.solid)break}if(!n)return null;this.sync(r);for(let s=0;s<n.length;s++)t=this.enterInner(n[s],null,t,!1);return t}insertNode(e,t){if(e.isInline&&this.needsBlock&&!this.top.type){let r=this.textblockFromContext();r&&(t=this.enterInner(r,null,t))}let n=this.findPlace(e,t);if(n){this.closeExtra();let r=this.top;r.match&&(r.match=r.match.matchType(e.type));let s=Pt.none;for(let o of n.concat(e.marks))(r.type?r.type.allowsMarkType(o.type):Wv(o.type,e.type))&&(s=o.addToSet(s));return r.content.push(e.mark(s)),!0}return!1}enter(e,t,n,r){let s=this.findPlace(e.create(t),n);return s&&(s=this.enterInner(e,t,n,!0,r)),s}enterInner(e,t,n,r=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=zv(e,s,o.options);o.options&fu&&o.content.length==0&&(a|=fu);let l=Pt.none;return n=n.filter(c=>(o.type?o.type.allowsMarkType(c.type):Wv(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new pu(e,t,l,r,null,a)),this.open++,n}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=ol)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let r=n.length-1;r>=0;r--)e+=n[r].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,r=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),s=-(n?n.depth+1:0)+(r?0:1),o=(a,l)=>{for(;a>=0;a--){let c=t[a];if(c==""){if(a==t.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let u=l>0||l==0&&r?this.nodes[l].type:n&&l>=s?n.node(l-s).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return o(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let n=this.parser.schema.nodes[t];if(n.isTextblock&&n.defaultAttrs)return n}}}function JE(i){for(let e=i.firstChild,t=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&Fv.hasOwnProperty(n)&&t?(t.appendChild(e),e=t):n=="li"?t=e:n&&(t=null)}}function ZE(i,e){return(i.matches||i.msMatchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector).call(i,e)}function Hv(i){let e={};for(let t in i)e[t]=i[t];return e}function Wv(i,e){let t=e.schema.nodes;for(let n in t){let r=t[n];if(!r.allowsMarkType(i))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||s.indexOf(u)<0&&o(u))return!0}};if(o(r.contentMatch))return!0}}class Xs{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=ep(t).createDocumentFragment());let r=n,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)r=s.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],u=this.serializeMark(c,o.isInline,t);u&&(s.push([c,r]),r.appendChild(u.dom),r=u.contentDOM||u.dom)}}r.appendChild(this.serializeNodeInner(o,t))}),n}serializeNodeInner(e,t){let{dom:n,contentDOM:r}=gu(ep(t),this.nodes[e.type.name](e),null,e.attrs);if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let r=e.marks.length-1;r>=0;r--){let s=this.serializeMark(e.marks[r],e.isInline,t);s&&((s.contentDOM||s.dom).appendChild(n),n=s.dom)}return n}serializeMark(e,t,n={}){let r=this.marks[e.type.name];return r&&gu(ep(n),r(e,t),null,e.attrs)}static renderSpec(e,t,n=null,r){return gu(e,t,n,r)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Xs(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=Xv(e.nodes);return t.text||(t.text=n=>n.text),t}static marksFromSchema(e){return Xv(e.marks)}}function Xv(i){let e={};for(let t in i){let n=i[t].spec.toDOM;n&&(e[t]=n)}return e}function ep(i){return i.document||window.document}const Yv=new WeakMap;function QE(i){let e=Yv.get(i);return e===void 0&&Yv.set(i,e=eO(i)),e}function eO(i){let e=null;function t(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let r=0;r<n.length;r++)t(n[r]);else for(let r in n)t(n[r])}return t(i),e}function gu(i,e,t,n){if(typeof e=="string")return{dom:i.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let r=e[0],s;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(s=QE(n))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=r.indexOf(" ");o>0&&(t=r.slice(0,o),r=r.slice(o+1));let a,l=t?i.createElementNS(t,r):i.createElement(r),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let h in c)if(c[h]!=null){let d=h.indexOf(" ");d>0?l.setAttributeNS(h.slice(0,d),h.slice(d+1),c[h]):l.setAttribute(h,c[h])}}for(let h=u;h<e.length;h++){let d=e[h];if(d===0){if(h<e.length-1||h>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:f,contentDOM:p}=gu(i,d,t,n);if(l.appendChild(f),p){if(a)throw new RangeError("Multiple content holes");a=p}}}return{dom:l,contentDOM:a}}const jv=65535,Vv=Math.pow(2,16);function tO(i,e){return i+e*Vv}function $v(i){return i&jv}function nO(i){return(i-(i&jv))/Vv}const Gv=1,qv=2,mu=4,Uv=8;class tp{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(this.delInfo&Uv)>0}get deletedBefore(){return(this.delInfo&(Gv|mu))>0}get deletedAfter(){return(this.delInfo&(qv|mu))>0}get deletedAcross(){return(this.delInfo&mu)>0}}class ri{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&ri.empty)return ri.empty}recover(e){let t=0,n=$v(e);if(!this.inverted)for(let r=0;r<n;r++)t+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[n*3]+t+nO(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let r=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+s],u=this.ranges[a+o],h=l+c;if(e<=h){let d=c?e==l?-1:e==h?1:t:t,f=l+r+(d<0?0:u);if(n)return f;let p=e==(t<0?l:h)?null:tO(a/3,e-l),m=e==l?qv:e==h?Gv:mu;return(t<0?e!=l:e!=h)&&(m|=Uv),new tp(f,m,p)}r+=u-c}return n?e+r:new tp(e+r,0,null)}touches(e,t){let n=0,r=$v(t),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?n:0);if(l>e)break;let c=this.ranges[a+s],u=l+c;if(e<=u&&a==r*3)return!0;n+=this.ranges[a+o]-c}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,s=0;r<this.ranges.length;r+=3){let o=this.ranges[r],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),c=this.ranges[r+t],u=this.ranges[r+n];e(a,a+c,l,l+u),s+=u-c}}invert(){return new ri(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?ri.empty:new ri(e<0?[0,-e,0]:[0,0,e])}}ri.empty=new ri([]);class al{constructor(e,t,n=0,r=e?e.length:0){this.mirror=t,this.from=n,this.to=r,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new al(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,n=this._maps.length;t<e._maps.length;t++){let r=e.getMirror(t);this.appendMap(e._maps[t],r!=null&&r<t?n+r:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this._maps.length+e._maps.length;t>=0;t--){let r=e.getMirror(t);this.appendMap(e._maps[t].invert(),r!=null&&r>t?n-r-1:void 0)}}invert(){let e=new al;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let r=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],a=o.mapResult(e,t);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this._maps[l].recover(a.recover);continue}}r|=a.delInfo,e=a.pos}return n?e:new tp(e,r,null)}}const np=Object.create(null);class Cn{getMap(){return ri.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=np[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in np)throw new RangeError("Duplicate use of step JSON ID "+e);return np[e]=t,t.prototype.jsonID=e,t}}class Jt{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new Jt(e,null)}static fail(e){return new Jt(null,e)}static fromReplace(e,t,n,r){try{return Jt.ok(e.replace(t,n,r))}catch(s){if(s instanceof lu)return Jt.fail(s.message);throw s}}}function ip(i,e,t){let n=[];for(let r=0;r<i.childCount;r++){let s=i.child(r);s.content.size&&(s=s.copy(ip(s.content,e,s))),s.isInline&&(s=e(s,t,r)),n.push(s)}return ue.fromArray(n)}class Xr extends Cn{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),r=n.node(n.sharedDepth(this.to)),s=new Re(ip(t.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),r),t.openStart,t.openEnd);return Jt.fromReplace(e,this.from,this.to,s)}invert(){return new qi(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new Xr(t.pos,n.pos,this.mark)}merge(e){return e instanceof Xr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Xr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Xr(t.from,t.to,e.markFromJSON(t.mark))}}Cn.jsonID("addMark",Xr);class qi extends Cn{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new Re(ip(t.content,r=>r.mark(this.mark.removeFromSet(r.marks)),e),t.openStart,t.openEnd);return Jt.fromReplace(e,this.from,this.to,n)}invert(){return new Xr(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new qi(t.pos,n.pos,this.mark)}merge(e){return e instanceof qi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new qi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new qi(t.from,t.to,e.markFromJSON(t.mark))}}Cn.jsonID("removeMark",qi);class Yr extends Cn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Jt.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return Jt.fromReplace(e,this.pos,this.pos+1,new Re(ue.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let n=this.mark.addToSet(t.marks);if(n.length==t.marks.length){for(let r=0;r<t.marks.length;r++)if(!t.marks[r].isInSet(n))return new Yr(this.pos,t.marks[r]);return new Yr(this.pos,this.mark)}}return new Fo(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Yr(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Yr(t.pos,e.markFromJSON(t.mark))}}Cn.jsonID("addNodeMark",Yr);class Fo extends Cn{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return Jt.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return Jt.fromReplace(e,this.pos,this.pos+1,new Re(ue.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Yr(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Fo(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Fo(t.pos,e.markFromJSON(t.mark))}}Cn.jsonID("removeNodeMark",Fo);class rn extends Cn{constructor(e,t,n,r=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=r}apply(e){return this.structure&&rp(e,this.from,this.to)?Jt.fail("Structure replace would overwrite content"):Jt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ri([this.from,this.to-this.from,this.slice.size])}invert(e){return new rn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new rn(t.pos,Math.max(t.pos,n.pos),this.slice)}merge(e){if(!(e instanceof rn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?Re.empty:new Re(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new rn(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?Re.empty:new Re(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new rn(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new rn(t.from,t.to,Re.fromJSON(e,t.slice),!!t.structure)}}Cn.jsonID("replace",rn);class sn extends Cn{constructor(e,t,n,r,s,o,a=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=r,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(rp(e,this.from,this.gapFrom)||rp(e,this.gapTo,this.to)))return Jt.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Jt.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?Jt.fromReplace(e,this.from,this.to,n):Jt.fail("Content does not fit in gap")}getMap(){return new ri([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new sn(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),r=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||r<t.pos||s>n.pos?null:new sn(t.pos,n.pos,r,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new sn(t.from,t.to,t.gapFrom,t.gapTo,Re.fromJSON(e,t.slice),t.insert,!!t.structure)}}Cn.jsonID("replaceAround",sn);function rp(i,e,t){let n=i.resolve(e),r=t-e,s=n.depth;for(;r>0&&s>0&&n.indexAfter(s)==n.node(s).childCount;)s--,r--;if(r>0){let o=n.node(s).maybeChild(n.indexAfter(s));for(;r>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,r--}}return!1}function iO(i,e,t,n){let r=[],s=[],o,a;i.doc.nodesBetween(e,t,(l,c,u)=>{if(!l.isInline)return;let h=l.marks;if(!n.isInSet(h)&&u.type.allowsMarkType(n.type)){let d=Math.max(c,e),f=Math.min(c+l.nodeSize,t),p=n.addToSet(h);for(let m=0;m<h.length;m++)h[m].isInSet(p)||(o&&o.to==d&&o.mark.eq(h[m])?o.to=f:r.push(o=new qi(d,f,h[m])));a&&a.to==d?a.to=f:s.push(a=new Xr(d,f,n))}}),r.forEach(l=>i.step(l)),s.forEach(l=>i.step(l))}function rO(i,e,t,n){let r=[],s=0;i.doc.nodesBetween(e,t,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(n instanceof du){let c=o.marks,u;for(;u=n.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else n?n.isInSet(o.marks)&&(l=[n]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,t);for(let u=0;u<l.length;u++){let h=l[u],d;for(let f=0;f<r.length;f++){let p=r[f];p.step==s-1&&h.eq(r[f].style)&&(d=p)}d?(d.to=c,d.step=s):r.push({style:h,from:Math.max(a,e),to:c,step:s})}}}),r.forEach(o=>i.step(new qi(o.from,o.to,o.style)))}function sp(i,e,t,n=t.contentMatch,r=!0){let s=i.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<s.childCount;l++){let c=s.child(l),u=a+c.nodeSize,h=n.matchType(c.type);if(!h)o.push(new rn(a,u,Re.empty));else{n=h;for(let d=0;d<c.marks.length;d++)t.allowsMarkType(c.marks[d].type)||i.step(new qi(a,u,c.marks[d]));if(r&&c.isText&&t.whitespace!="pre"){let d,f=/\r?\n|\r/g,p;for(;d=f.exec(c.text);)p||(p=new Re(ue.from(t.schema.text(" ",t.allowedMarks(c.marks))),0,0)),o.push(new rn(a+d.index,a+d.index+d[0].length,p))}}a=u}if(!n.validEnd){let l=n.fillBefore(ue.empty,!0);i.replace(a,a,new Re(l,0,0))}for(let l=o.length-1;l>=0;l--)i.step(o[l])}function sO(i,e,t){return(e==0||i.canReplace(e,i.childCount))&&(t==i.childCount||i.canReplace(0,t))}function zo(i){let t=i.parent.content.cutByIndex(i.startIndex,i.endIndex);for(let n=i.depth;;--n){let r=i.$from.node(n),s=i.$from.index(n),o=i.$to.indexAfter(n);if(n<i.depth&&r.canReplace(s,o,t))return n;if(n==0||r.type.spec.isolating||!sO(r,s,o))break}return null}function oO(i,e,t){let{$from:n,$to:r,depth:s}=e,o=n.before(s+1),a=r.after(s+1),l=o,c=a,u=ue.empty,h=0;for(let p=s,m=!1;p>t;p--)m||n.index(p)>0?(m=!0,u=ue.from(n.node(p).copy(u)),h++):l--;let d=ue.empty,f=0;for(let p=s,m=!1;p>t;p--)m||r.after(p+1)<r.end(p)?(m=!0,d=ue.from(r.node(p).copy(d)),f++):c++;i.step(new sn(l,c,o,a,new Re(u.append(d),h,f),u.size-h,!0))}function op(i,e,t=null,n=i){let r=aO(i,e),s=r&&lO(n,e);return s?r.map(Kv).concat({type:e,attrs:t}).concat(s.map(Kv)):null}function Kv(i){return{type:i,attrs:null}}function aO(i,e){let{parent:t,startIndex:n,endIndex:r}=i,s=t.contentMatchAt(n).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return t.canReplaceWith(n,r,o)?s:null}function lO(i,e){let{parent:t,startIndex:n,endIndex:r}=i,s=t.child(n),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=n;l&&c<r;c++)l=l.matchType(t.child(c).type);return!l||!l.validEnd?null:o}function cO(i,e,t){let n=ue.empty;for(let o=t.length-1;o>=0;o--){if(n.size){let a=t[o].type.contentMatch.matchFragment(n);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=ue.from(t[o].type.create(t[o].attrs,n))}let r=e.start,s=e.end;i.step(new sn(r,s,r,s,new Re(n,0,0),t.length,!0))}function uO(i,e,t,n,r){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=i.steps.length;i.doc.nodesBetween(e,t,(o,a)=>{let l=typeof r=="function"?r(o):r;if(o.isTextblock&&!o.hasMarkup(n,l)&&hO(i.doc,i.mapping.slice(s).map(a),n)){let c=null;if(n.schema.linebreakReplacement){let f=n.whitespace=="pre",p=!!n.contentMatch.matchType(n.schema.linebreakReplacement);f&&!p?c=!1:!f&&p&&(c=!0)}c===!1&&Zv(i,o,a,s),sp(i,i.mapping.slice(s).map(a,1),n,void 0,c===null);let u=i.mapping.slice(s),h=u.map(a,1),d=u.map(a+o.nodeSize,1);return i.step(new sn(h,d,h+1,d-1,new Re(ue.from(n.create(l,null,o.marks)),0,0),1,!0)),c===!0&&Jv(i,o,a,s),!1}})}function Jv(i,e,t,n){e.forEach((r,s)=>{if(r.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(r.text);){let l=i.mapping.slice(n).map(t+1+s+o.index);i.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function Zv(i,e,t,n){e.forEach((r,s)=>{if(r.type==r.type.schema.linebreakReplacement){let o=i.mapping.slice(n).map(t+1+s);i.replaceWith(o,o+1,e.type.schema.text(`
  `))}})}function hO(i,e,t){let n=i.resolve(e),r=n.index();return n.parent.canReplaceWith(r,r+1,t)}function dO(i,e,t,n,r){let s=i.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");t||(t=s.type);let o=t.create(n,null,r||s.marks);if(s.isLeaf)return i.replaceWith(e,e+s.nodeSize,o);if(!t.validContent(s.content))throw new RangeError("Invalid content for node type "+t.name);i.step(new sn(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Re(ue.from(o),0,0),1,!0))}function xr(i,e,t=1,n){let r=i.resolve(e),s=r.depth-t,o=n&&n[n.length-1]||r.parent;if(s<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!o.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let c=r.depth-1,u=t-2;c>s;c--,u--){let h=r.node(c),d=r.index(c);if(h.type.spec.isolating)return!1;let f=h.content.cutByIndex(d,h.childCount),p=n&&n[u+1];p&&(f=f.replaceChild(0,p.type.create(p.attrs)));let m=n&&n[u]||h;if(!h.canReplace(d+1,h.childCount)||!m.type.validContent(f))return!1}let a=r.indexAfter(s),l=n&&n[0];return r.node(s).canReplaceWith(a,a,l?l.type:r.node(s+1).type)}function fO(i,e,t=1,n){let r=i.doc.resolve(e),s=ue.empty,o=ue.empty;for(let a=r.depth,l=r.depth-t,c=t-1;a>l;a--,c--){s=ue.from(r.node(a).copy(s));let u=n&&n[c];o=ue.from(u?u.type.create(u.attrs,o):r.node(a).copy(o))}i.step(new rn(e,e,new Re(s.append(o),t,t),!0))}function jr(i,e){let t=i.resolve(e),n=t.index();return Qv(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(n,n+1)}function pO(i,e){e.content.size||i.type.compatibleContent(e.type);let t=i.contentMatchAt(i.childCount),{linebreakReplacement:n}=i.type.schema;for(let r=0;r<e.childCount;r++){let s=e.child(r),o=s.type==n?i.type.schema.nodes.text:s.type;if(t=t.matchType(o),!t||!i.type.allowsMarks(s.marks))return!1}return t.validEnd}function Qv(i,e){return!!(i&&e&&!i.isLeaf&&pO(i,e))}function xu(i,e,t=-1){let n=i.resolve(e);for(let r=n.depth;;r--){let s,o,a=n.index(r);if(r==n.depth?(s=n.nodeBefore,o=n.nodeAfter):t>0?(s=n.node(r+1),a++,o=n.node(r).maybeChild(a)):(s=n.node(r).maybeChild(a-1),o=n.node(r+1)),s&&!s.isTextblock&&Qv(s,o)&&n.node(r).canReplace(a,a+1))return e;if(r==0)break;e=t<0?n.before(r):n.after(r)}}function gO(i,e,t){let n=null,{linebreakReplacement:r}=i.doc.type.schema,s=i.doc.resolve(e-t),o=s.node().type;if(r&&o.inlineContent){let u=o.whitespace=="pre",h=!!o.contentMatch.matchType(r);u&&!h?n=!1:!u&&h&&(n=!0)}let a=i.steps.length;if(n===!1){let u=i.doc.resolve(e+t);Zv(i,u.node(),u.before(),a)}o.inlineContent&&sp(i,e+t-1,o,s.node().contentMatchAt(s.index()),n==null);let l=i.mapping.slice(a),c=l.map(e-t);if(i.step(new rn(c,l.map(e+t,-1),Re.empty,!0)),n===!0){let u=i.doc.resolve(c);Jv(i,u.node(),u.before(),i.steps.length)}return i}function mO(i,e,t){let n=i.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),t))return e;if(n.parentOffset==0)for(let r=n.depth-1;r>=0;r--){let s=n.index(r);if(n.node(r).canReplaceWith(s,s,t))return n.before(r+1);if(s>0)return null}if(n.parentOffset==n.parent.content.size)for(let r=n.depth-1;r>=0;r--){let s=n.indexAfter(r);if(n.node(r).canReplaceWith(s,s,t))return n.after(r+1);if(s<n.node(r).childCount)return null}return null}function e0(i,e,t){let n=i.resolve(e);if(!t.content.size)return e;let r=t.content;for(let s=0;s<t.openStart;s++)r=r.firstChild.content;for(let s=1;s<=(t.openStart==0&&t.size?2:1);s++)for(let o=n.depth;o>=0;o--){let a=o==n.depth?0:n.pos<=(n.start(o+1)+n.end(o+1))/2?-1:1,l=n.index(o)+(a>0?1:0),c=n.node(o),u=!1;if(s==1)u=c.canReplace(l,l,r);else{let h=c.contentMatchAt(l).findWrapping(r.firstChild.type);u=h&&c.canReplaceWith(l,l,h[0])}if(u)return a==0?n.pos:a<0?n.before(o+1):n.after(o+1)}return null}function bu(i,e,t=e,n=Re.empty){if(e==t&&!n.size)return null;let r=i.resolve(e),s=i.resolve(t);return t0(r,s,n)?new rn(e,t,n):new xO(r,s,n).fit()}function t0(i,e,t){return!t.openStart&&!t.openEnd&&i.start()==e.start()&&i.parent.canReplace(i.index(),e.index(),t.content)}class xO{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=ue.empty;for(let r=0;r<=e.depth;r++){let s=e.node(r);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(r))})}for(let r=e.depth;r>0;r--)this.placed=ue.from(e.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,r=this.close(e<0?this.$to:n.doc.resolve(e));if(!r)return null;let s=this.placed,o=n.depth,a=r.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new Re(s,o,a);return e>-1?new sn(n.pos,e,this.$to.pos,this.$to.end(),l,t):l.size||n.pos!=this.$to.pos?new rn(n.pos,r.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,n=0,r=this.unplaced.openEnd;n<e;n++){let s=t.firstChild;if(t.childCount>1&&(r=0),s.type.spec.isolating&&r<=n){e=n;break}t=s.content}for(let t=1;t<=2;t++)for(let n=t==1?e:this.unplaced.openStart;n>=0;n--){let r,s=null;n?(s=ap(this.unplaced.content,n-1).firstChild,r=s.content):r=this.unplaced.content;let o=r.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,h=null;if(t==1&&(o?c.matchType(o.type)||(h=c.fillBefore(ue.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:n,frontierDepth:a,parent:s,inject:h};if(t==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:a,parent:s,wrap:u};if(s&&c.matchType(s.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=ap(e,t);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new Re(e,t+1,Math.max(n,r.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=ap(e,t);if(r.childCount<=1&&t>0){let s=e.size-t<=t+r.size;this.unplaced=new Re(ll(e,t-1,1),t-1,s?t-1:n)}else this.unplaced=new Re(ll(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:r,wrap:s}){for(;this.depth>t;)this.closeFrontierNode();if(s)for(let m=0;m<s.length;m++)this.openFrontierNode(s[m]);let o=this.unplaced,a=n?n.content:o.content,l=o.openStart-e,c=0,u=[],{match:h,type:d}=this.frontier[t];if(r){for(let m=0;m<r.childCount;m++)u.push(r.child(m));h=h.matchFragment(r)}let f=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let m=a.child(c),b=h.matchType(m.type);if(!b)break;c++,(c>1||l==0||m.content.size)&&(h=b,u.push(n0(m.mark(d.allowedMarks(m.marks)),c==1?l:0,c==a.childCount?f:-1)))}let p=c==a.childCount;p||(f=-1),this.placed=cl(this.placed,t,ue.from(u)),this.frontier[t].match=h,p&&f<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,b=a;m<f;m++){let y=b.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),b=y.content}this.unplaced=p?e==0?Re.empty:new Re(ll(o.content,e-1,1),e-1,f<0?o.openEnd:e-1):new Re(ll(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!lp(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:r}=this.frontier[t],s=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),o=lp(e,t,r,n,s);if(o){for(let a=t-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=lp(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:t,fit:o,move:s?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=cl(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let r=e.node(n),s=r.type.contentMatch.fillBefore(r.content,!0,e.index(n));this.openFrontierNode(r.type,r.attrs,s)}return e}openFrontierNode(e,t=null,n){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=cl(this.placed,this.depth,ue.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(ue.empty,!0);t.childCount&&(this.placed=cl(this.placed,this.frontier.length,t))}}function ll(i,e,t){return e==0?i.cutByIndex(t,i.childCount):i.replaceChild(0,i.firstChild.copy(ll(i.firstChild.content,e-1,t)))}function cl(i,e,t){return e==0?i.append(t):i.replaceChild(i.childCount-1,i.lastChild.copy(cl(i.lastChild.content,e-1,t)))}function ap(i,e){for(let t=0;t<e;t++)i=i.firstChild.content;return i}function n0(i,e,t){if(e<=0)return i;let n=i.content;return e>1&&(n=n.replaceChild(0,n0(n.firstChild,e-1,n.childCount==1?t-1:0))),e>0&&(n=i.type.contentMatch.fillBefore(n).append(n),t<=0&&(n=n.append(i.type.contentMatch.matchFragment(n).fillBefore(ue.empty,!0)))),i.copy(n)}function lp(i,e,t,n,r){let s=i.node(e),o=r?i.indexAfter(e):i.index(e);if(o==s.childCount&&!t.compatibleContent(s.type))return null;let a=n.fillBefore(s.content,!0,o);return a&&!bO(t,s.content,o)?a:null}function bO(i,e,t){for(let n=t;n<e.childCount;n++)if(!i.allowsMarks(e.child(n).marks))return!0;return!1}function yO(i){return i.spec.defining||i.spec.definingForContent}function vO(i,e,t,n){if(!n.size)return i.deleteRange(e,t);let r=i.doc.resolve(e),s=i.doc.resolve(t);if(t0(r,s,n))return i.step(new rn(e,t,n));let o=r0(r,i.doc.resolve(t));o[o.length-1]==0&&o.pop();let a=-(r.depth+1);o.unshift(a);for(let d=r.depth,f=r.pos-1;d>0;d--,f--){let p=r.node(d).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;o.indexOf(d)>-1?a=d:r.before(d)==f&&o.splice(1,0,-d)}let l=o.indexOf(a),c=[],u=n.openStart;for(let d=n.content,f=0;;f++){let p=d.firstChild;if(c.push(p),f==n.openStart)break;d=p.content}for(let d=u-1;d>=0;d--){let f=c[d],p=yO(f.type);if(p&&!f.sameMarkup(r.node(Math.abs(a)-1)))u=d;else if(p||!f.type.isTextblock)break}for(let d=n.openStart;d>=0;d--){let f=(d+u+1)%(n.openStart+1),p=c[f];if(p)for(let m=0;m<o.length;m++){let b=o[(m+l)%o.length],y=!0;b<0&&(y=!1,b=-b);let w=r.node(b-1),C=r.index(b-1);if(w.canReplaceWith(C,C,p.type,p.marks))return i.replace(r.before(b),y?s.after(b):t,new Re(i0(n.content,0,n.openStart,f),f,n.openEnd))}}let h=i.steps.length;for(let d=o.length-1;d>=0&&(i.replace(e,t,n),!(i.steps.length>h));d--){let f=o[d];f<0||(e=r.before(f),t=s.after(f))}}function i0(i,e,t,n,r){if(e<t){let s=i.firstChild;i=i.replaceChild(0,s.copy(i0(s.content,e+1,t,n,s)))}if(e>n){let s=r.contentMatchAt(0),o=s.fillBefore(i).append(i);i=o.append(s.matchFragment(o).fillBefore(ue.empty,!0))}return i}function wO(i,e,t,n){if(!n.isInline&&e==t&&i.doc.resolve(e).parent.content.size){let r=mO(i.doc,e,n.type);r!=null&&(e=t=r)}i.replaceRange(e,t,new Re(ue.from(n),0,0))}function kO(i,e,t){let n=i.doc.resolve(e),r=i.doc.resolve(t),s=r0(n,r);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||n.node(a).type.contentMatch.validEnd)return i.delete(n.start(a),r.end(a));if(a>0&&(l||n.node(a-1).canReplace(n.index(a-1),r.indexAfter(a-1))))return i.delete(n.before(a),r.after(a))}for(let o=1;o<=n.depth&&o<=r.depth;o++)if(e-n.start(o)==n.depth-o&&t>n.end(o)&&r.end(o)-t!=r.depth-o&&n.start(o-1)==r.start(o-1)&&n.node(o-1).canReplace(n.index(o-1),r.index(o-1)))return i.delete(n.before(o),t);i.delete(e,t)}function r0(i,e){let t=[],n=Math.min(i.depth,e.depth);for(let r=n;r>=0;r--){let s=i.start(r);if(s<i.pos-(i.depth-r)||e.end(r)>e.pos+(e.depth-r)||i.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(s==e.start(r)||r==i.depth&&r==e.depth&&i.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==s-1)&&t.push(r)}return t}class Bo extends Cn{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return Jt.fail("No node at attribute step's position");let n=Object.create(null);for(let s in t.attrs)n[s]=t.attrs[s];n[this.attr]=this.value;let r=t.type.create(n,null,t.marks);return Jt.fromReplace(e,this.pos,this.pos+1,new Re(ue.from(r),0,t.isLeaf?0:1))}getMap(){return ri.empty}invert(e){return new Bo(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Bo(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Bo(t.pos,t.attr,t.value)}}Cn.jsonID("attr",Bo);class ul extends Cn{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let r in e.attrs)t[r]=e.attrs[r];t[this.attr]=this.value;let n=e.type.create(t,e.content,e.marks);return Jt.ok(n)}getMap(){return ri.empty}invert(e){return new ul(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new ul(t.attr,t.value)}}Cn.jsonID("docAttr",ul);let Ho=class extends Error{};Ho=function i(e){let t=Error.call(this,e);return t.__proto__=i.prototype,t},Ho.prototype=Object.create(Error.prototype),Ho.prototype.constructor=Ho,Ho.prototype.name="TransformError";class s0{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new al}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new Ho(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=Re.empty){let r=bu(this.doc,e,t,n);return r&&this.step(r),this}replaceWith(e,t,n){return this.replace(e,t,new Re(ue.from(n),0,0))}delete(e,t){return this.replace(e,t,Re.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return vO(this,e,t,n),this}replaceRangeWith(e,t,n){return wO(this,e,t,n),this}deleteRange(e,t){return kO(this,e,t),this}lift(e,t){return oO(this,e,t),this}join(e,t=1){return gO(this,e,t),this}wrap(e,t){return cO(this,e,t),this}setBlockType(e,t=e,n,r=null){return uO(this,e,t,n,r),this}setNodeMarkup(e,t,n=null,r){return dO(this,e,t,n,r),this}setNodeAttribute(e,t,n){return this.step(new Bo(e,t,n)),this}setDocAttribute(e,t){return this.step(new ul(e,t)),this}addNodeMark(e,t){return this.step(new Yr(e,t)),this}removeNodeMark(e,t){if(!(t instanceof Pt)){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t=t.isInSet(n.marks),!t)return this}return this.step(new Fo(e,t)),this}split(e,t=1,n){return fO(this,e,t,n),this}addMark(e,t,n){return iO(this,e,t,n),this}removeMark(e,t,n){return rO(this,e,t,n),this}clearIncompatible(e,t,n){return sp(this,e,t,n),this}}const cp=Object.create(null);class ot{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new SO(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=Re.empty){let n=t.content.lastChild,r=null;for(let a=0;a<t.openEnd;a++)r=n,n=n.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],u=e.mapping.slice(s);e.replaceRange(u.map(l.pos),u.map(c.pos),a?Re.empty:t),a==0&&l0(e,s,(n?n.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,r=this.ranges;for(let s=0;s<r.length;s++){let{$from:o,$to:a}=r[s],l=e.mapping.slice(n),c=l.map(o.pos),u=l.map(a.pos);s?e.deleteRange(c,u):(e.replaceRangeWith(c,u,t),l0(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let r=e.parent.inlineContent?new $e(e):Wo(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(let s=e.depth-1;s>=0;s--){let o=t<0?Wo(e.node(0),e.node(s),e.before(s+1),e.index(s),t,n):Wo(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,t,n);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new si(e.node(0))}static atStart(e){return Wo(e,e,0,0,1)||new si(e)}static atEnd(e){return Wo(e,e,e.content.size,e.childCount,-1)||new si(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=cp[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in cp)throw new RangeError("Duplicate use of selection JSON ID "+e);return cp[e]=t,t.prototype.jsonID=e,t}getBookmark(){return $e.between(this.$anchor,this.$head).getBookmark()}}ot.prototype.visible=!0;class SO{constructor(e,t){this.$from=e,this.$to=t}}let o0=!1;function a0(i){!o0&&!i.parent.inlineContent&&(o0=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+i.parent.type.name+")"))}class $e extends ot{constructor(e,t=e){a0(e),a0(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return ot.near(n);let r=e.resolve(t.map(this.anchor));return new $e(r.parent.inlineContent?r:n,n)}replace(e,t=Re.empty){if(super.replace(e,t),t==Re.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof $e&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new yu(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new $e(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}static between(e,t,n){let r=e.pos-t.pos;if((!n||r)&&(n=r>=0?1:-1),!t.parent.inlineContent){let s=ot.findFrom(t,n,!0)||ot.findFrom(t,-n,!0);if(s)t=s.$head;else return ot.near(t,n)}return e.parent.inlineContent||(r==0?e=t:(e=(ot.findFrom(e,-n,!0)||ot.findFrom(e,n,!0)).$anchor,e.pos<t.pos!=r<0&&(e=t))),new $e(e,t)}}ot.jsonID("text",$e);class yu{constructor(e,t){this.anchor=e,this.head=t}map(e){return new yu(e.map(this.anchor),e.map(this.head))}resolve(e){return $e.between(e.resolve(this.anchor),e.resolve(this.head))}}class Xe extends ot{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:r}=t.mapResult(this.anchor),s=e.resolve(r);return n?ot.near(s):new Xe(s)}content(){return new Re(ue.from(this.node),0,0)}eq(e){return e instanceof Xe&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new up(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Xe(e.resolve(t.anchor))}static create(e,t){return new Xe(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Xe.prototype.visible=!1,ot.jsonID("node",Xe);class up{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new yu(n,n):new up(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&Xe.isSelectable(n)?new Xe(t):ot.near(t)}}class si extends ot{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=Re.empty){if(t==Re.empty){e.delete(0,e.doc.content.size);let n=ot.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new si(e)}map(e){return new si(e)}eq(e){return e instanceof si}getBookmark(){return CO}}ot.jsonID("all",si);const CO={map(){return this},resolve(i){return new si(i)}};function Wo(i,e,t,n,r,s=!1){if(e.inlineContent)return $e.create(i,t);for(let o=n-(r>0?0:1);r>0?o<e.childCount:o>=0;o+=r){let a=e.child(o);if(a.isAtom){if(!s&&Xe.isSelectable(a))return Xe.create(i,t-(r<0?a.nodeSize:0))}else{let l=Wo(i,a,t+r,r<0?a.childCount:0,r,s);if(l)return l}t+=a.nodeSize*r}return null}function l0(i,e,t){let n=i.steps.length-1;if(n<e)return;let r=i.steps[n];if(!(r instanceof rn||r instanceof sn))return;let s=i.mapping.maps[n],o;s.forEach((a,l,c,u)=>{o==null&&(o=u)}),i.setSelection(ot.near(i.doc.resolve(o),t))}const c0=1,u0=2,h0=4;class AO extends s0{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|c0)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&c0)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=u0,this}ensureMarks(e){return Pt.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&u0)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Pt.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let r=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(n==null&&(n=t),n=n??t,!e)return this.deleteRange(t,n);let s=this.storedMarks;if(!s){let o=this.doc.resolve(t);s=n==t?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,s)),this.selection.empty||this.setSelection(ot.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=h0,this}get scrolledIntoView(){return(this.updated&h0)>0}}function d0(i,e){return!e||!i?i:i.bind(e)}class hl{constructor(e,t,n){this.name=e,this.init=d0(t.init,n),this.apply=d0(t.apply,n)}}const MO=[new hl("doc",{init(i){return i.doc||i.schema.topNodeType.createAndFill()},apply(i){return i.doc}}),new hl("selection",{init(i,e){return i.selection||ot.atStart(e.doc)},apply(i){return i.selection}}),new hl("storedMarks",{init(i){return i.storedMarks||null},apply(i,e,t,n){return n.selection.$cursor?i.storedMarks:null}}),new hl("scrollToSelection",{init(){return 0},apply(i,e){return i.scrolledIntoView?e+1:e}})];class hp{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=MO.slice(),t&&t.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new hl(n.key,n.spec.state,n))})}}class Xo{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),r=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=r?r[o].n:0,c=r?r[o].state:this,u=l<t.length&&a.spec.appendTransaction.call(a,l?t.slice(l):t,c,n);if(u&&n.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",e),!r){r=[];for(let h=0;h<this.config.plugins.length;h++)r.push(h<o?{state:n,n:t.length}:{state:this,n:0})}t.push(u),n=n.applyInner(u),s=!0}r&&(r[o]={state:n,n:t.length})}}if(!s)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new Xo(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let s=n[r];t[s.name]=s.apply(e,this[s.name],this,t)}return t}get tr(){return new AO(this)}static create(e){let t=new hp(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new Xo(t);for(let r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n}reconfigure(e){let t=new hp(this.schema,e.plugins),n=t.fields,r=new Xo(t);for(let s=0;s<n.length;s++){let o=n[s].name;r[o]=this.hasOwnProperty(o)?this[o]:n[s].init(e,r)}return r}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[n],s=r.spec.state;s&&s.toJSON&&(t[n]=s.toJSON.call(r,this[r.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new hp(e.schema,e.plugins),s=new Xo(r);return r.fields.forEach(o=>{if(o.name=="doc")s.doc=Wr.fromJSON(e.schema,t.doc);else if(o.name=="selection")s.selection=ot.fromJSON(s.doc,t.selection);else if(o.name=="storedMarks")t.storedMarks&&(s.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let a in n){let l=n[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(t,a)){s[o.name]=c.fromJSON.call(l,e,t[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function f0(i,e,t){for(let n in i){let r=i[n];r instanceof Function?r=r.bind(e):n=="handleDOMEvents"&&(r=f0(r,e,{})),t[n]=r}return t}class mn{constructor(e){this.spec=e,this.props={},e.props&&f0(e.props,this,this.props),this.key=e.key?e.key.key:p0("plugin")}getState(e){return e[this.key]}}const dp=Object.create(null);function p0(i){return i in dp?i+"$"+ ++dp[i]:(dp[i]=0,i+"$")}class oi{constructor(e="key"){this.key=p0(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const xn=function(i){for(var e=0;;e++)if(i=i.previousSibling,!i)return e},Yo=function(i){let e=i.assignedSlot||i.parentNode;return e&&e.nodeType==11?e.host:e};let fp=null;const br=function(i,e,t){let n=fp||(fp=document.createRange());return n.setEnd(i,t??i.nodeValue.length),n.setStart(i,e||0),n},TO=function(){fp=null},Ys=function(i,e,t,n){return t&&(g0(i,e,t,n,-1)||g0(i,e,t,n,1))},EO=/^(img|br|input|textarea|hr)$/i;function g0(i,e,t,n,r){for(;;){if(i==t&&e==n)return!0;if(e==(r<0?0:mi(i))){let s=i.parentNode;if(!s||s.nodeType!=1||dl(i)||EO.test(i.nodeName)||i.contentEditable=="false")return!1;e=xn(i)+(r<0?0:1),i=s}else if(i.nodeType==1){if(i=i.childNodes[e+(r<0?-1:0)],i.contentEditable=="false")return!1;e=r<0?mi(i):0}else return!1}}function mi(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function OO(i,e){for(;;){if(i.nodeType==3&&e)return i;if(i.nodeType==1&&e>0){if(i.contentEditable=="false")return null;i=i.childNodes[e-1],e=mi(i)}else if(i.parentNode&&!dl(i))e=xn(i),i=i.parentNode;else return null}}function IO(i,e){for(;;){if(i.nodeType==3&&e<i.nodeValue.length)return i;if(i.nodeType==1&&e<i.childNodes.length){if(i.contentEditable=="false")return null;i=i.childNodes[e],e=0}else if(i.parentNode&&!dl(i))e=xn(i)+1,i=i.parentNode;else return null}}function PO(i,e,t){for(let n=e==0,r=e==mi(i);n||r;){if(i==t)return!0;let s=xn(i);if(i=i.parentNode,!i)return!1;n=n&&s==0,r=r&&s==mi(i)}}function dl(i){let e;for(let t=i;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==i||e.contentDOM==i)}const vu=function(i){return i.focusNode&&Ys(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)};function js(i,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=i,t.key=t.code=e,t}function LO(i){let e=i.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function RO(i,e,t){if(i.caretPositionFromPoint)try{let n=i.caretPositionFromPoint(e,t);if(n)return{node:n.offsetNode,offset:Math.min(mi(n.offsetNode),n.offset)}}catch{}if(i.caretRangeFromPoint){let n=i.caretRangeFromPoint(e,t);if(n)return{node:n.startContainer,offset:Math.min(mi(n.startContainer),n.startOffset)}}}const Ui=typeof navigator<"u"?navigator:null,m0=typeof document<"u"?document:null,Vr=Ui&&Ui.userAgent||"",pp=/Edge\/(\d+)/.exec(Vr),x0=/MSIE \d/.exec(Vr),gp=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Vr),Jn=!!(x0||gp||pp),$r=x0?document.documentMode:gp?+gp[1]:pp?+pp[1]:0,_i=!Jn&&/gecko\/(\d+)/i.test(Vr);_i&&+(/Firefox\/(\d+)/.exec(Vr)||[0,0])[1];const mp=!Jn&&/Chrome\/(\d+)/.exec(Vr),An=!!mp,b0=mp?+mp[1]:0,Xn=!Jn&&!!Ui&&/Apple Computer/.test(Ui.vendor),jo=Xn&&(/Mobile\/\w+/.test(Vr)||!!Ui&&Ui.maxTouchPoints>2),xi=jo||(Ui?/Mac/.test(Ui.platform):!1),_O=Ui?/Win/.test(Ui.platform):!1,yr=/Android \d/.test(Vr),fl=!!m0&&"webkitFontSmoothing"in m0.documentElement.style,DO=fl?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function NO(i){let e=i.defaultView&&i.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:i.documentElement.clientWidth,top:0,bottom:i.documentElement.clientHeight}}function vr(i,e){return typeof i=="number"?i:i[e]}function FO(i){let e=i.getBoundingClientRect(),t=e.width/i.offsetWidth||1,n=e.height/i.offsetHeight||1;return{left:e.left,right:e.left+i.clientWidth*t,top:e.top,bottom:e.top+i.clientHeight*n}}function y0(i,e,t){let n=i.someProp("scrollThreshold")||0,r=i.someProp("scrollMargin")||5,s=i.dom.ownerDocument;for(let o=t||i.dom;o;){if(o.nodeType!=1){o=Yo(o);continue}let a=o,l=a==s.body,c=l?NO(s):FO(a),u=0,h=0;if(e.top<c.top+vr(n,"top")?h=-(c.top-e.top+vr(r,"top")):e.bottom>c.bottom-vr(n,"bottom")&&(h=e.bottom-e.top>c.bottom-c.top?e.top+vr(r,"top")-c.top:e.bottom-c.bottom+vr(r,"bottom")),e.left<c.left+vr(n,"left")?u=-(c.left-e.left+vr(r,"left")):e.right>c.right-vr(n,"right")&&(u=e.right-c.right+vr(r,"right")),u||h)if(l)s.defaultView.scrollBy(u,h);else{let f=a.scrollLeft,p=a.scrollTop;h&&(a.scrollTop+=h),u&&(a.scrollLeft+=u);let m=a.scrollLeft-f,b=a.scrollTop-p;e={left:e.left-m,top:e.top-b,right:e.right-m,bottom:e.bottom-b}}let d=l?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(d))break;o=d=="absolute"?o.offsetParent:Yo(o)}}function zO(i){let e=i.dom.getBoundingClientRect(),t=Math.max(0,e.top),n,r;for(let s=(e.left+e.right)/2,o=t+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=i.root.elementFromPoint(s,o);if(!a||a==i.dom||!i.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=t-20){n=a,r=l.top;break}}return{refDOM:n,refTop:r,stack:v0(i.dom)}}function v0(i){let e=[],t=i.ownerDocument;for(let n=i;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),i!=t);n=Yo(n));return e}function BO({refDOM:i,refTop:e,stack:t}){let n=i?i.getBoundingClientRect().top:0;w0(t,n==0?0:n-e)}function w0(i,e){for(let t=0;t<i.length;t++){let{dom:n,top:r,left:s}=i[t];n.scrollTop!=r+e&&(n.scrollTop=r+e),n.scrollLeft!=s&&(n.scrollLeft=s)}}let Vo=null;function HO(i){if(i.setActive)return i.setActive();if(Vo)return i.focus(Vo);let e=v0(i);i.focus(Vo==null?{get preventScroll(){return Vo={preventScroll:!0},!0}}:void 0),Vo||(Vo=!1,w0(e,0))}function k0(i,e){let t,n=2e8,r,s=0,o=e.top,a=e.top,l,c;for(let u=i.firstChild,h=0;u;u=u.nextSibling,h++){let d;if(u.nodeType==1)d=u.getClientRects();else if(u.nodeType==3)d=br(u).getClientRects();else continue;for(let f=0;f<d.length;f++){let p=d[f];if(p.top<=o&&p.bottom>=a){o=Math.max(p.bottom,o),a=Math.min(p.top,a);let m=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(m<n){t=u,n=m,r=m&&t.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,u.nodeType==1&&m&&(s=h+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!l&&p.left<=e.left&&p.right>=e.left&&(l=u,c={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!t&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(s=h+1)}}return!t&&l&&(t=l,r=c,n=0),t&&t.nodeType==3?WO(t,r):!t||n&&t.nodeType==1?{node:i,offset:s}:k0(t,r)}function WO(i,e){let t=i.nodeValue.length,n=document.createRange();for(let r=0;r<t;r++){n.setEnd(i,r+1),n.setStart(i,r);let s=Gr(n,1);if(s.top!=s.bottom&&xp(e,s))return{node:i,offset:r+(e.left>=(s.left+s.right)/2?1:0)}}return{node:i,offset:0}}function xp(i,e){return i.left>=e.left-1&&i.left<=e.right+1&&i.top>=e.top-1&&i.top<=e.bottom+1}function XO(i,e){let t=i.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<i.getBoundingClientRect().left?t:i}function YO(i,e,t){let{node:n,offset:r}=k0(e,t),s=-1;if(n.nodeType==1&&!n.firstChild){let o=n.getBoundingClientRect();s=o.left!=o.right&&t.left>(o.left+o.right)/2?1:-1}return i.docView.posFromDOM(n,r,s)}function jO(i,e,t,n){let r=-1;for(let s=e,o=!1;s!=i.dom;){let a=i.docView.nearestDesc(s,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&(!o&&l.left>n.left||l.top>n.top?r=a.posBefore:(!o&&l.right<n.left||l.bottom<n.top)&&(r=a.posAfter),o=!0),!a.contentDOM&&r<0&&!a.node.isText))return(a.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;s=a.dom.parentNode}return r>-1?r:i.docView.posFromDOM(e,t,-1)}function S0(i,e,t){let n=i.childNodes.length;if(n&&t.top<t.bottom)for(let r=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-t.top)/(t.bottom-t.top))-2)),s=r;;){let o=i.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(xp(e,c))return S0(o,e,c)}}if((s=(s+1)%n)==r)break}return i}function VO(i,e){let t=i.dom.ownerDocument,n,r=0,s=RO(t,e.left,e.top);s&&({node:n,offset:r}=s);let o=(i.root.elementFromPoint?i.root:t).elementFromPoint(e.left,e.top),a;if(!o||!i.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=i.dom.getBoundingClientRect();if(!xp(e,c)||(o=S0(i.dom,e,c),!o))return null}if(Xn)for(let c=o;n&&c;c=Yo(c))c.draggable&&(n=void 0);if(o=XO(o,e),n){if(_i&&n.nodeType==1&&(r=Math.min(r,n.childNodes.length),r<n.childNodes.length)){let u=n.childNodes[r],h;u.nodeName=="IMG"&&(h=u.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&r++}let c;fl&&r&&n.nodeType==1&&(c=n.childNodes[r-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&r--,n==i.dom&&r==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?a=i.state.doc.content.size:(r==0||n.nodeType!=1||n.childNodes[r-1].nodeName!="BR")&&(a=jO(i,n,r,e))}a==null&&(a=YO(i,o,e));let l=i.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function C0(i){return i.top<i.bottom||i.left<i.right}function Gr(i,e){let t=i.getClientRects();if(t.length){let n=t[e<0?0:t.length-1];if(C0(n))return n}return Array.prototype.find.call(t,C0)||i.getBoundingClientRect()}const $O=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function A0(i,e,t){let{node:n,offset:r,atom:s}=i.docView.domFromPos(e,t<0?-1:1),o=fl||_i;if(n.nodeType==3)if(o&&($O.test(n.nodeValue)||(t<0?!r:r==n.nodeValue.length))){let l=Gr(br(n,r,r),t);if(_i&&r&&/\s/.test(n.nodeValue[r-1])&&r<n.nodeValue.length){let c=Gr(br(n,r-1,r-1),-1);if(c.top==l.top){let u=Gr(br(n,r,r+1),-1);if(u.top!=l.top)return pl(u,u.left<c.left)}}return l}else{let l=r,c=r,u=t<0?1:-1;return t<0&&!r?(c++,u=-1):t>=0&&r==n.nodeValue.length?(l--,u=1):t<0?l--:c++,pl(Gr(br(n,l,c),u),u<0)}if(!i.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&r&&(t<0||r==mi(n))){let l=n.childNodes[r-1];if(l.nodeType==1)return bp(l.getBoundingClientRect(),!1)}if(s==null&&r<mi(n)){let l=n.childNodes[r];if(l.nodeType==1)return bp(l.getBoundingClientRect(),!0)}return bp(n.getBoundingClientRect(),t>=0)}if(s==null&&r&&(t<0||r==mi(n))){let l=n.childNodes[r-1],c=l.nodeType==3?br(l,mi(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return pl(Gr(c,1),!1)}if(s==null&&r<mi(n)){let l=n.childNodes[r];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?br(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return pl(Gr(c,-1),!0)}return pl(Gr(n.nodeType==3?br(n):n,-t),t>=0)}function pl(i,e){if(i.width==0)return i;let t=e?i.left:i.right;return{top:i.top,bottom:i.bottom,left:t,right:t}}function bp(i,e){if(i.height==0)return i;let t=e?i.top:i.bottom;return{top:t,bottom:t,left:i.left,right:i.right}}function M0(i,e,t){let n=i.state,r=i.root.activeElement;n!=e&&i.updateState(e),r!=i.dom&&i.focus();try{return t()}finally{n!=e&&i.updateState(n),r!=i.dom&&r&&r.focus()}}function GO(i,e,t){let n=e.selection,r=t=="up"?n.$from:n.$to;return M0(i,e,()=>{let{node:s}=i.docView.domFromPos(r.pos,t=="up"?-1:1);for(;;){let a=i.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=A0(i,r.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=br(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(t=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const qO=/[\u0590-\u08ac]/;function UO(i,e,t){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let r=n.parentOffset,s=!r,o=r==n.parent.content.size,a=i.domSelection();return a?!qO.test(n.parent.textContent)||!a.modify?t=="left"||t=="backward"?s:o:M0(i,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:h}=i.domSelectionRange(),d=a.caretBidiLevel;a.modify("move",t,"character");let f=n.depth?i.docView.domAfterPos(n.before()):i.dom,{focusNode:p,focusOffset:m}=i.domSelectionRange(),b=p&&!f.contains(p.nodeType==1?p:p.parentNode)||l==p&&c==m;try{a.collapse(u,h),l&&(l!=u||c!=h)&&a.extend&&a.extend(l,c)}catch{}return d!=null&&(a.caretBidiLevel=d),b}):n.pos==n.start()||n.pos==n.end()}let T0=null,E0=null,O0=!1;function KO(i,e,t){return T0==e&&E0==t?O0:(T0=e,E0=t,O0=t=="up"||t=="down"?GO(i,e,t):UO(i,e,t))}const bi=0,I0=1,Vs=2,Ki=3;class gl{constructor(e,t,n,r){this.parent=e,this.children=t,this.dom=n,this.contentDOM=r,this.dirty=bi,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let r=this.children[t];if(r==e)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let s,o;if(e==this.contentDOM)s=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let r;if(e==this.dom&&this.contentDOM)r=t>xn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let s=e;;s=s.parentNode){if(s==this.dom){r=!1;break}if(s.previousSibling)break}if(r==null&&t==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){r=!0;break}if(s.nextSibling)break}}return r??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,r=e;r;r=r.parentNode){let s=this.getDesc(r),o;if(s&&(!t||s.node))if(n&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))n=!1;else return s}}getDesc(e){let t=e.pmViewDesc;for(let n=t;n;n=n.parent)if(n==this)return t}posFromDOM(e,t,n){for(let r=e;r;r=r.parentNode){let s=this.getDesc(r);if(s)return s.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let r=this.children[t],s=n+r.size;if(n==e&&s!=n){for(;!r.border&&r.children.length;)for(let o=0;o<r.children.length;o++){let a=r.children[o];if(a.size){r=a;break}}return r}if(e<s)return r.descAt(e-n-r.border);n=s}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,r=0;for(let s=0;n<this.children.length;n++){let o=this.children[n],a=s+o.size;if(a>e||o instanceof R0){r=e-s;break}s=a}if(r)return this.children[n].domFromPos(r-this.children[n].border,t);for(let s;n&&!(s=this.children[n-1]).size&&s instanceof P0&&s.side>=0;n--);if(t<=0){let s,o=!0;for(;s=n?this.children[n-1]:null,!(!s||s.dom.parentNode==this.contentDOM);n--,o=!1);return s&&t&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,t):{node:this.contentDOM,offset:s?xn(s.dom)+1:0}}else{let s,o=!0;for(;s=n<this.children.length?this.children[n]:null,!(!s||s.dom.parentNode==this.contentDOM);n++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,t):{node:this.contentDOM,offset:s?xn(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,s=-1;for(let o=n,a=0;;a++){let l=this.children[a],c=o+l.size;if(r==-1&&e<=c){let u=o+l.border;if(e>=u&&t<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,t,u);e=o;for(let h=a;h>0;h--){let d=this.children[h-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){r=xn(d.dom)+1;break}e-=d.size}r==-1&&(r=0)}if(r>-1&&(c>t||a==this.children.length-1)){t=c;for(let u=a+1;u<this.children.length;u++){let h=this.children[u];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){s=xn(h.dom);break}t+=h.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(t.nodeType!=1||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,r=!1){let s=Math.min(e,t),o=Math.max(e,t);for(let f=0,p=0;f<this.children.length;f++){let m=this.children[f],b=p+m.size;if(s>p&&o<b)return m.setSelection(e-p-m.border,t-p-m.border,n,r);p=b}let a=this.domFromPos(e,e?-1:1),l=t==e?a:this.domFromPos(t,t?-1:1),c=n.root.getSelection(),u=n.domSelectionRange(),h=!1;if((_i||Xn)&&e==t){let{node:f,offset:p}=a;if(f.nodeType==3){if(h=!!(p&&f.nodeValue[p-1]==`
  `),h&&p==f.nodeValue.length)for(let m=f,b;m;m=m.parentNode){if(b=m.nextSibling){b.nodeName=="BR"&&(a=l={node:b.parentNode,offset:xn(b)+1});break}let y=m.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{let m=f.childNodes[p-1];h=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(_i&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let f=u.focusNode.childNodes[u.focusOffset];f&&f.contentEditable=="false"&&(r=!0)}if(!(r||h&&Xn)&&Ys(a.node,a.offset,u.anchorNode,u.anchorOffset)&&Ys(l.node,l.offset,u.focusNode,u.focusOffset))return;let d=!1;if((c.extend||e==t)&&!h){c.collapse(a.node,a.offset);try{e!=t&&c.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(e>t){let p=a;a=l,l=p}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,r=0;r<this.children.length;r++){let s=this.children[r],o=n+s.size;if(n==o?e<=o&&t>=n:e<o&&t>n){let a=n+s.border,l=o-s.border;if(e>=a&&t<=l){this.dirty=e==n||t==o?Vs:I0,e==a&&t==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Ki:s.markDirty(e-a,t-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Vs:Ki}n=o}this.dirty=Vs}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=e==1?Vs:I0;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class P0 extends gl{constructor(e,t,n,r){let s,o=t.type.toDOM;if(typeof o=="function"&&(o=o(n,()=>{if(!s)return r;if(s.parent)return s.parent.posBeforeChild(s)})),!t.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=t,this.widget=t,s=this}matchesWidget(e){return this.dirty==bi&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class JO extends gl{constructor(e,t,n,r){super(e,[],t,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class $s extends gl{constructor(e,t,n,r,s){super(e,[],n,r),this.mark=t,this.spec=s}static create(e,t,n,r){let s=r.nodeViews[t.type.name],o=s&&s(t,r,n);return(!o||!o.dom)&&(o=Xs.renderSpec(document,t.type.spec.toDOM(t,n),null,t.attrs)),new $s(e,t,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Ki||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Ki&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=bi){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=bi}}slice(e,t,n){let r=$s.create(this.parent,this.mark,!0,n),s=this.children,o=this.size;t<o&&(s=vp(s,t,o,n)),e>0&&(s=vp(s,0,e,n));for(let a=0;a<s.length;a++)s[a].parent=r;return r.children=s,r}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class qr extends gl{constructor(e,t,n,r,s,o,a,l,c){super(e,[],s,o),this.node=t,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=a}static create(e,t,n,r,s,o){let a=s.nodeViews[t.type.name],l,c=a&&a(t,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},n,r),u=c&&c.dom,h=c&&c.contentDOM;if(t.isText){if(!u)u=document.createTextNode(t.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:h}=Xs.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!h&&!t.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),t.type.spec.draggable&&(u.draggable=!0));let d=u;return u=N0(u,n,t),c?l=new ZO(e,t,n,r,u,h||null,d,c,s,o+1):t.isText?new wu(e,t,n,r,u,d,s):new qr(e,t,n,r,u,h||null,d,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ue.empty)}return e}matchesNode(e,t,n){return this.dirty==bi&&e.eq(this.node)&&ku(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,r=t,s=e.composing?this.localCompositionInfo(e,t):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new e2(this,o&&o.node,e);i2(this.node,this.innerDeco,(c,u,h)=>{c.spec.marks?l.syncToMarks(c.spec.marks,n,e):c.type.side>=0&&!h&&l.syncToMarks(u==this.node.childCount?Pt.none:this.node.child(u).marks,n,e),l.placeWidget(c,e,r)},(c,u,h,d)=>{l.syncToMarks(c.marks,n,e);let f;l.findNodeMatch(c,u,h,d)||a&&e.state.selection.from>r&&e.state.selection.to<r+c.nodeSize&&(f=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,u,h,f,e)||l.updateNextNode(c,u,h,e,d,r)||l.addNode(c,u,h,e,r),r+=c.nodeSize}),l.syncToMarks([],n,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Vs)&&(o&&this.protectLocalComposition(e,o),_0(this.contentDOM,this.children,e),jo&&r2(this.dom))}localCompositionInfo(e,t){let{from:n,to:r}=e.state.selection;if(!(e.state.selection instanceof $e)||n<t||r>t+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=s2(this.node.content,o,n-t,r-t);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:r}){if(this.getDesc(t))return;let s=t;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new JO(this,s,t,r);e.input.compositionNodes.push(o),this.children=vp(this.children,n,n+r.length,e,o)}update(e,t,n,r){return this.dirty==Ki||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,n,r),!0)}updateInner(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=bi}updateOuterDeco(e){if(ku(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=D0(this.dom,this.nodeDOM,yp(this.outerDeco,this.node,t),yp(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function L0(i,e,t,n,r){N0(n,e,i);let s=new qr(void 0,i,e,t,n,n,n,r,0);return s.contentDOM&&s.updateChildren(r,0),s}class wu extends qr{constructor(e,t,n,r,s,o,a){super(e,t,n,r,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,r){return this.dirty==Ki||this.dirty!=bi&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=bi||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=bi,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,n){let r=this.node.cut(e,t),s=document.createTextNode(r.text);return new wu(this.parent,r,this.outerDeco,this.innerDeco,s,s,n)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Ki)}get domAtom(){return!1}isText(e){return this.node.text==e}}class R0 extends gl{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==bi&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class ZO extends qr{constructor(e,t,n,r,s,o,a,l,c,u){super(e,t,n,r,s,o,a,c,u),this.spec=l}update(e,t,n,r){if(this.dirty==Ki)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,t,n);return s&&this.updateInner(e,t,n,r),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,r){this.spec.setSelection?this.spec.setSelection(e,t,n.root):super.setSelection(e,t,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function _0(i,e,t){let n=i.firstChild,r=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==i){for(;a!=n;)n=F0(n),r=!0;n=n.nextSibling}else r=!0,i.insertBefore(a,n);if(o instanceof $s){let l=n?n.previousSibling:i.lastChild;_0(o.contentDOM,o.children,t),n=l?l.nextSibling:i.firstChild}}for(;n;)n=F0(n),r=!0;r&&t.trackWrites==i&&(t.trackWrites=null)}const ml=function(i){i&&(this.nodeName=i)};ml.prototype=Object.create(null);const Gs=[new ml];function yp(i,e,t){if(i.length==0)return Gs;let n=t?Gs[0]:new ml,r=[n];for(let s=0;s<i.length;s++){let o=i[s].type.attrs;if(o){o.nodeName&&r.push(n=new ml(o.nodeName));for(let a in o){let l=o[a];l!=null&&(t&&r.length==1&&r.push(n=new ml(e.isInline?"span":"div")),a=="class"?n.class=(n.class?n.class+" ":"")+l:a=="style"?n.style=(n.style?n.style+";":"")+l:a!="nodeName"&&(n[a]=l))}}}return r}function D0(i,e,t,n){if(t==Gs&&n==Gs)return e;let r=e;for(let s=0;s<n.length;s++){let o=n[s],a=t[s];if(s){let l;a&&a.nodeName==o.nodeName&&r!=i&&(l=r.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(r),a=Gs[0]),r=l}QO(r,a||Gs[0],o)}return r}function QO(i,e,t){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in t)&&i.removeAttribute(n);for(let n in t)n!="class"&&n!="style"&&n!="nodeName"&&t[n]!=e[n]&&i.setAttribute(n,t[n]);if(e.class!=t.class){let n=e.class?e.class.split(" ").filter(Boolean):[],r=t.class?t.class.split(" ").filter(Boolean):[];for(let s=0;s<n.length;s++)r.indexOf(n[s])==-1&&i.classList.remove(n[s]);for(let s=0;s<r.length;s++)n.indexOf(r[s])==-1&&i.classList.add(r[s]);i.classList.length==0&&i.removeAttribute("class")}if(e.style!=t.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=n.exec(e.style);)i.style.removeProperty(r[1])}t.style&&(i.style.cssText+=t.style)}}function N0(i,e,t){return D0(i,i,Gs,yp(e,t,i.nodeType!=1))}function ku(i,e){if(i.length!=e.length)return!1;for(let t=0;t<i.length;t++)if(!i[t].type.eq(e[t].type))return!1;return!0}function F0(i){let e=i.nextSibling;return i.parentNode.removeChild(i),e}class e2{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=t2(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let r=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;r<o&&(r==s-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&e[r].type.spec.spanning!==!1;)r++;for(;r<s;)this.destroyRest(),this.top.dirty=bi,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[s])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=$s.create(this.top,e[s],t,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,t,n,r){let s=-1,o;if(r>=this.preMatch.index&&(o=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,n))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,t,n)&&!this.preMatch.matched.has(c)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,t,n,r,s){let o=this.top.children[r];return o.dirty==Ki&&o.dom==o.contentDOM&&(o.dirty=Vs),o.update(e,t,n,s)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==n)return r}return-1}e=t}}updateNextNode(e,t,n,r,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof qr){let c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;let u=l.dom,h,d=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Ki&&ku(t,l.outerDeco));if(!d&&l.update(e,t,n,r))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!d&&(h=this.recreateWrapper(l,e,t,n,r,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=h,h.contentDOM&&(h.dirty=Vs,h.updateChildren(r,o+1),h.dirty=bi),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,n,r,s,o){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!ku(n,e.outerDeco)||!r.eq(e.innerDeco))return null;let a=qr.create(this.top,t,n,r,s,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,t,n,r,s){let o=qr.create(this.top,e,t,n,r,s);o.contentDOM&&o.updateChildren(r,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,t,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(e)&&(e==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let s=new P0(this.top,e,t,n);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof $s;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof wu)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Xn||An)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let r=new R0(this.top,[],n,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function t2(i,e){let t=e,n=t.children.length,r=i.childCount,s=new Map,o=[];e:for(;r>0;){let a;for(;;)if(n){let c=t.children[n-1];if(c instanceof $s)t=c,n=c.children.length;else{a=c,n--;break}}else{if(t==e)break e;n=t.parent.children.indexOf(t),t=t.parent}let l=a.node;if(l){if(l!=i.child(r-1))break;--r,s.set(a,r),o.push(a)}}return{index:r,matched:s,matches:o.reverse()}}function n2(i,e){return i.type.side-e.type.side}function i2(i,e,t,n){let r=e.locals(i),s=0;if(r.length==0){for(let c=0;c<i.childCount;c++){let u=i.child(c);n(u,r,e.forChild(s,u),c),s+=u.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let u,h;for(;o<r.length&&r[o].to==s;){let b=r[o++];b.widget&&(u?(h||(h=[u])).push(b):u=b)}if(u)if(h){h.sort(n2);for(let b=0;b<h.length;b++)t(h[b],c,!!l)}else t(u,c,!!l);let d,f;if(l)f=-1,d=l,l=null;else if(c<i.childCount)f=c,d=i.child(c++);else break;for(let b=0;b<a.length;b++)a[b].to<=s&&a.splice(b--,1);for(;o<r.length&&r[o].from<=s&&r[o].to>s;)a.push(r[o++]);let p=s+d.nodeSize;if(d.isText){let b=p;o<r.length&&r[o].from<b&&(b=r[o].from);for(let y=0;y<a.length;y++)a[y].to<b&&(b=a[y].to);b<p&&(l=d.cut(b-s),d=d.cut(0,b-s),p=b,f=-1)}else for(;o<r.length&&r[o].to<p;)o++;let m=d.isInline&&!d.isLeaf?a.filter(b=>!b.inline):a.slice();n(d,m,e.forChild(s,d),f),s=p}}function r2(i){if(i.nodeName=="UL"||i.nodeName=="OL"){let e=i.style.cssText;i.style.cssText=e+"; list-style: square !important",window.getComputedStyle(i).listStyle,i.style.cssText=e}}function s2(i,e,t,n){for(let r=0,s=0;r<i.childCount&&s<=n;){let o=i.child(r++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;r<i.childCount;){let c=i.child(r++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=t){if(s>=n&&l.slice(n-e.length-a,n-a)==e)return n-e.length;let c=a<n?l.lastIndexOf(e,n-a-1):-1;if(c>=0&&c+e.length+a>=t)return a+c;if(t==n&&l.length>=n+e.length-a&&l.slice(n-a,n-a+e.length)==e)return n}}return-1}function vp(i,e,t,n,r){let s=[];for(let o=0,a=0;o<i.length;o++){let l=i[o],c=a,u=a+=l.size;c>=t||u<=e?s.push(l):(c<e&&s.push(l.slice(0,e-c,n)),r&&(s.push(r),r=void 0),u>t&&s.push(l.slice(t-c,l.size,n)))}return s}function wp(i,e=null){let t=i.domSelectionRange(),n=i.state.doc;if(!t.focusNode)return null;let r=i.docView.nearestDesc(t.focusNode),s=r&&r.size==0,o=i.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(o<0)return null;let a=n.resolve(o),l,c;if(vu(t)){for(l=o;r&&!r.node;)r=r.parent;let h=r.node;if(r&&h.isAtom&&Xe.isSelectable(h)&&r.parent&&!(h.isInline&&PO(t.focusNode,t.focusOffset,r.dom))){let d=r.posBefore;c=new Xe(o==d?a:n.resolve(d))}}else{if(t instanceof i.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let h=o,d=o;for(let f=0;f<t.rangeCount;f++){let p=t.getRangeAt(f);h=Math.min(h,i.docView.posFromDOM(p.startContainer,p.startOffset,1)),d=Math.max(d,i.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(h<0)return null;[l,o]=d==i.state.selection.anchor?[d,h]:[h,d],a=n.resolve(o)}else l=i.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(l<0)return null}let u=n.resolve(l);if(!c){let h=e=="pointer"||i.state.selection.head<a.pos&&!s?1:-1;c=Sp(i,u,a,h)}return c}function z0(i){return i.editable?i.hasFocus():V0(i)&&document.activeElement&&document.activeElement.contains(i.dom)}function wr(i,e=!1){let t=i.state.selection;if(X0(i,t),!!z0(i)){if(!e&&i.input.mouseDown&&i.input.mouseDown.allowDefault&&An){let n=i.domSelectionRange(),r=i.domObserver.currentSelection;if(n.anchorNode&&r.anchorNode&&Ys(n.anchorNode,n.anchorOffset,r.anchorNode,r.anchorOffset)){i.input.mouseDown.delayedSelectionSync=!0,i.domObserver.setCurSelection();return}}if(i.domObserver.disconnectSelection(),i.cursorWrapper)a2(i);else{let{anchor:n,head:r}=t,s,o;B0&&!(t instanceof $e)&&(t.$from.parent.inlineContent||(s=H0(i,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(o=H0(i,t.to))),i.docView.setSelection(n,r,i,e),B0&&(s&&W0(s),o&&W0(o)),t.visible?i.dom.classList.remove("ProseMirror-hideselection"):(i.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&o2(i))}i.domObserver.setCurSelection(),i.domObserver.connectSelection()}}const B0=Xn||An&&b0<63;function H0(i,e){let{node:t,offset:n}=i.docView.domFromPos(e,0),r=n<t.childNodes.length?t.childNodes[n]:null,s=n?t.childNodes[n-1]:null;if(Xn&&r&&r.contentEditable=="false")return kp(r);if((!r||r.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(r)return kp(r);if(s)return kp(s)}}function kp(i){return i.contentEditable="true",Xn&&i.draggable&&(i.draggable=!1,i.wasDraggable=!0),i}function W0(i){i.contentEditable="false",i.wasDraggable&&(i.draggable=!0,i.wasDraggable=null)}function o2(i){let e=i.dom.ownerDocument;e.removeEventListener("selectionchange",i.input.hideSelectionGuard);let t=i.domSelectionRange(),n=t.anchorNode,r=t.anchorOffset;e.addEventListener("selectionchange",i.input.hideSelectionGuard=()=>{(t.anchorNode!=n||t.anchorOffset!=r)&&(e.removeEventListener("selectionchange",i.input.hideSelectionGuard),setTimeout(()=>{(!z0(i)||i.state.selection.visible)&&i.dom.classList.remove("ProseMirror-hideselection")},20))})}function a2(i){let e=i.domSelection(),t=document.createRange();if(!e)return;let n=i.cursorWrapper.dom,r=n.nodeName=="IMG";r?t.setStart(n.parentNode,xn(n)+1):t.setStart(n,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!r&&!i.state.selection.visible&&Jn&&$r<=11&&(n.disabled=!0,n.disabled=!1)}function X0(i,e){if(e instanceof Xe){let t=i.docView.descAt(e.from);t!=i.lastSelectedViewDesc&&(Y0(i),t&&t.selectNode(),i.lastSelectedViewDesc=t)}else Y0(i)}function Y0(i){i.lastSelectedViewDesc&&(i.lastSelectedViewDesc.parent&&i.lastSelectedViewDesc.deselectNode(),i.lastSelectedViewDesc=void 0)}function Sp(i,e,t,n){return i.someProp("createSelectionBetween",r=>r(i,e,t))||$e.between(e,t,n)}function j0(i){return i.editable&&!i.hasFocus()?!1:V0(i)}function V0(i){let e=i.domSelectionRange();if(!e.anchorNode)return!1;try{return i.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(i.editable||i.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function l2(i){let e=i.docView.domFromPos(i.state.selection.anchor,0),t=i.domSelectionRange();return Ys(e.node,e.offset,t.anchorNode,t.anchorOffset)}function Cp(i,e){let{$anchor:t,$head:n}=i.selection,r=e>0?t.max(n):t.min(n),s=r.parent.inlineContent?r.depth?i.doc.resolve(e>0?r.after():r.before()):null:r;return s&&ot.findFrom(s,e)}function Ur(i,e){return i.dispatch(i.state.tr.setSelection(e).scrollIntoView()),!0}function $0(i,e,t){let n=i.state.selection;if(n instanceof $e)if(t.indexOf("s")>-1){let{$head:r}=n,s=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=i.state.doc.resolve(r.pos+s.nodeSize*(e<0?-1:1));return Ur(i,new $e(n.$anchor,o))}else if(n.empty){if(i.endOfTextblock(e>0?"forward":"backward")){let r=Cp(i.state,e);return r&&r instanceof Xe?Ur(i,r):!1}else if(!(xi&&t.indexOf("m")>-1)){let r=n.$head,s=r.textOffset?null:e<0?r.nodeBefore:r.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?r.pos-s.nodeSize:r.pos;return s.isAtom||(o=i.docView.descAt(a))&&!o.contentDOM?Xe.isSelectable(s)?Ur(i,new Xe(e<0?i.state.doc.resolve(r.pos-s.nodeSize):r)):fl?Ur(i,new $e(i.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(n instanceof Xe&&n.node.isInline)return Ur(i,new $e(e>0?n.$to:n.$from));{let r=Cp(i.state,e);return r?Ur(i,r):!1}}}function Su(i){return i.nodeType==3?i.nodeValue.length:i.childNodes.length}function xl(i,e){let t=i.pmViewDesc;return t&&t.size==0&&(e<0||i.nextSibling||i.nodeName!="BR")}function $o(i,e){return e<0?c2(i):u2(i)}function c2(i){let e=i.domSelectionRange(),t=e.focusNode,n=e.focusOffset;if(!t)return;let r,s,o=!1;for(_i&&t.nodeType==1&&n<Su(t)&&xl(t.childNodes[n],-1)&&(o=!0);;)if(n>0){if(t.nodeType!=1)break;{let a=t.childNodes[n-1];if(xl(a,-1))r=t,s=--n;else if(a.nodeType==3)t=a,n=t.nodeValue.length;else break}}else{if(G0(t))break;{let a=t.previousSibling;for(;a&&xl(a,-1);)r=t.parentNode,s=xn(a),a=a.previousSibling;if(a)t=a,n=Su(t);else{if(t=t.parentNode,t==i.dom)break;n=0}}}o?Ap(i,t,n):r&&Ap(i,r,s)}function u2(i){let e=i.domSelectionRange(),t=e.focusNode,n=e.focusOffset;if(!t)return;let r=Su(t),s,o;for(;;)if(n<r){if(t.nodeType!=1)break;let a=t.childNodes[n];if(xl(a,1))s=t,o=++n;else break}else{if(G0(t))break;{let a=t.nextSibling;for(;a&&xl(a,1);)s=a.parentNode,o=xn(a)+1,a=a.nextSibling;if(a)t=a,n=0,r=Su(t);else{if(t=t.parentNode,t==i.dom)break;n=r=0}}}s&&Ap(i,s,o)}function G0(i){let e=i.pmViewDesc;return e&&e.node&&e.node.isBlock}function h2(i,e){for(;i&&e==i.childNodes.length&&!dl(i);)e=xn(i)+1,i=i.parentNode;for(;i&&e<i.childNodes.length;){let t=i.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;i=t,e=0}}function d2(i,e){for(;i&&!e&&!dl(i);)e=xn(i),i=i.parentNode;for(;i&&e;){let t=i.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;i=t,e=i.childNodes.length}}function Ap(i,e,t){if(e.nodeType!=3){let s,o;(o=h2(e,t))?(e=o,t=0):(s=d2(e,t))&&(e=s,t=s.nodeValue.length)}let n=i.domSelection();if(!n)return;if(vu(n)){let s=document.createRange();s.setEnd(e,t),s.setStart(e,t),n.removeAllRanges(),n.addRange(s)}else n.extend&&n.extend(e,t);i.domObserver.setCurSelection();let{state:r}=i;setTimeout(()=>{i.state==r&&wr(i)},50)}function q0(i,e){let t=i.state.doc.resolve(e);if(!(An||_O)&&t.parent.inlineContent){let r=i.coordsAtPos(e);if(e>t.start()){let s=i.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(s.left-r.left)>1)return s.left<r.left?"ltr":"rtl"}if(e<t.end()){let s=i.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(s.left-r.left)>1)return s.left>r.left?"ltr":"rtl"}}return getComputedStyle(i.dom).direction=="rtl"?"rtl":"ltr"}function U0(i,e,t){let n=i.state.selection;if(n instanceof $e&&!n.empty||t.indexOf("s")>-1||xi&&t.indexOf("m")>-1)return!1;let{$from:r,$to:s}=n;if(!r.parent.inlineContent||i.endOfTextblock(e<0?"up":"down")){let o=Cp(i.state,e);if(o&&o instanceof Xe)return Ur(i,o)}if(!r.parent.inlineContent){let o=e<0?r:s,a=n instanceof si?ot.near(o,e):ot.findFrom(o,e);return a?Ur(i,a):!1}return!1}function K0(i,e){if(!(i.state.selection instanceof $e))return!0;let{$head:t,$anchor:n,empty:r}=i.state.selection;if(!t.sameParent(n))return!0;if(!r)return!1;if(i.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(s&&!s.isText){let o=i.state.tr;return e<0?o.delete(t.pos-s.nodeSize,t.pos):o.delete(t.pos,t.pos+s.nodeSize),i.dispatch(o),!0}return!1}function J0(i,e,t){i.domObserver.stop(),e.contentEditable=t,i.domObserver.start()}function f2(i){if(!Xn||i.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=i.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;J0(i,n,"true"),setTimeout(()=>J0(i,n,"false"),20)}return!1}function p2(i){let e="";return i.ctrlKey&&(e+="c"),i.metaKey&&(e+="m"),i.altKey&&(e+="a"),i.shiftKey&&(e+="s"),e}function g2(i,e){let t=e.keyCode,n=p2(e);if(t==8||xi&&t==72&&n=="c")return K0(i,-1)||$o(i,-1);if(t==46&&!e.shiftKey||xi&&t==68&&n=="c")return K0(i,1)||$o(i,1);if(t==13||t==27)return!0;if(t==37||xi&&t==66&&n=="c"){let r=t==37?q0(i,i.state.selection.from)=="ltr"?-1:1:-1;return $0(i,r,n)||$o(i,r)}else if(t==39||xi&&t==70&&n=="c"){let r=t==39?q0(i,i.state.selection.from)=="ltr"?1:-1:1;return $0(i,r,n)||$o(i,r)}else{if(t==38||xi&&t==80&&n=="c")return U0(i,-1,n)||$o(i,-1);if(t==40||xi&&t==78&&n=="c")return f2(i)||U0(i,1,n)||$o(i,1);if(n==(xi?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function Mp(i,e){i.someProp("transformCopied",f=>{e=f(e,i)});let t=[],{content:n,openStart:r,openEnd:s}=e;for(;r>1&&s>1&&n.childCount==1&&n.firstChild.childCount==1;){r--,s--;let f=n.firstChild;t.push(f.type.name,f.attrs!=f.type.defaultAttrs?f.attrs:null),n=f.content}let o=i.someProp("clipboardSerializer")||Xs.fromSchema(i.state.schema),a=sw(),l=a.createElement("div");l.appendChild(o.serializeFragment(n,{document:a}));let c=l.firstChild,u,h=0;for(;c&&c.nodeType==1&&(u=iw[c.nodeName.toLowerCase()]);){for(let f=u.length-1;f>=0;f--){let p=a.createElement(u[f]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),h++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${r} ${s}${h?` -${h}`:""} ${JSON.stringify(t)}`);let d=i.someProp("clipboardTextSerializer",f=>f(e,i))||e.content.textBetween(0,e.content.size,`
  
  `);return{dom:l,text:d,slice:e}}function Z0(i,e,t,n,r){let s=r.parent.type.spec.code,o,a;if(!t&&!e)return null;let l=e&&(n||s||!t);if(l){if(i.someProp("transformPastedText",d=>{e=d(e,s||n,i)}),s)return e?new Re(ue.from(i.state.schema.text(e.replace(/\r\n?/g,`
  `))),0,0):Re.empty;let h=i.someProp("clipboardTextParser",d=>d(e,r,n,i));if(h)a=h;else{let d=r.marks(),{schema:f}=i.state,p=Xs.fromSchema(f);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let b=o.appendChild(document.createElement("p"));m&&b.appendChild(p.serializeNode(f.text(m,d)))})}}else i.someProp("transformPastedHTML",h=>{t=h(t,i)}),o=y2(t),fl&&v2(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let h=+u[3];h>0;h--){let d=o.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;o=d}if(a||(a=(i.someProp("clipboardParser")||i.someProp("domParser")||sl.fromSchema(i.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||u),context:r,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!m2.test(d.parentNode.nodeName)?{ignore:!0}:null}})),u)a=w2(nw(a,+u[1],+u[2]),u[4]);else if(a=Re.maxOpen(x2(a.content,r),!0),a.openStart||a.openEnd){let h=0,d=0;for(let f=a.content.firstChild;h<a.openStart&&!f.type.spec.isolating;h++,f=f.firstChild);for(let f=a.content.lastChild;d<a.openEnd&&!f.type.spec.isolating;d++,f=f.lastChild);a=nw(a,h,d)}return i.someProp("transformPasted",h=>{a=h(a,i)}),a}const m2=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function x2(i,e){if(i.childCount<2)return i;for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.index(t)),s,o=[];if(i.forEach(a=>{if(!o)return;let l=r.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&s.length&&ew(l,s,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=tw(o[o.length-1],s.length));let u=Q0(a,l);o.push(u),r=r.matchType(u.type),s=l}}),o)return ue.from(o)}return i}function Q0(i,e,t=0){for(let n=e.length-1;n>=t;n--)i=e[n].create(null,ue.from(i));return i}function ew(i,e,t,n,r){if(r<i.length&&r<e.length&&i[r]==e[r]){let s=ew(i,e,t,n.lastChild,r+1);if(s)return n.copy(n.content.replaceChild(n.childCount-1,s));if(n.contentMatchAt(n.childCount).matchType(r==i.length-1?t.type:i[r+1]))return n.copy(n.content.append(ue.from(Q0(t,i,r+1))))}}function tw(i,e){if(e==0)return i;let t=i.content.replaceChild(i.childCount-1,tw(i.lastChild,e-1)),n=i.contentMatchAt(i.childCount).fillBefore(ue.empty,!0);return i.copy(t.append(n))}function Tp(i,e,t,n,r,s){let o=e<0?i.firstChild:i.lastChild,a=o.content;return i.childCount>1&&(s=0),r<n-1&&(a=Tp(a,e,t,n,r+1,s)),r>=t&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=r).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(ue.empty,!0))),i.replaceChild(e<0?0:i.childCount-1,o.copy(a))}function nw(i,e,t){return e<i.openStart&&(i=new Re(Tp(i.content,-1,e,i.openStart,0,i.openEnd),e,i.openEnd)),t<i.openEnd&&(i=new Re(Tp(i.content,1,t,i.openEnd,0,0),i.openStart,t)),i}const iw={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let rw=null;function sw(){return rw||(rw=document.implementation.createHTMLDocument("title"))}let Ep=null;function b2(i){let e=window.trustedTypes;return e?(Ep||(Ep=e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),Ep.createHTML(i)):i}function y2(i){let e=/^(\s*<meta [^>]*>)*/.exec(i);e&&(i=i.slice(e[0].length));let t=sw().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(i),r;if((r=n&&iw[n[1].toLowerCase()])&&(i=r.map(s=>"<"+s+">").join("")+i+r.map(s=>"</"+s+">").reverse().join("")),t.innerHTML=b2(i),r)for(let s=0;s<r.length;s++)t=t.querySelector(r[s])||t;return t}function v2(i){let e=i.querySelectorAll(An?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let n=e[t];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(i.ownerDocument.createTextNode(" "),n)}}function w2(i,e){if(!i.size)return i;let t=i.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return i}let{content:r,openStart:s,openEnd:o}=i;for(let a=n.length-2;a>=0;a-=2){let l=t.nodes[n[a]];if(!l||l.hasRequiredAttrs())break;r=ue.from(l.create(n[a+1],r)),s++,o++}return new Re(r,s,o)}const Yn={},jn={},k2={touchstart:!0,touchmove:!0};class S2{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function C2(i){for(let e in Yn){let t=Yn[e];i.dom.addEventListener(e,i.input.eventHandlers[e]=n=>{M2(i,n)&&!Ip(i,n)&&(i.editable||!(n.type in jn))&&t(i,n)},k2[e]?{passive:!0}:void 0)}Xn&&i.dom.addEventListener("input",()=>null),Op(i)}function Kr(i,e){i.input.lastSelectionOrigin=e,i.input.lastSelectionTime=Date.now()}function A2(i){i.domObserver.stop();for(let e in i.input.eventHandlers)i.dom.removeEventListener(e,i.input.eventHandlers[e]);clearTimeout(i.input.composingTimeout),clearTimeout(i.input.lastIOSEnterFallbackTimeout)}function Op(i){i.someProp("handleDOMEvents",e=>{for(let t in e)i.input.eventHandlers[t]||i.dom.addEventListener(t,i.input.eventHandlers[t]=n=>Ip(i,n))})}function Ip(i,e){return i.someProp("handleDOMEvents",t=>{let n=t[e.type];return n?n(i,e)||e.defaultPrevented:!1})}function M2(i,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=i.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function T2(i,e){!Ip(i,e)&&Yn[e.type]&&(i.editable||!(e.type in jn))&&Yn[e.type](i,e)}jn.keydown=(i,e)=>{let t=e;if(i.input.shiftKey=t.keyCode==16||t.shiftKey,!aw(i,t)&&(i.input.lastKeyCode=t.keyCode,i.input.lastKeyCodeTime=Date.now(),!(yr&&An&&t.keyCode==13)))if(t.keyCode!=229&&i.domObserver.forceFlush(),jo&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let n=Date.now();i.input.lastIOSEnter=n,i.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{i.input.lastIOSEnter==n&&(i.someProp("handleKeyDown",r=>r(i,js(13,"Enter"))),i.input.lastIOSEnter=0)},200)}else i.someProp("handleKeyDown",n=>n(i,t))||g2(i,t)?t.preventDefault():Kr(i,"key")},jn.keyup=(i,e)=>{e.keyCode==16&&(i.input.shiftKey=!1)},jn.keypress=(i,e)=>{let t=e;if(aw(i,t)||!t.charCode||t.ctrlKey&&!t.altKey||xi&&t.metaKey)return;if(i.someProp("handleKeyPress",r=>r(i,t))){t.preventDefault();return}let n=i.state.selection;if(!(n instanceof $e)||!n.$from.sameParent(n.$to)){let r=String.fromCharCode(t.charCode);!/[\r\n]/.test(r)&&!i.someProp("handleTextInput",s=>s(i,n.$from.pos,n.$to.pos,r))&&i.dispatch(i.state.tr.insertText(r).scrollIntoView()),t.preventDefault()}};function Cu(i){return{left:i.clientX,top:i.clientY}}function E2(i,e){let t=e.x-i.clientX,n=e.y-i.clientY;return t*t+n*n<100}function Pp(i,e,t,n,r){if(n==-1)return!1;let s=i.state.doc.resolve(n);for(let o=s.depth+1;o>0;o--)if(i.someProp(e,a=>o>s.depth?a(i,t,s.nodeAfter,s.before(o),r,!0):a(i,t,s.node(o),s.before(o),r,!1)))return!0;return!1}function Go(i,e,t){if(i.focused||i.focus(),i.state.selection.eq(e))return;let n=i.state.tr.setSelection(e);n.setMeta("pointer",!0),i.dispatch(n)}function O2(i,e){if(e==-1)return!1;let t=i.state.doc.resolve(e),n=t.nodeAfter;return n&&n.isAtom&&Xe.isSelectable(n)?(Go(i,new Xe(t)),!0):!1}function I2(i,e){if(e==-1)return!1;let t=i.state.selection,n,r;t instanceof Xe&&(n=t.node);let s=i.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(Xe.isSelectable(a)){n&&t.$from.depth>0&&o>=t.$from.depth&&s.before(t.$from.depth+1)==t.$from.pos?r=s.before(t.$from.depth):r=s.before(o);break}}return r!=null?(Go(i,Xe.create(i.state.doc,r)),!0):!1}function P2(i,e,t,n,r){return Pp(i,"handleClickOn",e,t,n)||i.someProp("handleClick",s=>s(i,e,n))||(r?I2(i,t):O2(i,t))}function L2(i,e,t,n){return Pp(i,"handleDoubleClickOn",e,t,n)||i.someProp("handleDoubleClick",r=>r(i,e,n))}function R2(i,e,t,n){return Pp(i,"handleTripleClickOn",e,t,n)||i.someProp("handleTripleClick",r=>r(i,e,n))||_2(i,t,n)}function _2(i,e,t){if(t.button!=0)return!1;let n=i.state.doc;if(e==-1)return n.inlineContent?(Go(i,$e.create(n,0,n.content.size)),!0):!1;let r=n.resolve(e);for(let s=r.depth+1;s>0;s--){let o=s>r.depth?r.nodeAfter:r.node(s),a=r.before(s);if(o.inlineContent)Go(i,$e.create(n,a+1,a+1+o.content.size));else if(Xe.isSelectable(o))Go(i,Xe.create(n,a));else continue;return!0}}function Lp(i){return Au(i)}const ow=xi?"metaKey":"ctrlKey";Yn.mousedown=(i,e)=>{let t=e;i.input.shiftKey=t.shiftKey;let n=Lp(i),r=Date.now(),s="singleClick";r-i.input.lastClick.time<500&&E2(t,i.input.lastClick)&&!t[ow]&&(i.input.lastClick.type=="singleClick"?s="doubleClick":i.input.lastClick.type=="doubleClick"&&(s="tripleClick")),i.input.lastClick={time:r,x:t.clientX,y:t.clientY,type:s};let o=i.posAtCoords(Cu(t));o&&(s=="singleClick"?(i.input.mouseDown&&i.input.mouseDown.done(),i.input.mouseDown=new D2(i,o,t,!!n)):(s=="doubleClick"?L2:R2)(i,o.pos,o.inside,t)?t.preventDefault():Kr(i,"pointer"))};class D2{constructor(e,t,n,r){this.view=e,this.pos=t,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[ow],this.allowDefault=n.shiftKey;let s,o;if(t.inside>-1)s=e.state.doc.nodeAt(t.inside),o=t.inside;else{let u=e.state.doc.resolve(t.pos);s=u.parent,o=u.depth?u.before():0}const a=r?null:n.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(n.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof Xe&&c.from<=o&&c.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&_i&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Kr(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>wr(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Cu(e))),this.updateAllowDefault(e),this.allowDefault||!t?Kr(this.view,"pointer"):P2(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Xn&&this.mightDrag&&!this.mightDrag.node.isAtom||An&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Go(this.view,ot.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Kr(this.view,"pointer")}move(e){this.updateAllowDefault(e),Kr(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Yn.touchstart=i=>{i.input.lastTouch=Date.now(),Lp(i),Kr(i,"pointer")},Yn.touchmove=i=>{i.input.lastTouch=Date.now(),Kr(i,"pointer")},Yn.contextmenu=i=>Lp(i);function aw(i,e){return i.composing?!0:Xn&&Math.abs(e.timeStamp-i.input.compositionEndedAt)<500?(i.input.compositionEndedAt=-2e8,!0):!1}const N2=yr?5e3:-1;jn.compositionstart=jn.compositionupdate=i=>{if(!i.composing){i.domObserver.flush();let{state:e}=i,t=e.selection.$to;if(e.selection instanceof $e&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))i.markCursor=i.state.storedMarks||t.marks(),Au(i,!0),i.markCursor=null;else if(Au(i,!e.selection.empty),_i&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let n=i.domSelectionRange();for(let r=n.focusNode,s=n.focusOffset;r&&r.nodeType==1&&s!=0;){let o=s<0?r.lastChild:r.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=i.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else r=o,s=-1}}i.input.composing=!0}lw(i,N2)},jn.compositionend=(i,e)=>{i.composing&&(i.input.composing=!1,i.input.compositionEndedAt=e.timeStamp,i.input.compositionPendingChanges=i.domObserver.pendingRecords().length?i.input.compositionID:0,i.input.compositionNode=null,i.input.compositionPendingChanges&&Promise.resolve().then(()=>i.domObserver.flush()),i.input.compositionID++,lw(i,20))};function lw(i,e){clearTimeout(i.input.composingTimeout),e>-1&&(i.input.composingTimeout=setTimeout(()=>Au(i),e))}function cw(i){for(i.composing&&(i.input.composing=!1,i.input.compositionEndedAt=z2());i.input.compositionNodes.length>0;)i.input.compositionNodes.pop().markParentsDirty()}function F2(i){let e=i.domSelectionRange();if(!e.focusNode)return null;let t=OO(e.focusNode,e.focusOffset),n=IO(e.focusNode,e.focusOffset);if(t&&n&&t!=n){let r=n.pmViewDesc,s=i.domObserver.lastChangedTextNode;if(t==s||n==s)return s;if(!r||!r.isText(n.nodeValue))return n;if(i.input.compositionNode==n){let o=t.pmViewDesc;if(!(!o||!o.isText(t.nodeValue)))return n}}return t||n}function z2(){let i=document.createEvent("Event");return i.initEvent("event",!0,!0),i.timeStamp}function Au(i,e=!1){if(!(yr&&i.domObserver.flushingSoon>=0)){if(i.domObserver.forceFlush(),cw(i),e||i.docView&&i.docView.dirty){let t=wp(i);return t&&!t.eq(i.state.selection)?i.dispatch(i.state.tr.setSelection(t)):(i.markCursor||e)&&!i.state.selection.empty?i.dispatch(i.state.tr.deleteSelection()):i.updateState(i.state),!0}return!1}}function B2(i,e){if(!i.dom.parentNode)return;let t=i.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),r=document.createRange();r.selectNodeContents(e),i.dom.blur(),n.removeAllRanges(),n.addRange(r),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),i.focus()},50)}const bl=Jn&&$r<15||jo&&DO<604;Yn.copy=jn.cut=(i,e)=>{let t=e,n=i.state.selection,r=t.type=="cut";if(n.empty)return;let s=bl?null:t.clipboardData,o=n.content(),{dom:a,text:l}=Mp(i,o);s?(t.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):B2(i,a),r&&i.dispatch(i.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function H2(i){return i.openStart==0&&i.openEnd==0&&i.content.childCount==1?i.content.firstChild:null}function W2(i,e){if(!i.dom.parentNode)return;let t=i.input.shiftKey||i.state.selection.$from.parent.type.spec.code,n=i.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let r=i.input.shiftKey&&i.input.lastKeyCode!=45;setTimeout(()=>{i.focus(),n.parentNode&&n.parentNode.removeChild(n),t?yl(i,n.value,null,r,e):yl(i,n.textContent,n.innerHTML,r,e)},50)}function yl(i,e,t,n,r){let s=Z0(i,e,t,n,i.state.selection.$from);if(i.someProp("handlePaste",l=>l(i,r,s||Re.empty)))return!0;if(!s)return!1;let o=H2(s),a=o?i.state.tr.replaceSelectionWith(o,n):i.state.tr.replaceSelection(s);return i.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function uw(i){let e=i.getData("text/plain")||i.getData("Text");if(e)return e;let t=i.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}jn.paste=(i,e)=>{let t=e;if(i.composing&&!yr)return;let n=bl?null:t.clipboardData,r=i.input.shiftKey&&i.input.lastKeyCode!=45;n&&yl(i,uw(n),n.getData("text/html"),r,t)?t.preventDefault():W2(i,t)};class hw{constructor(e,t,n){this.slice=e,this.move=t,this.node=n}}const X2=xi?"altKey":"ctrlKey";function dw(i,e){let t=i.someProp("dragCopies",n=>!n(e));return t??!e[X2]}Yn.dragstart=(i,e)=>{let t=e,n=i.input.mouseDown;if(n&&n.done(),!t.dataTransfer)return;let r=i.state.selection,s=r.empty?null:i.posAtCoords(Cu(t)),o;if(!(s&&s.pos>=r.from&&s.pos<=(r instanceof Xe?r.to-1:r.to))){if(n&&n.mightDrag)o=Xe.create(i.state.doc,n.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let h=i.docView.nearestDesc(t.target,!0);h&&h.node.type.spec.draggable&&h!=i.docView&&(o=Xe.create(i.state.doc,h.posBefore))}}let a=(o||i.state.selection).content(),{dom:l,text:c,slice:u}=Mp(i,a);(!t.dataTransfer.files.length||!An||b0>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(bl?"Text":"text/html",l.innerHTML),t.dataTransfer.effectAllowed="copyMove",bl||t.dataTransfer.setData("text/plain",c),i.dragging=new hw(u,dw(i,t),o)},Yn.dragend=i=>{let e=i.dragging;window.setTimeout(()=>{i.dragging==e&&(i.dragging=null)},50)},jn.dragover=jn.dragenter=(i,e)=>e.preventDefault(),jn.drop=(i,e)=>{let t=e,n=i.dragging;if(i.dragging=null,!t.dataTransfer)return;let r=i.posAtCoords(Cu(t));if(!r)return;let s=i.state.doc.resolve(r.pos),o=n&&n.slice;o?i.someProp("transformPasted",p=>{o=p(o,i)}):o=Z0(i,uw(t.dataTransfer),bl?null:t.dataTransfer.getData("text/html"),!1,s);let a=!!(n&&dw(i,t));if(i.someProp("handleDrop",p=>p(i,t,o||Re.empty,a))){t.preventDefault();return}if(!o)return;t.preventDefault();let l=o?e0(i.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let c=i.state.tr;if(a){let{node:p}=n;p?p.replace(c):c.deleteSelection()}let u=c.mapping.map(l),h=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,d=c.doc;if(h?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),c.doc.eq(d))return;let f=c.doc.resolve(u);if(h&&Xe.isSelectable(o.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new Xe(f));else{let p=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((m,b,y,w)=>p=w),c.setSelection(Sp(i,f,c.doc.resolve(p)))}i.focus(),i.dispatch(c.setMeta("uiEvent","drop"))},Yn.focus=i=>{i.input.lastFocus=Date.now(),i.focused||(i.domObserver.stop(),i.dom.classList.add("ProseMirror-focused"),i.domObserver.start(),i.focused=!0,setTimeout(()=>{i.docView&&i.hasFocus()&&!i.domObserver.currentSelection.eq(i.domSelectionRange())&&wr(i)},20))},Yn.blur=(i,e)=>{let t=e;i.focused&&(i.domObserver.stop(),i.dom.classList.remove("ProseMirror-focused"),i.domObserver.start(),t.relatedTarget&&i.dom.contains(t.relatedTarget)&&i.domObserver.currentSelection.clear(),i.focused=!1)},Yn.beforeinput=(i,e)=>{if(An&&yr&&e.inputType=="deleteContentBackward"){i.domObserver.flushSoon();let{domChangeCount:n}=i.input;setTimeout(()=>{if(i.input.domChangeCount!=n||(i.dom.blur(),i.focus(),i.someProp("handleKeyDown",s=>s(i,js(8,"Backspace")))))return;let{$cursor:r}=i.state.selection;r&&r.pos>0&&i.dispatch(i.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let i in jn)Yn[i]=jn[i];function vl(i,e){if(i==e)return!0;for(let t in i)if(i[t]!==e[t])return!1;for(let t in e)if(!(t in i))return!1;return!0}class Mu{constructor(e,t){this.toDOM=e,this.spec=t||qs,this.side=this.spec.side||0}map(e,t,n,r){let{pos:s,deleted:o}=e.mapResult(t.from+r,this.side<0?-1:1);return o?null:new yi(s-n,s-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Mu&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&vl(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Jr{constructor(e,t){this.attrs=e,this.spec=t||qs}map(e,t,n,r){let s=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,o=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return s>=o?null:new yi(s,o,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Jr&&vl(this.attrs,e.attrs)&&vl(this.spec,e.spec)}static is(e){return e.type instanceof Jr}destroy(){}}class Rp{constructor(e,t){this.attrs=e,this.spec=t||qs}map(e,t,n,r){let s=e.mapResult(t.from+r,1);if(s.deleted)return null;let o=e.mapResult(t.to+r,-1);return o.deleted||o.pos<=s.pos?null:new yi(s.pos-n,o.pos-n,this)}valid(e,t){let{index:n,offset:r}=e.content.findIndex(t.from),s;return r==t.from&&!(s=e.child(n)).isText&&r+s.nodeSize==t.to}eq(e){return this==e||e instanceof Rp&&vl(this.attrs,e.attrs)&&vl(this.spec,e.spec)}destroy(){}}class yi{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new yi(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new yi(e,e,new Mu(t,n))}static inline(e,t,n,r){return new yi(e,t,new Jr(n,r))}static node(e,t,n,r){return new yi(e,t,new Rp(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Jr}get widget(){return this.type instanceof Mu}}const qo=[],qs={};class Qt{constructor(e,t){this.local=e.length?e:qo,this.children=t.length?t:qo}static create(e,t){return t.length?Tu(t,e,0,qs):Mn}find(e,t,n){let r=[];return this.findInner(e??0,t??1e9,r,0,n),r}findInner(e,t,n,r,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=t&&a.to>=e&&(!s||s(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<t&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,t-a,n,r+a,s)}}map(e,t,n){return this==Mn||e.maps.length==0?this:this.mapInner(e,t,0,0,n||qs)}mapInner(e,t,n,r,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,n,r);l&&l.type.valid(t,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?Y2(this.children,o||[],e,t,n,r,s):o?new Qt(o.sort(Us),qo):Mn}add(e,t){return t.length?this==Mn?Qt.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let r,s=0;e.forEach((a,l)=>{let c=l+n,u;if(u=pw(t,a,c)){for(r||(r=this.children.slice());s<r.length&&r[s]<l;)s+=3;r[s]==l?r[s+2]=r[s+2].addInner(a,u,c+1):r.splice(s,0,l,l+a.nodeSize,Tu(u,a,c+1,qs)),s+=3}});let o=fw(s?gw(t):t,-n);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new Qt(o.length?this.local.concat(o).sort(Us):this.local,r||this.children)}remove(e){return e.length==0||this==Mn?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,r=this.local;for(let s=0;s<n.length;s+=3){let o,a=n[s]+t,l=n[s+1]+t;for(let u=0,h;u<e.length;u++)(h=e[u])&&h.from>a&&h.to<l&&(e[u]=null,(o||(o=[])).push(h));if(!o)continue;n==this.children&&(n=this.children.slice());let c=n[s+2].removeInner(o,a+1);c!=Mn?n[s+2]=c:(n.splice(s,3),s-=3)}if(r.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<r.length;a++)r[a].eq(o,t)&&(r==this.local&&(r=this.local.slice()),r.splice(a--,1))}return n==this.children&&r==this.local?this:r.length||n.length?new Qt(r,n):Mn}forChild(e,t){if(this==Mn)return this;if(t.isLeaf)return Qt.empty;let n,r;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(n=this.children[a+2]);break}let s=e+1,o=s+t.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof Jr){let c=Math.max(s,l.from)-s,u=Math.min(o,l.to)-s;c<u&&(r||(r=[])).push(l.copy(c,u))}}if(r){let a=new Qt(r.sort(Us),qo);return n?new Zr([a,n]):a}return n||Mn}eq(e){if(this==e)return!0;if(!(e instanceof Qt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return _p(this.localsInner(e))}localsInner(e){if(this==Mn)return qo;if(e.inlineContent||!this.local.some(Jr.is))return this.local;let t=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof Jr||t.push(this.local[n]);return t}forEachSet(e){e(this)}}Qt.empty=new Qt([],[]),Qt.removeOverlap=_p;const Mn=Qt.empty;class Zr{constructor(e){this.members=e}map(e,t){const n=this.members.map(r=>r.map(e,t,qs));return Zr.from(n)}forChild(e,t){if(t.isLeaf)return Qt.empty;let n=[];for(let r=0;r<this.members.length;r++){let s=this.members[r].forChild(e,t);s!=Mn&&(s instanceof Zr?n=n.concat(s.members):n.push(s))}return Zr.from(n)}eq(e){if(!(e instanceof Zr)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let r=0;r<this.members.length;r++){let s=this.members[r].localsInner(e);if(s.length)if(!t)t=s;else{n&&(t=t.slice(),n=!1);for(let o=0;o<s.length;o++)t.push(s[o])}}return t?_p(n?t:t.sort(Us)):qo}static from(e){switch(e.length){case 0:return Mn;case 1:return e[0];default:return new Zr(e.every(t=>t instanceof Qt)?e:e.reduce((t,n)=>t.concat(n instanceof Qt?n:n.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function Y2(i,e,t,n,r,s,o){let a=i.slice();for(let c=0,u=s;c<t.maps.length;c++){let h=0;t.maps[c].forEach((d,f,p,m)=>{let b=m-p-(f-d);for(let y=0;y<a.length;y+=3){let w=a[y+1];if(w<0||d>w+u-h)continue;let C=a[y]+u-h;f>=C?a[y+1]=d<=C?-2:-1:d>=u&&b&&(a[y]+=b,a[y+1]+=b)}h+=b}),u=t.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=t.map(i[c]+s),h=u-r;if(h<0||h>=n.content.size){l=!0;continue}let d=t.map(i[c+1]+s,-1),f=d-r,{index:p,offset:m}=n.content.findIndex(h),b=n.maybeChild(p);if(b&&m==h&&m+b.nodeSize==f){let y=a[c+2].mapInner(t,b,u+1,i[c]+s+1,o);y!=Mn?(a[c]=h,a[c+1]=f,a[c+2]=y):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=j2(a,i,e,t,r,s,o),u=Tu(c,n,0,o);e=u.local;for(let h=0;h<a.length;h+=3)a[h+1]<0&&(a.splice(h,3),h-=3);for(let h=0,d=0;h<u.children.length;h+=3){let f=u.children[h];for(;d<a.length&&a[d]<f;)d+=3;a.splice(d,0,u.children[h],u.children[h+1],u.children[h+2])}}return new Qt(e.sort(Us),a)}function fw(i,e){if(!e||!i.length)return i;let t=[];for(let n=0;n<i.length;n++){let r=i[n];t.push(new yi(r.from+e,r.to+e,r.type))}return t}function j2(i,e,t,n,r,s,o){function a(l,c){for(let u=0;u<l.local.length;u++){let h=l.local[u].map(n,r,c);h?t.push(h):o.onRemove&&o.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<i.length;l+=3)i[l+1]==-1&&a(i[l+2],e[l]+s+1);return t}function pw(i,e,t){if(e.isLeaf)return null;let n=t+e.nodeSize,r=null;for(let s=0,o;s<i.length;s++)(o=i[s])&&o.from>t&&o.to<n&&((r||(r=[])).push(o),i[s]=null);return r}function gw(i){let e=[];for(let t=0;t<i.length;t++)i[t]!=null&&e.push(i[t]);return e}function Tu(i,e,t,n){let r=[],s=!1;e.forEach((a,l)=>{let c=pw(i,a,l+t);if(c){s=!0;let u=Tu(c,a,t+l+1,n);u!=Mn&&r.push(l,l+a.nodeSize,u)}});let o=fw(s?gw(i):i,-t).sort(Us);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(n.onRemove&&n.onRemove(o[a].spec),o.splice(a--,1));return o.length||r.length?new Qt(o,r):Mn}function Us(i,e){return i.from-e.from||i.to-e.to}function _p(i){let e=i;for(let t=0;t<e.length-1;t++){let n=e[t];if(n.from!=n.to)for(let r=t+1;r<e.length;r++){let s=e[r];if(s.from==n.from){s.to!=n.to&&(e==i&&(e=i.slice()),e[r]=s.copy(s.from,n.to),mw(e,r+1,s.copy(n.to,s.to)));continue}else{s.from<n.to&&(e==i&&(e=i.slice()),e[t]=n.copy(n.from,s.from),mw(e,r,n.copy(s.from,n.to)));break}}}return e}function mw(i,e,t){for(;e<i.length&&Us(t,i[e])>0;)e++;i.splice(e,0,t)}function Dp(i){let e=[];return i.someProp("decorations",t=>{let n=t(i.state);n&&n!=Mn&&e.push(n)}),i.cursorWrapper&&e.push(Qt.create(i.state.doc,[i.cursorWrapper.deco])),Zr.from(e)}const V2={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},$2=Jn&&$r<=11;class G2{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class q2{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new G2,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let r=0;r<n.length;r++)this.queue.push(n[r]);Jn&&$r<=11&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),$2&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,V2)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(j0(this.view)){if(this.suppressingSelectionUpdates)return wr(this.view);if(Jn&&$r<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Ys(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,n;for(let s=e.focusNode;s;s=Yo(s))t.add(s);for(let s=e.anchorNode;s;s=Yo(s))if(t.has(s)){n=s;break}let r=n&&this.view.docView.nearestDesc(n);if(r&&r.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let n=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&j0(e)&&!this.ignoreSelectionChange(n),s=-1,o=-1,a=!1,l=[];if(e.editable)for(let u=0;u<t.length;u++){let h=this.registerMutation(t[u],l);h&&(s=s<0?h.from:Math.min(h.from,s),o=o<0?h.to:Math.max(h.to,o),h.typeOver&&(a=!0))}if(_i&&l.length){let u=l.filter(h=>h.nodeName=="BR");if(u.length==2){let[h,d]=u;h.parentNode&&h.parentNode.parentNode==d.parentNode?d.remove():h.remove()}else{let{focusNode:h}=this.currentSelection;for(let d of u){let f=d.parentNode;f&&f.nodeName=="LI"&&(!h||J2(e,h)!=f)&&d.remove()}}}let c=null;s<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&vu(n)&&(c=wp(e))&&c.eq(ot.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,wr(e),this.currentSelection.set(n),e.scrollToSelection()):(s>-1||r)&&(s>-1&&(e.docView.markDirty(s,o),U2(e)),this.handleDOMChange(s,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||wr(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let h=e.addedNodes[u];t.push(h),h.nodeType==3&&(this.lastChangedTextNode=h)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let r=e.previousSibling,s=e.nextSibling;if(Jn&&$r<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:h,nextSibling:d}=e.addedNodes[u];(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(r=h),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(s=d)}let o=r&&r.parentNode==e.target?xn(r)+1:0,a=n.localPosFromDOM(e.target,o,-1),l=s&&s.parentNode==e.target?xn(s):e.target.childNodes.length,c=n.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let xw=new WeakMap,bw=!1;function U2(i){if(!xw.has(i)&&(xw.set(i,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(i.dom).whiteSpace)!==-1)){if(i.requiresGeckoHackNode=_i,bw)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),bw=!0}}function yw(i,e){let t=e.startContainer,n=e.startOffset,r=e.endContainer,s=e.endOffset,o=i.domAtPos(i.state.selection.anchor);return Ys(o.node,o.offset,r,s)&&([t,n,r,s]=[r,s,t,n]),{anchorNode:t,anchorOffset:n,focusNode:r,focusOffset:s}}function K2(i,e){if(e.getComposedRanges){let r=e.getComposedRanges(i.root)[0];if(r)return yw(i,r)}let t;function n(r){r.preventDefault(),r.stopImmediatePropagation(),t=r.getTargetRanges()[0]}return i.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),i.dom.removeEventListener("beforeinput",n,!0),t?yw(i,t):null}function J2(i,e){for(let t=e.parentNode;t&&t!=i.dom;t=t.parentNode){let n=i.docView.nearestDesc(t,!0);if(n&&n.node.isBlock)return t}return null}function Z2(i,e,t){let{node:n,fromOffset:r,toOffset:s,from:o,to:a}=i.docView.parseRange(e,t),l=i.domSelectionRange(),c,u=l.anchorNode;if(u&&i.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],vu(l)||c.push({node:l.focusNode,offset:l.focusOffset})),An&&i.input.lastKeyCode===8)for(let b=s;b>r;b--){let y=n.childNodes[b-1],w=y.pmViewDesc;if(y.nodeName=="BR"&&!w){s=b;break}if(!w||w.size)break}let h=i.state.doc,d=i.someProp("domParser")||sl.fromSchema(i.state.schema),f=h.resolve(o),p=null,m=d.parse(n,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:r,to:s,preserveWhitespace:f.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:Q2,context:f});if(c&&c[0].pos!=null){let b=c[0].pos,y=c[1]&&c[1].pos;y==null&&(y=b),p={anchor:b+o,head:y+o}}return{doc:m,sel:p,from:o,to:a}}function Q2(i){let e=i.pmViewDesc;if(e)return e.parseRule();if(i.nodeName=="BR"&&i.parentNode){if(Xn&&/^(ul|ol)$/i.test(i.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(i.parentNode.lastChild==i||Xn&&/^(tr|table)$/i.test(i.parentNode.nodeName))return{ignore:!0}}else if(i.nodeName=="IMG"&&i.getAttribute("mark-placeholder"))return{ignore:!0};return null}const eI=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function tI(i,e,t,n,r){let s=i.input.compositionPendingChanges||(i.composing?i.input.compositionID:0);if(i.input.compositionPendingChanges=0,e<0){let P=i.input.lastSelectionTime>Date.now()-50?i.input.lastSelectionOrigin:null,N=wp(i,P);if(N&&!i.state.selection.eq(N)){if(An&&yr&&i.input.lastKeyCode===13&&Date.now()-100<i.input.lastKeyCodeTime&&i.someProp("handleKeyDown",D=>D(i,js(13,"Enter"))))return;let R=i.state.tr.setSelection(N);P=="pointer"?R.setMeta("pointer",!0):P=="key"&&R.scrollIntoView(),s&&R.setMeta("composition",s),i.dispatch(R)}return}let o=i.state.doc.resolve(e),a=o.sharedDepth(t);e=o.before(a+1),t=i.state.doc.resolve(t).after(a+1);let l=i.state.selection,c=Z2(i,e,t),u=i.state.doc,h=u.slice(c.from,c.to),d,f;i.input.lastKeyCode===8&&Date.now()-100<i.input.lastKeyCodeTime?(d=i.state.selection.to,f="end"):(d=i.state.selection.from,f="start"),i.input.lastKeyCode=null;let p=rI(h.content,c.doc.content,c.from,d,f);if(p&&i.input.domChangeCount++,(jo&&i.input.lastIOSEnter>Date.now()-225||yr)&&r.some(P=>P.nodeType==1&&!eI.test(P.nodeName))&&(!p||p.endA>=p.endB)&&i.someProp("handleKeyDown",P=>P(i,js(13,"Enter")))){i.input.lastIOSEnter=0;return}if(!p)if(n&&l instanceof $e&&!l.empty&&l.$head.sameParent(l.$anchor)&&!i.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))p={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let P=vw(i,i.state.doc,c.sel);if(P&&!P.eq(i.state.selection)){let N=i.state.tr.setSelection(P);s&&N.setMeta("composition",s),i.dispatch(N)}}return}i.state.selection.from<i.state.selection.to&&p.start==p.endB&&i.state.selection instanceof $e&&(p.start>i.state.selection.from&&p.start<=i.state.selection.from+2&&i.state.selection.from>=c.from?p.start=i.state.selection.from:p.endA<i.state.selection.to&&p.endA>=i.state.selection.to-2&&i.state.selection.to<=c.to&&(p.endB+=i.state.selection.to-p.endA,p.endA=i.state.selection.to)),Jn&&$r<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>c.from&&c.doc.textBetween(p.start-c.from-1,p.start-c.from+1)==" "&&(p.start--,p.endA--,p.endB--);let m=c.doc.resolveNoCache(p.start-c.from),b=c.doc.resolveNoCache(p.endB-c.from),y=u.resolve(p.start),w=m.sameParent(b)&&m.parent.inlineContent&&y.end()>=p.endA,C;if((jo&&i.input.lastIOSEnter>Date.now()-225&&(!w||r.some(P=>P.nodeName=="DIV"||P.nodeName=="P"))||!w&&m.pos<c.doc.content.size&&(!m.sameParent(b)||!m.parent.inlineContent)&&(C=ot.findFrom(c.doc.resolve(m.pos+1),1,!0))&&C.head>m.pos)&&i.someProp("handleKeyDown",P=>P(i,js(13,"Enter")))){i.input.lastIOSEnter=0;return}if(i.state.selection.anchor>p.start&&iI(u,p.start,p.endA,m,b)&&i.someProp("handleKeyDown",P=>P(i,js(8,"Backspace")))){yr&&An&&i.domObserver.suppressSelectionUpdates();return}An&&p.endB==p.start&&(i.input.lastChromeDelete=Date.now()),yr&&!w&&m.start()!=b.start()&&b.parentOffset==0&&m.depth==b.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==p.endA&&(p.endB-=2,b=c.doc.resolveNoCache(p.endB-c.from),setTimeout(()=>{i.someProp("handleKeyDown",function(P){return P(i,js(13,"Enter"))})},20));let T=p.start,k=p.endA,E,M,O;if(w){if(m.pos==b.pos)Jn&&$r<=11&&m.parentOffset==0&&(i.domObserver.suppressSelectionUpdates(),setTimeout(()=>wr(i),20)),E=i.state.tr.delete(T,k),M=u.resolve(p.start).marksAcross(u.resolve(p.endA));else if(p.endA==p.endB&&(O=nI(m.parent.content.cut(m.parentOffset,b.parentOffset),y.parent.content.cut(y.parentOffset,p.endA-y.start()))))E=i.state.tr,O.type=="add"?E.addMark(T,k,O.mark):E.removeMark(T,k,O.mark);else if(m.parent.child(m.index()).isText&&m.index()==b.index()-(b.textOffset?0:1)){let P=m.parent.textBetween(m.parentOffset,b.parentOffset);if(i.someProp("handleTextInput",N=>N(i,T,k,P)))return;E=i.state.tr.insertText(P,T,k)}}if(E||(E=i.state.tr.replace(T,k,c.doc.slice(p.start-c.from,p.endB-c.from))),c.sel){let P=vw(i,E.doc,c.sel);P&&!(An&&i.composing&&P.empty&&(p.start!=p.endB||i.input.lastChromeDelete<Date.now()-100)&&(P.head==T||P.head==E.mapping.map(k)-1)||Jn&&P.empty&&P.head==T)&&E.setSelection(P)}M&&E.ensureMarks(M),s&&E.setMeta("composition",s),i.dispatch(E.scrollIntoView())}function vw(i,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:Sp(i,e.resolve(t.anchor),e.resolve(t.head))}function nI(i,e){let t=i.firstChild.marks,n=e.firstChild.marks,r=t,s=n,o,a,l;for(let u=0;u<n.length;u++)r=n[u].removeFromSet(r);for(let u=0;u<t.length;u++)s=t[u].removeFromSet(s);if(r.length==1&&s.length==0)a=r[0],o="add",l=u=>u.mark(a.addToSet(u.marks));else if(r.length==0&&s.length==1)a=s[0],o="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(ue.from(c).eq(i))return{mark:a,type:o}}function iI(i,e,t,n,r){if(t-e<=r.pos-n.pos||Np(n,!0,!1)<r.pos)return!1;let s=i.resolve(e);if(!n.parent.isTextblock){let a=s.nodeAfter;return a!=null&&t==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=i.resolve(Np(s,!0,!0));return!o.parent.isTextblock||o.pos>t||Np(o,!0,!1)<t?!1:n.parent.content.cut(n.parentOffset).eq(o.parent.content)}function Np(i,e,t){let n=i.depth,r=e?i.end():i.pos;for(;n>0&&(e||i.indexAfter(n)==i.node(n).childCount);)n--,r++,e=!1;if(t){let s=i.node(n).maybeChild(i.indexAfter(n));for(;s&&!s.isLeaf;)s=s.firstChild,r++}return r}function rI(i,e,t,n,r){let s=i.findDiffStart(e,t);if(s==null)return null;let{a:o,b:a}=i.findDiffEnd(e,t+i.size,t+e.size);if(r=="end"){let l=Math.max(0,s-Math.min(o,a));n-=o+l-s}if(o<s&&i.size<e.size){let l=n<=s&&n>=o?s-n:0;s-=l,s&&s<e.size&&ww(e.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=n<=s&&n>=a?s-n:0;s-=l,s&&s<i.size&&ww(i.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function ww(i){if(i.length!=2)return!1;let e=i.charCodeAt(0),t=i.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class sI{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new S2,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Mw),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Cw(this),Sw(this),this.nodeViews=Aw(this),this.docView=L0(this.state.doc,kw(this),Dp(this),this.dom,this),this.domObserver=new q2(this,(n,r,s,o)=>tI(this,n,r,s,o)),this.domObserver.start(),C2(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Op(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Mw),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let n in this._props)t[n]=this._props[n];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var n;let r=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(cw(this),o=!0),this.state=e;let a=r.plugins!=e.plugins||this._props.plugins!=t.plugins;if(a||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let f=Aw(this);aI(f,this.nodeViews)&&(this.nodeViews=f,s=!0)}(a||t.handleDOMEvents!=this._props.handleDOMEvents)&&Op(this),this.editable=Cw(this),Sw(this);let l=Dp(this),c=kw(this),u=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",h=s||!this.docView.matchesNode(e.doc,c,l);(h||!e.selection.eq(r.selection))&&(o=!0);let d=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&zO(this);if(o){this.domObserver.stop();let f=h&&(Jn||An)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&oI(r.selection,e.selection);if(h){let p=An?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=F2(this)),(s||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=L0(e.doc,c,l,this.dom,this)),p&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&l2(this))?wr(this,f):(X0(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((n=this.dragging)===null||n===void 0)&&n.node&&!r.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,r),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():d&&BO(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof Xe){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&y0(this,t.getBoundingClientRect(),e)}else y0(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let n=this.directPlugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let n=this.state.plugins[t];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}}updateDraggedNode(e,t){let n=e.node,r=-1;if(this.state.doc.nodeAt(n.from)==n.node)r=n.from;else{let s=n.from+(this.state.doc.content.size-t.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==n.node&&(r=s)}this.dragging=new hw(e.slice,e.move,r<0?void 0:Xe.create(this.state.doc,r))}someProp(e,t){let n=this._props&&this._props[e],r;if(n!=null&&(r=t?t(n):n))return r;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(r=t?t(a):a))return r}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(r=t?t(a):a))return r}}hasFocus(){if(Jn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&HO(this.dom),wr(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return VO(this,e)}coordsAtPos(e,t=1){return A0(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let r=this.docView.posFromDOM(e,t,n);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,t){return KO(this,t||this.state,e)}pasteHTML(e,t){return yl(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return yl(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return Mp(this,e)}destroy(){this.docView&&(A2(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Dp(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,TO())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return T2(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?Xn&&this.root.nodeType===11&&LO(this.dom.ownerDocument)==this.dom&&K2(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function kw(i){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(i.editable),i.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(i.state)),t)for(let n in t)n=="class"?e.class+=" "+t[n]:n=="style"?e.style=(e.style?e.style+";":"")+t[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(t[n]))}),e.translate||(e.translate="no"),[yi.node(0,i.state.doc.content.size,e)]}function Sw(i){if(i.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),i.cursorWrapper={dom:e,deco:yi.widget(i.state.selection.from,e,{raw:!0,marks:i.markCursor})}}else i.cursorWrapper=null}function Cw(i){return!i.someProp("editable",e=>e(i.state)===!1)}function oI(i,e){let t=Math.min(i.$anchor.sharedDepth(i.head),e.$anchor.sharedDepth(e.head));return i.$anchor.start(t)!=e.$anchor.start(t)}function Aw(i){let e=Object.create(null);function t(n){for(let r in n)Object.prototype.hasOwnProperty.call(e,r)||(e[r]=n[r])}return i.someProp("nodeViews",t),i.someProp("markViews",t),e}function aI(i,e){let t=0,n=0;for(let r in i){if(i[r]!=e[r])return!0;t++}for(let r in e)n++;return t!=n}function Mw(i){if(i.spec.state||i.spec.filterTransaction||i.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}for(var Qr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Eu={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},lI=typeof navigator<"u"&&/Mac/.test(navigator.platform),cI=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),bn=0;bn<10;bn++)Qr[48+bn]=Qr[96+bn]=String(bn);for(var bn=1;bn<=24;bn++)Qr[bn+111]="F"+bn;for(var bn=65;bn<=90;bn++)Qr[bn]=String.fromCharCode(bn+32),Eu[bn]=String.fromCharCode(bn);for(var Fp in Qr)Eu.hasOwnProperty(Fp)||(Eu[Fp]=Qr[Fp]);function uI(i){var e=lI&&i.metaKey&&i.shiftKey&&!i.ctrlKey&&!i.altKey||cI&&i.shiftKey&&i.key&&i.key.length==1||i.key=="Unidentified",t=!e&&i.key||(i.shiftKey?Eu:Qr)[i.keyCode]||i.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const hI=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function dI(i){let e=i.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let n,r,s,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))hI?o=!0:r=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(t="Alt-"+t),r&&(t="Ctrl-"+t),o&&(t="Meta-"+t),s&&(t="Shift-"+t),t}function fI(i){let e=Object.create(null);for(let t in i)e[dI(t)]=i[t];return e}function zp(i,e,t=!0){return e.altKey&&(i="Alt-"+i),e.ctrlKey&&(i="Ctrl-"+i),e.metaKey&&(i="Meta-"+i),t&&e.shiftKey&&(i="Shift-"+i),i}function pI(i){return new mn({props:{handleKeyDown:Tw(i)}})}function Tw(i){let e=fI(i);return function(t,n){let r=uI(n),s,o=e[zp(r,n)];if(o&&o(t.state,t.dispatch,t))return!0;if(r.length==1&&r!=" "){if(n.shiftKey){let a=e[zp(r,n,!1)];if(a&&a(t.state,t.dispatch,t))return!0}if((n.shiftKey||n.altKey||n.metaKey||r.charCodeAt(0)>127)&&(s=Qr[n.keyCode])&&s!=r){let a=e[zp(s,n)];if(a&&a(t.state,t.dispatch,t))return!0}}return!1}}const Bp=(i,e)=>i.selection.empty?!1:(e&&e(i.tr.deleteSelection().scrollIntoView()),!0);function Ew(i,e){let{$cursor:t}=i.selection;return!t||(e?!e.endOfTextblock("backward",i):t.parentOffset>0)?null:t}const Ow=(i,e,t)=>{let n=Ew(i,t);if(!n)return!1;let r=Hp(n);if(!r){let o=n.blockRange(),a=o&&zo(o);return a==null?!1:(e&&e(i.tr.lift(o,a).scrollIntoView()),!0)}let s=r.nodeBefore;if(zw(i,r,e,-1))return!0;if(n.parent.content.size==0&&(Uo(s,"end")||Xe.isSelectable(s)))for(let o=n.depth;;o--){let a=bu(i.doc,n.before(o),n.after(o),Re.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=i.tr.step(a);l.setSelection(Uo(s,"end")?ot.findFrom(l.doc.resolve(l.mapping.map(r.pos,-1)),-1):Xe.create(l.doc,r.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||n.node(o-1).childCount>1)break}return s.isAtom&&r.depth==n.depth-1?(e&&e(i.tr.delete(r.pos-s.nodeSize,r.pos).scrollIntoView()),!0):!1},gI=(i,e,t)=>{let n=Ew(i,t);if(!n)return!1;let r=Hp(n);return r?Iw(i,r,e):!1},mI=(i,e,t)=>{let n=Lw(i,t);if(!n)return!1;let r=Wp(n);return r?Iw(i,r,e):!1};function Iw(i,e,t){let n=e.nodeBefore,r=n,s=e.pos-1;for(;!r.isTextblock;s--){if(r.type.spec.isolating)return!1;let u=r.lastChild;if(!u)return!1;r=u}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=bu(i.doc,s,l,Re.empty);if(!c||c.from!=s||c instanceof rn&&c.slice.size>=l-s)return!1;if(t){let u=i.tr.step(c);u.setSelection($e.create(u.doc,s)),t(u.scrollIntoView())}return!0}function Uo(i,e,t=!1){for(let n=i;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(t&&n.childCount!=1)return!1}return!1}const Pw=(i,e,t)=>{let{$head:n,empty:r}=i.selection,s=n;if(!r)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("backward",i):n.parentOffset>0)return!1;s=Hp(n)}let o=s&&s.nodeBefore;return!o||!Xe.isSelectable(o)?!1:(e&&e(i.tr.setSelection(Xe.create(i.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function Hp(i){if(!i.parent.type.spec.isolating)for(let e=i.depth-1;e>=0;e--){if(i.index(e)>0)return i.doc.resolve(i.before(e+1));if(i.node(e).type.spec.isolating)break}return null}function Lw(i,e){let{$cursor:t}=i.selection;return!t||(e?!e.endOfTextblock("forward",i):t.parentOffset<t.parent.content.size)?null:t}const Rw=(i,e,t)=>{let n=Lw(i,t);if(!n)return!1;let r=Wp(n);if(!r)return!1;let s=r.nodeAfter;if(zw(i,r,e,1))return!0;if(n.parent.content.size==0&&(Uo(s,"start")||Xe.isSelectable(s))){let o=bu(i.doc,n.before(),n.after(),Re.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=i.tr.step(o);a.setSelection(Uo(s,"start")?ot.findFrom(a.doc.resolve(a.mapping.map(r.pos)),1):Xe.create(a.doc,a.mapping.map(r.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&r.depth==n.depth-1?(e&&e(i.tr.delete(r.pos,r.pos+s.nodeSize).scrollIntoView()),!0):!1},_w=(i,e,t)=>{let{$head:n,empty:r}=i.selection,s=n;if(!r)return!1;if(n.parent.isTextblock){if(t?!t.endOfTextblock("forward",i):n.parentOffset<n.parent.content.size)return!1;s=Wp(n)}let o=s&&s.nodeAfter;return!o||!Xe.isSelectable(o)?!1:(e&&e(i.tr.setSelection(Xe.create(i.doc,s.pos)).scrollIntoView()),!0)};function Wp(i){if(!i.parent.type.spec.isolating)for(let e=i.depth-1;e>=0;e--){let t=i.node(e);if(i.index(e)+1<t.childCount)return i.doc.resolve(i.after(e+1));if(t.type.spec.isolating)break}return null}const xI=(i,e)=>{let t=i.selection,n=t instanceof Xe,r;if(n){if(t.node.isTextblock||!jr(i.doc,t.from))return!1;r=t.from}else if(r=xu(i.doc,t.from,-1),r==null)return!1;if(e){let s=i.tr.join(r);n&&s.setSelection(Xe.create(s.doc,r-i.doc.resolve(r).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},bI=(i,e)=>{let t=i.selection,n;if(t instanceof Xe){if(t.node.isTextblock||!jr(i.doc,t.to))return!1;n=t.to}else if(n=xu(i.doc,t.to,1),n==null)return!1;return e&&e(i.tr.join(n).scrollIntoView()),!0},yI=(i,e)=>{let{$from:t,$to:n}=i.selection,r=t.blockRange(n),s=r&&zo(r);return s==null?!1:(e&&e(i.tr.lift(r,s).scrollIntoView()),!0)},Dw=(i,e)=>{let{$head:t,$anchor:n}=i.selection;return!t.parent.type.spec.code||!t.sameParent(n)?!1:(e&&e(i.tr.insertText(`
  `).scrollIntoView()),!0)};function Xp(i){for(let e=0;e<i.edgeCount;e++){let{type:t}=i.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const vI=(i,e)=>{let{$head:t,$anchor:n}=i.selection;if(!t.parent.type.spec.code||!t.sameParent(n))return!1;let r=t.node(-1),s=t.indexAfter(-1),o=Xp(r.contentMatchAt(s));if(!o||!r.canReplaceWith(s,s,o))return!1;if(e){let a=t.after(),l=i.tr.replaceWith(a,a,o.createAndFill());l.setSelection(ot.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},Nw=(i,e)=>{let t=i.selection,{$from:n,$to:r}=t;if(t instanceof si||n.parent.inlineContent||r.parent.inlineContent)return!1;let s=Xp(r.parent.contentMatchAt(r.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!n.parentOffset&&r.index()<r.parent.childCount?n:r).pos,a=i.tr.insert(o,s.createAndFill());a.setSelection($e.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},Fw=(i,e)=>{let{$cursor:t}=i.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let s=t.before();if(xr(i.doc,s))return e&&e(i.tr.split(s).scrollIntoView()),!0}let n=t.blockRange(),r=n&&zo(n);return r==null?!1:(e&&e(i.tr.lift(n,r).scrollIntoView()),!0)};function wI(i){return(e,t)=>{let{$from:n,$to:r}=e.selection;if(e.selection instanceof Xe&&e.selection.node.isBlock)return!n.parentOffset||!xr(e.doc,n.pos)?!1:(t&&t(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let s=[],o,a,l=!1,c=!1;for(let f=n.depth;;f--)if(n.node(f).isBlock){l=n.end(f)==n.pos+(n.depth-f),c=n.start(f)==n.pos-(n.depth-f),a=Xp(n.node(f-1).contentMatchAt(n.indexAfter(f-1))),s.unshift(l&&a?{type:a}:null),o=f;break}else{if(f==1)return!1;s.unshift(null)}let u=e.tr;(e.selection instanceof $e||e.selection instanceof si)&&u.deleteSelection();let h=u.mapping.map(n.pos),d=xr(u.doc,h,s.length,s);if(d||(s[0]=a?{type:a}:null,d=xr(u.doc,h,s.length,s)),!d)return!1;if(u.split(h,s.length,s),!l&&c&&n.node(o).type!=a){let f=u.mapping.map(n.before(o)),p=u.doc.resolve(f);a&&n.node(o-1).canReplaceWith(p.index(),p.index()+1,a)&&u.setNodeMarkup(u.mapping.map(n.before(o)),a)}return t&&t(u.scrollIntoView()),!0}}const kI=wI(),SI=(i,e)=>{let{$from:t,to:n}=i.selection,r,s=t.sharedDepth(n);return s==0?!1:(r=t.before(s),e&&e(i.tr.setSelection(Xe.create(i.doc,r))),!0)};function CI(i,e,t){let n=e.nodeBefore,r=e.nodeAfter,s=e.index();return!n||!r||!n.type.compatibleContent(r.type)?!1:!n.content.size&&e.parent.canReplace(s-1,s)?(t&&t(i.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(r.isTextblock||jr(i.doc,e.pos))?!1:(t&&t(i.tr.join(e.pos).scrollIntoView()),!0)}function zw(i,e,t,n){let r=e.nodeBefore,s=e.nodeAfter,o,a,l=r.type.spec.isolating||s.type.spec.isolating;if(!l&&CI(i,e,t))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(a=r.contentMatchAt(r.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(t){let f=e.pos+s.nodeSize,p=ue.empty;for(let y=o.length-1;y>=0;y--)p=ue.from(o[y].create(null,p));p=ue.from(r.copy(p));let m=i.tr.step(new sn(e.pos-1,f,e.pos,f,new Re(p,1,0),o.length,!0)),b=m.doc.resolve(f+2*o.length);b.nodeAfter&&b.nodeAfter.type==r.type&&jr(m.doc,b.pos)&&m.join(b.pos),t(m.scrollIntoView())}return!0}let u=s.type.spec.isolating||n>0&&l?null:ot.findFrom(e,1),h=u&&u.$from.blockRange(u.$to),d=h&&zo(h);if(d!=null&&d>=e.depth)return t&&t(i.tr.lift(h,d).scrollIntoView()),!0;if(c&&Uo(s,"start",!0)&&Uo(r,"end")){let f=r,p=[];for(;p.push(f),!f.isTextblock;)f=f.lastChild;let m=s,b=1;for(;!m.isTextblock;m=m.firstChild)b++;if(f.canReplace(f.childCount,f.childCount,m.content)){if(t){let y=ue.empty;for(let C=p.length-1;C>=0;C--)y=ue.from(p[C].copy(y));let w=i.tr.step(new sn(e.pos-p.length,e.pos+s.nodeSize,e.pos+b,e.pos+s.nodeSize-b,new Re(y,p.length,0),0,!0));t(w.scrollIntoView())}return!0}}return!1}function Bw(i){return function(e,t){let n=e.selection,r=i<0?n.$from:n.$to,s=r.depth;for(;r.node(s).isInline;){if(!s)return!1;s--}return r.node(s).isTextblock?(t&&t(e.tr.setSelection($e.create(e.doc,i<0?r.start(s):r.end(s)))),!0):!1}}const AI=Bw(-1),MI=Bw(1);function TI(i,e=null){return function(t,n){let{$from:r,$to:s}=t.selection,o=r.blockRange(s),a=o&&op(o,i,e);return a?(n&&n(t.tr.wrap(o,a).scrollIntoView()),!0):!1}}function Hw(i,e=null){return function(t,n){let r=!1;for(let s=0;s<t.selection.ranges.length&&!r;s++){let{$from:{pos:o},$to:{pos:a}}=t.selection.ranges[s];t.doc.nodesBetween(o,a,(l,c)=>{if(r)return!1;if(!(!l.isTextblock||l.hasMarkup(i,e)))if(l.type==i)r=!0;else{let u=t.doc.resolve(c),h=u.index();r=u.parent.canReplaceWith(h,h+1,i)}})}if(!r)return!1;if(n){let s=t.tr;for(let o=0;o<t.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=t.selection.ranges[o];s.setBlockType(a,l,i,e)}n(s.scrollIntoView())}return!0}}function Yp(...i){return function(e,t,n){for(let r=0;r<i.length;r++)if(i[r](e,t,n))return!0;return!1}}Yp(Bp,Ow,Pw),Yp(Bp,Rw,_w),Yp(Dw,Nw,Fw,kI),typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function EI(i,e=null){return function(t,n){let{$from:r,$to:s}=t.selection,o=r.blockRange(s);if(!o)return!1;let a=n?t.tr:null;return OI(a,o,i,e)?(n&&n(a.scrollIntoView()),!0):!1}}function OI(i,e,t,n=null){let r=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=o.resolve(e.start-2);s=new uu(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new uu(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),r=!0}let a=op(s,t,n,e);return a?(i&&II(i,e,a,r,t),!0):!1}function II(i,e,t,n,r){let s=ue.empty;for(let u=t.length-1;u>=0;u--)s=ue.from(t[u].type.create(t[u].attrs,s));i.step(new sn(e.start-(n?2:0),e.end,e.start,e.end,new Re(s,0,0),t.length,!0));let o=0;for(let u=0;u<t.length;u++)t[u].type==r&&(o=u+1);let a=t.length-o,l=e.start+t.length-(n?2:0),c=e.parent;for(let u=e.startIndex,h=e.endIndex,d=!0;u<h;u++,d=!1)!d&&xr(i.doc,l,a)&&(i.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return i}function PI(i){return function(e,t){let{$from:n,$to:r}=e.selection,s=n.blockRange(r,o=>o.childCount>0&&o.firstChild.type==i);return s?t?n.node(s.depth-1).type==i?LI(e,t,i,s):RI(e,t,s):!0:!1}}function LI(i,e,t,n){let r=i.tr,s=n.end,o=n.$to.end(n.depth);s<o&&(r.step(new sn(s-1,o,s,o,new Re(ue.from(t.create(null,n.parent.copy())),1,0),1,!0)),n=new uu(r.doc.resolve(n.$from.pos),r.doc.resolve(o),n.depth));const a=zo(n);if(a==null)return!1;r.lift(n,a);let l=r.doc.resolve(r.mapping.map(s,-1)-1);return jr(r.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&r.join(l.pos),e(r.scrollIntoView()),!0}function RI(i,e,t){let n=i.tr,r=t.parent;for(let f=t.end,p=t.endIndex-1,m=t.startIndex;p>m;p--)f-=r.child(p).nodeSize,n.delete(f-1,f+1);let s=n.doc.resolve(t.start),o=s.nodeAfter;if(n.mapping.map(t.end)!=t.start+s.nodeAfter.nodeSize)return!1;let a=t.startIndex==0,l=t.endIndex==r.childCount,c=s.node(-1),u=s.index(-1);if(!c.canReplace(u+(a?0:1),u+1,o.content.append(l?ue.empty:ue.from(r))))return!1;let h=s.pos,d=h+o.nodeSize;return n.step(new sn(h-(a?1:0),d+(l?1:0),h+1,d-1,new Re((a?ue.empty:ue.from(r.copy(ue.empty))).append(l?ue.empty:ue.from(r.copy(ue.empty))),a?0:1,l?0:1),a?0:1)),e(n.scrollIntoView()),!0}function _I(i){return function(e,t){let{$from:n,$to:r}=e.selection,s=n.blockRange(r,c=>c.childCount>0&&c.firstChild.type==i);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=i)return!1;if(t){let c=l.lastChild&&l.lastChild.type==a.type,u=ue.from(c?i.create():null),h=new Re(ue.from(i.create(null,ue.from(a.type.create(null,u)))),c?3:1,0),d=s.start,f=s.end;t(e.tr.step(new sn(d-(c?3:1),f,d,f,h,1,!0)).scrollIntoView())}return!0}}function Ou(i){const{state:e,transaction:t}=i;let{selection:n}=t,{doc:r}=t,{storedMarks:s}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return n},get doc(){return r},get tr(){return n=t.selection,r=t.doc,s=t.storedMarks,t}}}class Iu{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:s}=n,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const h=l(...u)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(s),h}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:s}=this,{view:o}=r,a=[],l=!!e,c=e||s.tr,u=()=>(!l&&t&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(c),a.every(d=>d===!0)),h={...Object.fromEntries(Object.entries(n).map(([d,f])=>[d,(...m)=>{const b=this.buildProps(c,t),y=f(...m)(b);return a.push(y),h}])),run:u};return h}createCan(e){const{rawCommands:t,state:n}=this,r=!1,s=e||n.tr,o=this.buildProps(s,r);return{...Object.fromEntries(Object.entries(t).map(([l,c])=>[l,(...u)=>c(...u)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,r)}}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:s}=this,{view:o}=r,a={tr:e,editor:r,view:o,state:Ou({state:s,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}}class DI{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach(r=>r.apply(this,t)),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(r=>r!==t):delete this.callbacks[e]),this}once(e,t){const n=(...r)=>{this.off(e,n),t.apply(this,r)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}}function Ne(i,e,t){return i.config[e]===void 0&&i.parent?Ne(i.parent,e,t):typeof i.config[e]=="function"?i.config[e].bind({...t,parent:i.parent?Ne(i.parent,e,t):null}):i.config[e]}function Pu(i){const e=i.filter(r=>r.type==="extension"),t=i.filter(r=>r.type==="node"),n=i.filter(r=>r.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:n}}function Ww(i){const e=[],{nodeExtensions:t,markExtensions:n}=Pu(i),r=[...t,...n],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return i.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:r},l=Ne(o,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(h=>{Object.entries(u.attributes).forEach(([d,f])=>{e.push({type:h,name:d,attribute:{...s,...f}})})})})}),r.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=Ne(o,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,h])=>{const d={...s,...h};typeof(d==null?void 0:d.default)=="function"&&(d.default=d.default()),d!=null&&d.isRequired&&(d==null?void 0:d.default)===void 0&&delete d.default,e.push({type:o.name,name:u,attribute:d})})}),e}function on(i,e){if(typeof i=="string"){if(!e.nodes[i])throw Error(`There is no node type named '${i}'. Maybe you forgot to add the extension?`);return e.nodes[i]}return i}function an(...i){return i.filter(e=>!!e).reduce((e,t)=>{const n={...e};return Object.entries(t).forEach(([r,s])=>{if(!n[r]){n[r]=s;return}if(r==="class"){const a=s?String(s).split(" "):[],l=n[r]?n[r].split(" "):[],c=a.filter(u=>!l.includes(u));n[r]=[...l,...c].join(" ")}else if(r==="style"){const a=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],l=n[r]?n[r].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[h,d]=u.split(":").map(f=>f.trim());c.set(h,d)}),a.forEach(u=>{const[h,d]=u.split(":").map(f=>f.trim());c.set(h,d)}),n[r]=Array.from(c.entries()).map(([u,h])=>`${u}: ${h}`).join("; ")}else n[r]=s}),n},{})}function jp(i,e){return e.filter(t=>t.type===i.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(i.attrs)||{}:{[t.name]:i.attrs[t.name]}).reduce((t,n)=>an(t,n),{})}function Xw(i){return typeof i=="function"}function ct(i,e=void 0,...t){return Xw(i)?e?i.bind(e)(...t):i(...t):i}function NI(i={}){return Object.keys(i).length===0&&i.constructor===Object}function FI(i){return typeof i!="string"?i:i.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(i):i==="true"?!0:i==="false"?!1:i}function Yw(i,e){return"style"in i?i:{...i,getAttrs:t=>{const n=i.getAttrs?i.getAttrs(t):i.attrs;if(n===!1)return!1;const r=e.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(t):FI(t.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...n,...r}}}}function jw(i){return Object.fromEntries(Object.entries(i).filter(([e,t])=>e==="attrs"&&NI(t)?!1:t!=null))}function zI(i,e){var t;const n=Ww(i),{nodeExtensions:r,markExtensions:s}=Pu(i),o=(t=r.find(c=>Ne(c,"topNode")))===null||t===void 0?void 0:t.name,a=Object.fromEntries(r.map(c=>{const u=n.filter(y=>y.type===c.name),h={name:c.name,options:c.options,storage:c.storage,editor:e},d=i.reduce((y,w)=>{const C=Ne(w,"extendNodeSchema",h);return{...y,...C?C(c):{}}},{}),f=jw({...d,content:ct(Ne(c,"content",h)),marks:ct(Ne(c,"marks",h)),group:ct(Ne(c,"group",h)),inline:ct(Ne(c,"inline",h)),atom:ct(Ne(c,"atom",h)),selectable:ct(Ne(c,"selectable",h)),draggable:ct(Ne(c,"draggable",h)),code:ct(Ne(c,"code",h)),whitespace:ct(Ne(c,"whitespace",h)),linebreakReplacement:ct(Ne(c,"linebreakReplacement",h)),defining:ct(Ne(c,"defining",h)),isolating:ct(Ne(c,"isolating",h)),attrs:Object.fromEntries(u.map(y=>{var w;return[y.name,{default:(w=y==null?void 0:y.attribute)===null||w===void 0?void 0:w.default}]}))}),p=ct(Ne(c,"parseHTML",h));p&&(f.parseDOM=p.map(y=>Yw(y,u)));const m=Ne(c,"renderHTML",h);m&&(f.toDOM=y=>m({node:y,HTMLAttributes:jp(y,u)}));const b=Ne(c,"renderText",h);return b&&(f.toText=b),[c.name,f]})),l=Object.fromEntries(s.map(c=>{const u=n.filter(b=>b.type===c.name),h={name:c.name,options:c.options,storage:c.storage,editor:e},d=i.reduce((b,y)=>{const w=Ne(y,"extendMarkSchema",h);return{...b,...w?w(c):{}}},{}),f=jw({...d,inclusive:ct(Ne(c,"inclusive",h)),excludes:ct(Ne(c,"excludes",h)),group:ct(Ne(c,"group",h)),spanning:ct(Ne(c,"spanning",h)),code:ct(Ne(c,"code",h)),attrs:Object.fromEntries(u.map(b=>{var y;return[b.name,{default:(y=b==null?void 0:b.attribute)===null||y===void 0?void 0:y.default}]}))}),p=ct(Ne(c,"parseHTML",h));p&&(f.parseDOM=p.map(b=>Yw(b,u)));const m=Ne(c,"renderHTML",h);return m&&(f.toDOM=b=>m({mark:b,HTMLAttributes:jp(b,u)})),[c.name,f]}));return new _v({topNode:o,nodes:a,marks:l})}function Vp(i,e){return e.nodes[i]||e.marks[i]||null}function Vw(i,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===i.name):e}function $p(i,e){const t=Xs.fromSchema(e).serializeFragment(i),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(t),r.innerHTML}const BI=(i,e=500)=>{let t="";const n=i.parentOffset;return i.parent.nodesBetween(Math.max(0,n-e),n,(r,s,o,a)=>{var l,c;const u=((c=(l=r.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:r,pos:s,parent:o,index:a}))||r.textContent||"%leaf%";t+=r.isAtom&&!r.isText?u:u.slice(0,Math.max(0,n-s))}),t};function Gp(i){return Object.prototype.toString.call(i)==="[object RegExp]"}class Lu{constructor(e){this.find=e.find,this.handler=e.handler}}const HI=(i,e)=>{if(Gp(e))return e.exec(i);const t=e(i);if(!t)return null;const n=[t.text];return n.index=t.index,n.input=i,n.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(t.replaceWith)),n};function Ru(i){var e;const{editor:t,from:n,to:r,text:s,rules:o,plugin:a}=i,{view:l}=t;if(l.composing)return!1;const c=l.state.doc.resolve(n);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(d=>d.type.spec.code))return!1;let u=!1;const h=BI(c)+s;return o.forEach(d=>{if(u)return;const f=HI(h,d.find);if(!f)return;const p=l.state.tr,m=Ou({state:l.state,transaction:p}),b={from:n-(f[0].length-s.length),to:r},{commands:y,chain:w,can:C}=new Iu({editor:t,state:m});d.handler({state:m,range:b,match:f,commands:y,chain:w,can:C})===null||!p.steps.length||(p.setMeta(a,{transform:p,from:n,to:r,text:s}),l.dispatch(p),u=!0)}),u}function WI(i){const{editor:e,rules:t}=i,n=new mn({state:{init(){return null},apply(r,s,o){const a=r.getMeta(n);if(a)return a;const l=r.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:u}=l;typeof u=="string"?u=u:u=$p(ue.from(u),o.schema);const{from:h}=l,d=h+u.length;Ru({editor:e,from:h,to:d,text:u,rules:t,plugin:n})}),r.selectionSet||r.docChanged?null:s}},props:{handleTextInput(r,s,o,a){return Ru({editor:e,from:s,to:o,text:a,rules:t,plugin:n})},handleDOMEvents:{compositionend:r=>(setTimeout(()=>{const{$cursor:s}=r.state.selection;s&&Ru({editor:e,from:s.pos,to:s.pos,text:"",rules:t,plugin:n})}),!1)},handleKeyDown(r,s){if(s.key!=="Enter")return!1;const{$cursor:o}=r.state.selection;return o?Ru({editor:e,from:o.pos,to:o.pos,text:`
  `,rules:t,plugin:n}):!1}},isInputRules:!0});return n}function XI(i){return Object.prototype.toString.call(i).slice(8,-1)}function _u(i){return XI(i)!=="Object"?!1:i.constructor===Object&&Object.getPrototypeOf(i)===Object.prototype}function Du(i,e){const t={...i};return _u(i)&&_u(e)&&Object.keys(e).forEach(n=>{_u(e[n])&&_u(i[n])?t[n]=Du(i[n],e[n]):t[n]=e[n]}),t}class Ji{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ct(Ne(this,"addOptions",{name:this.name}))),this.storage=ct(Ne(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Ji(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Du(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Ji(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=ct(Ne(t,"addOptions",{name:t.name})),t.storage=ct(Ne(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:n}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const o=r.marks();if(!!!o.find(c=>(c==null?void 0:c.type.name)===t.name))return!1;const l=o.find(c=>(c==null?void 0:c.type.name)===t.name);return l&&n.removeStoredMark(l),n.insertText(" ",r.pos),e.view.dispatch(n),!0}return!1}}function YI(i){return typeof i=="number"}class jI{constructor(e){this.find=e.find,this.handler=e.handler}}const VI=(i,e,t)=>{if(Gp(e))return[...i.matchAll(e)];const n=e(i,t);return n?n.map(r=>{const s=[r.text];return s.index=r.index,s.input=i,s.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(r.replaceWith)),s}):[]};function $I(i){const{editor:e,state:t,from:n,to:r,rule:s,pasteEvent:o,dropEvent:a}=i,{commands:l,chain:c,can:u}=new Iu({editor:e,state:t}),h=[];return t.doc.nodesBetween(n,r,(f,p)=>{if(!f.isTextblock||f.type.spec.code)return;const m=Math.max(n,p),b=Math.min(r,p+f.content.size),y=f.textBetween(m-p,b-p,void 0,"");VI(y,s.find,o).forEach(C=>{if(C.index===void 0)return;const T=m+C.index+1,k=T+C[0].length,E={from:t.tr.mapping.map(T),to:t.tr.mapping.map(k)},M=s.handler({state:t,range:E,match:C,commands:l,chain:c,can:u,pasteEvent:o,dropEvent:a});h.push(M)})}),h.every(f=>f!==null)}let Nu=null;const GI=i=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",i),t};function qI(i){const{editor:e,rules:t}=i;let n=null,r=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:u,from:h,to:d,rule:f,pasteEvt:p})=>{const m=u.tr,b=Ou({state:u,transaction:m});if(!(!$I({editor:e,state:b,from:Math.max(h-1,0),to:d.b-1,rule:f,pasteEvent:p,dropEvent:a})||!m.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,m}};return t.map(u=>new mn({view(h){const d=p=>{var m;n=!((m=h.dom.parentElement)===null||m===void 0)&&m.contains(p.target)?h.dom.parentElement:null,n&&(Nu=e)},f=()=>{Nu&&(Nu=null)};return window.addEventListener("dragstart",d),window.addEventListener("dragend",f),{destroy(){window.removeEventListener("dragstart",d),window.removeEventListener("dragend",f)}}},props:{handleDOMEvents:{drop:(h,d)=>{if(s=n===h.dom.parentElement,a=d,!s){const f=Nu;f&&setTimeout(()=>{const p=f.state.selection;p&&f.commands.deleteRange({from:p.from,to:p.to})},10)}return!1},paste:(h,d)=>{var f;const p=(f=d.clipboardData)===null||f===void 0?void 0:f.getData("text/html");return o=d,r=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(h,d,f)=>{const p=h[0],m=p.getMeta("uiEvent")==="paste"&&!r,b=p.getMeta("uiEvent")==="drop"&&!s,y=p.getMeta("applyPasteRules"),w=!!y;if(!m&&!b&&!w)return;if(w){let{text:k}=y;typeof k=="string"?k=k:k=$p(ue.from(k),f.schema);const{from:E}=y,M=E+k.length,O=GI(k);return l({rule:u,state:f,from:E,to:{b:M},pasteEvt:O})}const C=d.doc.content.findDiffStart(f.doc.content),T=d.doc.content.findDiffEnd(f.doc.content);if(!(!YI(C)||!T||C===T.b))return l({rule:u,state:f,from:C,to:T,pasteEvt:o})}}))}function UI(i){const e=i.filter((t,n)=>i.indexOf(t)!==n);return Array.from(new Set(e))}class Ko{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=Ko.resolve(e),this.schema=zI(this.extensions,t),this.setupExtensions()}static resolve(e){const t=Ko.sort(Ko.flatten(e)),n=UI(t.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const n={name:t.name,options:t.options,storage:t.storage},r=Ne(t,"addExtensions",n);return r?[t,...this.flatten(r())]:t}).flat(10)}static sort(e){return e.sort((n,r)=>{const s=Ne(n,"priority")||100,o=Ne(r,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const n={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Vp(t.name,this.schema)},r=Ne(t,"addCommands",n);return r?{...e,...r()}:e},{})}get plugins(){const{editor:e}=this,t=Ko.sort([...this.extensions].reverse()),n=[],r=[],s=t.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:Vp(o.name,this.schema)},l=[],c=Ne(o,"addKeyboardShortcuts",a);let u={};if(o.type==="mark"&&Ne(o,"exitable",a)&&(u.ArrowRight=()=>Ji.handleExit({editor:e,mark:o})),c){const m=Object.fromEntries(Object.entries(c()).map(([b,y])=>[b,()=>y({editor:e})]));u={...u,...m}}const h=pI(u);l.push(h);const d=Ne(o,"addInputRules",a);Vw(o,e.options.enableInputRules)&&d&&n.push(...d());const f=Ne(o,"addPasteRules",a);Vw(o,e.options.enablePasteRules)&&f&&r.push(...f());const p=Ne(o,"addProseMirrorPlugins",a);if(p){const m=p();l.push(...m)}return l}).flat();return[WI({editor:e,rules:n}),...qI({editor:e,rules:r}),...s]}get attributes(){return Ww(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Pu(this.extensions);return Object.fromEntries(t.filter(n=>!!Ne(n,"addNodeView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),s={name:n.name,options:n.options,storage:n.storage,editor:e,type:on(n.name,this.schema)},o=Ne(n,"addNodeView",s);if(!o)return[];const a=(l,c,u,h,d)=>{const f=jp(l,r);return o()({node:l,view:c,getPos:u,decorations:h,innerDecorations:d,editor:e,extension:n,HTMLAttributes:f})};return[n.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const n={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Vp(e.name,this.schema)};e.type==="mark"&&(!((t=ct(Ne(e,"keepOnSplit",n)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const r=Ne(e,"onBeforeCreate",n),s=Ne(e,"onCreate",n),o=Ne(e,"onUpdate",n),a=Ne(e,"onSelectionUpdate",n),l=Ne(e,"onTransaction",n),c=Ne(e,"onFocus",n),u=Ne(e,"onBlur",n),h=Ne(e,"onDestroy",n);r&&this.editor.on("beforeCreate",r),s&&this.editor.on("create",s),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),h&&this.editor.on("destroy",h)})}}class Tn{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ct(Ne(this,"addOptions",{name:this.name}))),this.storage=ct(Ne(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Tn(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Du(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Tn({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=ct(Ne(t,"addOptions",{name:t.name})),t.storage=ct(Ne(t,"addStorage",{name:t.name,options:t.options})),t}}function $w(i,e,t){const{from:n,to:r}=e,{blockSeparator:s=`
  
  `,textSerializers:o={}}=t||{};let a="";return i.nodesBetween(n,r,(l,c,u,h)=>{var d;l.isBlock&&c>n&&(a+=s);const f=o==null?void 0:o[l.type.name];if(f)return u&&(a+=f({node:l,pos:c,parent:u,index:h,range:e})),!1;l.isText&&(a+=(d=l==null?void 0:l.text)===null||d===void 0?void 0:d.slice(Math.max(n,c)-c,r-c))}),a}function Gw(i){return Object.fromEntries(Object.entries(i.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const KI=Tn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new mn({key:new oi("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:i}=this,{state:e,schema:t}=i,{doc:n,selection:r}=e,{ranges:s}=r,o=Math.min(...s.map(u=>u.$from.pos)),a=Math.max(...s.map(u=>u.$to.pos)),l=Gw(t);return $w(n,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),JI=()=>({editor:i,view:e})=>(requestAnimationFrame(()=>{var t;i.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),ZI=(i=!1)=>({commands:e})=>e.setContent("",i),QI=()=>({state:i,tr:e,dispatch:t})=>{const{selection:n}=e,{ranges:r}=n;return t&&r.forEach(({$from:s,$to:o})=>{i.doc.nodesBetween(s.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,h=c.resolve(u.map(l)),d=c.resolve(u.map(l+a.nodeSize)),f=h.blockRange(d);if(!f)return;const p=zo(f);if(a.type.isTextblock){const{defaultType:m}=h.parent.contentMatchAt(h.index());e.setNodeMarkup(f.start,m)}(p||p===0)&&e.lift(f,p)})}),!0},eP=i=>e=>i(e),tP=()=>({state:i,dispatch:e})=>Nw(i,e),nP=(i,e)=>({editor:t,tr:n})=>{const{state:r}=t,s=r.doc.slice(i.from,i.to);n.deleteRange(i.from,i.to);const o=n.mapping.map(e);return n.insert(o,s.content),n.setSelection(new $e(n.doc.resolve(o-1))),!0},iP=()=>({tr:i,dispatch:e})=>{const{selection:t}=i,n=t.$anchor.node();if(n.content.size>0)return!1;const r=i.selection.$anchor;for(let s=r.depth;s>0;s-=1)if(r.node(s).type===n.type){if(e){const a=r.before(s),l=r.after(s);i.delete(a,l).scrollIntoView()}return!0}return!1},rP=i=>({tr:e,state:t,dispatch:n})=>{const r=on(i,t.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===r){if(n){const l=s.before(o),c=s.after(o);e.delete(l,c).scrollIntoView()}return!0}return!1},sP=i=>({tr:e,dispatch:t})=>{const{from:n,to:r}=i;return t&&e.delete(n,r),!0},oP=()=>({state:i,dispatch:e})=>Bp(i,e),aP=()=>({commands:i})=>i.keyboardShortcut("Enter"),lP=()=>({state:i,dispatch:e})=>vI(i,e);function Fu(i,e,t={strict:!0}){const n=Object.keys(e);return n.length?n.every(r=>t.strict?e[r]===i[r]:Gp(e[r])?e[r].test(i[r]):e[r]===i[r]):!0}function qw(i,e,t={}){return i.find(n=>n.type===e&&Fu(Object.fromEntries(Object.keys(t).map(r=>[r,n.attrs[r]])),t))}function Uw(i,e,t={}){return!!qw(i,e,t)}function qp(i,e,t){var n;if(!i||!e)return;let r=i.parent.childAfter(i.parentOffset);if((!r.node||!r.node.marks.some(u=>u.type===e))&&(r=i.parent.childBefore(i.parentOffset)),!r.node||!r.node.marks.some(u=>u.type===e)||(t=t||((n=r.node.marks[0])===null||n===void 0?void 0:n.attrs),!qw([...r.node.marks],e,t)))return;let o=r.index,a=i.start()+r.offset,l=o+1,c=a+r.node.nodeSize;for(;o>0&&Uw([...i.parent.child(o-1).marks],e,t);)o-=1,a-=i.parent.child(o).nodeSize;for(;l<i.parent.childCount&&Uw([...i.parent.child(l).marks],e,t);)c+=i.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function es(i,e){if(typeof i=="string"){if(!e.marks[i])throw Error(`There is no mark type named '${i}'. Maybe you forgot to add the extension?`);return e.marks[i]}return i}const cP=(i,e={})=>({tr:t,state:n,dispatch:r})=>{const s=es(i,n.schema),{doc:o,selection:a}=t,{$from:l,from:c,to:u}=a;if(r){const h=qp(l,s,e);if(h&&h.from<=c&&h.to>=u){const d=$e.create(o,h.from,h.to);t.setSelection(d)}}return!0},uP=i=>e=>{const t=typeof i=="function"?i(e):i;for(let n=0;n<t.length;n+=1)if(t[n](e))return!0;return!1};function Kw(i){return i instanceof $e}function Ks(i=0,e=0,t=0){return Math.min(Math.max(i,e),t)}function Jw(i,e=null){if(!e)return null;const t=ot.atStart(i),n=ot.atEnd(i);if(e==="start"||e===!0)return t;if(e==="end")return n;const r=t.from,s=n.to;return e==="all"?$e.create(i,Ks(0,r,s),Ks(i.content.size,r,s)):$e.create(i,Ks(e,r,s),Ks(e,r,s))}function hP(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Up(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const dP=(i=null,e={})=>({editor:t,view:n,tr:r,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{(Up()||hP())&&n.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(n.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(n.hasFocus()&&i===null||i===!1)return!0;if(s&&i===null&&!Kw(t.state.selection))return o(),!0;const a=Jw(r.doc,i)||t.state.selection,l=t.state.selection.eq(a);return s&&(l||r.setSelection(a),l&&r.storedMarks&&r.setStoredMarks(r.storedMarks),o()),!0},fP=(i,e)=>t=>i.every((n,r)=>e(n,{...t,index:r})),pP=(i,e)=>({tr:t,commands:n})=>n.insertContentAt({from:t.selection.from,to:t.selection.to},i,e),Zw=i=>{const e=i.childNodes;for(let t=e.length-1;t>=0;t-=1){const n=e[t];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?i.removeChild(n):n.nodeType===1&&Zw(n)}return i};function zu(i){const e=`<body>${i}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return Zw(t)}function Bu(i,e,t){if(i instanceof Wr||i instanceof ue)return i;t={slice:!0,parseOptions:{},...t};const n=typeof i=="object"&&i!==null,r=typeof i=="string";if(n)try{if(Array.isArray(i)&&i.length>0)return ue.fromArray(i.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(i);return t.errorOnInvalidContent&&o.check(),o}catch(s){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",i,"Error:",s),Bu("",e,t)}if(r){if(t.errorOnInvalidContent){let o=!1,a="";const l=new _v({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(t.slice?sl.fromSchema(l).parseSlice(zu(i),t.parseOptions):sl.fromSchema(l).parse(zu(i),t.parseOptions),t.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=sl.fromSchema(e);return t.slice?s.parseSlice(zu(i),t.parseOptions).content:s.parse(zu(i),t.parseOptions)}return Bu("",e,t)}function gP(i,e,t){const n=i.steps.length-1;if(n<e)return;const r=i.steps[n];if(!(r instanceof rn||r instanceof sn))return;const s=i.mapping.maps[n];let o=0;s.forEach((a,l,c,u)=>{o===0&&(o=u)}),i.setSelection(ot.near(i.doc.resolve(o),t))}const mP=i=>!("type"in i),xP=(i,e,t)=>({tr:n,dispatch:r,editor:s})=>{var o;if(r){t={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let a;try{a=Bu(e,s.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions},errorOnInvalidContent:(o=t.errorOnInvalidContent)!==null&&o!==void 0?o:s.options.enableContentCheck})}catch(p){return s.emit("contentError",{editor:s,error:p,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}}),!1}let{from:l,to:c}=typeof i=="number"?{from:i,to:i}:{from:i.from,to:i.to},u=!0,h=!0;if((mP(a)?a:[a]).forEach(p=>{p.check(),u=u?p.isText&&p.marks.length===0:!1,h=h?p.isBlock:!1}),l===c&&h){const{parent:p}=n.doc.resolve(l);p.isTextblock&&!p.type.spec.code&&!p.childCount&&(l-=1,c+=1)}let f;if(u){if(Array.isArray(e))f=e.map(p=>p.text||"").join("");else if(e instanceof ue){let p="";e.forEach(m=>{m.text&&(p+=m.text)}),f=p}else typeof e=="object"&&e&&e.text?f=e.text:f=e;n.insertText(f,l,c)}else f=a,n.replaceWith(l,c,f);t.updateSelection&&gP(n,n.steps.length-1,-1),t.applyInputRules&&n.setMeta("applyInputRules",{from:l,text:f}),t.applyPasteRules&&n.setMeta("applyPasteRules",{from:l,text:f})}return!0},bP=()=>({state:i,dispatch:e})=>xI(i,e),yP=()=>({state:i,dispatch:e})=>bI(i,e),vP=()=>({state:i,dispatch:e})=>Ow(i,e),wP=()=>({state:i,dispatch:e})=>Rw(i,e),kP=()=>({state:i,dispatch:e,tr:t})=>{try{const n=xu(i.doc,i.selection.$from.pos,-1);return n==null?!1:(t.join(n,2),e&&e(t),!0)}catch{return!1}},SP=()=>({state:i,dispatch:e,tr:t})=>{try{const n=xu(i.doc,i.selection.$from.pos,1);return n==null?!1:(t.join(n,2),e&&e(t),!0)}catch{return!1}},CP=()=>({state:i,dispatch:e})=>gI(i,e),AP=()=>({state:i,dispatch:e})=>mI(i,e);function Qw(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function MP(i){const e=i.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let n,r,s,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))Up()||Qw()?o=!0:r=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return n&&(t=`Alt-${t}`),r&&(t=`Ctrl-${t}`),o&&(t=`Meta-${t}`),s&&(t=`Shift-${t}`),t}const TP=i=>({editor:e,view:t,tr:n,dispatch:r})=>{const s=MP(i).split(/-(?!$)/),o=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{t.someProp("handleKeyDown",c=>c(t,a))});return l==null||l.steps.forEach(c=>{const u=c.map(n.mapping);u&&r&&n.maybeStep(u)}),!0};function wl(i,e,t={}){const{from:n,to:r,empty:s}=i.selection,o=e?on(e,i.schema):null,a=[];i.doc.nodesBetween(n,r,(h,d)=>{if(h.isText)return;const f=Math.max(n,d),p=Math.min(r,d+h.nodeSize);a.push({node:h,from:f,to:p})});const l=r-n,c=a.filter(h=>o?o.name===h.node.type.name:!0).filter(h=>Fu(h.node.attrs,t,{strict:!1}));return s?!!c.length:c.reduce((h,d)=>h+d.to-d.from,0)>=l}const EP=(i,e={})=>({state:t,dispatch:n})=>{const r=on(i,t.schema);return wl(t,r,e)?yI(t,n):!1},OP=()=>({state:i,dispatch:e})=>Fw(i,e),IP=i=>({state:e,dispatch:t})=>{const n=on(i,e.schema);return PI(n)(e,t)},PP=()=>({state:i,dispatch:e})=>Dw(i,e);function Hu(i,e){return e.nodes[i]?"node":e.marks[i]?"mark":null}function e1(i,e){const t=typeof e=="string"?[e]:e;return Object.keys(i).reduce((n,r)=>(t.includes(r)||(n[r]=i[r]),n),{})}const LP=(i,e)=>({tr:t,state:n,dispatch:r})=>{let s=null,o=null;const a=Hu(typeof i=="string"?i:i.name,n.schema);return a?(a==="node"&&(s=on(i,n.schema)),a==="mark"&&(o=es(i,n.schema)),r&&t.selection.ranges.forEach(l=>{n.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{s&&s===c.type&&t.setNodeMarkup(u,void 0,e1(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(h=>{o===h.type&&t.addMark(u,u+c.nodeSize,o.create(e1(h.attrs,e)))})})}),!0):!1},RP=()=>({tr:i,dispatch:e})=>(e&&i.scrollIntoView(),!0),_P=()=>({tr:i,dispatch:e})=>{if(e){const t=new si(i.doc);i.setSelection(t)}return!0},DP=()=>({state:i,dispatch:e})=>Pw(i,e),NP=()=>({state:i,dispatch:e})=>_w(i,e),FP=()=>({state:i,dispatch:e})=>SI(i,e),zP=()=>({state:i,dispatch:e})=>MI(i,e),BP=()=>({state:i,dispatch:e})=>AI(i,e);function Kp(i,e,t={},n={}){return Bu(i,e,{slice:!1,parseOptions:t,errorOnInvalidContent:n.errorOnInvalidContent})}const HP=(i,e=!1,t={},n={})=>({editor:r,tr:s,dispatch:o,commands:a})=>{var l,c;const{doc:u}=s;if(t.preserveWhitespace!=="full"){const h=Kp(i,r.schema,t,{errorOnInvalidContent:(l=n.errorOnInvalidContent)!==null&&l!==void 0?l:r.options.enableContentCheck});return o&&s.replaceWith(0,u.content.size,h).setMeta("preventUpdate",!e),!0}return o&&s.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:u.content.size},i,{parseOptions:t,errorOnInvalidContent:(c=n.errorOnInvalidContent)!==null&&c!==void 0?c:r.options.enableContentCheck})};function t1(i,e){const t=es(e,i.schema),{from:n,to:r,empty:s}=i.selection,o=[];s?(i.storedMarks&&o.push(...i.storedMarks),o.push(...i.selection.$head.marks())):i.doc.nodesBetween(n,r,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===t.name);return a?{...a.attrs}:{}}function WP(i,e){const t=new s0(i);return e.forEach(n=>{n.steps.forEach(r=>{t.step(r)})}),t}function XP(i){for(let e=0;e<i.edgeCount;e+=1){const{type:t}=i.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function YP(i,e,t){const n=[];return i.nodesBetween(e.from,e.to,(r,s)=>{t(r)&&n.push({node:r,pos:s})}),n}function jP(i,e){for(let t=i.depth;t>0;t-=1){const n=i.node(t);if(e(n))return{pos:t>0?i.before(t):0,start:i.start(t),depth:t,node:n}}}function Jp(i){return e=>jP(e.$from,i)}function VP(i,e){const t={from:0,to:i.content.size};return $w(i,t,e)}function $P(i,e){const t=on(e,i.schema),{from:n,to:r}=i.selection,s=[];i.doc.nodesBetween(n,r,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===t.name);return o?{...o.attrs}:{}}function n1(i,e){const t=Hu(typeof e=="string"?e:e.name,i.schema);return t==="node"?$P(i,e):t==="mark"?t1(i,e):{}}function GP(i,e=JSON.stringify){const t={};return i.filter(n=>{const r=e(n);return Object.prototype.hasOwnProperty.call(t,r)?!1:t[r]=!0})}function qP(i){const e=GP(i);return e.length===1?e:e.filter((t,n)=>!e.filter((s,o)=>o!==n).some(s=>t.oldRange.from>=s.oldRange.from&&t.oldRange.to<=s.oldRange.to&&t.newRange.from>=s.newRange.from&&t.newRange.to<=s.newRange.to))}function UP(i){const{mapping:e,steps:t}=i,n=[];return e.maps.forEach((r,s)=>{const o=[];if(r.ranges.length)r.forEach((a,l)=>{o.push({from:a,to:l})});else{const{from:a,to:l}=t[s];if(a===void 0||l===void 0)return;o.push({from:a,to:l})}o.forEach(({from:a,to:l})=>{const c=e.slice(s).map(a,-1),u=e.slice(s).map(l),h=e.invert().map(c,-1),d=e.invert().map(u);n.push({oldRange:{from:h,to:d},newRange:{from:c,to:u}})})}),qP(n)}function Zp(i,e,t){const n=[];return i===e?t.resolve(i).marks().forEach(r=>{const s=t.resolve(i),o=qp(s,r.type);o&&n.push({mark:r,...o})}):t.nodesBetween(i,e,(r,s)=>{!r||(r==null?void 0:r.nodeSize)===void 0||n.push(...r.marks.map(o=>({from:s,to:s+r.nodeSize,mark:o})))}),n}function Wu(i,e,t){return Object.fromEntries(Object.entries(t).filter(([n])=>{const r=i.find(s=>s.type===e&&s.name===n);return r?r.attribute.keepOnSplit:!1}))}function Qp(i,e,t={}){const{empty:n,ranges:r}=i.selection,s=e?es(e,i.schema):null;if(n)return!!(i.storedMarks||i.selection.$from.marks()).filter(h=>s?s.name===h.type.name:!0).find(h=>Fu(h.attrs,t,{strict:!1}));let o=0;const a=[];if(r.forEach(({$from:h,$to:d})=>{const f=h.pos,p=d.pos;i.doc.nodesBetween(f,p,(m,b)=>{if(!m.isText&&!m.marks.length)return;const y=Math.max(f,b),w=Math.min(p,b+m.nodeSize),C=w-y;o+=C,a.push(...m.marks.map(T=>({mark:T,from:y,to:w})))})}),o===0)return!1;const l=a.filter(h=>s?s.name===h.mark.type.name:!0).filter(h=>Fu(h.mark.attrs,t,{strict:!1})).reduce((h,d)=>h+d.to-d.from,0),c=a.filter(h=>s?h.mark.type!==s&&h.mark.type.excludes(s):!0).reduce((h,d)=>h+d.to-d.from,0);return(l>0?l+c:l)>=o}function KP(i,e,t={}){if(!e)return wl(i,null,t)||Qp(i,null,t);const n=Hu(e,i.schema);return n==="node"?wl(i,e,t):n==="mark"?Qp(i,e,t):!1}function i1(i,e){const{nodeExtensions:t}=Pu(e),n=t.find(o=>o.name===i);if(!n)return!1;const r={name:n.name,options:n.options,storage:n.storage},s=ct(Ne(n,"group",r));return typeof s!="string"?!1:s.split(" ").includes("list")}function eg(i,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var n;if(t){if(i.type.name==="hardBreak")return!0;if(i.isText)return/^\s*$/m.test((n=i.text)!==null&&n!==void 0?n:"")}if(i.isText)return!i.text;if(i.isAtom||i.isLeaf)return!1;if(i.content.childCount===0)return!0;if(e){let r=!0;return i.content.forEach(s=>{r!==!1&&(eg(s,{ignoreWhitespace:t,checkChildren:e})||(r=!1))}),r}return!1}function JP(i){return i instanceof Xe}function ZP(i,e,t){var n;const{selection:r}=e;let s=null;if(Kw(r)&&(s=r.$cursor),s){const a=(n=i.storedMarks)!==null&&n!==void 0?n:s.marks();return!!t.isInSet(a)||!a.some(l=>l.type.excludes(t))}const{ranges:o}=r;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?i.doc.inlineContent&&i.doc.type.allowsMarkType(t):!1;return i.doc.nodesBetween(a.pos,l.pos,(u,h,d)=>{if(c)return!1;if(u.isInline){const f=!d||d.type.allowsMarkType(t),p=!!t.isInSet(u.marks)||!u.marks.some(m=>m.type.excludes(t));c=f&&p}return!c}),c})}const QP=(i,e={})=>({tr:t,state:n,dispatch:r})=>{const{selection:s}=t,{empty:o,ranges:a}=s,l=es(i,n.schema);if(r)if(o){const c=t1(n,l);t.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,h=c.$to.pos;n.doc.nodesBetween(u,h,(d,f)=>{const p=Math.max(f,u),m=Math.min(f+d.nodeSize,h);d.marks.find(y=>y.type===l)?d.marks.forEach(y=>{l===y.type&&t.addMark(p,m,l.create({...y.attrs,...e}))}):t.addMark(p,m,l.create(e))})});return ZP(n,t,l)},eL=(i,e)=>({tr:t})=>(t.setMeta(i,e),!0),tL=(i,e={})=>({state:t,dispatch:n,chain:r})=>{const s=on(i,t.schema);let o;return t.selection.$anchor.sameParent(t.selection.$head)&&(o=t.selection.$anchor.parent.attrs),s.isTextblock?r().command(({commands:a})=>Hw(s,{...o,...e})(t)?!0:a.clearNodes()).command(({state:a})=>Hw(s,{...o,...e})(a,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},nL=i=>({tr:e,dispatch:t})=>{if(t){const{doc:n}=e,r=Ks(i,0,n.content.size),s=Xe.create(n,r);e.setSelection(s)}return!0},iL=i=>({tr:e,dispatch:t})=>{if(t){const{doc:n}=e,{from:r,to:s}=typeof i=="number"?{from:i,to:i}:i,o=$e.atStart(n).from,a=$e.atEnd(n).to,l=Ks(r,o,a),c=Ks(s,o,a),u=$e.create(n,l,c);e.setSelection(u)}return!0},rL=i=>({state:e,dispatch:t})=>{const n=on(i,e.schema);return _I(n)(e,t)};function r1(i,e){const t=i.storedMarks||i.selection.$to.parentOffset&&i.selection.$from.marks();if(t){const n=t.filter(r=>e==null?void 0:e.includes(r.type.name));i.tr.ensureMarks(n)}}const sL=({keepMarks:i=!0}={})=>({tr:e,state:t,dispatch:n,editor:r})=>{const{selection:s,doc:o}=e,{$from:a,$to:l}=s,c=r.extensionManager.attributes,u=Wu(c,a.node().type.name,a.node().attrs);if(s instanceof Xe&&s.node.isBlock)return!a.parentOffset||!xr(o,a.pos)?!1:(n&&(i&&r1(t,r.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const h=l.parentOffset===l.parent.content.size,d=a.depth===0?void 0:XP(a.node(-1).contentMatchAt(a.indexAfter(-1)));let f=h&&d?[{type:d,attrs:u}]:void 0,p=xr(e.doc,e.mapping.map(a.pos),1,f);if(!f&&!p&&xr(e.doc,e.mapping.map(a.pos),1,d?[{type:d}]:void 0)&&(p=!0,f=d?[{type:d,attrs:u}]:void 0),n){if(p&&(s instanceof $e&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,f),d&&!h&&!a.parentOffset&&a.parent.type!==d)){const m=e.mapping.map(a.before()),b=e.doc.resolve(m);a.node(-1).canReplaceWith(b.index(),b.index()+1,d)&&e.setNodeMarkup(e.mapping.map(a.before()),d)}i&&r1(t,r.extensionManager.splittableMarks),e.scrollIntoView()}return p},oL=(i,e={})=>({tr:t,state:n,dispatch:r,editor:s})=>{var o;const a=on(i,n.schema),{$from:l,$to:c}=n.selection,u=n.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const h=l.node(-1);if(h.type!==a)return!1;const d=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(r){let y=ue.empty;const w=l.index(-1)?1:l.index(-2)?2:3;for(let O=l.depth-w;O>=l.depth-3;O-=1)y=ue.from(l.node(O).copy(y));const C=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,T={...Wu(d,l.node().type.name,l.node().attrs),...e},k=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(T))||void 0;y=y.append(ue.from(a.createAndFill(null,k)||void 0));const E=l.before(l.depth-(w-1));t.replace(E,l.after(-C),new Re(y,4-w,0));let M=-1;t.doc.nodesBetween(E,t.doc.content.size,(O,P)=>{if(M>-1)return!1;O.isTextblock&&O.content.size===0&&(M=P+1)}),M>-1&&t.setSelection($e.near(t.doc.resolve(M))),t.scrollIntoView()}return!0}const f=c.pos===l.end()?h.contentMatchAt(0).defaultType:null,p={...Wu(d,h.type.name,h.attrs),...e},m={...Wu(d,l.node().type.name,l.node().attrs),...e};t.delete(l.pos,c.pos);const b=f?[{type:a,attrs:p},{type:f,attrs:m}]:[{type:a,attrs:p}];if(!xr(t.doc,l.pos,2))return!1;if(r){const{selection:y,storedMarks:w}=n,{splittableMarks:C}=s.extensionManager,T=w||y.$to.parentOffset&&y.$from.marks();if(t.split(l.pos,2,b).scrollIntoView(),!T||!r)return!0;const k=T.filter(E=>C.includes(E.type.name));t.ensureMarks(k)}return!0},tg=(i,e)=>{const t=Jp(o=>o.type===e)(i.selection);if(!t)return!0;const n=i.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(n===void 0)return!0;const r=i.doc.nodeAt(n);return t.node.type===(r==null?void 0:r.type)&&jr(i.doc,t.pos)&&i.join(t.pos),!0},ng=(i,e)=>{const t=Jp(o=>o.type===e)(i.selection);if(!t)return!0;const n=i.doc.resolve(t.start).after(t.depth);if(n===void 0)return!0;const r=i.doc.nodeAt(n);return t.node.type===(r==null?void 0:r.type)&&jr(i.doc,n)&&i.join(n),!0};var aL=Object.freeze({__proto__:null,blur:JI,clearContent:ZI,clearNodes:QI,command:eP,createParagraphNear:tP,cut:nP,deleteCurrentNode:iP,deleteNode:rP,deleteRange:sP,deleteSelection:oP,enter:aP,exitCode:lP,extendMarkRange:cP,first:uP,focus:dP,forEach:fP,insertContent:pP,insertContentAt:xP,joinBackward:vP,joinDown:yP,joinForward:wP,joinItemBackward:kP,joinItemForward:SP,joinTextblockBackward:CP,joinTextblockForward:AP,joinUp:bP,keyboardShortcut:TP,lift:EP,liftEmptyBlock:OP,liftListItem:IP,newlineInCode:PP,resetAttributes:LP,scrollIntoView:RP,selectAll:_P,selectNodeBackward:DP,selectNodeForward:NP,selectParentNode:FP,selectTextblockEnd:zP,selectTextblockStart:BP,setContent:HP,setMark:QP,setMeta:eL,setNode:tL,setNodeSelection:nL,setTextSelection:iL,sinkListItem:rL,splitBlock:sL,splitListItem:oL,toggleList:(i,e,t,n={})=>({editor:r,tr:s,state:o,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:h,splittableMarks:d}=r.extensionManager,f=on(i,o.schema),p=on(e,o.schema),{selection:m,storedMarks:b}=o,{$from:y,$to:w}=m,C=y.blockRange(w),T=b||m.$to.parentOffset&&m.$from.marks();if(!C)return!1;const k=Jp(E=>i1(E.type.name,h))(m);if(C.depth>=1&&k&&C.depth-k.depth<=1){if(k.node.type===f)return c.liftListItem(p);if(i1(k.node.type.name,h)&&f.validContent(k.node.content)&&a)return l().command(()=>(s.setNodeMarkup(k.pos,f),!0)).command(()=>tg(s,f)).command(()=>ng(s,f)).run()}return!t||!T||!a?l().command(()=>u().wrapInList(f,n)?!0:c.clearNodes()).wrapInList(f,n).command(()=>tg(s,f)).command(()=>ng(s,f)).run():l().command(()=>{const E=u().wrapInList(f,n),M=T.filter(O=>d.includes(O.type.name));return s.ensureMarks(M),E?!0:c.clearNodes()}).wrapInList(f,n).command(()=>tg(s,f)).command(()=>ng(s,f)).run()},toggleMark:(i,e={},t={})=>({state:n,commands:r})=>{const{extendEmptyMarkRange:s=!1}=t,o=es(i,n.schema);return Qp(n,o,e)?r.unsetMark(o,{extendEmptyMarkRange:s}):r.setMark(o,e)},toggleNode:(i,e,t={})=>({state:n,commands:r})=>{const s=on(i,n.schema),o=on(e,n.schema),a=wl(n,s,t);let l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),a?r.setNode(o,l):r.setNode(s,{...l,...t})},toggleWrap:(i,e={})=>({state:t,commands:n})=>{const r=on(i,t.schema);return wl(t,r,e)?n.lift(r):n.wrapIn(r,e)},undoInputRule:()=>({state:i,dispatch:e})=>{const t=i.plugins;for(let n=0;n<t.length;n+=1){const r=t[n];let s;if(r.spec.isInputRules&&(s=r.getState(i))){if(e){const o=i.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,i.schema.text(s.text,l))}else o.delete(s.from,s.to)}return!0}}return!1},unsetAllMarks:()=>({tr:i,dispatch:e})=>{const{selection:t}=i,{empty:n,ranges:r}=t;return n||e&&r.forEach(s=>{i.removeMark(s.$from.pos,s.$to.pos)}),!0},unsetMark:(i,e={})=>({tr:t,state:n,dispatch:r})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=t,l=es(i,n.schema),{$from:c,empty:u,ranges:h}=a;if(!r)return!0;if(u&&o){let{from:d,to:f}=a;const p=(s=c.marks().find(b=>b.type===l))===null||s===void 0?void 0:s.attrs,m=qp(c,l,p);m&&(d=m.from,f=m.to),t.removeMark(d,f,l)}else h.forEach(d=>{t.removeMark(d.$from.pos,d.$to.pos,l)});return t.removeStoredMark(l),!0},updateAttributes:(i,e={})=>({tr:t,state:n,dispatch:r})=>{let s=null,o=null;const a=Hu(typeof i=="string"?i:i.name,n.schema);return a?(a==="node"&&(s=on(i,n.schema)),a==="mark"&&(o=es(i,n.schema)),r&&t.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;let h,d,f,p;t.selection.empty?n.doc.nodesBetween(c,u,(m,b)=>{s&&s===m.type&&(f=Math.max(b,c),p=Math.min(b+m.nodeSize,u),h=b,d=m)}):n.doc.nodesBetween(c,u,(m,b)=>{b<c&&s&&s===m.type&&(f=Math.max(b,c),p=Math.min(b+m.nodeSize,u),h=b,d=m),b>=c&&b<=u&&(s&&s===m.type&&t.setNodeMarkup(b,void 0,{...m.attrs,...e}),o&&m.marks.length&&m.marks.forEach(y=>{if(o===y.type){const w=Math.max(b,c),C=Math.min(b+m.nodeSize,u);t.addMark(w,C,o.create({...y.attrs,...e}))}}))}),d&&(h!==void 0&&t.setNodeMarkup(h,void 0,{...d.attrs,...e}),o&&d.marks.length&&d.marks.forEach(m=>{o===m.type&&t.addMark(f,p,o.create({...m.attrs,...e}))}))}),!0):!1},wrapIn:(i,e={})=>({state:t,dispatch:n})=>{const r=on(i,t.schema);return TI(r,e)(t,n)},wrapInList:(i,e={})=>({state:t,dispatch:n})=>{const r=on(i,t.schema);return EI(r,e)(t,n)}});const lL=Tn.create({name:"commands",addCommands(){return{...aL}}}),cL=Tn.create({name:"drop",addProseMirrorPlugins(){return[new mn({key:new oi("tiptapDrop"),props:{handleDrop:(i,e,t,n)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:n})}}})]}}),uL=Tn.create({name:"editable",addProseMirrorPlugins(){return[new mn({key:new oi("editable"),props:{editable:()=>this.editor.options.editable}})]}}),hL=new oi("focusEvents"),dL=Tn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:i}=this;return[new mn({key:hL,props:{handleDOMEvents:{focus:(e,t)=>{i.isFocused=!0;const n=i.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,t)=>{i.isFocused=!1;const n=i.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),fL=Tn.create({name:"keymap",addKeyboardShortcuts(){const i=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:h}=l,{pos:d,parent:f}=h,p=h.parent.isTextblock&&d>0?a.doc.resolve(d-1):h,m=p.parent.type.spec.isolating,b=h.pos-h.parentOffset,y=m&&p.parent.childCount===1?b===h.pos:ot.atStart(c).from===d;return!u||!f.type.isTextblock||f.textContent.length||!y||y&&h.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:i,"Mod-Backspace":i,"Shift-Backspace":i,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},r={...n},s={...n,"Ctrl-h":i,"Alt-Backspace":i,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Up()||Qw()?s:r},addProseMirrorPlugins(){return[new mn({key:new oi("clearDocument"),appendTransaction:(i,e,t)=>{if(i.some(m=>m.getMeta("composition")))return;const n=i.some(m=>m.docChanged)&&!e.doc.eq(t.doc),r=i.some(m=>m.getMeta("preventClearDocument"));if(!n||r)return;const{empty:s,from:o,to:a}=e.selection,l=ot.atStart(e.doc).from,c=ot.atEnd(e.doc).to;if(s||!(o===l&&a===c)||!eg(t.doc))return;const d=t.tr,f=Ou({state:t,transaction:d}),{commands:p}=new Iu({editor:this.editor,state:f});if(p.clearNodes(),!!d.steps.length)return d}})]}}),pL=Tn.create({name:"paste",addProseMirrorPlugins(){return[new mn({key:new oi("tiptapPaste"),props:{handlePaste:(i,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),gL=Tn.create({name:"tabindex",addProseMirrorPlugins(){return[new mn({key:new oi("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Js{get name(){return this.node.type.name}constructor(e,t,n=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=t,this.currentNode=r}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:t,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Js(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Js(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Js(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,n)=>{const r=t.isBlock&&!t.isTextblock,s=t.isAtom&&!t.isText,o=this.pos+n+(s?0:1),a=this.resolvedPos.doc.resolve(o);if(!r&&a.depth<=this.depth)return;const l=new Js(a,this.editor,r,r?t:null);r&&(l.actualDepth=this.depth+1),e.push(new Js(a,this.editor,r,r?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let n=null,r=this.parent;for(;r&&!n;){if(r.node.type.name===e)if(Object.keys(t).length>0){const s=r.node.attrs,o=Object.keys(t);for(let a=0;a<o.length;a+=1){const l=o[a];if(s[l]!==t[l])break}}else n=r;r=r.parent}return n}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},n=!1){let r=[];if(!this.children||this.children.length===0)return r;const s=Object.keys(t);return this.children.forEach(o=>{n&&r.length>0||(o.node.type.name===e&&s.every(l=>t[l]===o.node.attrs[l])&&r.push(o),!(n&&r.length>0)&&(r=r.concat(o.querySelectorAll(e,t,n))))}),r}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const mL=`.ProseMirror {
    position: relative;
  }
  
  .ProseMirror {
    word-wrap: break-word;
    white-space: pre-wrap;
    white-space: break-spaces;
    -webkit-font-variant-ligatures: none;
    font-variant-ligatures: none;
    font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
  }
  
  .ProseMirror [contenteditable="false"] {
    white-space: normal;
  }
  
  .ProseMirror [contenteditable="false"] [contenteditable="true"] {
    white-space: pre-wrap;
  }
  
  .ProseMirror pre {
    white-space: pre-wrap;
  }
  
  img.ProseMirror-separator {
    display: inline !important;
    border: none !important;
    margin: 0 !important;
    width: 0 !important;
    height: 0 !important;
  }
  
  .ProseMirror-gapcursor {
    display: none;
    pointer-events: none;
    position: absolute;
    margin: 0;
  }
  
  .ProseMirror-gapcursor:after {
    content: "";
    display: block;
    position: absolute;
    top: -2px;
    width: 20px;
    border-top: 1px solid black;
    animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
  }
  
  @keyframes ProseMirror-cursor-blink {
    to {
      visibility: hidden;
    }
  }
  
  .ProseMirror-hideselection *::selection {
    background: transparent;
  }
  
  .ProseMirror-hideselection *::-moz-selection {
    background: transparent;
  }
  
  .ProseMirror-hideselection * {
    caret-color: transparent;
  }
  
  .ProseMirror-focused .ProseMirror-gapcursor {
    display: block;
  }
  
  .tippy-box[data-animation=fade][data-state=hidden] {
    opacity: 0
  }`;function xL(i,e,t){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute("data-tiptap-style",""),r.innerHTML=i,document.getElementsByTagName("head")[0].appendChild(r),r}let bL=class extends DI{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:n,moved:r})=>this.options.onDrop(t,n,r)),this.on("paste",({event:t,slice:n})=>this.options.onPaste(t,n)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=xL(mL,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const n=Xw(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;n=t.filter(a=>!a.key.startsWith(o))}),t.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var e,t;const r=[...this.options.enableCoreExtensions?[uL,KI.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),lL,dL,fL,gL,cL,pL].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new Ko(r,this)}createCommandManager(){this.commandManager=new Iu({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=Kp(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),t=Kp(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const n=Jw(t,this.options.autofocus);this.view=new sI(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Xo.create({doc:t,selection:n||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const t=this.state.apply(e),n=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const r=e.getMeta("focus"),s=e.getMeta("blur");r&&this.emit("focus",{editor:this,event:r.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return n1(this.state,e)}isActive(e,t){const n=typeof e=="string"?e:null,r=typeof e=="string"?t:e;return KP(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return $p(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`
  
  `,textSerializers:n={}}=e||{};return VP(this.state.doc,{blockSeparator:t,textSerializers:{...Gw(this.schema),...n}})}get isEmpty(){return eg(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var n;return((n=this.$doc)===null||n===void 0?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return((n=this.$doc)===null||n===void 0?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Js(t,this)}get $doc(){return this.$pos(0)}};function Jo(i){return new Lu({find:i.find,handler:({state:e,range:t,match:n})=>{const r=ct(i.getAttributes,void 0,n);if(r===!1||r===null)return null;const{tr:s}=e,o=n[n.length-1],a=n[0];if(o){const l=a.search(/\S/),c=t.from+a.indexOf(o),u=c+o.length;if(Zp(t.from,t.to,e.doc).filter(f=>f.mark.type.excluded.find(m=>m===i.type&&m!==f.mark.type)).filter(f=>f.to>c).length)return null;u<t.to&&s.delete(u,t.to),c>t.from&&s.delete(t.from+l,c);const d=t.from+l+o.length;s.addMark(t.from+l,d,i.type.create(r||{})),s.removeStoredMark(i.type)}}})}function yL(i){return new Lu({find:i.find,handler:({state:e,range:t,match:n})=>{const r=ct(i.getAttributes,void 0,n)||{},{tr:s}=e,o=t.from;let a=t.to;const l=i.type.create(r);if(n[1]){const c=n[0].lastIndexOf(n[1]);let u=o+c;u>a?u=a:a=u+n[1].length;const h=n[0][n[0].length-1];s.insertText(h,o+n[0].length-1),s.replaceWith(u,a,l)}else if(n[0]){const c=i.type.isInline?o:o-1;s.insert(c,i.type.create(r)).delete(s.mapping.map(o),s.mapping.map(a))}s.scrollIntoView()}})}function ig(i){return new Lu({find:i.find,handler:({state:e,range:t,match:n})=>{const r=e.doc.resolve(t.from),s=ct(i.getAttributes,void 0,n)||{};if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),i.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,i.type,s)}})}function kl(i){return new Lu({find:i.find,handler:({state:e,range:t,match:n,chain:r})=>{const s=ct(i.getAttributes,void 0,n)||{},o=e.tr.delete(t.from,t.to),l=o.doc.resolve(t.from).blockRange(),c=l&&op(l,i.type,s);if(!c)return null;if(o.wrap(l,c),i.keepMarks&&i.editor){const{selection:h,storedMarks:d}=e,{splittableMarks:f}=i.editor.extensionManager,p=d||h.$to.parentOffset&&h.$from.marks();if(p){const m=p.filter(b=>f.includes(b.type.name));o.ensureMarks(m)}}if(i.keepAttributes){const h=i.type.name==="bulletList"||i.type.name==="orderedList"?"listItem":"taskList";r().updateAttributes(h,s).run()}const u=o.doc.resolve(t.from-1).nodeBefore;u&&u.type===i.type&&jr(o.doc,t.from-1)&&(!i.joinPredicate||i.joinPredicate(n,u))&&o.join(t.from-1)}})}let Di=class dm{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ct(Ne(this,"addOptions",{name:this.name}))),this.storage=ct(Ne(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new dm(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Du(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new dm(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=ct(Ne(t,"addOptions",{name:t.name})),t.storage=ct(Ne(t,"addStorage",{name:t.name,options:t.options})),t}};function Zs(i){return new jI({find:i.find,handler:({state:e,range:t,match:n,pasteEvent:r})=>{const s=ct(i.getAttributes,void 0,n,r);if(s===!1||s===null)return null;const{tr:o}=e,a=n[n.length-1],l=n[0];let c=t.to;if(a){const u=l.search(/\S/),h=t.from+l.indexOf(a),d=h+a.length;if(Zp(t.from,t.to,e.doc).filter(p=>p.mark.type.excluded.find(b=>b===i.type&&b!==p.mark.type)).filter(p=>p.to>h).length)return null;d<t.to&&o.delete(d,t.to),h>t.from&&o.delete(t.from+u,h),c=t.from+u+a.length,o.addMark(t.from+u,c,i.type.create(s||{})),o.removeStoredMark(i.type)}}})}function s1(i){return jm((e,t)=>({get(){return e(),i},set(n){i=n,requestAnimationFrame(()=>{requestAnimationFrame(()=>{t()})})}}))}let vL=class extends bL{constructor(e={}){return super(e),this.contentComponent=null,this.appContext=null,this.reactiveState=s1(this.view.state),this.reactiveExtensionStorage=s1(this.extensionStorage),this.on("beforeTransaction",({nextState:t})=>{this.reactiveState.value=t,this.reactiveExtensionStorage.value=this.extensionStorage}),Wm(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(e,t){const n=super.registerPlugin(e,t);return this.reactiveState&&(this.reactiveState.value=n),n}unregisterPlugin(e){const t=super.unregisterPlugin(e);return this.reactiveState&&t&&(this.reactiveState.value=t),t}};const wL=Ir({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(i){const e=qe(),t=Ia();return CC(()=>{const n=i.editor;n&&n.options.element&&e.value&&ur(()=>{if(!e.value||!n.options.element.firstChild)return;const r=Tt(e.value);e.value.append(...n.options.element.childNodes),n.contentComponent=t.ctx._,t&&(n.appContext={...t.appContext,provides:t.provides}),n.setOptions({element:r}),n.createNodeViews()})}),po(()=>{const n=i.editor;n&&(n.contentComponent=null,n.appContext=null)}),{rootEl:e}},render(){return yo("div",{ref:i=>{this.rootEl=i}})}}),kL=/^\s*>\s$/,SL=Di.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:i}){return["blockquote",an(this.options.HTMLAttributes,i),0]},addCommands(){return{setBlockquote:()=>({commands:i})=>i.wrapIn(this.name),toggleBlockquote:()=>({commands:i})=>i.toggleWrap(this.name),unsetBlockquote:()=>({commands:i})=>i.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[kl({find:kL,type:this.type})]}}),CL=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,AL=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,ML=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,TL=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,EL=Ji.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:i=>i.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:i=>i.type.name===this.name},{style:"font-weight",getAttrs:i=>/^(bold(er)?|[5-9]\d{2,})$/.test(i)&&null}]},renderHTML({HTMLAttributes:i}){return["strong",an(this.options.HTMLAttributes,i),0]},addCommands(){return{setBold:()=>({commands:i})=>i.setMark(this.name),toggleBold:()=>({commands:i})=>i.toggleMark(this.name),unsetBold:()=>({commands:i})=>i.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Jo({find:CL,type:this.type}),Jo({find:ML,type:this.type})]},addPasteRules(){return[Zs({find:AL,type:this.type}),Zs({find:TL,type:this.type})]}}),OL="listItem",o1="textStyle",a1=/^\s*([-+*])\s$/,IL=Di.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:i}){return["ul",an(this.options.HTMLAttributes,i),0]},addCommands(){return{toggleBulletList:()=>({commands:i,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(OL,this.editor.getAttributes(o1)).run():i.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let i=kl({find:a1,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(i=kl({find:a1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(o1),editor:this.editor})),[i]}}),PL=/(^|[^`])`([^`]+)`(?!`)/,LL=/(^|[^`])`([^`]+)`(?!`)/g,RL=Ji.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:i}){return["code",an(this.options.HTMLAttributes,i),0]},addCommands(){return{setCode:()=>({commands:i})=>i.setMark(this.name),toggleCode:()=>({commands:i})=>i.toggleMark(this.name),unsetCode:()=>({commands:i})=>i.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Jo({find:PL,type:this.type})]},addPasteRules(){return[Zs({find:LL,type:this.type})]}}),_L=/^```([a-z]+)?[\s\n]$/,DL=/^~~~([a-z]+)?[\s\n]$/,NL=Di.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:i=>{var e;const{languageClassPrefix:t}=this.options,s=[...((e=i.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(t)).map(o=>o.replace(t,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:i,HTMLAttributes:e}){return["pre",an(this.options.HTMLAttributes,e),["code",{class:i.attrs.language?this.options.languageClassPrefix+i.attrs.language:null},0]]},addCommands(){return{setCodeBlock:i=>({commands:e})=>e.setNode(this.name,i),toggleCodeBlock:i=>({commands:e})=>e.toggleNode(this.name,"paragraph",i)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:i,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!i||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:i})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=i,{selection:t}=e,{$from:n,empty:r}=t;if(!r||n.parent.type!==this.type)return!1;const s=n.parentOffset===n.parent.nodeSize-2,o=n.parent.textContent.endsWith(`
  
  `);return!s||!o?!1:i.chain().command(({tr:a})=>(a.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:i})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=i,{selection:t,doc:n}=e,{$from:r,empty:s}=t;if(!s||r.parent.type!==this.type||!(r.parentOffset===r.parent.nodeSize-2))return!1;const a=r.after();return a===void 0?!1:n.nodeAt(a)?i.commands.command(({tr:c})=>(c.setSelection(ot.near(n.resolve(a))),!0)):i.commands.exitCode()}}},addInputRules(){return[ig({find:_L,type:this.type,getAttributes:i=>({language:i[1]})}),ig({find:DL,type:this.type,getAttributes:i=>({language:i[1]})})]},addProseMirrorPlugins(){return[new mn({key:new oi("codeBlockVSCodeHandler"),props:{handlePaste:(i,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),r=n?JSON.parse(n):void 0,s=r==null?void 0:r.mode;if(!t||!s)return!1;const{tr:o,schema:a}=i.state,l=a.text(t.replace(/\r\n?/g,`
  `));return o.replaceSelectionWith(this.type.create({language:s},l)),o.selection.$from.parent.type!==this.type&&o.setSelection($e.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),i.dispatch(o),!0}}})]}}),FL=Di.create({name:"doc",topNode:!0,content:"block+"});function zL(i={}){return new mn({view(e){return new BL(e,i)}})}class BL{constructor(e,t){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=t.width)!==null&&n!==void 0?n:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let s=o=>{this[r](o)};return e.dom.addEventListener(r,s),{name:r,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,n;if(t){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let c=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(c){let u=c.getBoundingClientRect(),h=a?u.bottom:u.top;a&&l&&(h=(h+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),n={left:u.left,right:u.right,top:h-this.width/2,bottom:h+this.width/2}}}}if(!n){let a=this.editorView.coordsAtPos(this.cursorPos);n={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let r=this.editorView.dom.offsetParent;this.element||(this.element=r.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let s,o;if(!r||r==document.body&&getComputedStyle(r).position=="static")s=-pageXOffset,o=-pageYOffset;else{let a=r.getBoundingClientRect();s=a.left-r.scrollLeft,o=a.top-r.scrollTop}this.element.style.left=n.left-s+"px",this.element.style.top=n.top-o+"px",this.element.style.width=n.right-n.left+"px",this.element.style.height=n.bottom-n.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),r=n&&n.type.spec.disableDropCursor,s=typeof r=="function"?r(this.editorView,t,e):r;if(t&&!s){let o=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=e0(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const HL=Tn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[zL(this.options)]}});class jt extends ot{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return jt.valid(n)?new jt(n):ot.near(n)}content(){return Re.empty}eq(e){return e instanceof jt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new jt(e.resolve(t.pos))}getBookmark(){return new rg(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!WL(e)||!XL(e))return!1;let n=t.type.spec.allowGapCursor;if(n!=null)return n;let r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,t,n=!1){e:for(;;){if(!n&&jt.valid(e))return e;let r=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(t>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(t>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;r+=t;let l=e.doc.resolve(r);if(jt.valid(l))return l}for(;;){let o=t>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!Xe.isSelectable(s)){e=e.doc.resolve(r+s.nodeSize*t),n=!1;continue e}break}s=o,r+=t;let a=e.doc.resolve(r);if(jt.valid(a))return a}return null}}}jt.prototype.visible=!1,jt.findFrom=jt.findGapCursorFrom,ot.jsonID("gapcursor",jt);class rg{constructor(e){this.pos=e}map(e){return new rg(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return jt.valid(t)?new jt(t):ot.near(t)}}function WL(i){for(let e=i.depth;e>=0;e--){let t=i.index(e),n=i.node(e);if(t==0){if(n.type.spec.isolating)return!0;continue}for(let r=n.child(t-1);;r=r.lastChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function XL(i){for(let e=i.depth;e>=0;e--){let t=i.indexAfter(e),n=i.node(e);if(t==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let r=n.child(t);;r=r.firstChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function YL(){return new mn({props:{decorations:GL,createSelectionBetween(i,e,t){return e.pos==t.pos&&jt.valid(t)?new jt(t):null},handleClick:VL,handleKeyDown:jL,handleDOMEvents:{beforeinput:$L}}})}const jL=Tw({ArrowLeft:Xu("horiz",-1),ArrowRight:Xu("horiz",1),ArrowUp:Xu("vert",-1),ArrowDown:Xu("vert",1)});function Xu(i,e){const t=i=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,r,s){let o=n.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof $e){if(!s.endOfTextblock(t)||a.depth==0)return!1;l=!1,a=n.doc.resolve(e>0?a.after():a.before())}let c=jt.findGapCursorFrom(a,e,l);return c?(r&&r(n.tr.setSelection(new jt(c))),!0):!1}}function VL(i,e,t){if(!i||!i.editable)return!1;let n=i.state.doc.resolve(e);if(!jt.valid(n))return!1;let r=i.posAtCoords({left:t.clientX,top:t.clientY});return r&&r.inside>-1&&Xe.isSelectable(i.state.doc.nodeAt(r.inside))?!1:(i.dispatch(i.state.tr.setSelection(new jt(n))),!0)}function $L(i,e){if(e.inputType!="insertCompositionText"||!(i.state.selection instanceof jt))return!1;let{$from:t}=i.state.selection,n=t.parent.contentMatchAt(t.index()).findWrapping(i.state.schema.nodes.text);if(!n)return!1;let r=ue.empty;for(let o=n.length-1;o>=0;o--)r=ue.from(n[o].createAndFill(null,r));let s=i.state.tr.replace(t.pos,t.pos,new Re(r,0,0));return s.setSelection($e.near(s.doc.resolve(t.pos+1))),i.dispatch(s),!1}function GL(i){if(!(i.selection instanceof jt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Qt.create(i.doc,[yi.widget(i.selection.head,e,{key:"gapcursor"})])}const qL=Tn.create({name:"gapCursor",addProseMirrorPlugins(){return[YL()]},extendNodeSchema(i){var e;const t={name:i.name,options:i.options,storage:i.storage};return{allowGapCursor:(e=ct(Ne(i,"allowGapCursor",t)))!==null&&e!==void 0?e:null}}}),UL=Di.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:i}){return["br",an(this.options.HTMLAttributes,i)]},renderText(){return`
  `},addCommands(){return{setHardBreak:()=>({commands:i,chain:e,state:t,editor:n})=>i.first([()=>i.exitCode(),()=>i.command(()=>{const{selection:r,storedMarks:s}=t;if(r.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=n.extensionManager,l=s||r.$to.parentOffset&&r.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&o){const h=l.filter(d=>a.includes(d.type.name));c.ensureMarks(h)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),KL=Di.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(i=>({tag:`h${i}`,attrs:{level:i}}))},renderHTML({node:i,HTMLAttributes:e}){return[`h${this.options.levels.includes(i.attrs.level)?i.attrs.level:this.options.levels[0]}`,an(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:i=>({commands:e})=>this.options.levels.includes(i.level)?e.setNode(this.name,i):!1,toggleHeading:i=>({commands:e})=>this.options.levels.includes(i.level)?e.toggleNode(this.name,"paragraph",i):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((i,e)=>({...i,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(i=>ig({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${i}})\\s$`),type:this.type,getAttributes:{level:i}}))}});var Yu=200,ln=function(){};ln.prototype.append=function(e){return e.length?(e=ln.from(e),!this.length&&e||e.length<Yu&&this.leafAppend(e)||this.length<Yu&&e.leafPrepend(this)||this.appendInner(e)):this},ln.prototype.prepend=function(e){return e.length?ln.from(e).append(this):this},ln.prototype.appendInner=function(e){return new JL(this,e)},ln.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?ln.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},ln.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},ln.prototype.forEach=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},ln.prototype.map=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=this.length);var r=[];return this.forEach(function(s,o){return r.push(e(s,o))},t,n),r},ln.from=function(e){return e instanceof ln?e:e&&e.length?new l1(e):ln.empty};var l1=function(i){function e(n){i.call(this),this.values=n}i&&(e.__proto__=i),e.prototype=Object.create(i&&i.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(r,s){return r==0&&s==this.length?this:new e(this.values.slice(r,s))},e.prototype.getInner=function(r){return this.values[r]},e.prototype.forEachInner=function(r,s,o,a){for(var l=s;l<o;l++)if(r(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,o,a){for(var l=s-1;l>=o;l--)if(r(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(r){if(this.length+r.length<=Yu)return new e(this.values.concat(r.flatten()))},e.prototype.leafPrepend=function(r){if(this.length+r.length<=Yu)return new e(r.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(ln);ln.empty=new l1([]);var JL=function(i){function e(t,n){i.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return i&&(e.__proto__=i),e.prototype=Object.create(i&&i.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,r,s,o){var a=this.left.length;if(r<a&&this.left.forEachInner(n,r,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(n,Math.max(r-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(n,r,s,o){var a=this.left.length;if(r>a&&this.right.forEachInvertedInner(n,r-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(n,Math.min(r,a),s,o)===!1)return!1},e.prototype.sliceInner=function(n,r){if(n==0&&r==this.length)return this;var s=this.left.length;return r<=s?this.left.slice(n,r):n>=s?this.right.slice(n-s,r-s):this.left.slice(n,s).append(this.right.slice(0,r-s))},e.prototype.leafAppend=function(n){var r=this.right.leafAppend(n);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(n){var r=this.left.leafPrepend(n);if(r)return new e(r,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(ln);const ZL=500;class Ni{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let r,s;t&&(r=this.remapping(n,this.items.length),s=r.maps.length);let o=e.tr,a,l,c=[],u=[];return this.items.forEach((h,d)=>{if(!h.step){r||(r=this.remapping(n,d+1),s=r.maps.length),s--,u.push(h);return}if(r){u.push(new Zi(h.map));let f=h.step.map(r.slice(s)),p;f&&o.maybeStep(f).doc&&(p=o.mapping.maps[o.mapping.maps.length-1],c.push(new Zi(p,void 0,void 0,c.length+u.length))),s--,p&&r.appendMap(p,s)}else o.maybeStep(h.step);if(h.selection)return a=r?h.selection.map(r.slice(s)):h.selection,l=new Ni(this.items.slice(0,n).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,t,n,r){let s=[],o=this.eventCount,a=this.items,l=!r&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let h=e.steps[u].invert(e.docs[u]),d=new Zi(e.mapping.maps[u],h,t),f;(f=l&&l.merge(d))&&(d=f,u?s.pop():a=a.slice(0,a.length-1)),s.push(d),t&&(o++,t=void 0),r||(l=d)}let c=o-n.depth;return c>eR&&(a=QL(a,c),o-=c),new Ni(a.append(s),o)}remapping(e,t){let n=new al;return this.items.forEach((r,s)=>{let o=r.mirrorOffset!=null&&s-r.mirrorOffset>=e?n.maps.length-r.mirrorOffset:void 0;n.appendMap(r.map,o)},e,t),n}addMaps(e){return this.eventCount==0?this:new Ni(this.items.append(e.map(t=>new Zi(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-t),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(d=>{d.selection&&a--},r);let l=t;this.items.forEach(d=>{let f=s.getMirror(--l);if(f==null)return;o=Math.min(o,f);let p=s.maps[f];if(d.step){let m=e.steps[f].invert(e.docs[f]),b=d.selection&&d.selection.map(s.slice(l+1,f));b&&a++,n.push(new Zi(p,m,b))}else n.push(new Zi(p))},r);let c=[];for(let d=t;d<o;d++)c.push(new Zi(s.maps[d]));let u=this.items.slice(0,r).append(c).append(n),h=new Ni(u,a);return h.emptyItemCount()>ZL&&(h=h.compress(this.items.length-n.length)),h}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,r=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)r.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(t.slice(n)),c=l&&l.getMap();if(n--,c&&t.appendMap(c,n),l){let u=o.selection&&o.selection.map(t.slice(n));u&&s++;let h=new Zi(c.invert(),l,u),d,f=r.length-1;(d=r.length&&r[f].merge(h))?r[f]=d:r.push(h)}}else o.map&&n--},this.items.length,0),new Ni(ln.from(r.reverse()),s)}}Ni.empty=new Ni(ln.empty,0);function QL(i,e){let t;return i.forEach((n,r)=>{if(n.selection&&e--==0)return t=r,!1}),i.slice(t)}class Zi{constructor(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Zi(t.getMap().invert(),t,this.selection)}}}class ts{constructor(e,t,n,r,s){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r,this.prevComposition=s}}const eR=20;function tR(i,e,t,n){let r=t.getMeta(Qs),s;if(r)return r.historyState;t.getMeta(rR)&&(i=new ts(i.done,i.undone,null,0,-1));let o=t.getMeta("appendedTransaction");if(t.steps.length==0)return i;if(o&&o.getMeta(Qs))return o.getMeta(Qs).redo?new ts(i.done.addTransform(t,void 0,n,ju(e)),i.undone,c1(t.mapping.maps),i.prevTime,i.prevComposition):new ts(i.done,i.undone.addTransform(t,void 0,n,ju(e)),null,i.prevTime,i.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=t.getMeta("composition"),l=i.prevTime==0||!o&&i.prevComposition!=a&&(i.prevTime<(t.time||0)-n.newGroupDelay||!nR(t,i.prevRanges)),c=o?sg(i.prevRanges,t.mapping):c1(t.mapping.maps);return new ts(i.done.addTransform(t,l?e.selection.getBookmark():void 0,n,ju(e)),Ni.empty,c,t.time,a??i.prevComposition)}else return(s=t.getMeta("rebased"))?new ts(i.done.rebased(t,s),i.undone.rebased(t,s),sg(i.prevRanges,t.mapping),i.prevTime,i.prevComposition):new ts(i.done.addMaps(t.mapping.maps),i.undone.addMaps(t.mapping.maps),sg(i.prevRanges,t.mapping),i.prevTime,i.prevComposition)}function nR(i,e){if(!e)return!1;if(!i.docChanged)return!0;let t=!1;return i.mapping.maps[0].forEach((n,r)=>{for(let s=0;s<e.length;s+=2)n<=e[s+1]&&r>=e[s]&&(t=!0)}),t}function c1(i){let e=[];for(let t=i.length-1;t>=0&&e.length==0;t--)i[t].forEach((n,r,s,o)=>e.push(s,o));return e}function sg(i,e){if(!i)return null;let t=[];for(let n=0;n<i.length;n+=2){let r=e.map(i[n],1),s=e.map(i[n+1],-1);r<=s&&t.push(r,s)}return t}function iR(i,e,t){let n=ju(e),r=Qs.get(e).spec.config,s=(t?i.undone:i.done).popEvent(e,n);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(t?i.done:i.undone).addTransform(s.transform,e.selection.getBookmark(),r,n),l=new ts(t?a:s.remaining,t?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(Qs,{redo:t,historyState:l})}let og=!1,u1=null;function ju(i){let e=i.plugins;if(u1!=e){og=!1,u1=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){og=!0;break}}return og}const Qs=new oi("history"),rR=new oi("closeHistory");function sR(i={}){return i={depth:i.depth||100,newGroupDelay:i.newGroupDelay||500},new mn({key:Qs,state:{init(){return new ts(Ni.empty,Ni.empty,null,0,-1)},apply(e,t,n){return tR(t,n,e,i)}},config:i,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,r=n=="historyUndo"?d1:n=="historyRedo"?f1:null;return r?(t.preventDefault(),r(e.state,e.dispatch)):!1}}}})}function h1(i,e){return(t,n)=>{let r=Qs.getState(t);if(!r||(i?r.undone:r.done).eventCount==0)return!1;if(n){let s=iR(r,t,i);s&&n(e?s.scrollIntoView():s)}return!0}}const d1=h1(!1,!0),f1=h1(!0,!0),oR=Tn.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:i,dispatch:e})=>d1(i,e),redo:()=>({state:i,dispatch:e})=>f1(i,e)}},addProseMirrorPlugins(){return[sR(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),aR=Di.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:i}){return["hr",an(this.options.HTMLAttributes,i)]},addCommands(){return{setHorizontalRule:()=>({chain:i,state:e})=>{const{selection:t}=e,{$from:n,$to:r}=t,s=i();return n.parentOffset===0?s.insertContentAt({from:Math.max(n.pos-1,0),to:r.pos},{type:this.name}):JP(t)?s.insertContentAt(r.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:o,dispatch:a})=>{var l;if(a){const{$to:c}=o.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection($e.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(Xe.create(o.doc,c.pos)):o.setSelection($e.create(o.doc,c.pos));else{const h=(l=c.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();h&&(o.insert(u,h),o.setSelection($e.create(o.doc,u+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[yL({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),lR=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,cR=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,uR=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,hR=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,dR=Ji.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:i=>i.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:i=>i.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:i}){return["em",an(this.options.HTMLAttributes,i),0]},addCommands(){return{setItalic:()=>({commands:i})=>i.setMark(this.name),toggleItalic:()=>({commands:i})=>i.toggleMark(this.name),unsetItalic:()=>({commands:i})=>i.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Jo({find:lR,type:this.type}),Jo({find:uR,type:this.type})]},addPasteRules(){return[Zs({find:cR,type:this.type}),Zs({find:hR,type:this.type})]}}),fR=Di.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:i}){return["li",an(this.options.HTMLAttributes,i),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),pR="listItem",p1="textStyle",g1=/^(\d+)\.\s$/,gR=Di.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:i=>i.hasAttribute("start")?parseInt(i.getAttribute("start")||"",10):1},type:{default:null,parseHTML:i=>i.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:i}){const{start:e,...t}=i;return e===1?["ol",an(this.options.HTMLAttributes,t),0]:["ol",an(this.options.HTMLAttributes,i),0]},addCommands(){return{toggleOrderedList:()=>({commands:i,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(pR,this.editor.getAttributes(p1)).run():i.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let i=kl({find:g1,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(i=kl({find:g1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(p1)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[i]}}),mR=Di.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:i}){return["p",an(this.options.HTMLAttributes,i),0]},addCommands(){return{setParagraph:()=>({commands:i})=>i.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),xR=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,bR=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,yR=Ji.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:i=>i.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:i}){return["s",an(this.options.HTMLAttributes,i),0]},addCommands(){return{setStrike:()=>({commands:i})=>i.setMark(this.name),toggleStrike:()=>({commands:i})=>i.toggleMark(this.name),unsetStrike:()=>({commands:i})=>i.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Jo({find:xR,type:this.type})]},addPasteRules(){return[Zs({find:bR,type:this.type})]}}),vR=Di.create({name:"text",group:"inline"}),wR=Tn.create({name:"starterKit",addExtensions(){const i=[];return this.options.bold!==!1&&i.push(EL.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(SL.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(IL.configure(this.options.bulletList)),this.options.code!==!1&&i.push(RL.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(NL.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(FL.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(HL.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(qL.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(UL.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(KL.configure(this.options.heading)),this.options.history!==!1&&i.push(oR.configure(this.options.history)),this.options.horizontalRule!==!1&&i.push(aR.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(dR.configure(this.options.italic)),this.options.listItem!==!1&&i.push(fR.configure(this.options.listItem)),this.options.orderedList!==!1&&i.push(gR.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(mR.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(yR.configure(this.options.strike)),this.options.text!==!1&&i.push(vR.configure(this.options.text)),i}}),kR="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",SR="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Zo=(i,e)=>{for(const t in e)i[t]=e[t];return i},ag="numeric",lg="ascii",cg="alpha",Sl="asciinumeric",Cl="alphanumeric",ug="domain",m1="emoji",CR="scheme",AR="slashscheme",hg="whitespace";function MR(i,e){return i in e||(e[i]=[]),e[i]}function eo(i,e,t){e[ag]&&(e[Sl]=!0,e[Cl]=!0),e[lg]&&(e[Sl]=!0,e[cg]=!0),e[Sl]&&(e[Cl]=!0),e[cg]&&(e[Cl]=!0),e[Cl]&&(e[ug]=!0),e[m1]&&(e[ug]=!0);for(const n in e){const r=MR(n,t);r.indexOf(i)<0&&r.push(i)}}function TR(i,e){const t={};for(const n in e)e[n].indexOf(i)>=0&&(t[n]=!0);return t}function Zn(i=null){this.j={},this.jr=[],this.jd=null,this.t=i}Zn.groups={},Zn.prototype={accepts(){return!!this.t},go(i){const e=this,t=e.j[i];if(t)return t;for(let n=0;n<e.jr.length;n++){const r=e.jr[n][0],s=e.jr[n][1];if(s&&r.test(i))return s}return e.jd},has(i,e=!1){return e?i in this.j:!!this.go(i)},ta(i,e,t,n){for(let r=0;r<i.length;r++)this.tt(i[r],e,t,n)},tr(i,e,t,n){n=n||Zn.groups;let r;return e&&e.j?r=e:(r=new Zn(e),t&&n&&eo(e,t,n)),this.jr.push([i,r]),r},ts(i,e,t,n){let r=this;const s=i.length;if(!s)return r;for(let o=0;o<s-1;o++)r=r.tt(i[o]);return r.tt(i[s-1],e,t,n)},tt(i,e,t,n){n=n||Zn.groups;const r=this;if(e&&e.j)return r.j[i]=e,e;const s=e;let o,a=r.go(i);if(a?(o=new Zn,Zo(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new Zn,s){if(n)if(o.t&&typeof o.t=="string"){const l=Zo(TR(o.t,n),t);eo(s,l,n)}else t&&eo(s,t,n);o.t=s}return r.j[i]=o,o}};const at=(i,e,t,n,r)=>i.ta(e,t,n,r),Vt=(i,e,t,n,r)=>i.tr(e,t,n,r),x1=(i,e,t,n,r)=>i.ts(e,t,n,r),ge=(i,e,t,n,r)=>i.tt(e,t,n,r),kr="WORD",dg="UWORD",b1="ASCIINUMERICAL",y1="ALPHANUMERICAL",Al="LOCALHOST",fg="TLD",pg="UTLD",Vu="SCHEME",Qo="SLASH_SCHEME",gg="NUM",mg="WS",xg="NL",Ml="OPENBRACE",Tl="CLOSEBRACE",$u="OPENBRACKET",Gu="CLOSEBRACKET",qu="OPENPAREN",Uu="CLOSEPAREN",Ku="OPENANGLEBRACKET",Ju="CLOSEANGLEBRACKET",Zu="FULLWIDTHLEFTPAREN",Qu="FULLWIDTHRIGHTPAREN",eh="LEFTCORNERBRACKET",th="RIGHTCORNERBRACKET",nh="LEFTWHITECORNERBRACKET",ih="RIGHTWHITECORNERBRACKET",rh="FULLWIDTHLESSTHAN",sh="FULLWIDTHGREATERTHAN",oh="AMPERSAND",bg="APOSTROPHE",ah="ASTERISK",ns="AT",lh="BACKSLASH",ch="BACKTICK",uh="CARET",is="COLON",yg="COMMA",hh="DOLLAR",Qi="DOT",dh="EQUALS",vg="EXCLAMATION",vi="HYPHEN",El="PERCENT",fh="PIPE",ph="PLUS",gh="POUND",Ol="QUERY",wg="QUOTE",v1="FULLWIDTHMIDDLEDOT",kg="SEMI",er="SLASH",Il="TILDE",mh="UNDERSCORE",w1="EMOJI",xh="SYM";var k1=Object.freeze({__proto__:null,WORD:kr,UWORD:dg,ASCIINUMERICAL:b1,ALPHANUMERICAL:y1,LOCALHOST:Al,TLD:fg,UTLD:pg,SCHEME:Vu,SLASH_SCHEME:Qo,NUM:gg,WS:mg,NL:xg,OPENBRACE:Ml,CLOSEBRACE:Tl,OPENBRACKET:$u,CLOSEBRACKET:Gu,OPENPAREN:qu,CLOSEPAREN:Uu,OPENANGLEBRACKET:Ku,CLOSEANGLEBRACKET:Ju,FULLWIDTHLEFTPAREN:Zu,FULLWIDTHRIGHTPAREN:Qu,LEFTCORNERBRACKET:eh,RIGHTCORNERBRACKET:th,LEFTWHITECORNERBRACKET:nh,RIGHTWHITECORNERBRACKET:ih,FULLWIDTHLESSTHAN:rh,FULLWIDTHGREATERTHAN:sh,AMPERSAND:oh,APOSTROPHE:bg,ASTERISK:ah,AT:ns,BACKSLASH:lh,BACKTICK:ch,CARET:uh,COLON:is,COMMA:yg,DOLLAR:hh,DOT:Qi,EQUALS:dh,EXCLAMATION:vg,HYPHEN:vi,PERCENT:El,PIPE:fh,PLUS:ph,POUND:gh,QUERY:Ol,QUOTE:wg,FULLWIDTHMIDDLEDOT:v1,SEMI:kg,SLASH:er,TILDE:Il,UNDERSCORE:mh,EMOJI:w1,SYM:xh});const Sr=/[a-z]/,Pl=new RegExp("\\p{L}","u"),Sg=new RegExp("\\p{Emoji}","u"),Cr=/\d/,Cg=/\s/,S1="\r",Ag=`
  `,ER="",OR="",Mg="";let bh=null,yh=null;function IR(i=[]){const e={};Zn.groups=e;const t=new Zn;bh==null&&(bh=A1(kR)),yh==null&&(yh=A1(SR)),ge(t,"'",bg),ge(t,"{",Ml),ge(t,"}",Tl),ge(t,"[",$u),ge(t,"]",Gu),ge(t,"(",qu),ge(t,")",Uu),ge(t,"<",Ku),ge(t,">",Ju),ge(t,"",Zu),ge(t,"",Qu),ge(t,"",eh),ge(t,"",th),ge(t,"",nh),ge(t,"",ih),ge(t,"",rh),ge(t,"",sh),ge(t,"&",oh),ge(t,"*",ah),ge(t,"@",ns),ge(t,"`",ch),ge(t,"^",uh),ge(t,":",is),ge(t,",",yg),ge(t,"$",hh),ge(t,".",Qi),ge(t,"=",dh),ge(t,"!",vg),ge(t,"-",vi),ge(t,"%",El),ge(t,"|",fh),ge(t,"+",ph),ge(t,"#",gh),ge(t,"?",Ol),ge(t,'"',wg),ge(t,"/",er),ge(t,";",kg),ge(t,"~",Il),ge(t,"_",mh),ge(t,"\\",lh),ge(t,"",v1);const n=Vt(t,Cr,gg,{[ag]:!0});Vt(n,Cr,n);const r=Vt(n,Sr,b1,{[Sl]:!0}),s=Vt(n,Pl,y1,{[Cl]:!0}),o=Vt(t,Sr,kr,{[lg]:!0});Vt(o,Cr,r),Vt(o,Sr,o),Vt(r,Cr,r),Vt(r,Sr,r);const a=Vt(t,Pl,dg,{[cg]:!0});Vt(a,Sr),Vt(a,Cr,s),Vt(a,Pl,a),Vt(s,Cr,s),Vt(s,Sr),Vt(s,Pl,s);const l=ge(t,Ag,xg,{[hg]:!0}),c=ge(t,S1,mg,{[hg]:!0}),u=Vt(t,Cg,mg,{[hg]:!0});ge(t,Mg,u),ge(c,Ag,l),ge(c,Mg,u),Vt(c,Cg,u),ge(u,S1),ge(u,Ag),Vt(u,Cg,u),ge(u,Mg,u);const h=Vt(t,Sg,w1,{[m1]:!0});ge(h,"#"),Vt(h,Sg,h),ge(h,ER,h);const d=ge(h,OR);ge(d,"#"),Vt(d,Sg,h);const f=[[Sr,o],[Cr,r]],p=[[Sr,null],[Pl,a],[Cr,s]];for(let m=0;m<bh.length;m++)rs(t,bh[m],fg,kr,f);for(let m=0;m<yh.length;m++)rs(t,yh[m],pg,dg,p);eo(fg,{tld:!0,ascii:!0},e),eo(pg,{utld:!0,alpha:!0},e),rs(t,"file",Vu,kr,f),rs(t,"mailto",Vu,kr,f),rs(t,"http",Qo,kr,f),rs(t,"https",Qo,kr,f),rs(t,"ftp",Qo,kr,f),rs(t,"ftps",Qo,kr,f),eo(Vu,{scheme:!0,ascii:!0},e),eo(Qo,{slashscheme:!0,ascii:!0},e),i=i.sort((m,b)=>m[0]>b[0]?1:-1);for(let m=0;m<i.length;m++){const b=i[m][0],w=i[m][1]?{[CR]:!0}:{[AR]:!0};b.indexOf("-")>=0?w[ug]=!0:Sr.test(b)?Cr.test(b)?w[Sl]=!0:w[lg]=!0:w[ag]=!0,x1(t,b,b,w)}return x1(t,"localhost",Al,{ascii:!0}),t.jd=new Zn(xh),{start:t,tokens:Zo({groups:e},k1)}}function C1(i,e){const t=PR(e.replace(/[A-Z]/g,a=>a.toLowerCase())),n=t.length,r=[];let s=0,o=0;for(;o<n;){let a=i,l=null,c=0,u=null,h=-1,d=-1;for(;o<n&&(l=a.go(t[o]));)a=l,a.accepts()?(h=0,d=0,u=a):h>=0&&(h+=t[o].length,d++),c+=t[o].length,s+=t[o].length,o++;s-=h,o-=d,c-=h,r.push({t:u.t,v:e.slice(s-c,s),s:s-c,e:s})}return r}function PR(i){const e=[],t=i.length;let n=0;for(;n<t;){let r=i.charCodeAt(n),s,o=r<55296||r>56319||n+1===t||(s=i.charCodeAt(n+1))<56320||s>57343?i[n]:i.slice(n,n+2);e.push(o),n+=o.length}return e}function rs(i,e,t,n,r){let s;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];i.j[l]?s=i.j[l]:(s=new Zn(n),s.jr=r.slice(),i.j[l]=s),i=s}return s=new Zn(t),s.jr=r.slice(),i.j[e[o-1]]=s,s}function A1(i){const e=[],t=[];let n=0,r="0123456789";for(;n<i.length;){let s=0;for(;r.indexOf(i[n+s])>=0;)s++;if(s>0){e.push(t.join(""));for(let o=parseInt(i.substring(n,n+s),10);o>0;o--)t.pop();n+=s}else t.push(i[n]),n++}return e}const Ll={defaultProtocol:"http",events:null,format:M1,formatHref:M1,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Tg(i,e=null){let t=Zo({},Ll);i&&(t=Zo(t,i instanceof Tg?i.o:i));const n=t.ignoreTags,r=[];for(let s=0;s<n.length;s++)r.push(n[s].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=r}Tg.prototype={o:Ll,ignoreTags:[],defaultRender(i){return i},check(i){return this.get("validate",i.toString(),i)},get(i,e,t){const n=e!=null;let r=this.o[i];return r&&(typeof r=="object"?(r=t.t in r?r[t.t]:Ll[i],typeof r=="function"&&n&&(r=r(e,t))):typeof r=="function"&&n&&(r=r(e,t.t,t)),r)},getObj(i,e,t){let n=this.o[i];return typeof n=="function"&&e!=null&&(n=n(e,t.t,t)),n},render(i){const e=i.render(this);return(this.get("render",null,i)||this.defaultRender)(e,i.t,i)}};function M1(i){return i}function T1(i,e){this.t="token",this.v=i,this.tk=e}T1.prototype={isLink:!1,toString(){return this.v},toHref(i){return this.toString()},toFormattedString(i){const e=this.toString(),t=i.get("truncate",e,this),n=i.get("format",e,this);return t&&n.length>t?n.substring(0,t)+"":n},toFormattedHref(i){return i.get("formatHref",this.toHref(i.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(i=Ll.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(i),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(i){return{type:this.t,value:this.toFormattedString(i),isLink:this.isLink,href:this.toFormattedHref(i),start:this.startIndex(),end:this.endIndex()}},validate(i){return i.get("validate",this.toString(),this)},render(i){const e=this,t=this.toHref(i.get("defaultProtocol")),n=i.get("formatHref",t,this),r=i.get("tagName",t,e),s=this.toFormattedString(i),o={},a=i.get("className",t,e),l=i.get("target",t,e),c=i.get("rel",t,e),u=i.getObj("attributes",t,e),h=i.getObj("events",t,e);return o.href=n,a&&(o.class=a),l&&(o.target=l),c&&(o.rel=c),u&&Zo(o,u),{tagName:r,attributes:o,content:s,eventListeners:h}}};function vh(i,e){class t extends T1{constructor(r,s){super(r,s),this.t=i}}for(const n in e)t.prototype[n]=e[n];return t.t=i,t}const E1=vh("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),O1=vh("text"),LR=vh("nl"),wh=vh("url",{isLink:!0,toHref(i=Ll.defaultProtocol){return this.hasProtocol()?this.v:`${i}://${this.v}`},hasProtocol(){const i=this.tk;return i.length>=2&&i[0].t!==Al&&i[1].t===is}}),wi=i=>new Zn(i);function RR({groups:i}){const e=i.domain.concat([oh,ah,ns,lh,ch,uh,hh,dh,vi,gg,El,fh,ph,gh,er,xh,Il,mh]),t=[is,yg,Qi,vg,El,Ol,wg,kg,Ku,Ju,Ml,Tl,Gu,$u,qu,Uu,Zu,Qu,eh,th,nh,ih,rh,sh],n=[oh,bg,ah,lh,ch,uh,hh,dh,vi,Ml,Tl,El,fh,ph,gh,Ol,er,xh,Il,mh],r=wi(),s=ge(r,Il);at(s,n,s),at(s,i.domain,s);const o=wi(),a=wi(),l=wi();at(r,i.domain,o),at(r,i.scheme,a),at(r,i.slashscheme,l),at(o,n,s),at(o,i.domain,o);const c=ge(o,ns);ge(s,ns,c),ge(a,ns,c),ge(l,ns,c);const u=ge(s,Qi);at(u,n,s),at(u,i.domain,s);const h=wi();at(c,i.domain,h),at(h,i.domain,h);const d=ge(h,Qi);at(d,i.domain,h);const f=wi(E1);at(d,i.tld,f),at(d,i.utld,f),ge(c,Al,f);const p=ge(h,vi);ge(p,vi,p),at(p,i.domain,h),at(f,i.domain,h),ge(f,Qi,d),ge(f,vi,p);const m=ge(f,is);at(m,i.numeric,E1);const b=ge(o,vi),y=ge(o,Qi);ge(b,vi,b),at(b,i.domain,o),at(y,n,s),at(y,i.domain,o);const w=wi(wh);at(y,i.tld,w),at(y,i.utld,w),at(w,i.domain,o),at(w,n,s),ge(w,Qi,y),ge(w,vi,b),ge(w,ns,c);const C=ge(w,is),T=wi(wh);at(C,i.numeric,T);const k=wi(wh),E=wi();at(k,e,k),at(k,t,E),at(E,e,k),at(E,t,E),ge(w,er,k),ge(T,er,k);const M=ge(a,is),O=ge(l,is),P=ge(O,er),N=ge(P,er);at(a,i.domain,o),ge(a,Qi,y),ge(a,vi,b),at(l,i.domain,o),ge(l,Qi,y),ge(l,vi,b),at(M,i.domain,k),ge(M,er,k),ge(M,Ol,k),at(N,i.domain,k),at(N,e,k),ge(N,er,k);const R=[[Ml,Tl],[$u,Gu],[qu,Uu],[Ku,Ju],[Zu,Qu],[eh,th],[nh,ih],[rh,sh]];for(let D=0;D<R.length;D++){const[V,q]=R[D],re=ge(k,V);ge(E,V,re),ge(re,q,k);const te=wi(wh);at(re,e,te);const ie=wi();at(re,t),at(te,e,te),at(te,t,ie),at(ie,e,te),at(ie,t,ie),ge(te,q,k),ge(ie,q,k)}return ge(r,Al,w),ge(r,xg,LR),{start:r,tokens:k1}}function _R(i,e,t){let n=t.length,r=0,s=[],o=[];for(;r<n;){let a=i,l=null,c=null,u=0,h=null,d=-1;for(;r<n&&!(l=a.go(t[r].t));)o.push(t[r++]);for(;r<n&&(c=l||a.go(t[r].t));)l=null,a=c,a.accepts()?(d=0,h=a):d>=0&&d++,r++,u++;if(d<0)r-=u,r<n&&(o.push(t[r]),r++);else{o.length>0&&(s.push(Eg(O1,e,o)),o=[]),r-=d,u-=d;const f=h.t,p=t.slice(r-u,r);s.push(Eg(f,e,p))}}return o.length>0&&s.push(Eg(O1,e,o)),s}function Eg(i,e,t){const n=t[0].s,r=t[t.length-1].e,s=e.slice(n,r);return new i(s,t)}const DR=typeof console<"u"&&console&&console.warn||(()=>{}),NR="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ft={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function FR(){return Zn.groups={},Ft.scanner=null,Ft.parser=null,Ft.tokenQueue=[],Ft.pluginQueue=[],Ft.customSchemes=[],Ft.initialized=!1,Ft}function I1(i,e=!1){if(Ft.initialized&&DR(`linkifyjs: already initialized - will not register custom scheme "${i}" ${NR}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(i))throw new Error(`linkifyjs: incorrect scheme format.
  1. Must only contain digits, lowercase ASCII letters or "-"
  2. Cannot start or end with "-"
  3. "-" cannot repeat`);Ft.customSchemes.push([i,e])}function zR(){Ft.scanner=IR(Ft.customSchemes);for(let i=0;i<Ft.tokenQueue.length;i++)Ft.tokenQueue[i][1]({scanner:Ft.scanner});Ft.parser=RR(Ft.scanner.tokens);for(let i=0;i<Ft.pluginQueue.length;i++)Ft.pluginQueue[i][1]({scanner:Ft.scanner,parser:Ft.parser});return Ft.initialized=!0,Ft}function Og(i){return Ft.initialized||zR(),_R(Ft.parser.start,i,C1(Ft.scanner.start,i))}Og.scan=C1;function P1(i,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const n=new Tg(t),r=Og(i),s=[];for(let o=0;o<r.length;o++){const a=r[o];a.isLink&&(!e||a.t===e)&&n.check(a)&&s.push(a.toFormattedObject(n))}return s}function BR(i){return i.length===1?i[0].isLink:i.length===3&&i[1].isLink?["()","[]"].includes(i[0].value+i[2].value):!1}function HR(i){return new mn({key:new oi("autolink"),appendTransaction:(e,t,n)=>{const r=e.some(c=>c.docChanged)&&!t.doc.eq(n.doc),s=e.some(c=>c.getMeta("preventAutolink"));if(!r||s)return;const{tr:o}=n,a=WP(t.doc,[...e]);if(UP(a).forEach(({newRange:c})=>{const u=YP(n.doc,c,f=>f.isTextblock);let h,d;if(u.length>1?(h=u[0],d=n.doc.textBetween(h.pos,h.pos+h.node.nodeSize,void 0," ")):u.length&&n.doc.textBetween(c.from,c.to," "," ").endsWith(" ")&&(h=u[0],d=n.doc.textBetween(h.pos,c.to,void 0," ")),h&&d){const f=d.split(" ").filter(y=>y!=="");if(f.length<=0)return!1;const p=f[f.length-1],m=h.pos+d.lastIndexOf(p);if(!p)return!1;const b=Og(p).map(y=>y.toObject(i.defaultProtocol));if(!BR(b))return!1;b.filter(y=>y.isLink).map(y=>({...y,from:m+y.start+1,to:m+y.end+1})).filter(y=>n.schema.marks.code?!n.doc.rangeHasMark(y.from,y.to,n.schema.marks.code):!0).filter(y=>i.validate(y.value)).filter(y=>i.shouldAutoLink(y.value)).forEach(y=>{Zp(y.from,y.to,n.doc).some(w=>w.mark.type===i.type)||o.addMark(y.from,y.to,i.type.create({href:y.href}))})}}),!!o.steps.length)return o}})}function WR(i){return new mn({key:new oi("handleClickLink"),props:{handleClick:(e,t,n)=>{var r,s;if(n.button!==0||!e.editable)return!1;let o=n.target;const a=[];for(;o.nodeName!=="DIV";)a.push(o),o=o.parentNode;if(!a.find(d=>d.nodeName==="A"))return!1;const l=n1(e.state,i.type.name),c=n.target,u=(r=c==null?void 0:c.href)!==null&&r!==void 0?r:l.href,h=(s=c==null?void 0:c.target)!==null&&s!==void 0?s:l.target;return c&&u?(window.open(u,h),!0):!1}}})}function XR(i){return new mn({key:new oi("handlePasteLink"),props:{handlePaste:(e,t,n)=>{const{state:r}=e,{selection:s}=r,{empty:o}=s;if(o)return!1;let a="";n.content.forEach(c=>{a+=c.textContent});const l=P1(a,{defaultProtocol:i.defaultProtocol}).find(c=>c.isLink&&c.value===a);return!a||!l?!1:i.editor.commands.setMark(i.type,{href:l.href})}}})}const YR=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function to(i,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(n=>{const r=typeof n=="string"?n:n.scheme;r&&t.push(r)}),!i||i.replace(YR,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}const jR=Ji.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(i=>{if(typeof i=="string"){I1(i);return}I1(i.scheme,i.optionalSlashes)})},onDestroy(){FR()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(i,e)=>!!to(i,e.protocols),validate:i=>!!i,shouldAutoLink:i=>!!i}},addAttributes(){return{href:{default:null,parseHTML(i){return i.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:i=>{const e=i.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!to(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:i}){return this.options.isAllowedUri(i.href,{defaultValidate:e=>!!to(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",an(this.options.HTMLAttributes,i),0]:["a",an(this.options.HTMLAttributes,{...i,href:""}),0]},addCommands(){return{setLink:i=>({chain:e})=>{const{href:t}=i;return this.options.isAllowedUri(t,{defaultValidate:n=>!!to(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,i).setMeta("preventAutolink",!0).run():!1},toggleLink:i=>({chain:e})=>{const{href:t}=i;return this.options.isAllowedUri(t,{defaultValidate:n=>!!to(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,i,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},unsetLink:()=>({chain:i})=>i().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Zs({find:i=>{const e=[];if(i){const{protocols:t,defaultProtocol:n}=this.options,r=P1(i).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:o=>!!to(o,t),protocols:t,defaultProtocol:n}));r.length&&r.forEach(s=>e.push({text:s.value,data:{href:s.href},index:s.start}))}return e},type:this.type,getAttributes:i=>{var e;return{href:(e=i.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const i=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&i.push(HR({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:n=>this.options.isAllowedUri(n,{defaultValidate:r=>!!to(r,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&i.push(WR({type:this.type})),this.options.linkOnPaste&&i.push(XR({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),i}}),VR=Tn.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:i=>{const e=i.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:i=>i.textAlign?{style:`text-align: ${i.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:i=>({commands:e})=>this.options.alignments.includes(i)?this.options.types.map(t=>e.updateAttributes(t,{textAlign:i})).every(t=>t):!1,unsetTextAlign:()=>({commands:i})=>this.options.types.map(e=>i.resetAttributes(e,"textAlign")).every(e=>e)}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),$R=Ji.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:i=>i.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:i}){return["u",an(this.options.HTMLAttributes,i),0]},addCommands(){return{setUnderline:()=>({commands:i})=>i.setMark(this.name),toggleUnderline:()=>({commands:i})=>i.toggleMark(this.name),unsetUnderline:()=>({commands:i})=>i.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function GR(i){const e=[],t=o=>{const a=[],l=/\[style type="(bold|italic|underlined|linethrough)"\](.*?)\[\/style\]|\[link href="(.*?)"\](.*?)\[\/link\]/gs;let c,u=0;for(;(c=l.exec(o))!==null;){if(c.index>u&&a.push(...n(o.slice(u,c.index))),c[1]){const h=c[1],d=c[2],f=[];h==="bold"&&f.push({type:"bold"}),h==="italic"&&f.push({type:"italic"}),h==="underlined"&&f.push({type:"underline"}),h==="linethrough"&&f.push({type:"strike"}),a.push(...n(d,f))}else if(c[3]){const h=c[3],d=c[4];a.push(...n(d,[{type:"link",attrs:{href:h}}]))}u=l.lastIndex}return u<o.length&&a.push(...n(o.slice(u))),a},n=(o,a=[])=>{const l=o.split(`
  `),c=[];return l.forEach((u,h)=>{u.length>0&&c.push({type:"text",text:u,...a.length>0?{marks:a}:{}}),h<l.length-1&&c.push({type:"hardBreak"})}),c},r=/\[align type="(left|center|right)"\](.*?)\[\/align\]/gs;return i.split(/\n{2,}/).forEach(o=>{let a,l=0;for(;(a=r.exec(o))!==null;){if(a.index>l){const h=o.slice(l,a.index).trim();h&&e.push({type:"paragraph",content:t(h)})}const c=a[1],u=a[2].trim();e.push({type:"paragraph",attrs:{textAlign:c},content:t(u)}),l=r.lastIndex}if(l<o.length){const c=o.slice(l).trim();c&&e.push({type:"paragraph",content:t(c)})}}),{type:"doc",content:e}}function qR(i){const e=n=>{if(n.type==="text"){let r=n.text||"";return n.marks&&n.marks.forEach(s=>{var o;s.type==="bold"?r=`[style type="bold"]${r}[/style]`:s.type==="italic"?r=`[style type="italic"]${r}[/style]`:s.type==="underline"?r=`[style type="underlined"]${r}[/style]`:s.type==="strike"?r=`[style type="linethrough"]${r}[/style]`:s.type==="link"&&((o=s.attrs)!=null&&o.href)&&(r=`[link href="${s.attrs.href}"]${r}[/link]`)}),r}return""},t=n=>{var r,s;if(n.type==="paragraph"){let o="";return(r=n.attrs)!=null&&r.textAlign&&(o+=`[align type="${n.attrs.textAlign}"]`),n.content&&n.content.forEach(a=>{o+=e(a)}),(s=n.attrs)!=null&&s.textAlign&&(o+="[/align]"),o}return""};return i.map(n=>t(n)).join(`
  
  `)}const UR={class:"flex flex-col gap-2"},KR={class:"editor-screen"},JR={class:"toolbar"},ZR=["disabled"],QR=["disabled"],e_=["disabled"],t_=["disabled"],n_=["disabled"],i_=["disabled"],r_=["disabled"],s_=["disabled"],o_=["disabled"],a_={class:"editor-footer"},l_={class:"flex gap-1"},c_={class:"flex gap-1"},u_={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center"},h_={class:"bg-white p-4 rounded shadow max-w-sm w-full space-y-2"},d_={class:"flex justify-end gap-2"},f_=Za(Ir({__name:"Editor",setup(i,{expose:e}){const t=qe(),n=qe(),r=qe(null),s=qe("edit"),o=qe(!1),a=qe(""),l=qe(""),c=Un(()=>{var m;return new Intl.NumberFormat("de-DE").format(((m=r.value)==null?void 0:m.getText().length)??0)}),u=Un(()=>{var y;const b=(((y=r.value)==null?void 0:y.getText())??"").replace(/[^\p{L}\p{N}'-]+/gu," ").trim();return new Intl.NumberFormat("de-DE").format(b.split(/\s+/).filter(w=>w.length>0).length)});Pr(async()=>{r.value=new vL({extensions:[wR,$R,jR.configure({openOnClick:!1}),VR.configure({types:["heading","paragraph"],alignments:["left","center","right"]})],content:"",onUpdate:d,onBlur:d})});async function h(m){t.value=m,await ur(),r.value&&(r.value.commands.setContent(GR(m.value)),n.value&&n.value.append(m))}function d(){!t.value||!r.value||(t.value.value=qR(r.value.getJSON().content||[]))}function f(){if(!r.value)return;const{state:m,view:b}=r.value,{selection:y}=m,{from:w,to:C,empty:T}=y;if(a.value="",l.value="",r.value.isActive("link")){let k=!1;m.doc.nodesBetween(w,C,(E,M,O,P)=>{const N=E.marks.find(R=>R.type.name==="link");if(!N)return!0;if(a.value=N.attrs.href||"",l.value=E.text||"",T&&E.isText){const R=M,D=M+E.nodeSize,V=m.tr.setSelection($e.create(m.doc,R,D));b.dispatch(V),b.focus()}return k=!0,!1}),!k&&!T&&(l.value=m.doc.textBetween(w,C).trim())}else T||(l.value=m.doc.textBetween(w,C).trim());o.value=!0}function p(){r.value&&(r.value.chain().focus().insertContent(`<a href="${a.value}">${l.value}</a>`).run(),o.value=!1)}return e({setTextarea:h}),(m,b)=>(tt(),vt("div",UR,[Pe("div",KR,[Pe("div",JR,[r.value?(tt(),vt("button",{key:0,type:"button",onClick:b[0]||(b[0]=y=>r.value.chain().focus().setTextAlign("left").run()),disabled:s.value=="code"||!r.value.can().chain().focus().setTextAlign("left").run(),class:wn({"toolbar-button":!0,"is-active":r.value.isActive("left")})},[ft(Tt(DA),{class:"w-4 h-4"})],10,ZR)):Ht("",!0),r.value?(tt(),vt("button",{key:1,type:"button",onClick:b[1]||(b[1]=y=>r.value.chain().focus().setTextAlign("center").run()),disabled:s.value=="code"||!r.value.can().chain().focus().setTextAlign("center").run(),class:wn({"toolbar-button":!0,"is-active":r.value.isActive("center")})},[ft(Tt(_A),{class:"w-4 h-4"})],10,QR)):Ht("",!0),r.value?(tt(),vt("button",{key:2,type:"button",onClick:b[2]||(b[2]=y=>r.value.chain().focus().setTextAlign("right").run()),disabled:s.value=="code"||!r.value.can().chain().focus().setTextAlign("right").run(),class:wn({"toolbar-button":!0,"is-active":r.value.isActive("right")})},[ft(Tt(NA),{class:"w-4 h-4"})],10,e_)):Ht("",!0),b[12]||(b[12]=Pe("span",{class:"toolbar-separator"},null,-1)),r.value?(tt(),vt("button",{key:3,type:"button",onClick:b[3]||(b[3]=y=>r.value.chain().focus().toggleBold().run()),disabled:s.value=="code"||!r.value.can().chain().focus().toggleBold().run(),class:wn({"toolbar-button":!0,"is-active":r.value.isActive("bold")})},[ft(Tt(FA),{class:"w-4 h-4"})],10,t_)):Ht("",!0),r.value?(tt(),vt("button",{key:4,type:"button",onClick:b[4]||(b[4]=y=>r.value.chain().focus().toggleItalic().run()),disabled:s.value=="code"||!r.value.can().chain().focus().toggleItalic().run(),class:wn({"toolbar-button":!0,"is-active":r.value.isActive("italic")})},[ft(Tt(YA),{class:"w-4 h-4"})],10,n_)):Ht("",!0),r.value?(tt(),vt("button",{key:5,type:"button",onClick:b[5]||(b[5]=y=>r.value.chain().focus().toggleUnderline().run()),disabled:s.value=="code"||!r.value.can().chain().focus().toggleUnderline().run(),class:wn({"toolbar-button":!0,"is-active":r.value.isActive("underline")})},[ft(Tt(qA),{class:"w-4 h-4"})],10,i_)):Ht("",!0),r.value?(tt(),vt("button",{key:6,type:"button",onClick:b[6]||(b[6]=y=>r.value.chain().focus().toggleStrike().run()),disabled:s.value=="code"||!r.value.can().chain().focus().toggleStrike().run(),class:wn({"toolbar-button":!0,"is-active":r.value.isActive("strike")})},[ft(Tt(GA),{class:"w-4 h-4"})],10,r_)):Ht("",!0),b[13]||(b[13]=Pe("span",{class:"toolbar-separator"},null,-1)),r.value?(tt(),vt("button",{key:7,type:"button",onClick:f,disabled:s.value=="code",class:wn({"toolbar-button":!0,"is-active":r.value.isActive("link")})},[ft(Tt(VA),{class:"w-4 h-4"})],10,s_)):Ht("",!0),r.value?(tt(),vt("button",{key:8,type:"button",onClick:b[7]||(b[7]=y=>r.value.chain().focus().unsetLink().run()),disabled:s.value=="code"||!r.value.isActive("link"),class:wn({"toolbar-button":!0})},[ft(Tt(jA),{class:"w-4 h-4"})],8,o_)):Ht("",!0),b[14]||(b[14]=Pe("span",{class:"ml-auto"},null,-1)),r.value?(tt(),vt("button",{key:9,type:"button",class:"toolbar-button",onClick:b[8]||(b[8]=y=>s.value=s.value=="edit"?"code":"edit")},[s.value=="code"?(tt(),dr(Tt($A),{key:0,class:"w-4 h-4"})):s.value=="edit"?(tt(),dr(Tt(BA),{key:1,class:"w-4 h-4"})):Ht("",!0)])):Ht("",!0)]),Pe("div",{class:wn(["editor-content",{"is-visible":s.value=="edit"}])},[r.value?(tt(),dr(Tt(wL),{key:0,editor:r.value,class:"prose max-w-none"},null,8,["editor"])):Ht("",!0)],2),Pe("div",{ref_key:"source",ref:n,class:wn(["editor-source",{"is-visible":s.value=="code"}])},null,2),Pe("div",a_,[Pe("div",l_,[b[15]||(b[15]=Pe("strong",null,"Zeichen",-1)),Oa(" "+Qn(c.value),1)]),Pe("div",c_,[b[16]||(b[16]=Pe("strong",null,"Wrter",-1)),Oa(" "+Qn(u.value),1)])])]),o.value?(tt(),vt("div",u_,[Pe("div",h_,[Pe("label",null,[b[17]||(b[17]=Oa(" URL: ")),gd(Pe("input",{"onUpdate:modelValue":b[9]||(b[9]=y=>a.value=y),class:"border p-1 w-full"},null,512),[[Ib,a.value]])]),Pe("label",null,[b[18]||(b[18]=Oa(" Link-Text: ")),gd(Pe("input",{"onUpdate:modelValue":b[10]||(b[10]=y=>l.value=y),class:"border p-1 w-full"},null,512),[[Ib,l.value]])]),Pe("div",d_,[Pe("button",{type:"button",onClick:p,class:"bg-blue-500 text-white px-3 py-1 rounded"},"Einfgen"),Pe("button",{type:"button",onClick:b[11]||(b[11]=y=>o.value=!1),class:"px-3 py-1"},"Abbrechen")])])])):Ht("",!0)]))}}),[["__scopeId","data-v-79b63af6"]]);function p_(i){return i==="in Arbeit"?0:i==="fertiggestellt"?1:i==="pausiert"?2:i==="abgebrochen"?3:i==="ruhend"?4:null}function ki(i,e){return(e||document).querySelector(i)}function g_(){const i=document.querySelector(".container-storylist");if(!i){console.error("FAFIX - ofno");return}const e=Jy();Array.from(i.querySelectorAll("tbody tr")).map(async n=>{var f,p,m;let r=ki('[data-ff-sort-colname="status"]',n);if(!r||!(r=ki("span[title]",r)))return;let s=ki('[data-ff-sort-colname="title_catname_statusinfo"]',n);if(!s)return;let o=ki('[data-ff-sort-colname="chaptercount"]',n),a=o?o.nextElementSibling:null,l=ki('[data-ff-sort-colname="storylen"]',n),c=ki('[data-ff-sort-colname="createdate"]',n),u=ki('[data-ff-sort-colname="updatedate"]',n);const h=b=>{const y=new Date(b*1e3),w=y.getFullYear(),C=String(y.getMonth()+1).padStart(2,"0"),T=String(y.getDate()).padStart(2,"0");return`${w}-${C}-${T}`};let d={status:p_(r.title)||0,title:s.dataset.ffSortVal||"",link:((f=ki("a",s))==null?void 0:f.href)||"",category:((m=(p=ki("span",s))==null?void 0:p.getAttribute("aria-label"))==null?void 0:m.split("/"))||[],genres:a?a.innerText.split(`
  `).map(b=>b.trim()):[],chapters:o?parseInt(o.dataset.ffSortVal):1,words:l?parseInt(l.dataset.ffSortVal):1,created_at:c?h(parseInt(c.dataset.ffSortVal)):"",updated_at:u?h(parseInt(u.dataset.ffSortVal)):""};await e.upsert(d)}),Ja().local.set("books_updated_at",Date.now())}function m_(){const i=document.querySelector(".container-storylist");if(!i)return;const e=Bf();Array.from(i.querySelectorAll("tbody tr")).map(async n=>{var y;let r=n.querySelector('[data-ff-sort-colname="title_catname_statusinfo"]');if(!r)return;let s=(r.dataset.ffSortVal||"").trim();if(!s)return;let o=((y=r.querySelector("a"))==null?void 0:y.href)||null;if(!o)return;let a=n.querySelector('[data-ff-sort-colname="chaptercount"]'),l=n.querySelector('[data-ff-sort-colname="storylen"]'),c=n.querySelector('[data-ff-sort-colname="reviewcount"]'),u=n.querySelector('[data-ff-sort-colname="recommendationcount"]'),h=n.querySelector('[data-ff-sort-colname="hits"]'),d=n.querySelector('[data-ff-sort-colname="favcount"]'),f=n.querySelector('[data-ff-sort-colname="storybookmarkcount"]'),p=n.querySelector('[data-ff-sort-colname="offlinelibrarycount"]'),m=n.querySelector('[data-ff-sort-colname="bookshelfcount"]'),b={chapters:a?parseInt(a.dataset.ffSortVal):1,words:l?parseInt(l.dataset.ffSortVal):1,reviews:c?parseInt(c.dataset.ffSortVal):0,recommendations:u?parseInt(u.dataset.ffSortVal):0,views:h?parseInt(h.dataset.ffSortVal):0,favorites:d?parseInt(d.dataset.ffSortVal):0,bookmarks:f?parseInt(f.dataset.ffSortVal):0,offlineLibraries:p?parseInt(p.dataset.ffSortVal):0,bookshelves:m?parseInt(m.dataset.ffSortVal):0};await e.store(s,o,b)}),Ja().local.set("statistics_updated_at",Date.now())}function Ig(i){if(typeof i>"u")return new Promise(e=>Ig(e.bind(null,null)));document.readyState==="loading"?document.addEventListener("DOMContentLoaded",i):i.call(document)}const L1=(i,e)=>{switch(e){case">":case"gt":return i>0;case">=":case"ge":return i>=0;case"<":case"lt":return i<0;case"<=":case"le":return i<=0;case"=":case"eq":case"===":return i===0;case"<>":case"!==":case"ne":return i!==0;default:return null}};function x_(i,e,t){const n={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},r=l=>(l=l.split("+")[0],l.replace(/[_\-]/g,".").replace(/([^\.\d]+)/g,".$1.").replace(/\.{2,}/g,".").split(".").map(c=>Number.isNaN(Number(c))?n[c]??-7:Number(c))),s=r(i),o=r(e),a=Math.max(s.length,o.length);for(let l=0;l<a;l++){const c=s[l]??0,u=o[l]??0;if(typeof c=="string"&&typeof u=="number")return-1;if(typeof u=="string"&&typeof c=="number")return 1;if(c!==u){const h=c>u?1:-1;return L1(h,t)}}return L1(0,t)}function b_(){const i=Jc(),e=Ja(),t=qe();async function n(c=!1){if(t.value)return t.value;let u=e.local.get("latest_version",null);const h=e.local.get("latest_version_checked_at",null),d=!(h&&Date.now()-h<12*60*60*1e3);if(!u||d||c){try{let p=await(await fetch("https://api.github.com/repos/mia-ric/fafix/tags")).json();if(!(p&&p.length>0))throw new Error("The received response is invalid.");u=p[0].name}catch(f){console.error(f)}u&&(e.local.set("latest_version",u),e.local.set("latest_version_checked_at",Date.now()))}return t.value=u,u}function r(){return"0.2.1"}async function s(){let c=await n();return c?!!x_(c,r(),">"):!1}async function o(){if(window.location.hash==="#fafix:updater")return!1;let c=e.local.get("books_updated_at",null);await new Promise(h=>{const d=document.createElement("iframe");d.src="https://www.fanfiktion.de/?a=b#fafix:updater",d.width="600",d.height="400",document.body.appendChild(d);const f=()=>{e.local.get("books_updated_at",c)!==c?(d.remove(),h(!0)):setTimeout(f,250)};setTimeout(f,250)});let u=e.local.get("statistics_updated_at",null);return await new Promise(h=>{const d=document.createElement("iframe");d.src="https://www.fanfiktion.de/stats#fafix:updater",d.width="600",d.height="400",document.body.appendChild(d);const f=()=>{e.local.get("statistics_updated_at",u)!==u?(d.remove(),h(!0)):setTimeout(f,250)};setTimeout(f,250)}),!0}function a(){if(window.location.hash==="#fafix:updater")return!1;let c=e.local.get("books_updated_at",null),u=!(c&&Date.now()-c<6*60*60*1e3),h=e.local.get("statistics_updated_at",null),d=!(h&&Date.now()-h<6*60*60*1e3);return u||d}async function l(){await i.db.delete(),e.local.clear(),e.session.clear()}return{scriptVersion:t,getLatestScriptVersion:n,getInstalledScriptVersion:r,isScriptUpdateAvailable:s,runUpdate:o,isUpdateRequired:a,reset:l}}const y_={class:"drop"},v_=["disabled"],w_={key:0,class:"overlay-im-new"},k_={key:3,class:"w-2.5 h-2.5 absolute bg-pink-600 rounded-full top-0.5 right-0.5"},S_={key:0,class:"contents"},C_={key:0,class:"flex"},A_={class:"text-xl font-semibold"},M_={class:"flex flex-col gap-2 items-start"},T_={class:"w-full flex flex-row justify-between"},E_=["disabled"],O_={class:"w-full flex flex-row justify-between"},I_=["disabled"],P_={class:"w-full flex flex-row justify-between"},L_=["disabled"],R_=Za(Ir({__name:"Overlay",setup(i){const e=Jc(),t=Ja(),n=b_(),r=qe(!1),s=qe(!1),o=qe(!1),a=qe("json"),l=qe(null),c=qe(t.local.get("new_overlay_button",!0)),u=qe(!1);Pr(async()=>{r.value=!0,await ur(),n.scriptVersion||await n.getLatestScriptVersion(),u.value=await n.isScriptUpdateAvailable(),n.isUpdateRequired()&&(s.value=!0,await n.runUpdate(),s.value=!1),await ur(),r.value=!1});function h(){o.value=!0,c.value&&(t.local.set("new_overlay_button",!1),c.value=!1)}function d(){window.open("https://www.github.com/mia-ric/fafix?tab=readme-ov-file#aktualisierung","_blank")}function f(y){if(!(y&&y.target instanceof HTMLInputElement)){l.value=null;return}y.target.files&&y.target.files.length===1?l.value=y.target.files[0]:l.value=null}async function p(){r.value=!0;try{const y=await e.exportData(a.value);if(!(y instanceof Blob))throw new Error("Die Daten konnten nicht korrekt exportiert werden.");const w=URL.createObjectURL(y),C=document.createElement("a");C.href=w,C.download=`fafix-export_${new Date().toISOString().replace(/[:.]/g,"-").replace("T","_").slice(0,19)}.${a.value}`,C.click(),URL.revokeObjectURL(w)}catch(y){alert(`Folgender Fehler ist aufgetreten: ${y.message}`)}finally{r.value=!1}}async function m(){if(l.value){r.value=!0;try{await e.importData(l.value),window.location.reload()}catch(y){alert(`Folgender Fehler ist aufgetreten: ${y.message}`)}finally{r.value=!1}}}async function b(){if(confirm("Bist du sicher, dass du smtliche Daten lschen mchtest? Dieser Schritt kann nicht rckgngig gemacht werdne.")){r.value=!0;try{await n.reset(),window.location.reload()}catch(w){alert(`Folgender Fehler ist aufgetreten: ${w.message}`)}finally{r.value=!1}}}return(y,w)=>(tt(),vt(Bn,null,[s.value?(tt(),dr(IS,{key:0,to:"body"},[Pe("div",y_,[ft(Tt(Bd),{class:"w-8 h-8 loading-circle"}),w[3]||(w[3]=Pe("span",null,"Statistiken werden aktualisiert",-1))])])):Ht("",!0),Pe("button",{type:"button",disabled:r.value||s.value,class:"overlay-btn",onClick:h},[!r.value&&c.value?(tt(),vt("div",w_," Schon gesehen? Dieser Button gehrt zu FAFIX, klick drauf und kuck was passiert. ")):Ht("",!0),r.value?(tt(),dr(Tt(Bd),{key:1,class:"w-6 h-6 text-pink-600 loading-circle"})):(tt(),dr(Tt(WA),{key:2,class:"w-6 h-6"})),u.value?(tt(),vt("span",k_)):Ht("",!0)],8,v_),ft(_d,{name:"overlay"},{default:dc(()=>[o.value?(tt(),vt("div",S_,[Pe("div",{class:"backdrop",onClick:w[2]||(w[2]=C=>o.value=!1)},[Pe("div",{class:"modal",onClick:w[1]||(w[1]=MA(()=>{},["stop"]))},[u.value?(tt(),vt("div",C_,[Pe("div",{class:"rounded px-3 py-1.5 text-xs cursor-pointer bg-pink-50 flex items-center gap-2 text-pink-600",onClick:d},w[4]||(w[4]=[Pe("span",{class:"w-2.5 h-2.5 bg-pink-600 rounded-full"},null,-1),Pe("span",null,"Eine neue Version ist verfgbar",-1)]))])):Ht("",!0),Pe("div",A_," FAFIX v"+Qn(Tt(n).getInstalledScriptVersion()),1),Pe("div",M_,[Pe("div",T_,[gd(Pe("select",{class:"shrink-0 grow-0 w-[265px] basis-[265px]","onUpdate:modelValue":w[0]||(w[0]=C=>a.value=C)},w[5]||(w[5]=[Pe("option",{value:"json"},"Als JSON Datei",-1),Pe("option",{value:"csv"},"Als CSV / Excel Datei",-1)]),512),[[SA,a.value]]),Pe("button",{type:"button",class:"w-[170px] shrink-0",disabled:r.value,onClick:p},w[6]||(w[6]=[Pe("span",null,"Daten exportieren",-1)]),8,E_)]),Pe("div",O_,[Pe("input",{type:"file",class:"shrink-0 grow-0 w-[265px] basis-[265px]",accept:".json,.csv",onChange:f},null,32),Pe("button",{type:"button",class:"w-[170px] shrink-0",disabled:r.value||l.value==null,onClick:m},w[7]||(w[7]=[Pe("span",null,"Daten importieren",-1)]),8,I_)]),Pe("div",P_,[w[9]||(w[9]=Pe("span",{class:"shrink-0 grow-0 w-[265px] basis-[265px]"},null,-1)),Pe("button",{type:"button",class:"w-[170px] shrink-0",disabled:r.value,onClick:b},w[8]||(w[8]=[Pe("span",null,"Daten lschen",-1)]),8,L_)])])])])])):Ht("",!0)]),_:1})],64))}}),[["__scopeId","data-v-a810642f"]]);async function __(){var t;if(!ki('[title="Mein Profil"]')){console.error("FAFIX: Du bist nicht angemeldet.");return}GM_addStyle(GM_getResourceText("customCSS")),window.location.search.includes("a=b")&&(await Ig(),await g_()),window.location.pathname.startsWith("/stats")&&(await Ig(),await m_());let i=ki("h2");if(i&&i.parentElement&&!window.location.hash.includes("fafix:updater")){const n=document.createElement("div");i.parentElement.insertBefore(n,((t=i.nextElementSibling)==null?void 0:t.nextElementSibling)||null),zd(PE).mount(n)}if(!window.location.hash.includes("fafix:updater")){let n=document.createElement("div");n.style="width:0;height:0;display:contents;",document.body.append(n),zd(R_).mount(n)}let e=ki("#textarea-chapter");if(e&&e.parentElement&&!window.location.hash.includes("fafix:updater")){const n=document.createElement("div");e.parentElement.append(n),zd(f_).mount(n).setTextarea(e)}window.location.hash==="#fafix:updater"&&window.close()}__()})();
  